/*! For license information please see common.8d25fda2.dist.js.LICENSE.txt */
(()=>{var __webpack_modules__={98580:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="PopoverStandard ',window.microTemplate.encodeHtml(popoverClass),'">   ');if(title){p.push('   <div class="PopoverStandard__title baseColor ',window.microTemplate.encodeHtml(titleClass),'" style="',window.microTemplate.encodeHtml(titleCssOverride),'">    ',window.microTemplate.encodeHtml(title),"   </div>  ")}p.push('   <div class="PopoverStandard__content ',window.microTemplate.encodeHtml(contentClass),'" style="',window.microTemplate.encodeHtml(contentCssOverride),'">   ');if(rawContent){p.push("    ",content,"   ")}else{p.push("    ",window.microTemplate.encodeHtml(content),"   ")}p.push("  </div> </div> ")}return p.join("")}},52075:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");var alignMap={left:"TooltipStandard--textLeft",right:"TooltipStandard--textRight",center:"TooltipStandard--textCenter"};var tooltipClasses="TooltipStandard "+alignMap[textAlign];p.push('  <div class="',window.microTemplate.encodeHtml(tooltipClasses),'">   ');if(title){p.push('   <p class="TooltipStandard__title">',window.microTemplate.encodeHtml(title),"</p>  ")}p.push("   ");if(Array.isArray(content)){p.push("   <ul>    ");content.forEach((function(e){p.push("     <li>",window.microTemplate.encodeHtml(e),"</li>    ")}));p.push("   </ul>  ")}else{p.push("   ",window.microTemplate.encodeHtml(content),"  ")}p.push(" </div> ")}return p.join("")}},14234:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<ba-select class="js-biweekly-which-week" width="7" not-clearable>  <ba-option value="1" data-biweekly-date="',window.microTemplate.encodeHtml(first.format()),'">   ...',window.microTemplate.encodeHtml(first.format("MMM DD")),",   ",window.microTemplate.encodeHtml(first.add(2,"week").format("MMM DD")),",   ",window.microTemplate.encodeHtml(first.add(2,"week").format("MMM DD")),'...  </ba-option>  <ba-option value="2" data-biweekly-date="',window.microTemplate.encodeHtml(second.format()),'">   ...',window.microTemplate.encodeHtml(second.format("MMM DD")),",   ",window.microTemplate.encodeHtml(second.add(2,"week").format("MMM DD")),",   ",window.microTemplate.encodeHtml(second.add(2,"week").format("MMM DD")),"...  </ba-option> </ba-select> ")}return p.join("")}},76309:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push(' <div class="RehireModal">  <div class="RehireModal__form">   <form class="BhrForms BhrForms--noSpace js-rehire-modal-form">    <fieldset class="moz-override">     <div class="fieldRow">      <div class="fieldBox required">       <label for="effectiveDate" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.effectiveDate.label),'</label>       <div class="fieldDiv fab-InputWrapper">        <input calendar-picker no-facade id="effectiveDate" name="effectiveDate" type="text" class="calendar-field date-field js-validate-date-field js-validate-mindate js-effectiveDate fab-TextInput" />       </div>      </div>     </div>      <div class="fieldRow">      <div class="fieldBox required">       <label for="employmentStatusId" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.employmentStatusId.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="employmentStatusId" class="js-employmentStatusSelect" name="employmentStatusId" required="true">         ',generateOptions(model.fields.employmentStatusId),"        </ba-select>       </div>      </div>       ");if(model.fields.hasOwnProperty("taxEmployeeTypeId")){p.push('      <div class="fieldBox">       <label for="taxEmployeeTypeId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.taxEmployeeTypeId.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="taxEmployeeTypeId" name="taxEmployeeTypeId">         ',generateOptions(model.fields.taxEmployeeTypeId),"        </ba-select>       </div>      </div>      ")}p.push("      </div>      ");if(model.fields.hasOwnProperty("acaStatus")||model.fields.hasOwnProperty("benetracStatusId")){p.push('     <div class="fieldRow">      ');if(model.fields.hasOwnProperty("acaStatus")){p.push('      <div class="fieldBox required">       <label for="acaStatus" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.acaStatus.label),'</label>       <div class="fieldDiv">        <ba-select width="7" id="acaStatus" name="acaStatus" required="true">         ',generateOptions(model.fields.acaStatus),"        </ba-select>       </div>      </div>      ")}p.push("      ");if(model.fields.hasOwnProperty("benetracStatusId")){p.push('      <div class="fieldBox required">       <label for="benetracStatusId" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.benetracStatusId.label),'</label>       <div class="fieldDiv">        <ba-select width="7" id="benetracStatusId" name="benetracStatusId" required="true">          ',generateOptions(model.fields.benetracStatusId),"        </ba-select>       </div>      </div>      ")}p.push("     </div>     ")}p.push('     </fieldset>    <fieldset class="moz-override">     <div class="fieldRow">      <div class="fieldBox">       <label for="jobTitleId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.jobTitleId.label),'</label>       <div class="fieldDiv">        <ba-select         ',window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.jobTitleId)),'         class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.jobTitleId,["xlong"])),'"         data-add-item-field-id="jobTitleId"         data-add-item-label="',window.microTemplate.encodeHtml(model.fields.jobTitleId.label),'"         id="jobTitleId"         name="jobTitleId"         width="5"        >          ',generateOptions(model.fields.jobTitleId),'        </ba-select>       </div>      </div>      <div class="fieldBox">       <label for="reportsToEmployeeId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.reportsToEmployeeId.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="reportsToEmployeeId" name="reportsToEmployeeId">         ',generateOptions(model.fields.reportsToEmployeeId),'        </ba-select>       </div>      </div>     </div>     <div class="fieldRow">      <div class="fieldBox">       <label for="departmentId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.departmentId.label),'</label>       <div class="fieldDiv">        <ba-select         ',window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.departmentId)),'         class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.departmentId,["xlong"])),'"         data-add-item-field-id="departmentId"         data-add-item-label="',window.microTemplate.encodeHtml(model.fields.departmentId.label),'"         id="departmentId"         name="departmentId"         width="5"        >         ',generateOptions(model.fields.departmentId),'        </ba-select>       </div>      </div>      <div class="fieldBox">       <label for="divisionId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.divisionId.label),'</label>       <div class="fieldDiv">        <ba-select         ',window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.divisionId)),'         class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.divisionId,["xlong"])),'"         data-add-item-field-id="divisionId"         data-add-item-label="',window.microTemplate.encodeHtml(model.fields.divisionId.label),'"         id="divisionId"         name="divisionId"         width="5"        >         ',generateOptions(model.fields.divisionId),'        </ba-select>       </div>      </div>     </div>     <div class="fieldRow">      <div class="fieldBox">       <label for="locationId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.locationId.label),'</label>       <div class="fieldDiv">        <ba-select         ',window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.locationId)),'         class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.locationId,["xlong","js-location-insertable-list"])),'"         data-add-item-label="',window.microTemplate.encodeHtml(model.fields.locationId.label),'"         id="locationId"         name="locationId"         width="5"        >         ',generateOptions(model.fields.locationId),"        </ba-select>       </div>      </div>     </div>    </fieldset>    ");if(!model.hasTrax){p.push('    <fieldset class="moz-override">     <div class="fieldGroup ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">      <label class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'">',window.microTemplate.encodeHtml($.__("Pay Rate")),'</label>      <div class="fieldRow fieldRow--forceBottomSpace">       <div class="fieldBox">        <div class="fieldDiv fab-InputWrapper">         <input class="fab-TextInput fab-TextInput--width4 currency-field js-rate js-rate-display js-validate-payRate CurrencyPicker__input" type="text" name="rate[0]"          value="',window.microTemplate.encodeHtml(model.fields["rate[0]"].value),'" data-cursymbol="',window.microTemplate.encodeHtml(model.fields["rate[0]"].meta.symbol),'" >         <a class="fab-TextInput__button fab-TextInput__button--text CurrencyPicker__button" onclick="showNewCurrencyPicker(this, \'.js-rate-display\', \'.js-rate-hidden\')" data-employee-id="',window.microTemplate.encodeHtml(model.employeeId),'">          ',window.microTemplate.encodeHtml(model.fields["rate[1]"].value),'         </a>         <input class="currencyType js-rate-hidden" type="hidden" name="rate[1]" value="',window.microTemplate.encodeHtml(model.fields["rate[1]"].value),'">        </div>       </div>       <div class="fieldBox compensation-per">        ',window.microTemplate.encodeHtml($.__("per")),'       </div>       <div class="fieldBox">        <div class="fieldDiv">         <ba-select          width="5"          id="paidPer"          name="paidPer"          class="js-validate-payRate"          ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),"         >          ",generateOptions(model.fields.paidPer),'         </ba-select>        </div>       </div>      </div>     </div>     <div class="fieldRow">      <div class="fieldBox ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">       <label class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'">',window.microTemplate.encodeHtml(model.fields.payType.label),'</label>       <div class="fieldDiv">         <ba-select          width="5"          id="payType"          name="payType"          ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),"         >          ",generateOptions(model.fields.payType),'         </ba-select>        </div>      </div>      <div class="fieldBox ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">       <label for="payPeriod" class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'" >',window.microTemplate.encodeHtml(model.fields.payPeriod.label),'</label>       <div class="fieldDiv">        <ba-select         width="5"         id="payPeriod"         name="payPeriod"         ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),"        >         ",generateOptions(model.fields.payPeriod),"        </ba-select>       </div>      </div>     </div>    </fieldset>    ")}p.push("   </form>  </div> </div> ")}return p.join("")}},48434:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");if(jadeEnabled){p.push('  <div id="uploadFilesDialog">   <form name="fileUploadForm" id="fileUploadForm" class="shareForm">    <div class="fileField multiUpload">     <div class="uploadDesc">      <ba-icon class="uploadModalIcon" name="fab-upload-20x24" encore-name="upload-regular"encore-size="16" ></ba-icon>      <span class="upload-msg">',window.microTemplate.encodeHtml($.__("Drop Files Here to Upload")),"</span><br/>      <span>",window.microTemplate.encodeHtml($.__("or")),'</span><br/>     </div>     <div class="FileUploadActions">      <div class="files"></div>      <span class="attach-wrapper centerThis" data-id="resume"></span>     </div>    </div>   </form>  </div> ')}else{p.push(' <div id="uploadFilesDialog">  <form name="fileUploadForm" id="fileUploadForm" class="shareForm" style="width: 445px;">   <div class="fileField multiUpload">    <div class="uploadDesc">     <span class="upload-msg">',window.microTemplate.encodeHtml($.__("Drop Files Here to Upload")),"</span><br/>     <span>",window.microTemplate.encodeHtml($.__("or")),'</span><br/>    </div>    <div class="fieldDiv">     <div class="files"></div>     <span class="attach-wrapper centerThis" data-id="resume"></span>    </div>   </div>  </form> </div> ')}p.push("  ")}return p.join("")}},21106:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<p class="AccessLevelSelector__emailModalMsg">  ',window.microTemplate.encodeHtml($.__("%1$s needs a home or work email in order to be added to an Access Level. Add one or both below.",user.firstName)),' </p> <form class="BhrForms" id="access-levels-require-email-form">  <div class="fieldGroup">   <div class="fieldRow">    <div class="fieldBox">     <label class="fab-Label">',window.microTemplate.encodeHtml($.__("Email")),'</label>     <div class="fieldDiv">     ');if(hasEmployee){p.push('      <span class="inputIcons inputOfficeIcon">       <input type="text" class="fab-TextInput fab-TextInput--width8 xxlong" name="workEmail" placeholder="',window.microTemplate.encodeHtml($.__("Work")),'" />      </span>     ')}else{p.push('      <input type="text" class="xxlong" name="email" />     ')}p.push("     </div>    </div>   </div>   ");if(hasEmployee){p.push('   <div class="fieldRow">    <div class="fieldBox">     <div class="fieldDiv">      <span class="inputIcons inputHomeIcon">       <input type="text" class="fab-TextInput fab-TextInput--width8 xxlong" name="homeEmail" placeholder="',window.microTemplate.encodeHtml($.__("Home")),'" />      </span>     </div>    </div>   </div>   ')}p.push("  </div> </form> ")}return p.join("")}},45638:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");accessLevelIds.forEach((function(e){p.push('  <input type="hidden" name="',window.microTemplate.encodeHtml(inputFieldName),'" value="',window.microTemplate.encodeHtml(e),'" /> ')}));p.push(' <input type="hidden" name="',window.microTemplate.encodeHtml(noAccessFieldName),'" value="',window.microTemplate.encodeHtml(noAccessValue),'" /> ')}return p.join("")}},25355:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");var uploadedFiles=newUploadedFiles||false;p.push("  ");files.forEach((function(e){var t=e.isEsig||e.info&&e.info.icon&&typeof e.info.icon.indexOf==="function"&&e.info.icon.indexOf("esignature")>-1;var a=window.BambooHR.Utils.getIconNameFromFileName(e.originalName||e.name,"16x20",t);p.push(' <div class="FileCard js-file  ');if(e.disabled){p.push("  FileCard--disabled  ")}p.push("  ");if(e.mode==="display"||theme==="display"){p.push("  FileCard--display  ")}p.push("  ");if(e.theme==="light"||theme==="light"){p.push("  FileCard--light  ")}p.push('"  ');if(e.data){p.push("   ");Object.keys(e.data).filter((function(t){return e.data[t]})).forEach((function(t){p.push("    data-",window.microTemplate.encodeHtml(t),'="',window.microTemplate.encodeHtml(e.data[t]),'"   ')}));p.push("  ")}p.push("  ");if(e.action){p.push('   data-action="',window.microTemplate.encodeHtml(e.action),'"  ')}p.push('  data-file-id="',window.microTemplate.encodeHtml(e.fileId),'"  data-id="',window.microTemplate.encodeHtml(e.id),'"     data-key="',window.microTemplate.encodeHtml(e.key),'" >  <span class="FileCard__detail">   <span class="FileCard__title dot-ellipsis" title="',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.name)),'">    ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.name)),"   </span>   ");if(e.status){p.push('    <span class="FileCard__status dot-ellipsis" title="',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.status)),'">     ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.status)),"    </span>   ")}p.push('  </span>  <span class="FileCard__info">   ');if(a){p.push('    <span class="FileCard__icon">     <ba-file-icon       esig="');if(t){p.push("true")}else{p.push("false")}p.push('"       name="',window.microTemplate.encodeHtml(e.originalName),'"       alt="');if(e.isSafe){p.push("",window.microTemplate.encodeHtml(e.name),"")}else{p.push("'Virus Detected'")}p.push('">     </ba-file-icon>    </span>   ')}p.push("   ");if(e.info.className&&e.mode==="display"){p.push('    <span class="FileCard__btn FileCard__btn--',window.microTemplate.encodeHtml(e.info.className),'">     ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.info.text)),"    </span>   ")}else{p.push("    ",window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.info.text)),"   ")}p.push("  </span> ");if(e.mode!=="display"){p.push("  ");if(e.data.isComplete===null){p.push('   <span class="FileCard__close js-fc-close"></span>  ')}else{p.push('   <span class="FileCard__close js-fc-modal" data-is-complete="',window.microTemplate.encodeHtml(e.data.isComplete),'"></span>  ')}p.push("   ");if(e.info.text==="Esignature"){p.push('   <label class="bhrToggle bhrToggle--require"      data-tip-class="bhrTooltip--autoWidth"      ');if(e.required==="yes"){p.push('     data-tip-content="',window.microTemplate.encodeHtml($.__("Click to make the signature optional.")),'"     data-tip-lead="',window.microTemplate.encodeHtml($.__("Signature Required")),'"    ')}else{p.push('     data-tip-content="',window.microTemplate.encodeHtml($.__("Click to make the signature required.")),'"     data-tip-lead="',window.microTemplate.encodeHtml($.__("Signature Optional")),'"    ')}p.push('     data-tip-delay="800"   >    <input     type="checkbox"     class="bhrToggle__input js-fc-toggle-required"     name="fc-toggle-',window.microTemplate.encodeHtml(e.fileId),'"     data-file-id="',window.microTemplate.encodeHtml(e.fileId),'"     ');if(e.required==="yes"){p.push("     checked     ")}p.push('    >    <span class="bhrToggle__label"></span>    <span class="bhrToggle__handle"></span>    <span class="bhrToggle__icon">*</span>   </label>  ')}p.push('  <input type="hidden" class="js-file-ids" ');if(uploadedFiles){p.push(' name="temporary_file_ids[]" ')}else{p.push(' name="file_ids[]" ')}p.push(' id="',window.microTemplate.encodeHtml("filesinput-"+e.fileId),'" value="',window.microTemplate.encodeHtml(e.id),'" /> ')}p.push(" ");if(e.isEsig&&e.esignatureInstanceId>0){p.push('  <span id="',window.microTemplate.encodeHtml("esignature-signing-root-"+e.esignatureInstanceId),'"></span> ')}p.push(" </div> ")}));p.push(" ")}return p.join("")}},95824:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="ClockedOutError">  <ba-icon name="triangle-exclamation-26x23" class="ClockedOutError__warningIcon"></ba-icon>  <div class="ClockedOutError__message">   <div class="ClockedOutError__messageHeader">    ',window.microTemplate.encodeHtml($.__("At least one employee just clocked out.")),'   </div>   <div class="ClockedOutError__messageText">    ',window.microTemplate.encodeHtml($.__("Before you clicked approve, one or more employees clocked out.")),"    ",window.microTemplate.encodeHtml($.__("Please go back and review and approve any potential changes.")),"   </div>  </div> </div> ")}return p.join("")}},91663:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="TimeTrackingGenericWarningModal">  <ba-icon name="fab-triangle-exclamation-24x24" class="TimeTrackingGenericWarningModal__alertIcon"></ba-icon>  <div>   <div class="TimeTrackingGenericWarningModal__header">    ',header,'   </div>   <div class="TimeTrackingGenericWarningModal__description">    ',description,"   </div>  </div> </div>")}return p.join("")}},47496:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="TimeTrackingWarningModal">  <ba-icon name="',window.microTemplate.encodeHtml(iconName),'" class="TimeTrackingWarningModal__icon"></ba-icon>  ');paragraphs.forEach((function(e){p.push('   <div class="TimeTrackingWarningModal__paragraph">',e,"</div>  ")}));p.push(" </div> ")}return p.join("")}},93151:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");if(workWeekStartsOn.count>0){p.push('  <div class="TimeDetail__workWeekWarning">   <ba-icon class="TimeDetail__workWeekWarning__icon" name="fab-triangle-exclamation-20x20"></ba-icon>   <p class="TimeDetail__workWeekWarning__text">    ',window.microTemplate.encodeHtml(workWeekWarningMessage),"   </p>  </div> ")}p.push('  <div class="TimeDetail">   <div class="TimeDetailSlats">    ');entries.forEach((function(e,t){p.push('   <div class="TimeDetailSlat">    <div class="TimeDetailSlat__day">     ');if(e.hasWorkWeekStartsOnChanged){p.push('      <div class="TimeDetailSlat__day__workWeekWarning js-time-details-work-week-warning-icon">       <ba-icon class="TimeDetailSlat__day__workWeekWarning__icon" name="fab-triangle-exclamation-16x16"></ba-icon>      </div>     ')}p.push('     <div class="TimeDetailSlat__dayOfWeek">',window.microTemplate.encodeHtml(e.dayOfWeek),'</div>     <div class="TimeDetailSlat__dayDate">',window.microTemplate.encodeHtml(e.dayDate),'</div>    </div>    <div class="TimeDetailSlat__data">     <div class="TimeDetailSlat__hours">',window.microTemplate.encodeHtml(formatTime(e.hours||0)),"</div>      ");if(e.note){p.push('      <div class="TimeDetailSlat__note js-time-details-modal-note" data-tooltip-index="',window.microTemplate.encodeHtml(t),'">       <ba-icon class="baseFillColor TimeDetailSlat__noteIcon" name="fab-page-9x11"></ba-icon>      </div>     ')}p.push('      <div class="TimeDetailSlat__extraInfo">       ');e.overtimeSummary.forEach((function(t){p.push('       <div class="TimeDetailSlat__extraInfoItem TimeDetailSlat__extraInfoItem--overtime">        <ba-icon class="TimeDetailSlat__infoIcon--overtime" name="fab-stopwatch-alert-16x16"></ba-icon>        ',window.microTemplate.encodeHtml(formatTime(t.hours,true))," ",window.microTemplate.encodeHtml($.__("Overtime"))," ");if(e.overtimeSummary.length>1){p.push(" (",window.microTemplate.encodeHtml(t.multiplier),"x) ")}p.push("       </div>      ")}));p.push("       ");e.extras.forEach((function(e){p.push('      <div class="TimeDetailSlat__extraInfoItem">       <ba-icon class="TimeDetailSlat__infoIcon" name="',window.microTemplate.encodeHtml(e.iconName),'"></ba-icon>       ',window.microTemplate.encodeHtml(e.info),"      </div>      ")}));p.push("      </div>    </div>   </div>   ")}));p.push('   </div>    <div class="TimeDetailSummaryPreserve">   <div class="TimeDetailSummary">    <img src="',window.microTemplate.encodeHtml(employeePhotoUrl),'" class="TimeDetailSummary__photo">    <div class="TimeDetailSummary__name">',window.microTemplate.encodeHtml(employeeName),'</div>    <div class="TimeDetailSummary__dateSpan">',window.microTemplate.encodeHtml(dateSpan),'</div>     <div class="TimeDetailBreakdown">     <div class="baseColor TimeDetailBreakdown__total">',window.microTemplate.encodeHtml(formatTime(totalTime)),"</div>      ");overtimeSummary.forEach((function(e){p.push('      <div class="TimeDetailBreakdown__item TimeDetailBreakdown__alert">       ',window.microTemplate.encodeHtml(formatTime(e.hours,true))," ",window.microTemplate.encodeHtml($.__("Overtime"))," ");if(overtimeSummary.length>1){p.push(" (",window.microTemplate.encodeHtml(e.multiplier),"x) ")}p.push("      </div>     ")}));p.push("      ");if(totalTimeOff){p.push('     <div class="TimeDetailBreakdown__item">      ',window.microTemplate.encodeHtml(formatTime(totalTimeOff,true))," ",window.microTemplate.encodeHtml($.__("Time Off")),"     </div>     ")}p.push("      ");if(totalHoliday){p.push('     <div class="TimeDetailBreakdown__item">      ',window.microTemplate.encodeHtml(formatTime(totalHoliday,true))," ",window.microTemplate.encodeHtml($.__("Holiday")),"     </div>     ")}p.push("    </div>     ");if(timeSheetLink){p.push('    <a href="',window.microTemplate.encodeHtml(timeSheetLink),'" class="TimeDetailSummary__link fab-TextButton fab-TextButton--muted fab-TextButton--small fab-link">     ',window.microTemplate.encodeHtml($.__("Go to Timesheet"))," &raquo;    </a>    ")}p.push("    </div>  </div>  </div> ")}return p.join("")}},50299:(e,t,a)=>{"use strict";a.d(t,{K:()=>r,e:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var $=a(26570);const r={contractor:{label:$.__("Contractor (1099)"),shortLabel:$.__("Contractor"),description:$.__("A person receiving a 1099 is not considered an employee and will not be included in the ACA reporting."),url:"https://www.irs.gov/businesses/small-businesses-self-employed/independent-contractor-defined"},"full-time":{label:$.__("Full-Time"),shortLabel:$.__("Full-Time"),description:$.__("A full-time employee is, for a calendar month, an employee employed on average at least 30 hours of service per week, or 130 hours of service per month."),url:"https://www.irs.gov/affordable-care-act/employers/identifying-full-time-employees"},"intern-compensated":{label:$.__("Intern (Eligible for benefits)"),shortLabel:$.__("Intern Eligible"),description:$.__("A temporary employee who receives compensation and therefore will be included in the ACA reporting."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"},"intern-not-compensated":{label:$.__("Intern (Ineligible for benefits)"),shortLabel:$.__("Intern Ineligible"),description:$.__("A temporary employee who receives no compensation and therefore will not be included in ACA reporting."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"},"part-time-eligible":{label:$.__("Part-Time/Variable Hour (eligible for benefits)"),shortLabel:$.__("Part-Time Eligible"),description:$.__("Any employee who was treated as a full-time employee for one or more months of the calendar year under the look-back measurement method."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-about-information-reporting-by-employers-on-form-1094-c-and-form-1095-c"},"part-time-ineligible":{label:$.__("Part-Time/Variable Hour (ineligible for benefits)"),shortLabel:$.__("Part-Time Ineligible"),description:$.__("Any employee who was not treated as a full-time employee for one or more months of the calendar year under the look-back measurement method."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-about-information-reporting-by-employers-on-form-1094-c-and-form-1095-c"},seasonal:{label:$.__("Seasonal"),shortLabel:$.__("Seasonal"),description:$.__("An employee who is hired to a position for which the annual employment is generally six months or less and begins approximately the same part of the year, such as summer or winter."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"}};const l=e=>{if(e){return e.reduce(((e,t)=>{if(r[t]){const a=r[t];const s={text:a.label,value:t};e.push(s)}return e}),[])}return[]};var c=a(37194);var d=a(26570);function u(e){const{allowedAcaStatuses:t,hasError:a=false,id:n,onSelect:u,onChange:h,selectedValue:p,showLabel:m=false}=e;const f=p?r[p]:null;return(0,s.Z)(i().Fragment,{},void 0,m&&(0,s.Z)(o.LayoutBox,{component:"div",marginBottom:.25},void 0,(0,s.Z)(o.Label,{component:"span",required:true,status:a?"error":undefined},void 0,d.__("ACA Status"))),(0,s.Z)(o.Select,{condition:a?"error":"",id:n,isClearable:false,items:l(t),onChange:h,onSelect:u,selectedValues:[p],width:"9"}),f&&(0,s.Z)(o.LayoutBox,{marginTop:1},void 0,(0,s.Z)(o.BodyText,{color:"neutral-weak",component:"p",id:"selected-aca-status-description",size:"small",weight:"regular"},void 0,(0,s.Z)(c.Message,{link:(0,c.ExternalLink)(`${f.url}`),text:`${f.description} ${f.url?"[See here for more details.]":""}`}))))}},54240:(e,t,a)=>{"use strict";a.d(t,{Z:()=>le});var s={};a.r(s);a.d(s,{BaTabsTheme:()=>A,DEFAULT:()=>Z,banner:()=>p,basic:()=>m,horizontal:()=>f,large:()=>x,medium:()=>C,mini:()=>g,minimal:()=>v,settingsSubnav:()=>w,side:()=>T,sidebar:()=>b,small:()=>S,subcomponents:()=>y,wizard:()=>k});var n=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(21198);var c=a(20983);var d=a(71141);var u=a(73641);var h=a(88604);const p={name:"banner",caret:`\n\t\t\t<svg width="37" height="17"\n\t\t\t\t\tviewBox="0 0 37 17" xmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\txmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t\t\t<defs>\n\t\t\t\t\t<path d="M1 2h35L19.565 14.637c-.623.48-1.578.478-2.198 0" id="BannerArrow"/>\n\t\t\t\t\t<filter y="-19.2%" height="153.9%" filterUnits="objectBoundingBox" id="BannerArrowShadow">\n\t\t\t\t\t\t<feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"/>\n\t\t\t\t\t\t<feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>\n\t\t\t\t\t\t<feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" in="shadowBlurOuter1"/>\n\t\t\t\t\t</filter>\n\t\t\t\t</defs>\n\t\t\t\t<use filter="url(#BannerArrowShadow)" xlink:href="#BannerArrow"/>\n\t\t\t\t<use xlink:href="#BannerArrow"/>\n\t\t\t\t<path d="M17.978 13.845c.26.201.714.202.976 0L37 0H0l17.978 13.845z" fill="#FFF"/>\n\t\t\t</svg>\n\t\t`,extraClasses:{tab:e=>{let{active:t}=e;return{baseBorderColor:t}},tabIcon:e=>{let{active:t}=e;return{baseFillColor:t}},tabCaret:e=>{let{active:t}=e;return{baseFillColor:t}}}};const m={name:"basic",hiddenParts:["secondaryText"],extraClasses:{tabIcon:e=>{let{active:t}=e;return{baseFillColor:t}}}};const f={name:"horizontal",collapseTabs:true,hiddenParts:["icon","secondaryText"],extraClasses:{tabLabel:e=>{let{active:t}=e;return{baseColor:t}}}};const g={name:"mini",hiddenParts:["secondaryText","icon"]};const v={name:"minimal",extraClasses:{tabIcon:()=>"baseFillColor",tabLabel:()=>"baseColor",tab:()=>"baseColorBg-after baseColor baseFillColor"}};var y=a(57011);const b={name:"sidebar",caret:true,hiddenParts:["icon","secondaryText"],extraClasses:{tabIcon:"baseFillColor",tabLabel:e=>{let{active:t}=e;return{linkColor:!t}}},TabContent:e=>{const{_createBEM:t,primaryText:a,children:s}=e;return(0,n.Z)(o.Fragment,{},void 0,(0,n.Z)("h4",{className:t("tabHeading",null,e)},void 0,r().createElement(y.TabIcon,(0,h.Z)({className:t("tabIcon",null,e)},e)),a),s)}};const w={name:"settings-subnav",extraClasses:{tabWrapper:"branded-border",tabWrapperTitle:"baseColor",tabWrapperIcon:"baseFillColor",tabIcon:e=>{let{active:t}=e;return{baseFillColor:t}}},TabWrapperTitle(e){const{className:t,title:a}=e;return r().createElement("h3",{className:t},a)},TabContentHeader(e){const{_createBEM:t,primaryText:a,secondaryText:s}=e;return(0,n.Z)("h3",{className:t("tabContentTitle")},void 0,a,s&&(0,n.Z)("span",{className:t("tabContentSubtitle")},void 0,s))}};const S={name:"fab-small",variants:["light","large","icons","tight"],extraClasses:{tab:e=>{let{active:t}=e;return{"branded-border-bottom":t}}},hiddenParts:["secondaryText"]};const C={name:"fab-medium",variants:["light","dark","header"],hiddenParts:["secondaryText"]};const x={name:"fab-large",extraClasses:{tab:e=>{let{icon:t}=e;return{"--withIcon":t}},tabIcon:e=>{let{active:t}=e;return{baseFillColor:t}}}};const T={name:"fab-side",variants:["sub"],hiddenParts:["secondaryText"]};var E=a(59155);const k={name:"fab-wizard",load:"sequential",disableTabClick:true,hiddenParts:["icon","secondaryText"],extraClasses:{tab(e){let{index:t,BaTabs:{activeTabIndex:a}}=e;return{"--done":t<a}}},TabCaret(e){let{className:t,tab:{index:a,number:s,BaTabs:{activeTabIndex:i}}}=e;return(0,n.Z)("div",{className:t},void 0,a<i?(0,n.Z)(E.Icon,{name:"fab-check-14x14"}):(0,n.Z)("span",{},void 0,s))}};var $=a(26570);const Z="basic";const F=new WeakMap;function I(e,t,a){const s=F.get(e);if(!t){return s}return(0,u.isUndefined)(s[t])?a:s[t]}function N(e,t){return I(e,t,y[t])}class A{static get className(){return"BaTabsTheme"}get name(){return I(this,"name")}get variants(){return I(this,"variants",[])}get body(){return I(this,"body")}get caret(){return I(this,"caret")}get hiddenParts(){return I(this,"hiddenParts")}get disableTabClick(){return I(this,"disableTabClick")}get extraClasses(){return I(this,"extraClasses")}get collapseTabs(){return I(this,"collapseTabs")}get overflowText(){return I(this,"overflowText")}get load(){return I(this,"load")}constructor(e){F.set(this,{...e,name:(0,u.kebabCase)(e.name),hiddenParts:(e.hiddenParts||[]).reduce(((e,t)=>{e[t]=true;return e}),{}),load:(0,u.camelCase)(e.load||null)||"active",overflowText:e.overflowText||$.__("More"),collapseTabs:!!e.collapseTabs,extraClasses:(0,u.isPlainObject)(e.extraClasses)?e.extraClasses:{},disableTabClick:!!e.disableTabClick});Object.defineProperties(this,Object.keys(y).reduce(((e,t)=>({...e,[t]:{get:()=>N(this,t)}})),{}))}}var M=a(36029);var D=a(17842);var P=a.n(D);const L=new WeakMap;const O=new WeakMap;const R=new WeakMap;const B=new WeakMap;const j=new WeakMap;function H(e,t){const a=L.get(e);return!(0,u.isUndefined)(a)&&!(0,u.isUndefined)(a[t])}function q(e,t,a){const s=L.get(e);if(!H(e,t)){return a}return s[t]}function W(e,t,a){L.get(e)[t]=a;return a}function U(e,t){delete L.get(e)[t]}function z(e,t,a){const s=(0,u.find)([q(e,t),e.BaTabs[t],e.BaTabs.props[t],e.Theme[t]],(e=>!(0,u.isUndefined)(e)));return(0,u.isUndefined)(s)?a:s}class V{static get className(){return"Tab"}get BaTabs(){return O.get(this)}get Theme(){return this.BaTabs.Theme}get index(){return q(this,"index")}get number(){return q(this,"number")}get key(){return q(this,"key")}get group(){return q(this,"group")}get href(){return q(this,"href")}get includeDivider(){return!!q(this,"includeDivider")}get isLink(){return!!this.href}get hasPath(){return!!this._pathname}get path(){const{pathname:e=null,query:t=null,hash:a=null}=q(this,"path")||{};return{pathname:e,query:t,hash:a}}get _pathname(){const e=this.BaTabs.path;const t=this.path;if(!e.pathname&&!t.pathname){return}let{pathname:a}=t;let{pathname:s}=e;if((0,u.isFunction)(s)){s=s.call(this,{...this.props,...this.data})}if((0,u.isFunction)(a)){a=a.call(this,{...this.props,...this.data})}if((0,u.isString)(s)){a=(0,M.resolveURL)(s,a)}if(!(0,u.isEmpty)(a)){return a}}get _query(){const e=this.BaTabs.path;const t=this.path;let{query:a}=t;let{query:s}=e;if((0,u.isFunction)(s)){s=s.call(this,{...this.props,...this.data})}if((0,u.isFunction)(a)){a=a.call(this,{...this.props,...this.data})}if((0,u.isPlainObject)(s)){a={...s,...a||{}}}if(!(0,u.isEmpty)(a)){return a}}get pathname(){const{data:e,props:t}=this;const{_pathname:a,_query:s}=this;if((0,u.isEmpty)(a)){return}return(0,M.compileURL)(a,{...t,...e},s||{})}get active(){return this.number===this.BaTabs.activeTabNumber}get disabled(){return!!q(this,"disabled")}get tabElem(){return R.get(this)}set tabElem(e){if(e instanceof Element&&e!==this.tabElem){R.set(this,e);U(this,"width")}}get width(){if(H(this,"width")){return q(this,"width")}const{tabElem:e}=this;if(!e||!e.offsetParent){return 0}const{marginLeft:t,marginRight:a}=window.getComputedStyle(e);const{width:s}=e.getBoundingClientRect();return W(this,"width",s+parseInt(t||"0")+parseInt(a||"0"))}get tabContentElem(){return B.get(this)}set tabContentElem(e){if(e instanceof Element&&e!==this.tabContentElem){B.set(this,e)}}get primaryText(){return q(this,"primaryText")}get secondaryText(){return q(this,"secondaryText")}get icon(){return q(this,"icon")}get loading(){return this.BaTabs.loading}get load(){let e=q(this,"load",this.BaTabs.load);if((0,u.isString)(e)){switch(e){case"once":e={render:"all"};break;case"preload":e={render:"all",preload:"all"};break;case"sequential":e={render:"all",preload:"next"};break;case"always":e={render:"all",resolve:"always"};break}}if(!(0,u.isPlainObject)(e)){e={}}return{render:"active",resolve:"once",preload:"none",...e}}get isAsync(){const e=z(this,"getData");const t=z(this,"getBody");return!(0,u.isUndefined)(e)||!(0,u.isUndefined)(t)}get data(){return q(this,"data",{})}set data(e){W(this,"data",e)}get hasData(){return!!q(this,"data")}get body(){if(!this.active&&this.load.render==="active"){return null}const{props:{children:e}}=O.get(this);return q(this,"body")||e||z(this,"body")}set body(e){W(this,"body",e)}get hasBody(){return!!q(this,"body")}get caret(){return z(this,"caret",false)}get hiddenParts(){return z(this,"hiddenParts")}get shouldResolveContent(){return this.isAsync&&(this.load.resolve==="always"||!this.isResolved)}get isResolved(){return!this.loading&&q(this,"resolved",false)}get props(){const e=this;return{get tab(){return e},get index(){return e.index},get number(){return e.number},get key(){return e.key},get active(){return e.active},get disabled(){return e.disabled},get caret(){return e.caret},get primaryText(){return e.primaryText},get secondaryText(){return e.secondaryText},get icon(){return e.icon},get body(){return e.body},get onTabClick(){return e.onTabClick},get Theme(){return e.Theme},get hiddenParts(){return e.hiddenParts},get _createBEM(){return e._createBEM},get _subcomponents(){return e._subcomponents}}}constructor(e,t,a){var s=this;(0,i.Z)(this,"_createBEM",(function(){return s.BaTabs._createBEM(...arguments)}));(0,i.Z)(this,"onTabClick",(function(){const{Theme:e,props:t}=s.BaTabs;for(var a=arguments.length,n=new Array(a),i=0;i<a;i++){n[i]=arguments[i]}if(s.loading||s.disabled||z(s,"disableTabClick")||s.active||q(s,"onClick",u.noop)(s,...n)===false||(t.onTabClick||u.noop)(s,...n)===false||(e.onTabClick||u.noop)(s,...n)===false){return}s.BaTabs.activeTab=s}));if(e.body&&e.getBody){throw new Error("A tab cannot have both body and getBody defined")}if(e.data&&e.getData){throw new Error("A tab cannot have both data and getData defined")}let{path:n}=e;let o;let r;if((0,u.isString)(n)){[o,...r]=n.split("?");r=r.join("?")||null;n={pathname:o,query:r}}L.set(this,{key:`tab${t+1}`,...e,index:t,number:t+1,primaryText:(0,u.isPlainObject)(e.label)?e.label.primary:e.label,secondaryText:(0,u.isPlainObject)(e.label)?e.label.secondary||null:null,icon:(0,u.isString)(e.icon)?{name:e.icon}:e.icon,path:(0,u.isPlainObject)(n)?n:null});O.set(this,a);this._subcomponents={};Object.defineProperties(this._subcomponents,Object.keys(y).reduce(((e,t)=>({...e,[t]:{get:()=>z(this,t)}})),{}))}renderTab(){let{overflow:e=false}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const t=this;const{key:a}=this;return r().createElement(G,{key:a,tab:t,overflow:e})}renderBody(){const e=this;const{key:t}=this;return r().createElement(K,{key:t,tab:e})}getBody(){if(this.shouldResolveContent){const e=z(this,"getBody");if((0,u.isString)(e)){return P().get((0,M.compileURL)(e,this.props)).then((e=>{let{data:t}=e;return t}))}if((0,u.isFunction)(e)){return e.call(this.BaTabs,this)||this.body}}return this.body}getData(){if(this.shouldResolveContent){const e=z(this,"getData");if((0,u.isString)(e)){return P().get((0,M.compileURL)(e,this.props)).then((e=>{let{data:t}=e;return t}))}if((0,u.isFunction)(e)){return e.call(this.BaTabs,this)||this.data}}return this.data}resolveContent(){return Promise.all([this.getData(),this.getBody()]).then((e=>{let[t,a]=e;this.data=t||this.data;this.body=a||this.body;W(this,"resolved",true);if(typeof this.BaTabs.props.onTabResolve==="function"){setTimeout((()=>{this.BaTabs.props.onTabResolve(this)}),0)}return this}))}testURL(){const{_pathname:e,_query:t}=this;if((0,u.isEmpty)(e)){return}const{params:a=null,query:s=null}=(0,M.testURL)(e,t||{})||{};const n={...this.props,...this.data};return a!==null&&s!==null&&![...Object.keys(a||{}).map((e=>(0,u.isUndefined)(n[e])||n[e]==a[e])),...Object.keys(t||{}).map((e=>(0,u.isUndefined)(s[e])||t[e]==s[e]))].includes(false)}}function Y(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if((0,u.isFunction)(t)){t=r().createElement(t,(0,h.Z)({tab:e},a))}else if((0,u.isString)(t)){t=(0,n.Z)("div",{dangerouslySetInnerHTML:{__html:t}})}return t}function G(e){let{tab:t,overflow:a}=e;const{data:s,data:{trackingAction:i},index:o,includeDivider:l,isLink:c,href:d,number:u,props:p,_subcomponents:{Tab:m}}=t;const{_createBEM:f,active:g,disabled:v,key:y,onTabClick:b}=p;const w=Y(t,m,{...p,...s});const S=e=>c?r().createElement("a",(0,h.Z)({},e,{ref:e=>{t.tabElem=e},href:d})):r().createElement("div",(0,h.Z)({},e,{ref:e=>{t.tabElem=e},onClick:b}));const C=f(a?"overflowTab":"tab",[y,{active:g,disabled:v,"^fab-Link--inherit":c&&a,link:c}],t);return r().createElement(r().Fragment,null,l&&(0,n.Z)(E.Divider,{}),(0,n.Z)(S,{className:C,"data-bi-id":`access-level-${i}-header-step`,"data-tab-index":o,"data-tab-number":u},void 0,w))}function K(e){let{tab:t}=e;const{props:{key:a,...s},loading:i,load:l,data:c,isAsync:d,isResolved:u}=t;const{_createBEM:p,active:m,disabled:f,_subcomponents:{TabContentHeader:g,TabContentHeaderActions:v,TabContentFooter:y,TabContentFooterActions:b,TabContent:w,TabLoadingContent:S}}=s;if(f||!m&&l.render==="active"){return null}let C=null;if(m&&i){C=Y(t,S,{...s,...c})}else if(!d||!i&&u){C=Y(t,t.body,{...s,...c});if(w){C=r().createElement(w,(0,h.Z)({},s,c),C)}C=(0,n.Z)(o.Fragment,{},void 0,(g||v)&&(0,n.Z)("div",{className:p("tabContentHeader")},void 0,g&&r().createElement(g,(0,h.Z)({},s,c),null),v&&(0,n.Z)("div",{className:p("tabContentHeaderActions")},void 0,r().createElement(v,(0,h.Z)({},s,c),null))),C,(y||b)&&(0,n.Z)("div",{className:p("tabContentFooter")},void 0,y&&r().createElement(y,(0,h.Z)({},s,c),null),b&&(0,n.Z)("div",{className:p("tabContentFooterActions")},void 0,r().createElement(b,(0,h.Z)({},s,c),null))))}return r().createElement("div",{ref:e=>{t.tabContentElem=e},className:p("tabContent",[a,{active:m}],t)},C)}var X=a(26570);const J=new WeakMap;const Q=new WeakMap;const ee=new WeakMap;const te=new WeakMap;const ae=new WeakMap;const se=new WeakMap;const ne=new WeakMap;const ie=new WeakMap;const oe=new WeakMap;const re=new WeakMap;class le extends o.Component{static get className(){return"BaTabs"}get Theme(){return ee.get(this)}set theme(e){if(this.Theme){return}if(e&&!(0,u.isString)(e)){throw new Error(`Invalid theme (${e})`)}let t;[e,...t]=(e||Z).split(":");e=s[(0,u.camelCase)(e)]||s[Z];const a=new A(e);ee.set(this,a);const n=new l.BEM([this.constructor.className,...this.props.id?[this.props.id]:[]],[`${this.Theme.name}-theme`,()=>({loading:this.loading}),...t.filter((e=>a.variants.includes(e))).map((e=>`${this.Theme.name}-theme_${e}`))],[...d.isEnabled("jade")?[{tab:e=>{let{active:t,disabled:a,loading:s}=e;return{baseColor:t,baseColorHover:!(t||a||s),baseFillColor:t,baseFillColorHover:!(t||a||s)}}}]:[],a.extraClasses,this.extraClasses]);te.set(this,n)}get tabs(){return J.get(this)}get overflowOnlyTabs(){return Q.get(this)}get tabLength(){return this.tabs.length}set tabs(e){if(this.tabs){return}if(!Array.isArray(e)){throw new Error('"tabs" prop is required for BaTabs')}const[t,a]=(0,c.Z6)(e,(e=>e.showOnlyInOverflow));let s=0;J.set(this,a.map((e=>new V(e,s++,this))));Q.set(this,t.map((e=>new V(e,s++,this))))}set extraClasses(e){se.set(this,e)}get extraClasses(){return se.get(this)||{}}get hasPath(){return!!(this.path.pathname||this.tabs.map((e=>e.hasPath)).includes(true))}get path(){let{pathname:e=null,query:t=null,sync:a}=ae.get(this)||{};return{pathname:e,query:t,sync:a}}get visibleTabs(){return this.tabs.slice(0,this.state.overflowIndex)}get overflowTabs(){const{overflowIndex:e}=this.state;return this.tabs.slice(e).concat(Q.get(this)||[])}get hasOverflowTabs(){return this.state.overflowIndex>=0}set tabWrapper(e){if(e instanceof Element&&e!==this.tabWrapper){ie.set(this,e);this._recalcOverflowIndex()}}get tabWrapper(){return ie.get(this)}get _tabWrapperWidth(){const e=ie.get(this);if(!e||!e.offsetParent){return 0}const{width:t}=window.getComputedStyle(e);return parseInt(t||"0")}get tabWrapperWidth(){return oe.get(this)}set tabWrapperWidth(e){if(!e||e===this.tabWrapperWidth){return}oe.set(this,e);const{overflowIndex:t}=this;if(t===this.state.overflowIndex&&this.state.hasInitCollapseTabs){return}this.setState({overflowIndex:t,hasInitCollapseTabs:true})}get tabWrapperMinWidth(){return this.tabs.reduce(((e,t)=>{let{width:a}=t;return e+a}),0)}get overflowTab(){return ne.get(this)}set overflowTab(e){if(e instanceof Element&&e!==this.overflowTab){ne.set(this,e);this._recalcOverflowIndex()}}get overflowTabWidth(){const e=ne.get(this);if(!e||!e.offsetParent){return 0}return parseInt(e.getBoundingClientRect().width)}get collapseTabs(){return!!(!this.hasGroups&&this.props.collapseTabs||this.Theme.collapseTabs)}get overflowIndex(){const e=this._tabWrapperWidth;let t=0;let a;if(e<this.tabWrapperMinWidth){t+=this.overflowTabWidth;this.tabs.some(((s,n)=>{let{width:i}=s;t+=i;a=n;return t>e}))}return a}get overflowText(){return this.props.overflowText||this.Theme.overflowText}get firstTab(){return this.tabs[0]}get isFirstTab(){return this.activeTab===this.firstTab}get lastTabIndex(){return this.tabs.length-1}get lastTab(){return this.tabs[this.lastTabIndex]}get isLastTab(){return this.activeTab===this.lastTab}get prevTabIndex(){return(0,u.clamp)(this.activeTabIndex-1,0,this.lastTabIndex)}get prevTab(){return this.tabs[this.prevTabIndex]}get nextTabIndex(){return(0,u.clamp)(this.activeTabIndex+1,0,this.lastTabIndex)}get nextTab(){return this.tabs[this.nextTabIndex]}get loading(){return this.state.loading}get load(){return this.props.load||this.Theme.load}get activeTab(){return this.state.activeTab}set activeTab(e){if(!isNaN(e)){const t=parseInt(e)-1;e=this.tabs[(0,u.clamp)(t,0,this.lastTabIndex)]}else if((0,u.isString)(e)){e=this[`${e}Tab`]||this.tabs.find((function(){let{key:t}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return t===e}))}if(!(e instanceof V)){throw new Error(`Invalid value for activeTab (${e})`)}if(e.data&&typeof e.data.tabType==="string"&&e.data.tabType==="reorder"){e=this.activeTab}if(e===this.activeTab){return}if(this.hasPath&&this.path.sync.up){let{pathname:t}=e;if(t){window.history.pushState({},null,t);return}}this.setState({activeTab:e,loading:e.shouldResolveContent},this._resolveTabs)}get activeTabIndex(){return this.tabs.indexOf(this.activeTab)}get activeTabNumber(){return this.activeTabIndex+1}get hasGroups(){const{groups:e}=this;return Array.isArray(e)&&e.length>0}get groups(){return re.get(this)}set groups(e){if(Array.isArray(re.get(this))){return}if((0,u.isPlainObject)(e)){Object.keys(e).forEach((t=>{let a=e[t];if(!(0,u.isPlainObject)(a)){a={name:t}}else{a.name=t}e[t]=a}))}if(!Array.isArray(e)){e=[...this.tabs.reduce(((e,t)=>{let{group:a}=t;if(!(0,u.isUndefined)(a)){e.add(a)}return e}),new Set)].sort()}e=e.map((e=>{if(!(0,u.isPlainObject)(e)){e={name:e}}return e}));re.set(this,e)}get _subcomponents(){return Object.keys(y).reduce(((e,t)=>({...e,[t]:this[t]||this.props[t]||this.Theme[t]})),{})}constructor(e){var t;super(e);t=this;(0,i.Z)(this,"next",(()=>{this.activeTab="next";return this}));(0,i.Z)(this,"prev",(()=>{this.activeTab="prev";return this}));(0,i.Z)(this,"_renderTabs",(()=>{const e=this;const{hasInitCollapseTabs:t}=this.state;const a=this.collapseTabs&&!t;const{_createBEM:s,hasGroups:i,groups:l,_subcomponents:c}=this;const{title:u,icon:h}=this.props;const{TabWrapper:p,TabWrapperHeader:m,TabWrapperHeaderActions:f,TabWrapperFooter:g,TabWrapperFooterActions:v,TabGroup:y,TabGroupLabel:b,TabGroupIcon:w,TabGroupHeader:S,TabGroupFooter:C,Tab:x}=c;const T=e=>r().createElement("div",{className:s("tabWrapper",{hidden:a}),ref:e=>{this.tabWrapper=e}},(m||f)&&(0,n.Z)("div",{className:s("tabWrapperHeader")},void 0,m&&r().createElement(m,e,null),f&&(0,n.Z)("div",{className:s("tabWrapperHeaderActions")},void 0,r().createElement(f,e,null))),r().createElement(p,e),(g||v)&&(0,n.Z)("div",{className:s("tabWrapperFooter")},void 0,g&&r().createElement(g,e,null),v&&(0,n.Z)("div",{className:s("tabWrapperFooterActions")},void 0,r().createElement(v,e,null))));const k=e=>(0,n.Z)("div",{className:s("tabGroup",[name,{empty:e.tabs.length<1}])},void 0,S&&(0,n.Z)("div",{className:s("tabGroupHeader")},void 0,r().createElement(S,e)),r().createElement(y,e),C&&(0,n.Z)("div",{className:s("tabGroupFooter")},void 0,r().createElement(C,e)));const Z=()=>{const e=[];this.overflowTabs.forEach((t=>{const a={tab:t,key:t.key};if(typeof t.group==="string"){const s=e.find((e=>e.key===e.group));if(s){s.items.push(a)}else{e.push({key:t.group,type:"group",items:[a]})}}else{e.push(a)}}));return(0,n.Z)(E.Dropdown,{buttonSettings:{className:s("textButton")},items:e,type:"text",renderOptionContent:t=>{let{key:a}=t;const s=e=>e.items?e.items.find(s):e.key===a;const n=e.find(s);const{tab:i}=n.tab?n:n.items.find(s);return i.renderTab({overflow:true})}},void 0,(0,n.Z)("span",{className:s("tabLabel",["primary"])},void 0,this.overflowText))};const F=()=>(0,n.Z)(o.Fragment,{},void 0,(0,n.Z)("span",{className:s("tabLabel",["primary"])},void 0,this.overflowText),this.hasOverflowTabs&&(0,n.Z)("div",{className:s("tabOverflowWrapper")},void 0,this.overflowTabs.map((e=>e.renderTab()))));return r().createElement(T,{_createBEM:s,get tabs(){return e.tabs},_subcomponents:c,title:u,icon:h},i&&l.map((t=>{const{name:a}=t;const n=e.tabs.filter((e=>e.group==a));return r().createElement(k,{key:a,_createBEM:s,group:t,tabs:n,_subcomponents:c})})),!i&&(0,n.Z)(o.Fragment,{},void 0,this.visibleTabs.map((e=>e.renderTab())),this.collapseTabs&&(this.hasOverflowTabs||!t)&&r().createElement("div",{className:s("tab","overflow"),ref:e=>{this.overflowTab=e}},d.isEnabled("jade")?Z():F())))}));(0,i.Z)(this,"_renderBody",(()=>{const{_createBEM:e,_subcomponents:t}=this;const{TabContentWrapper:a}=t;return(0,n.Z)("div",{className:e("tabContentWrapper")},void 0,r().createElement(a,{_createBEM:e,_subcomponents:t},this.tabs.map((e=>e.renderBody()))))}));(0,i.Z)(this,"_findTabFromPath",(()=>this.tabs.find((e=>e.testURL()))));(0,i.Z)(this,"_onHistoryChange",(e=>{const t=this._findTabFromPath();if(!t){return}this.setState({activeTab:t,loading:t.shouldResolveContent},this._resolveTabs)}));(0,i.Z)(this,"_onNavBtnClick",(e=>{let{target:t}=e;if(!t.matches(`\n\t\t\t[data-tab-action*=":"],\n\t\t\t[data-tab-action*=":"] *\n\t\t`)){return}const{tabAction:a=""}=t.dataset||{};const[s,n=1]=a.split(":");if(s===this.props.id){this.activeTab=n}}));(0,i.Z)(this,"_updateNavBtns",(function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const{activeTab:a,tabLength:s,isLastTab:n,isFirstTab:i}=t;X(`[data-tab-action^="${t.props.id}:"]`).each((function(){let[t,o=1]=this.dataset.tabAction.split(":");switch(o){case"next":case"last":X(this).toggleDisabled(e||n);break;case"prev":case"first":X(this).toggleDisabled(e||i);break;default:o=isNaN(o)?o:(0,u.clamp)(parseInt(o),1,s);X(this).toggleDisabled(e||[a.key,a.number].indexOf(o)>=0);break}}))}));(0,i.Z)(this,"_resolveTabs",(()=>{const{activeTab:e}=this;return e.resolveContent().then((()=>{this._onTabChange(e);this._updateNavBtns(true);this.setState({loading:false},(()=>{if(this.props.id){X((()=>{setTimeout((()=>{this._updateNavBtns()}),0)}))}if(e.load.preload==="next"&&!this.isLastTab){const{nextTab:e}=this;if(!e.hasBody||!e.hasData){e.resolveContent().then((()=>{this.setState({loaded:e.key})}))}}if(!this.state.loaded&&e.load.preload==="all"){this.tabs.reduce(((e,t)=>e.then((()=>t.resolveContent()))),Promise.resolve()).then((()=>{this.setState({loaded:true})}))}}))}))}));(0,i.Z)(this,"_onTabChange",(e=>{const t=this.props.onTabChange;if((0,u.isFunction)(t)){t.call(this,e)}document.dispatchEvent(new CustomEvent("BaTabs:change",{detail:e}))}));(0,i.Z)(this,"_createBEM",(function(){return te.get(t).elem(...arguments)}));(0,i.Z)(this,"_initCollapseTabs",(()=>{if(!this.collapseTabs){return}window.addEventListener("resize",(0,u.debounce)(this._recalcOverflowIndex,100));document.addEventListener("BaTabs:change",this._recalcOverflowIndex);this._recalcOverflowIndex()}));(0,i.Z)(this,"_recalcOverflowIndex",(0,u.debounce)((()=>{if(!this.collapseTabs){return}this.tabWrapperWidth=this._tabWrapperWidth}),0));const{tabs:a,activeTab:s,theme:l,extraClasses:c,tabGroups:h}=e;let{path:p,pathSync:m}=e;let f,g;if((0,u.isString)(p)){[f,...g]=p.split("?");f="/"+(0,u.trimStart)(f,"/");g=g.join("?")||null;p={pathname:f,query:g}}if((0,u.isPlainObject)(p)){m=p.sync||m;if((0,u.isString)(m)){m=m.toLowerCase().replace(/\s+/g,"").split(/[^a-z!]+/g)}if(!Array.isArray(m)||(0,u.isEmpty)(m)){m=["all"]}p.sync={get all(){return this.load&&this.up&&this.down},get none(){return!this.load&&!this.up&&!this.down},load:!m.includes("none")&&!m.includes("!all")&&!m.includes("!load")&&m.includes("all")||m.includes("load"),up:!m.includes("none")&&!m.includes("!all")&&!m.includes("!up")&&m.includes("all")||m.includes("up"),down:!m.includes("none")&&!m.includes("!all")&&!m.includes("!down")&&m.includes("all")||m.includes("down")};ae.set(this,p)}this.tabs=a;this.groups=h;if(c){this.extraClasses=c}if(this.hasPath&&this.path.sync.down){window.addEventListener("history:load",(0,u.debounce)(this._onHistoryChange,100));window.addEventListener("history:change",(0,u.debounce)(this._onHistoryChange,100))}this.state={activeTab:s,hasInitCollapseTabs:false};this.theme=l}componentDidMount(){document.addEventListener("click",this._onNavBtnClick);if(this.hasPath&&this.path.sync.load&&this.path.sync.down){this.activeTab=this.state.activeTab||this._findTabFromPath()||this.firstTab}else{this.activeTab=this.state.activeTab||this.firstTab}this._initCollapseTabs()}componentWillUnmount(){window.removeEventListener("history:load",this._onHistoryChange);window.removeEventListener("history:change",this._onHistoryChange)}shouldComponentUpdate(e,t){return t.activeTab!==this.state.activeTab||t.overflowIndex!==this.state.overflowIndex||t.hasInitCollapseTabs!==this.state.hasInitCollapseTabs||t.loading!==this.state.loading||t.loaded!==this.state.loaded}render(){return(0,n.Z)("div",{className:this._createBEM(null)},void 0,this._renderTabs(),this._renderBody())}}},57011:(e,t,a)=>{"use strict";a.r(t);a.d(t,{NotifyCaret:()=>g,Tab:()=>v,TabCaret:()=>f,TabContent:()=>N,TabContentFooter:()=>D,TabContentFooterActions:()=>P,TabContentHeader:()=>A,TabContentHeaderActions:()=>M,TabContentWrapper:()=>L,TabGroup:()=>y,TabGroupFooter:()=>C,TabGroupHeader:()=>b,TabGroupIcon:()=>w,TabGroupLabel:()=>S,TabIcon:()=>h,TabLoadingContent:()=>O,TabPrimaryText:()=>p,TabSecondaryText:()=>m,TabWrapper:()=>x,TabWrapperFooter:()=>F,TabWrapperFooterActions:()=>I,TabWrapperHeader:()=>T,TabWrapperHeaderActions:()=>E,TabWrapperIcon:()=>Z,TabWrapperTitle:()=>k});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(73641);var l=a.n(r);var c=a(59155);var d=a.n(c);var u=a(19161);function h(e){const{icon:t,className:a}=e;return t?(0,n.Z)("span",{className:a},void 0,typeof t.name==="string"?o().createElement(c.Icon,t):t):null}function p(e){const{primaryText:t,className:a}=e;return t?o().createElement("span",{className:a},t):null}function m(e){const{secondaryText:t,className:a}=e;return t?o().createElement("span",{className:a},t):null}function f(e){const{caret:t,className:a}=e;if(!t){return null}if((0,r.isFunction)(t)){const n=t;return o().createElement(n,(0,s.Z)({className:a},e))}else if((0,r.isString)(t)){return o().createElement("div",{className:a,dangerouslySetInnerHTML:{__html:t}})}else if(t===true){return o().createElement("div",{className:a})}return t}function g(e){let{_createBEM:t,active:a,disabled:s,notifyText:i}=e;if(!i||!isNaN(i)&&parseFloat(i)===0){i=null}return i&&(0,n.Z)("span",{className:t("tabCaret",["notify",{active:a,disabled:s}],e)},void 0,i)}function v(e){const{_createBEM:t,_subcomponents:{TabIcon:a,TabPrimaryText:r,TabSecondaryText:l,TabCaret:c},hiddenParts:d,active:u,disabled:h}=e;return(0,n.Z)(i.Fragment,{},void 0,!d.icon&&o().createElement(a,(0,s.Z)({className:t("tabIcon",{active:u,disabled:h},e)},e)),!d.primaryText&&o().createElement(r,(0,s.Z)({className:t("tabLabel",["primary",{active:u,disabled:h}],e)},e)),!d.secondaryText&&o().createElement(l,(0,s.Z)({className:t("tabLabel",["secondary",{active:u,disabled:h}],e)},e)),!d.caret&&o().createElement(c,(0,s.Z)({className:t("tabCaret",{active:u,disabled:h},e)},e)))}function y(e){const{_createBEM:t,group:a,tabs:s,className:o}=e;if(a.TabGroup){return a.TabGroup(e)}if(s.length<1){return null}return(0,n.Z)(i.Fragment,{},void 0,s.map((e=>e.renderTab())))}function b(e){const{_createBEM:t,group:a,_subcomponents:{TabGroupIcon:l,TabGroupLabel:c}}=e;let{icon:d}=a;if(d&&!(0,r.isPlainObject)(d)){d={name:d}}return(0,n.Z)(i.Fragment,{},void 0,d&&l&&(0,n.Z)(l,{className:t("tabGroupIcon",a),icon:d}),a.label&&o().createElement(c,(0,s.Z)({},a,{className:t("tabGroupLabel",a)})))}function w(e){return o().createElement(h,e)}function S(e){const{label:t,className:a}=e;return o().createElement("span",{className:a},t)}const C=null;function x(e){let{children:t}=e;return(0,n.Z)(i.Fragment,{},void 0,t)}function T(e){const{_createBEM:t,title:a,icon:i,_subcomponents:{TabWrapperTitle:l,TabWrapperIcon:c}}=e;if(!a&&!i){return null}return(0,n.Z)("div",{className:t("tabWrapperTitleWrapper")},void 0,i&&c&&o().createElement(c,(0,s.Z)({},e,{className:t("tabWrapperIcon"),icon:(0,r.isPlainObject)(i)?i:{name:i}})),a&&l&&o().createElement(l,(0,s.Z)({},e,{className:t("tabWrapperTitle")})))}const E=null;function k(e){const{title:t,className:a}=e;return(0,n.Z)("span",{className:a},void 0,t)}function Z(e){return o().createElement(h,e)}const F=null;const I=null;const N=null;const A=null;const M=null;const D=null;const P=null;function L(e){const{children:t}=e;return t}function O(e){return(0,n.Z)(u.Z,{blockName:"BaTabs",type:"dot"})}},393:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(60042);var r=a.n(o);var l=a(59155);var c=a.n(l);var d=a(78144);const u=e=>{const{children:t,imageJSX:a,imageAlt:n="",imageSrc:i="",imageIcon:o="",isModalHeader:c=true,noPadding:d=false,theme:u,title:p="",subTitle:m=""}=e;const f=r()("Badge",{"Badge--modalHeader":c,"Badge--noPadding":d});const g=u?`BadgeContainer--${u}`:"";const v=r()("BadgeContainer",g,{"BadgeContainer--modalHeader":c});let y=null;if(i&&typeof i==="string"){y=(0,s.Z)("img",{alt:n,className:"BadgeImage__image",src:h(i)})}else if(a){y=(0,s.Z)("div",{},void 0,a)}else if(o&&typeof o==="string"){y=(0,s.Z)(l.Icon,{name:o})}return(0,s.Z)("div",{className:v},void 0,(0,s.Z)("div",{className:f},void 0,y&&(0,s.Z)("div",{className:"BadgeImage"},void 0,y),(0,s.Z)("div",{className:"BadgeText"},void 0,p&&(0,s.Z)("div",{className:"BadgeText__title"},void 0,h(p)),m&&(0,s.Z)("div",{className:"BadgeText__subTitle"},void 0,h(m)),t)))};function h(e){return(0,d.Jk)(e)}t["Z"]=u},33367:(e,t,a)=>{"use strict";a.d(t,{V:()=>o});var s=a(89835);var n=a(23321);var i=a(97106);function o(e){const{jobTitle:t="",location:a=""}=e;const n=(0,s.Z)("div",{className:"BadgeText__subTitle"},void 0,(0,s.Z)(i.O,{classes:"EmploymentSubtitles__subTitleIcon",fabricColorName:"gray7",iconName:"fab-location-11x14"}),(0,s.Z)("span",{className:"EmploymentSubtitles__subTitleText"},void 0,a));const o=(0,s.Z)("div",{className:"BadgeText__subTitle"},void 0,(0,s.Z)(i.O,{classes:"EmploymentSubtitles__subTitleIcon",fabricColorName:"gray7",iconName:"fab-employees-14x12"}),(0,s.Z)("span",{className:"EmploymentSubtitles__subTitleText"},void 0,t));return(0,s.Z)("div",{},void 0,t!==""&&o,a!==""&&n)}},9932:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(60042);var c=a.n(l);var $=a(26570);const d=e=>{const{className:t,button:a,icon:n="fab-sasquatch-153x192",subtitle:i,title:r=$.__(`There's nothing to see here...`)}=e;return(0,s.Z)("div",{className:c()("ba-BlankState",t)},void 0,(0,s.Z)("div",{className:"ba-BlankState__icon"},void 0,(0,s.Z)(o.Icon,{name:n})),(0,s.Z)("h3",{className:"ba-BlankState__title"},void 0,r),i&&(0,s.Z)("p",{className:"ba-BlankState__subtitle"},void 0,i),a?(0,s.Z)("div",{className:"ba-BlankState__button"},void 0,a):null)};t["Z"]=d},26136:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(88604);var n=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(73641);var c=a.n(l);var d=a(60042);var u=a.n(d);var h=a(21198);var p=a.n(h);var m=a(54706);var f=a(78144);var $=a(26570);class g extends o.Component{constructor(){super(...arguments);(0,i.Z)(this,"_handleFocus",(()=>{const{onFocus:e}=this.props;if((0,l.isFunction)(e)){e()}}));(0,i.Z)(this,"_ref",(0,o.createRef)())}static get className(){return"CalendarPicker"}_isRange(){const{type:e=""}=this.props;return(0,l.endsWith)(e,"-range")}_getApi(e){const t="[calendar-picker]";const a=e.querySelector(t)||e.closest(t);return a.__calendarPicker}_getRangePlaceholder(e){const{placeholder:t={},label:a={}}=e;return{end:a.end?"":$.__("End"),start:a.start?"":$.__("Start"),...t}}_getUniqueName(e){return e||(0,l.uniqueId)("calendarPicker")}_triggerChange(e){const{onChange:t}=this.props;if((0,l.isFunction)(t)){t(e)}}_triggerComplete(e,t){const{onComplete:a}=this.props;if((0,l.isFunction)(a)){a(e,t)}}_triggerIncomplete(e){const{onIncomplete:t}=this.props;if((0,l.isFunction)(t)){t(e)}}_renderLabel(e,t){const{required:a}=this.props;return(0,n.Z)("label",{className:(0,h.classNameFromObject)({"fab-Label":true,"fab-Label--required":a}),htmlFor:e},void 0,t)}_renderRange(e,t){const a=this._getRangePlaceholder(t);let i,o;let l,c;const{id:d,name:u,noFacade:h,required:p,type:m}=this.props;if(typeof u==="object"){o=u.start;i=u.end}else{const e=this._getUniqueName(u);o=`${e}Start`;i=`${e}End`}if(typeof d==="object"){c=d.start;l=d.end}const f={};if(p){f.required=true}if(h){f["no-facade"]=""}return r().createElement("div",(0,s.Z)({},f,{"calendar-picker":m,"calendar-picker-options":JSON.stringify(t),className:`${e.range} CalendarPicker__rangeRow`,"data-no-jquery-aria-required":true}),(0,n.Z)("div",{className:"CalendarPicker__rangeColumn"},void 0,!!t.label&&!!t.label.start&&this._renderLabel(o,t.label.start),(0,n.Z)("div",{className:"fab-InputWrapper"},void 0,(0,n.Z)("input",{className:`${e.rangeStart} fab-TextInput CalendarPicker CalendarPicker__input`,disabled:!!t.disabled,id:c,name:o,onFocus:this._handleFocus,placeholder:a.start,"range-start":"",required:p,type:"text"}))),(0,n.Z)("div",{className:"CalendarPicker__rangeColumn"},void 0,!!t.label&&!!t.label.end&&this._renderLabel(i,t.label.end),(0,n.Z)("div",{className:"fab-InputWrapper"},void 0,(0,n.Z)("div",{className:"CalendarPicker__rangeSeparator"},void 0,"–"),(0,n.Z)("input",{className:`${e.rangeEnd} fab-TextInput CalendarPicker CalendarPicker__input`,disabled:!!t.disabled,id:l,name:i,onFocus:this._handleFocus,placeholder:a.end,"range-end":"",required:p,type:"text"}))))}_renderSingle(e,t){const{id:a,name:n,noFacade:i,required:o,type:l,unsafeProps:c={},biId:d}=this.props;const u=this._getUniqueName(n);const{placeholder:h=""}=t;const p={};if(o){p.required=true}if(h){t.placeholder=(0,f.b0)(h);p["data-placeholder-trigger"]="focus"}if(i){p["no-facade"]=""}const m=`${e.single} fab-TextInput CalendarPicker CalendarPicker__input`;if(c.className){c.className=`${m} ${c.className}`}return r().createElement("input",(0,s.Z)({},p,{"aria-required":o,"data-bi-id":d,"data-no-jquery-aria-required":true,"calendar-picker":l,"calendar-picker-options":JSON.stringify(t),className:m,disabled:!!t.disabled,id:a,name:u,onFocus:this._handleFocus,placeholder:h,required:o,type:"text"},c))}componentDidMount(){const e=$(this._ref.current);const t=e.find("[calendar-picker]");(0,m.R)(t);$(e).on("inputmask:complete",'input[type="text"]',(e=>{const t=this._getApi(e.currentTarget);if(t){const a=t.getValue();const s=e.currentTarget.value;this._triggerChange(a);this._triggerComplete(s,a)}})).on("inputmask:incomplete",'input[type="text"]',(e=>{const t=this._getApi(e.currentTarget);if(t){const t=e.currentTarget.value;this._triggerIncomplete(t)}})).on("calendarPicker:rangeSet",((e,t)=>this._triggerChange(t)))}componentDidUpdate(e){const{disabled:t,settings:a}=this.props;const s=this._ref.current;const n=this._getApi(s);if(!(0,l.isEqual)(a,e.settings)||t!==e.disabled){n.setOptions({disabled:t,...a})}}componentWillUnmount(){const e=this._ref.current;const t=this._getApi(e);t._hidePopoverImmediately()}render(){const{cssClasses:e,disabled:t,name:a,settings:s,type:i}=this.props;const c={...s||{},disabled:t};const d=(0,l.defaultsDeep)({},g.defaultProps,e);const h=this._getUniqueName(a);let p=null;if(!(0,l.endsWith)(i,"-range")){p=!!s.label&&this._renderLabel(h,s.label)}return(0,n.Z)(o.Fragment,{},void 0,p,r().createElement("div",{className:d&&u()({[d.component]:d?.component,"fab-InputWrapper":!(0,l.endsWith)(i,"-range"),"fab-FormSection":(0,l.endsWith)(i,"-range"),"fab-FormSection--noBorder":(0,l.endsWith)(i,"-range")}),ref:this._ref},(0,l.endsWith)(i,"-range")?this._renderRange(d,c):this._renderSingle(d,c)))}}(0,i.Z)(g,"defaultProps",{cssClasses:{component:"",range:"",rangeEnd:"ReportPageFilter__input",rangeStart:"ReportPageFilter__input",single:""},disabled:false,noFacade:false,settings:{},type:"date-range",unsafeProps:{}})},61327:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(44119);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a(13686);var l=a(65843);class c extends n.Component{constructor(){super(...arguments);(0,s.Z)(this,"_element",(0,n.createRef)())}static get className(){return"AreaChartComponent"}_setupListeners(){const{onMouseOver:e}=this.props;if(typeof e==="function"){this._element.current.addEventListener(l.wQ,(t=>{e(t)}))}}componentDidMount(){const{data:e,settings:t}=this.props;this._settings=t;this._areaChart=new r.TH(this._element.current,t);this._areaChart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t}=this.props;return!(0,o.isEqual)(t,e.data)}componentDidUpdate(){const{data:e}=this.props;this._areaChart.draw(e)}render(){return i().createElement("div",{ref:this._element})}}var d=c},53364:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var s=a(44119);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a.n(o);var l=a(13686);class c extends n.Component{constructor(){super(...arguments);(0,s.Z)(this,"_onSliceEnter",(e=>{this.props.onSliceEnter(e.detail)}));(0,s.Z)(this,"_onSliceLeave",(e=>{this.props.onSliceLeave(e.detail)}))}static get className(){return"Donut"}componentDidMount(){const{data:e,settings:t}=this.props;this._donutChart=new l.YE(this._element,t);this._donutChart.draw(e);if(typeof this.props.onSliceEnter==="function"){this._element.addEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.addEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentWillUnmount(){if(typeof this.props.onSliceEnter==="function"){this._element.removeEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.removeEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentDidUpdate(){const{data:e}=this.props;this._donutChart.draw(e)}render(){return i().createElement("div",{ref:e=>this._element=e})}shouldComponentUpdate(e){return!(0,o.isEqual)(this.props.settings,e.settings)||!(0,o.isEqual)(this.props.data,e.data)}}},45048:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var s=a(44119);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a.n(o);var l=a(13686);class c extends n.Component{constructor(){super(...arguments);(0,s.Z)(this,"_onSliceEnter",(e=>{this.props.onSliceEnter(e.detail)}));(0,s.Z)(this,"_onSliceLeave",(e=>{this.props.onSliceLeave(e.detail)}))}static get className(){return"DonutPercentage"}componentDidMount(){const{data:e,settings:t}=this.props;this._donutChart=new l.ub(this._element,t);this._donutChart.draw(e);if(typeof this.props.onSliceEnter==="function"){this._element.addEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.addEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentDidUpdate(){const{data:e}=this.props;this._donutChart.draw(e)}componentWillUnmount(){if(typeof this.props.onSliceEnter==="function"){this._element.removeEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.removeEventListener("ba:donutSliceLeave",this._onSliceLeave)}}render(){return i().createElement("div",{ref:e=>this._element=e})}shouldComponentUpdate(e){return!(0,o.isEqual)(this.props.settings,e.settings)||!(0,o.isEqual)(this.props.data,e.data)}}},99304:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(44119);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a(13686);var l=a(65843);class c extends n.Component{static get className(){return"HorizontalBarChartComponent"}constructor(){super();(0,s.Z)(this,"_barChartElem",(0,n.createRef)());this._chart=null}_setupListeners(){const{onMouseClick:e,onMouseOver:t,onMouseLeave:a}=this.props;if(typeof e==="function"){this._barChartElem.current.addEventListener(l._D,e)}if(typeof t==="function"){this._barChartElem.current.addEventListener(l.wQ,t)}if(typeof a==="function"){this._barChartElem.current.addEventListener(l.Zl,a)}}componentDidMount(){let{data:e,settings:t}=this.props;this._chart=new r.Gm(this._barChartElem.current,t);this._chart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t}=this.props;return!(0,o.isEqual)(t,e.data)}componentDidUpdate(){const{data:e}=this.props;this._chart.draw(e)}render(){return i().createElement("div",{ref:this._barChartElem})}}var d=c},9545:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(44119);var n=a(23321);var i=a.n(n);var o=a(13686);var r=a(65843);var l=a(73641);class c extends n.Component{constructor(){super(...arguments);(0,s.Z)(this,"_lineChartElem",(0,n.createRef)());(0,s.Z)(this,"_lineChart",void 0);(0,s.Z)(this,"_settings",void 0)}static get className(){return"LineChartComponent"}_setupListeners(){const{onMouseOver:e}=this.props;if(typeof e==="function"){this._lineChartElem.current.addEventListener(r.wQ,e)}}componentDidMount(){const{data:e,settings:t}=this.props;this._settings=t;this._lineChart=new o.wW(this._lineChartElem.current,t);this._lineChart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t,settings:a}=this.props;return!(0,l.isEqual)(t,e.data)||!(0,l.isEqual)(a,e.settings)}componentDidUpdate(){const{data:e,settings:t}=this.props;if(!(0,l.isEqual)(this._settings,t)){this._settings=t;this._lineChart.updateSettings(t)}this._lineChart.draw(e)}render(){return i().createElement("div",{ref:this._lineChartElem})}}var d=c},76591:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var s=a(89835);var n=a(23321);var i=a.n(n);function o(e){let{percentDone:t,radius:a,width:n,height:i,displayText:o,strokeWidth:r,animate:l,stroke:c}=e;const d=100-t;const u=2*Math.PI*a+1;const h=u*(1-t/100);const p=u*(1-d/100);const m={strokeDasharray:u,strokeDashoffset:h,strokeWidth:r};const f={strokeDasharray:`${p}, 2, ${h-5}, 2`,strokeWidth:r};const g="MinimalDonut__circle--themeStrokeColor";const v=c;return(0,s.Z)("svg",{className:"MinimalDonut",height:i,width:n},void 0,(0,s.Z)("g",{transform:`translate(${n/2},${i/2})`},void 0,(0,s.Z)("circle",{className:"MinimalDonut__circle MinimalDonut__circle--percentLeft",r:a,style:f,transform:"rotate(270.1)"}),(0,s.Z)("circle",{className:`MinimalDonut__circle ${v?null:g} ${l?"MinimalDonut__circle--animate":""}`,r:a,stroke:v,style:m,transform:"rotate(270.1)"}),o&&(0,s.Z)("text",{className:"MinimalDonut__text fontSemibold MinimalDonut__circle--themeFillColor",dy:".3em",textAnchor:"middle"},void 0,o,"%")))}},65216:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(44119);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a(13686);var l=a(65843);class c extends n.Component{constructor(){super(...arguments);(0,s.Z)(this,"_chart",null);(0,s.Z)(this,"_radialChartElem",(0,n.createRef)())}static get className(){return"RadialProgressChartComponent"}_setupListeners(){const{onMouseClick:e,onMouseOver:t,onMouseLeave:a}=this.props;if(typeof e==="function"){this._radialChartElem.current.addEventListener(l._D,(t=>{e(t)}))}if(typeof t==="function"){this._radialChartElem.current.addEventListener(l.wQ,(e=>{t(e)}))}if(typeof a==="function"){this._radialChartElem.current.addEventListener(l.Zl,(e=>{a(e)}))}}componentDidMount(){let{data:e,settings:t}=this.props;this._chart=new r.i0(this._radialChartElem.current,t);this._chart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t}=this.props;return!(0,o.isEqual)(t,e.data)}componentDidUpdate(){const{data:e}=this.props;this._chart.draw(e)}render(){return i().createElement("div",{ref:this._radialChartElem})}}var d=c},69599:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(23321);var n=a.n(s);var i=a(21198);var o=a.n(i);var r=a(73641);var l=a.n(r);var c=a(13686);class d extends s.Component{static get className(){return"Slice"}componentDidMount(){const{data:e,settings:t}=this.props;this._slice=new c.BL(this._element,t);this._slice.draw(e)}componentDidUpdate(){const{data:e,settings:t}=this.props;(0,i.empty)(this._element);this._slice=new c.BL(this._element,t);this._slice.draw(e)}shouldComponentUpdate(e){return!(0,r.isEqual)(this.props.data,e.data)}render(){return n().createElement("div",{ref:e=>this._element=e})}}},41768:(e,t,a)=>{"use strict";a.d(t,{U:()=>f});var s=a(23321);var n=a.n(s);var i=a(89835);const o=e=>{if(e.openKeys&&e.handlePanelChange){return true}return false};const r=e=>{if(o(e)){return e}return null};var l=a(95084);var c=a(98137);var d=a(60042);var u=a.n(d);var h=a(56445);var p=a(59155);const m=e=>{const t=(0,s.useRef)(null);const a=r(e);if(!a){throw new Error("Panel must appear as child of Collapse component.")}const{panelKey:n,openKeys:o,classes:d={},handlePanelChange:m,icon:f,title:g,children:v,endElement:y,disabled:b,onClose:w,onOpen:S}=a;const C=(0,c.Z)();const x=o.includes(n);(0,s.useEffect)((()=>{if(!t.current){if(x&&S&&!b){S(n)}t.current=true}else if(t.current&&x&&S&&!b){S(n)}else if(t.current&&!x&&w&&!b){w(n)}}),[x,n]);const T=e=>{if(e.key==="Enter"&&!b){m(n)}};return(0,i.Z)("div",{className:u()(C.root,d.root,{[d.rootOpen]:x})},void 0,(0,i.Z)("div",{className:u()(C.header,d.header,{[d.headerOpen]:x,[d.headerDisabled]:b}),onClick:b?()=>null:()=>m(n),onKeyDown:T,role:"button",tabIndex:0},void 0,(0,i.Z)("span",{className:u()(C.icon,d.icon,{[C.iconOpen]:x&&!b,[d.iconOpen]:x})},void 0,f?f:(0,h.ifFeature)("encore",(0,i.Z)(p.IconV2,{name:"caret-right-solid",size:10}),(0,i.Z)(l.Z,{}))),(0,i.Z)("p",{className:u()(d.headerText,{[d.headerTextOpen]:x,[d.headerTextDisabled]:b})},void 0,g),y?y:null),x?(0,i.Z)("div",{className:u()(d.content,{[C.closed]:!x,[d.contentOpen]:x})},void 0,v):null)};const f=e=>{const{children:t,accordian:a}=e;const[i,o]=(0,s.useState)([]);const r=e=>{if(a){if(i.includes(e)){o([])}else{o([e])}}else{const t=i.findIndex((t=>t===e));if(t===-1){o((t=>[...t,e]))}else{o((e=>{const a=[...e];a.splice(t,1);return a}))}}};return n().createElement(n().Fragment,null,s.Children.map(t,(e=>{if((0,s.isValidElement)(e)){return(0,s.cloneElement)(e,{openKeys:i,handlePanelChange:r})}return e})))};f.Panel=m},97106:(e,t,a)=>{"use strict";a.d(t,{O:()=>c});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(1765);function c(e){const{classes:t="",fabricColorName:a="",iconName:n=""}=e;const i=l.colors[a]||l.colors.gray10;const r={fill:i};return(0,s.Z)("span",{className:t,style:r},void 0,(0,s.Z)(o.Icon,{name:n}))}},9771:(e,t,a)=>{"use strict";a.d(t,{_Z:()=>m,cT:()=>y});var s=a(89835);var n=a(23321);var i=a.n(n);function o(e){const{children:t,note:a}=e;return _jsx("div",{className:"fieldDiv"},void 0,_jsx("div",{className:"fab-InputWrapper"},void 0,t),a&&_jsx("span",{className:"fab-FormNote"},void 0,a))}var r=a(88604);function l(e){const{name:t,onAmountChange:a,onAmountBlur:s,value:n,inputProps:o={}}=e;const l={paddingRight:"45px"};return i().createElement("input",(0,r.Z)({className:"required requiredWhenVisible CurrencyPicker__input fab-TextInput fab-TextInput--width4",name:t,onBlur:s,onChange:a,style:l,type:"text"},o,{value:n}))}function c(e){let t=e%100;if(t<10){t="0"+t}return t}function d(e,t){for(let a=0;a<Math.floor((e.length-(1+a))/3);a++){e=e.substring(0,e.length-(4*a+3))+t+e.substring(e.length-(4*a+3))}return e}function u(e,t,a,s){if(!a){a=","}if(!s){s="."}function n(e){const n=new RegExp("[^-0-9.,]+","gi");let i="";if(a!==""){i=new RegExp("\\"+a,"gi")}e=e.replace(t.symbol,"").replace(n,"").replace(i,"");if(s===e[0]){e="0"+e}return Number(e.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"))}if(e===""){return e}e=n(e);if(isNaN(e)){e="0"}const i=e==(e=Math.abs(e));e=Math.floor(e*100+.50000000001);const o=c(e);e=Math.floor(e/100).toString();e=d(e,a);const r=t.symbolPosition?(i?"":"-")+e+s+o+t.symbol:(i?"":"-")+t.symbol+e+s+o;return r}function h(e){const t=(0,n.useRef)();(0,n.useEffect)((()=>{t.current=e}));return t.current}var p=a(73641);function m(e){const{defaultValue:t,name:a,selectedCurrencyItem:i,handleValueChange:o=p.noop,inputProps:r={}}=e;const[c,d]=(0,n.useState)(t?u(t,i,window.GLOBAL_THOUSANDS_SEPARATOR,window.GLOBAL_DECIMAL_CHAR):"");const m=h(i);const f=e=>{if(o&&typeof o==="function"){o(e)}};const g=(0,n.useCallback)(((e,t)=>{const a=u(e,t,window.GLOBAL_THOUSANDS_SEPARATOR,window.GLOBAL_DECIMAL_CHAR);d(a);f(a)}),[]);const v=e=>{g(e.target.value,i)};const y=e=>{d(e.target.value)};(0,n.useEffect)((()=>{if(m&&m.code!==i.code){g(c,i)}}),[i,m,c,g]);return(0,s.Z)(l,{inputProps:r,name:a,onAmountBlur:v,onAmountChange:y,value:c})}var f=a(60042);var g=a.n(f);var v=a(59155);function y(e){const{currencyCollection:t,disabled:a,name:o,onCurrencyCodeSelect:l,value:c,onMenuOpen:d=p.noop,onMenuClose:u=p.noop,renderToggle:h}=e;const[m,f]=(0,n.useState)(false);const y=()=>{f(true);if(d&&typeof d==="function"){d.call()}};const b=()=>{f(false);if(u&&typeof u==="function"){u.call()}};const w=(e,t)=>{let{isFocused:s}=e;if(h&&typeof h==="function"){return h({isFocused:s},t)}return i().createElement("button",(0,r.Z)({},t,{className:g()("fab-TextInput__button fab-TextInput__button--text fab-TextInput__button--right",{"fab-TextInput__button--focused":s}),disabled:a,tabIndex:"-1",type:"button"}),c)};const S=4;const C=(0,n.useMemo)((()=>{if(!m){return[]}const e=[{items:[],type:"group",key:"most_common"},{items:[],type:"group",key:"rest"}];t.forEach(((t,a)=>{const s=a<S?0:1;e[s].items.push({key:t.code,text:t.text||`${t.code} - ${t.name}`,value:t.code,isDisabled:t.isDisabled||false,data:t})}));return e}),[t,m]);return(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("div",{className:"ControlledCurrency__Menu--wrapper","data-currency-code":c},void 0,(0,s.Z)(v.Menu,{isDisabled:a,isOpen:m,items:C,onClose:b,onOpen:y,onSelect:l,placement:{align:"start",side:"bottom"},renderToggle:w,showSearch:"never"})),o&&(0,s.Z)("input",{className:"currencyType js-currency-picker-type",name:o,type:"hidden",value:c}))}function b(e){const{currencyCollection:t,inputNames:a,note:s,defaultValues:n}=e;const[i,o]=useState({code:n.currencyCode||"",symbol:n.currencySymbol||"",symbolPosition:0});const r=e=>{const a=t.find((t=>t.code===e.value));if(a){o(a)}};return _jsx(CurrencyPickerWrapper,{note:s},void 0,_jsx(AmountInput,{defaultValue:n.amount,name:a.amount,selectedCurrencyItem:i}),_jsx(ControlledCurrencyPickerMenu,{currencyCollection:t,name:a.currency,onCurrencyCodeSelect:r,value:i.code}))}},81993:(e,t,a)=>{"use strict";a.d(t,{Z:()=>L});var s=a(44119);var n=a(16400);var i=a(54752);var o=a(38592);var r=a(73641);var l=a.n(r);var c=a(4905);var d=a.n(c);var u=a(18047);var h=a.n(u);var p=a(56445);var m=a.n(p);var $=a(26570);var f,g,v,y,b,w,S,C,x,T,E,k,Z;const F=new WeakMap,I=new WeakMap,N=new WeakMap;let A;function M(e,t,a,s){const n=s.settings.aoColumns[s.col];if(n.type===undefined||n.type==="escape"){e=(0,o.htmlentities)(e)}if(n.type==="ba-html"){e=e.html}if(n.data==="employeeName"){return`<span class="js-employeeName" data-employeeId="${a.employeeId}">${e}</span>`}return e}function D(e,t,a,s){const n=s.settings.aoColumns[s.col];if(n.type==="ba-html"){e=e.value}return e}function P(e,t,a,s){const n=s.settings.aoColumns[s.col];e=D.call(this,e,"filter",a,s);if((0,r.isString)(n.data)&&!(0,r.isUndefined)(a[n.data+"__sort"])){return a[n.data+"__sort"]}return e}let L=(f=(0,i.on)("liszt:ready","td select"),g=(0,i.on)("DataTable:draw"),v=(0,i.on)("DataTable:activateFilters"),y=(0,i.on)("DataTable:changeFilters"),b=(0,i.on)("DataTable:applyFilters"),w=(0,i.on)("DataTable:resetFilters"),S=(0,i.on)("DataTable:showChildren"),C=(0,i.on)("DataTable:hideChildren"),x=(0,i.k5)(),T=(0,i.Um)(),E=(0,i.ZG)("tbody td :input"),k=(0,i.Y5)("tbody td :input"),Z=class e{static get className(){return"DataTable"}static get className(){return"DataTable"}static get className(){return"DataTable"}onChosenReady(e,t){clearTimeout(A);A=setTimeout((function(){t.adjustColumns()}),10)}get config(){return F.get(this)}get DataTable(){return this.$container.DataTable()}constructor(e,t){var a=this;(0,s.Z)(this,"$filters",this.$elem.find(".DataTable__filters"));(0,s.Z)(this,"$filterButtons",this.$filters.find(".DataTable__filter-buttons"));(0,s.Z)(this,"$container",this.$elem.find(".DataTable__container"));this.$elem.trigger("DataTable:config",this);const n=this.$elem.data("DataTable:config")||{};var i=(0,r.defaultsDeep)({headerCallback:function(e){$("th",e).each(((e,t)=>{const s=$(t);const n=a.config.columns[e];const i=n.orderable!==false;s.addClass("fab-Table__header").toggleClass("fab-Table__header--sortable",i).removeClass("fab-Table__cell").removeAttr("style");if(i){setTimeout((()=>{const e=s.hasClass("sorting_asc");const a=s.hasClass("sorting_desc");s.removeClass("sorting sorting_asc sorting_desc");const n=$(t.querySelector(".js-DataTable__sortWrap")||s.wrapInner('<span class="js-DataTable__sortWrap" />')[0].firstChild);n.toggleClass(`fab-Table__sorted`,e||a).toggleClass(`fab-Table__sorted--asc`,e)}),0)}}));$(e).removeAttr("style");if(typeof n.headerCellCallback==="function"){Array.from(e.querySelectorAll("th")).forEach(((e,t)=>{const s=a.config.columns[t];n.headerCellCallback(e,s,a.config)}))}if(typeof n.headerCallback==="function"){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++){s[i-1]=arguments[i]}return n.headerCallback(e,...s,a.config)}}},n,{paging:false,pagingType:"simple_numbers",pageLength:250,data:this.$elem.data("DataTable:data")||(0,o.getJsonScriptVar)("data",t),columns:this.$elem.data("DataTable:columns")||(0,o.getJsonScriptVar)("columns",t),ajax:null,scrollX:true,scrollCollapse:true,searching:true,info:false,ordering:false,orderClasses:false,autoWidth:false,dom:'tr<"DataTable__pagination"ip>',columnDefs:[],cellPlaceholder:"-",deferRender:true,infoCallback:(e,t,a,s,n,i)=>$.__(`%1$s-%2$s of %3$s`,t,a,n),language:{paginate:{previous:"&laquo; "+$.__("Prev"),next:$.__("Next")+" &raquo;"}}});var l=i.initComplete;var c=i.ajax;var d=i.rowCallback;i.columnDefs.push({targets:"_all",render:{display:M.bind(this),filter:D.bind(this),sort:P.bind(this)}});i.initComplete=()=>{N.set(this,this.DataTable.order());if((0,r.isFunction)(l)&&l.call(this)===false){return}let e=this.$elem.find(".dataTables_scrollBody");e.on("scroll",(function(){let t=e[0].scrollLeft,s=e[0].scrollTop,n=t/(e[0].scrollWidth-e[0].clientWidth),i=s/(e[0].scrollHeight-e[0].clientHeight);a.$elem.toggleClass("DataTable--scrolled-left",t>0);a.$elem.toggleClass("DataTable--scrolled-right",n<1);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++){r[l]=arguments[l]}a.$elem.trigger("DataTable:scroll",r)}));let t=[];this.$filters.find(":input, ba-select").each((function(){let e=$(this);t.push({$elem:e,val:e.val()})}));I.set(this,t)};i.columns=i.columns.map(((e,t)=>{if((0,r.isUndefined)(e.title)&&(0,r.isString)(e.label)){e.title=e.label}if((0,r.isUndefined)(e.name)&&(0,r.isString)(e.data)){e.name=e.data}else if((0,r.isString)(e.name)&&(0,r.isUndefined)(e.data)){e.data=e.name}if((0,r.isFunction)(i.processColumn)){e=i.processColumn.call(this,e,t,i.columns)||e}e.className=(0,r.uniq)((e.className||"").split(" ").map((e=>"DataTable__cell--"+e.replace(/^DataTable__cell--/,""))).concat(["DataTable__cell fab-Table__cell"]).concat((0,r.isString)(e.name)?[`DataTable__cell--${e.name}`]:[]).concat((0,r.isString)(e.data)?[`DataTable__cell--${e.data}`]:[]).concat((0,r.isString)(e.type)?[`DataTable__cell--${e.type}`]:[]).filter((e=>e!=="DataTable__cell--"))).join(" ");return e}));i.ajax={};if((0,r.isString)(c)){i.ajax.url=c}else if((0,r.isPlainObject)(c)){i.ajax.url=c.url}if((0,r.isString)(i.ajax.url)){i.ajax.dataSrc=e=>{if((0,r.isFunction)(c.dataSrc)){e=c.dataSrc(e)}if((0,r.isArray)(e.activeColumns)){this.DataTable.columns().every((function(){this.visible((0,r.includes)(e.activeColumns,this.dataSrc()))}));this.toggleProcessing(false)}return e.data}}else{i.ajax=null}i.rowCallback=(e,t,a)=>{$(e).addClass("fab-Table__row").removeClass("even odd").removeAttr("style");if((0,r.isFunction)(d)&&d.call(this,e,t,a)===false){return}let s=this.DataTable.row(e);let n=(t.children||[]).map((e=>{let t=$('<tr class="DataTable__row--child"/>'),a=this.config.cellPlaceholder;this.DataTable.columns().every((function(){if(this.visible()){t.append(`<td>${e[this.dataSrc()]||a}</td>`)}}));return t}));s.child(n).show()};if(!i.scrollX&&!i.scrollY){this.$elem.addClass("DataTable--noScroll")}F.set(this,i);this.$elem.data("DataTable:config",this.config);["draw","error","init","order","preInit","column-sizing","length"].forEach((e=>{this.$container.on(`${e}.dt`,(function(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++){n[i-1]=arguments[i]}a.$elem.trigger(`DataTable:${e}`,n)}))}));this.$filters.on("click.DataTable:activateFilters",(function(e){if($(e.target).closest(".DataTable__filter-buttons").length<1){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++){s[n-1]=arguments[n]}a.$elem.trigger("DataTable:activateFilters",s)}})).on("change.DataTable:changeFilters",":input, ba-select",(function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++){s[n-1]=arguments[n]}a.$elem.trigger("DataTable:changeFilters",s)})).on("click.DataTable:applyFilters",".DataTable__apply-filters",(function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++){s[n-1]=arguments[n]}a.$elem.trigger("DataTable:applyFilters",s);a.draw()})).on("click.DataTable:resetFilters",".DataTable__reset-filters",(function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++){s[n-1]=arguments[n]}a.$elem.trigger("DataTable:resetFilters",s)})).on("EmployeeFilters:update",(function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++){s[n-1]=arguments[n]}a.$elem.trigger("DataTable:changeFilters",s)}));this.$elem.on("DataTable:preInit DataTable:length",(()=>{let{pages:e}=this.DataTable.page.info();this.$elem.toggleClass("DataTable--singlePage",e<=1)}));this.$container.dataTable(this.config);$(".fab-Table--zebra").removeAttr("style")}onDrawTable(e,t,a){var s=a._oFixedColumns&&a._oFixedColumns.s&&a._oFixedColumns.s.iLeftColumns>0;var n=a._oFixedColumns&&a._oFixedColumns.s&&a._oFixedColumns.s.iRightColumns>0;t.$elem.toggleClass("DataTable--hasLeftColumns",s);t.$elem.toggleClass("DataTable--hasRightColumns",n);if(!n){t.$elem.find(".DTFC_ScrollWrapper .DTFC_RightHeadBlocker").css({height:t.$elem.find((0,p.ifFeature)("encore",".DTFC_LeftHeadWrapper .DataTable__container",".dataTables_scrollHead thead")).height()-(0,p.ifFeature)("encore",0,2)});var i=t.$elem.find(".dataTables_scrollBody");if(i.length>0&&i[0].scrollHeight<=i[0].clientHeight){t.$elem.find(".DTFC_RightWrapper").css({width:0,"max-width":0})}}}onActivateFilters(e,t){t.$filters.addClass("DataTable__filters--active")}onChangeFilters(e,t){t.$filters.addClass("DataTable__filters--active")}onApplyFilters(e,t){t.toggleProcessing(true);t.$filters.find(':input[name^="DataTable:"], ba-select[name^="DataTable:"]').each(((e,a)=>{let s=$(a),n=t.getColumn(s.attr("name")),i=$.fn.dataTable.util.escapeRegex(s.val());n.search(i?`^${i}$`:"",true,false)}));t.$filters.removeClass("DataTable__filters--active")}onResetFilters(e,t){t.toggleProcessing(true);(0,r.each)(I.get(t),(e=>{e.$elem.val(e.val).trigger("liszt:updated")}));t.$filters.find(".EmployeeFilters").trigger("EmployeeFilters:clear");t.$elem.trigger("DataTable:applyFilters",t)}onShowChildren(e,t){t.disableSort();t.$elem.addClass("DataTable--show-children")}onHideChildren(e,t){t.enableSort();t.$elem.removeClass("DataTable--show-children")}windowResized(e,t){t.adjustColumns()}onReady(e,t){t.adjustColumns()}onFieldFocus(e,t){var a=$(this).closest("tr").index();t.$elem.find("tbody tr").each(((e,t)=>{$(t).toggleClass("DataTable__row--active",$(t).index()==a)}))}onFieldBlur(e,t){t.$elem.find("tbody tr").removeClass("DataTable__row--active")}getColumns(){return this.DataTable.columns()}getColumn(e){if((0,r.isString)(e)&&!(0,r.includes)(e,":")){e+=":name"}return this.DataTable.column(e)}getRowDataFromElem(e){var t=$(e).closest("tr"),a=this.DataTable.row(t);return a.data()}adjustColumns(){this.DataTable.columns.adjust();this.draw();return this}enableSort(){this.resetSort();this.$elem.removeClass("DataTable--no-sort");return this}disableSort(){let e=this.getColumns().toArray()[0].map((e=>[e,"asc"]));this.DataTable.order.fixed({pre:e,post:e});this.draw();this.$elem.addClass("DataTable--no-sort");return this}resetSort(){this.DataTable.order.fixed({});this.DataTable.order(N.get(this));this.draw();return this}toggleProcessing(e){var t="DataTable--processing",a=this.$elem.hasClass(t),s;this.$elem.toggleClass(t,e);s=this.$elem.hasClass(t);if(s!==a){this.$elem.trigger(`DataTable:process${s?"ing":"ed"}`)}}draw(){this.DataTable.draw();return this}reloadData(e,t,a){this.DataTable.ajax.url(e||this.DataTable.ajax.url()).load(t,a);return this}order(){if(arguments.length<1){return this.DataTable.order().map((e=>this.config.columns[e[0]].name+":"+e[1]))}this.DataTable.order(...arguments)}},(0,n.Z)(Z.prototype,"onChosenReady",[f],Object.getOwnPropertyDescriptor(Z.prototype,"onChosenReady"),Z.prototype),(0,n.Z)(Z.prototype,"onDrawTable",[g],Object.getOwnPropertyDescriptor(Z.prototype,"onDrawTable"),Z.prototype),(0,n.Z)(Z.prototype,"onActivateFilters",[v],Object.getOwnPropertyDescriptor(Z.prototype,"onActivateFilters"),Z.prototype),(0,n.Z)(Z.prototype,"onChangeFilters",[y],Object.getOwnPropertyDescriptor(Z.prototype,"onChangeFilters"),Z.prototype),(0,n.Z)(Z.prototype,"onApplyFilters",[b],Object.getOwnPropertyDescriptor(Z.prototype,"onApplyFilters"),Z.prototype),(0,n.Z)(Z.prototype,"onResetFilters",[w],Object.getOwnPropertyDescriptor(Z.prototype,"onResetFilters"),Z.prototype),(0,n.Z)(Z.prototype,"onShowChildren",[S],Object.getOwnPropertyDescriptor(Z.prototype,"onShowChildren"),Z.prototype),(0,n.Z)(Z.prototype,"onHideChildren",[C],Object.getOwnPropertyDescriptor(Z.prototype,"onHideChildren"),Z.prototype),(0,n.Z)(Z.prototype,"windowResized",[x],Object.getOwnPropertyDescriptor(Z.prototype,"windowResized"),Z.prototype),(0,n.Z)(Z.prototype,"onReady",[T],Object.getOwnPropertyDescriptor(Z.prototype,"onReady"),Z.prototype),(0,n.Z)(Z.prototype,"onFieldFocus",[E],Object.getOwnPropertyDescriptor(Z.prototype,"onFieldFocus"),Z.prototype),(0,n.Z)(Z.prototype,"onFieldBlur",[k],Object.getOwnPropertyDescriptor(Z.prototype,"onFieldBlur"),Z.prototype),Z)},11627:(e,t,a)=>{"use strict";var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(81924);function c(e){const{data:t,fabricSettings:a,onHide:n,onSelect:r,onShow:c,settings:d={}}=e;if(a){return i().createElement(o.Dropdown,a)}const{anchor:u,disabled:h,listPosition:p=""}=d;const m={anchor:u,isDisabled:h,onSelect:(e,t)=>{let{item:a}=t;return r(e,a)},onOpen:c,onClose:n,showSearch:"auto",placement:(0,l.hb)(p)};return i().createElement(o.Dropdown,(0,s.Z)({},m,{buttonSettings:{icon:t.icon?t.icon.name:"",text:t.displayText?t.displayText:""},items:t.items.map(l.r9)}))}t["Z"]=c},45673:(e,t,a)=>{"use strict";a.d(t,{Kx:()=>c});const s="";function n(){let{maxLength:e=null,minLength:t=null,replaceInvalidCharacters:a=true,nonMatchingRegExp:n=/\W/g,matchingRegularExpression:i=/\w/}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};function o(){let o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:s;if(o===s&&t===null){return[i]}let l=o;if(e&&typeof e==="number"){l=l.slice(0,e)}l=a?l.replace(n,s):l;if(t&&typeof t==="number"){const e=l.length;if(e<t){for(let a=e;a<t;a++){l+="9"}}}return r(l)}function r(e){return e.split(s).map((e=>i.test(e)?i:e))}o.instanceOf="createDynamicMask";return o}function i(){let{maxLength:e=null,minLength:t=null,replaceInvalidCharacters:a=true}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return n({maxLength:e,minLength:t,replaceInvalidCharacters:a,nonMatchingRegExp:/\D+/g,matchingRegularExpression:/\d/})}function o(){let{maxLength:e=null,minLength:t=null,replaceInvalidCharacters:a=true}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return n({maxLength:e,minLength:t,replaceInvalidCharacters:a,nonMatchingRegExp:/[^A-Za-z0-9]+/g,matchingRegularExpression:/[A-Za-z0-9]/})}const r=i({replaceInvalidCharacters:false});const l=o({replaceInvalidCharacters:false});const c={"ssn-field":r("999-99-9999"),"ssn-field-sensitive":l("999-99-9999"),"sin-field":r("999-999-999"),"sin-field-sensitive":l("999-999-999"),"nin-field":l("ss ss ss ss s"),"national-id-field":o({minLength:6,maxLength:16}),validatePassportNumber:o({maxLength:20}),"cc-expiration-field":r("99/99")}},26297:(e,t,a)=>{"use strict";a.d(t,{di:()=>ji,F3:()=>pn,Iv:()=>fn,Ll:()=>eo,Ti:()=>Oi,kr:()=>$i,U7:()=>Nn,Lk:()=>r,wu:()=>so,I:()=>Bi,qH:()=>Vi,ID:()=>Gi,N2:()=>Qi,FX:()=>Ji,bl:()=>Ki,oU:()=>Xi,C3:()=>Mn,Nu:()=>ho,Lt:()=>jn,zW:()=>Io,mb:()=>Hi,by:()=>Dn,rz:()=>zi,B1:()=>Ln,bw:()=>Eo,II:()=>Wi,Ly:()=>qi,Gj:()=>ro,Dn:()=>io,IB:()=>oo,wx:()=>Pn,Pr:()=>xo,Wc:()=>An,cR:()=>On,q9:()=>In,GS:()=>To,pn:()=>Bn,CU:()=>qa,JJ:()=>Ri,Fx:()=>no,HZ:()=>po,gW:()=>to,YT:()=>lo,Ub:()=>qn});var s={};a.r(s);a.d(s,{FieldBox:()=>M,FieldDiv:()=>F,FieldGroup:()=>k,FieldRow:()=>T,FieldSet:()=>C,OneEmailRequiredFieldGroup:()=>H,PassportFieldSet:()=>R,PayrollFieldSet:()=>L,TaxDocumentDeliveryFieldSet:()=>K});var n={};a.r(n);a.d(n,{CheckboxField:()=>J,CheckboxList:()=>ee,CurrencyField:()=>re,CurrencyOvertimeRateField:()=>ce,DateField:()=>pe,Documents:()=>Fe,EmployeeAccess:()=>Ha,EmploymentStatusNote:()=>Ae,FallbackDiv:()=>Be,Form:()=>Ue,GenderIdentity:()=>Ve,GenderPronouns:()=>Ge,GenderSelect:()=>Qe,HiddenInput:()=>tt,InformationField:()=>st,Label:()=>it,Legend:()=>Et,Note:()=>Zt,PayScheduleNote:()=>Nt,SelectEmploymentStatusField:()=>Lt,SelectField:()=>Rt,SelectOvertimeStatusField:()=>$t,SelectPaidPerField:()=>jt,SelectPayGroupField:()=>qt,SelectPayRateField:()=>Ut,SelectPayScheduleField:()=>Yt,SelectPayTypeField:()=>Gt,SelectStandardCountryField:()=>Jt,SensitiveTextField:()=>ta,StaticTemplate:()=>na,TablesDirectDepositElement:()=>Oa,TablesEmployeeTaxInformationElement:()=>Ya,TextField:()=>fa,TextHoverField:()=>va,TextIconField:()=>Aa,TextMaskedField:()=>pa,TextareaField:()=>oa});var i={};a.r(i);a.d(i,{DependentGroup:()=>ks,DependentRepeatContainer:()=>js,EducationGroup:()=>is,EducationRepeatContainer:()=>cs,EmergencyContactGroup:()=>bs,EmergencyContactRepeatContainer:()=>Cs,RepeatingContainer:()=>qs});var o={};a.r(o);a.d(o,{HoverAction:()=>an,HoverBase:()=>Us,HoverEmail:()=>Ys,HoverLink:()=>en,HoverMap:()=>Xs,PendingRequest:()=>rn});var r={};a.r(r);a.d(r,{baseDateValidation:()=>Vn,checkEmailExists:()=>si,currencyTypeMatch:()=>Un,invalidPayrollOption:()=>ui,maxLengthSelect:()=>xi,noLeadingZeros:()=>mi,onePrimaryContact:()=>_i,uniqueEmployeeNumber:()=>oi,validateDateBetween:()=>zn,validateDateField:()=>Kn,validateDateFrom_to:()=>Qn,validatePaidPerTrax:()=>yi,validatePayRatePaidPer:()=>bi,validatePaySchedule:()=>Ci,validateSocialId:()=>Zi,validateSocialSecurity:()=>Ii,validateTaxInformation:()=>Pi,validateUSZipTrax:()=>Mi,valueGreaterThanZero:()=>di});var l=a(88604);var c=a(23321);var d=a.n(c);var u=a(59155);var h=a(38592);const p=e=>{let t=e;const a=$i({formData:e});const s=Ki(a,{selector:"props.className",value:"oneEmailRequired"});if(s){const e=Ji(a,s.props.id,{selector:"type",value:"FieldGroup"});if(e){t=lo(e.props.id,"OneEmailRequiredFieldGroup",t)}}return t};const m=e=>{const t=e;const a=$i({formData:e});const s=Vi(a,{selector:"key",value:":idx:",match:"includes"},{selector:"type",value:"SelectStandardCountryField",match:"exact"},{selector:"settings.isCustomField",value:false,match:"exact"});const n=Object.keys(s);if(n.length){n.forEach((e=>{const s=t[e];const n=Ji(a,e,{selector:"type",value:"FieldGroup"});if(n){const e=Qi(a,n?.props?.id,{selector:"props.data-csz",value:"state"},{selector:"settings.isCustomField",value:false,match:"exact"});const t=Qi(a,n?.props?.id,{selector:"props.data-csz",value:"postal_code"},{selector:"settings.isCustomField",value:false,match:"exact"});const i=Object.keys(e);if(i.length){const e=i[0];s.props["data-state-field-id"]=e}const o=Object.keys(t);if(o.length){const e=o[0];s.props["data-zip-field-id"]=e}}}))}return t};const f=e=>{let t=e;t=p(t);t=m(t);t.memoizeKey=(0,h.makeUid)();return t};const g=()=>!window.BambooHR.env.prod||(0,h.getParameterByName)("debugdf");const v=e=>{if(g()){window.debugDynamicForm={downloadFormData:()=>{const t=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e.formData))}`;const a=document.createElement("a");a.setAttribute("href",t);a.setAttribute("download",`dynamicFormData.json`);a.click();a.remove()},validationObjects:{},context:e};const t=e=>{e.stopPropagation();e.preventDefault()};const a=e=>{t(e);const a=e.dataTransfer;const{files:n}=a;s(n)};const s=async t=>{const a=t[0];const s=new FileReader(a);s.readAsText(a);s.onload=async t=>{const a=t.target.result;try{const t=await JSON.parse(a);e.setFormData(t)}catch(t){console.warn("unable to upload data",t)}}};const n=document.querySelector(".PageHeader");if(n){n.addEventListener("dragenter",t,false);n.addEventListener("dragover",t,false);n.addEventListener("drop",a,false)}}};const y=(e,t)=>{if(g()&&window.debugDynamicForm&&e?.props?.id){window.debugDynamicForm.validationObjects[e?.props?.id]=t}};var b=a(89835);var w=a(56445);const S=e=>{const{props:t,children:a}=e;const{className:s=""}=t;return(0,w.ifFeature)("encore",(0,b.Z)(u.LayoutBox,{marginTop:3},void 0,(0,b.Z)(u.Section,{},void 0,d().createElement("fieldset",(0,l.Z)({},t,{className:`${s}`}),a))),d().createElement("fieldset",(0,l.Z)({},t,{className:`fab-FormSection ${s}`}),a))};var C=S;const x=e=>{let{props:t,settings:a,context:s,children:n}=e;const{className:i="",id:o}=t;const{controls:{Label:r},validation:{formState:{errors:c}}}=s;const{label:u}=a;const h=i.includes("required")||i.includes("requiredWhenVisible");const p=Object.keys(c).length?Ln(s,c,o):null;return d().createElement("div",(0,l.Z)({},t,{className:`fieldRow DynamicForm__FieldRow ${i}`}),(0,b.Z)(r,{label:u,required:h}),n,!!p&&(0,b.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,p.message))};var T=x;const E=e=>{let{props:t,children:a}=e;const{className:s=""}=t;return d().createElement("div",(0,l.Z)({},t,{className:`fieldGroup ${s}`}),a)};var k=E;const Z=e=>{let{customClasses:t="",isObfuscated:a=false,type:s,children:n}=e;if(a){t+=`js-input-obfuscated FormInputObfuscated FormInputObfustcated--${s}`}return(0,b.Z)("div",{className:`fieldDiv ${t}`},void 0,n)};var F=Z;var I=a(60042);var N=a.n(I);const A=e=>{let{fieldBoxClasses:t="",children:a,id:s=null,isRequired:n=null}=e;const i=n===null?t:t.replace(/(?:^|\s)required(?!\S)/,"");const o=N()("fieldBox","DynamicForm__fieldBox",{required:n},i);return(0,b.Z)("div",{className:o,id:s},void 0,a)};var M=A;const D=3;const P=e=>{const{props:t,children:a,context:s}=e;const{className:n=""}=t;const[i,o]=(0,c.useState)(false);const r=To(s);const u=zi(s,fn.employeeTaxType);const h=qi(u);(0,c.useEffect)((()=>{if(r){if(h&&h!==D.toString()){o(true);return}}o(false)}),[r,h]);(0,c.useEffect)((()=>{if(i){setTimeout((()=>{ho(s)}),10)}}),[i]);return d().createElement("fieldset",(0,l.Z)({},t,{className:`fab-FormSection ${n} ${i?"":"hidden"}`}),a)};var L=P;const O=e=>{const{props:t,children:a,context:s}=e;const{setFormData:n,formData:i,validation:{trigger:o}}=s;const{className:r="",id:u}=t;const[h,p]=(0,c.useState)(false);const m=(0,c.useRef)([]);const{current:f}=m;const g={selectEmployeePassportIssuingCountry:"selectEmployeePassportIssuingCountry",textEmployeePassportNumber:"textEmployeePassportNumber",textEmployeePassportIssuedDate:"textEmployeePassportIssuedDate",textEmployeePassportExpirationDate:"textEmployeePassportExpirationDate"};(0,c.useEffect)((()=>{const e=Qi(s,u,{selector:"key",value:"field"});m.current=Object.keys(e)}),[]);const v=f.map((e=>{const t=i[e];return t?.props?.value||qi(t)||""})).join("");(0,c.useEffect)((()=>{if(v.length){p(true)}else{p(false)}}),[v]);(0,c.useEffect)((()=>{if(f.length&&s.form.isAddEmployeeForm){const e=[];const t={};f.forEach((a=>{const s=i[a];if(g[s.settings.token]){if(!s.settings.validation){s.settings.validation={}}s.settings.validation.requiredWhenVisible=h;e.push(s.props.name);t[s.props.id]=s}}));n((e=>({...e,...t})));if(!h&&e.length){setTimeout((()=>{o(e)}),10)}}}),[h]);return d().createElement("fieldset",(0,l.Z)({},t,{className:`fab-FormSection ${r}`}),a)};var R=O;var $=a(26570);const B="oneEmailRequiredGroup";const j=e=>{let{props:t,children:a,context:s}=e;const{className:n=""}=t;const{validation:{register:i,setValue:o,formState:{errors:r},getValues:u,clearErrors:p},controls:{Label:m}}=s;const f=zi(s,qa.employeeAccess);const g=Gi(s,{selector:"props.className",value:"oneEmailRequired"});const v=Object.keys(g);const y=f?.props?.value==="enabled"||(0,h.hasTrax)();const w=v.length==2;const S=v.some((e=>g[e]?.settings?.validation?.requiredWhenVisible));const C=v.map((e=>g[e]?.props?.value||"")).join("");const x=Pn(r,B);const T=y&&w&&!S;i(B,{required:T});(0,c.useEffect)((()=>{o(B,"")}),[]);(0,c.useEffect)((()=>{if(!T&&x){p(B)}}),[T]);(0,c.useEffect)((()=>{if(u(B)!==C){o(B,C,{shouldValidate:true})}}),[C]);const E=N()("fieldGroup",n,{"DynamicForm__OneEmailRequired--error":x,"DynamicForm__OneEmailRequired--required":T});return d().createElement("div",(0,l.Z)({},t,{className:E}),T&&(0,b.Z)(m,{error:x,label:$.__("Email"),required:T},void 0,(0,b.Z)("span",{},void 0," ",$.__("(One Email Required)"))),(0,b.Z)("div",{className:"DynamicForm__OneEmailRequired__wrapper"},void 0,a))};var H=j;var q=a(26570);const W=()=>(0,b.Z)("div",{className:"FormInputObfuscateWrapper FormInputObfuscateWrapper--insideFieldset"},void 0,(0,b.Z)("ba-icon",{className:"FormInputObfuscateIcon",name:"lock-8x11"}),q.__(`You don't have access to view the information in this section.`));var U=W;var z=a(26570);const V=()=>(0,b.Z)(u.RadioGroup,{ariaLabel:z.__("Tax Document Delivery"),items:[{id:"paperless",label:z.__(`Paperless - I prefer to download and print my year end tax documents (W2 or 1099) by logging into BambooHR.`),value:"false"},{id:"paper",label:z.__(`Paper - I'd like to have a paper copy of my year end tax documents (W2 or 1099) mailed to my home address.`),value:"true"}],name:"paperTaxDocuments",onChange:()=>1,value:"false"});var Y=V;const G=e=>{const{props:t,children:a,settings:s}=e;const{className:n=""}=t;return d().createElement("fieldset",(0,l.Z)({},t,{className:`fab-FormSection ${n}`}),a,s.isObfuscated===true&&(0,b.Z)(U,{}),s.isObfuscated!==true&&(0,b.Z)(Y,{}))};var K=G;const X=e=>{const{props:t,settings:a,context:s}=e;const{id:n,className:i,"data-checkbox_id":o,name:r,checked:u}=t;const{label:h,fieldBoxClasses:p,withContainer:m=false,inCheckboxGroup:f,labelProps:g={}}=a;const{controls:{Label:v,FieldBox:y,FieldDiv:w,PendingRequest:S},validation:{setValue:C,getValues:x,register:T,formState:{errors:E}}}=s;const k=Mn(r);const Z=Pn(E,k);T(k,{...jn(s,e)});(0,c.useEffect)((()=>{C(k,u)}),[]);const F=e=>{let t=x(o)||"";t=t.replace(r,"");if(e){t+=r}C(o,t,{shouldValidate:true,shouldDirty:true})};const I=e=>{io("checkbox",n,e.target.checked,s);if(f&&o){F(e.target.checked)}C(k,e.target.checked)};const A=N()(i,"fab-Checkbox__input",{"fab-Checkbox__input--error":Z});const M=N()("fab-Checkbox__label",{"fab-Checkbox__label--error":Z});const D=(0,b.Z)("div",{className:"fab-Checkbox js-formField DynamicForm__Checkbox"},void 0,(0,b.Z)(S,{context:s,props:t,settings:a}),d().createElement("input",(0,l.Z)({type:"checkbox"},t,{className:A,onChange:I})),(0,b.Z)(v,{inputId:n,label:h,labelClasses:M,labelProps:g}));const P=(0,b.Z)(y,{fieldBoxClasses:p},void 0,(0,b.Z)(w,{},void 0,D));const L=()=>{if(m){return P}if(f){return D}return(0,b.Z)(y,{fieldBoxClasses:p},void 0,D)};return L()};var J=X;const Q=e=>{const{settings:t,context:a,children:s,props:n}=e;const{id:i,name:o}=n;const{label:r,fieldBoxClasses:l}=t;const{controls:{Legend:d,FieldBox:u},validation:{register:h,setValue:p}}=a;const m=`checkbox_${o}`;(0,c.useEffect)((()=>{p(m,"")}),[]);const f=In(a,e);const g=s.findIndex((e=>e?.props?.props?.checked===true))===-1;h(m,{required:f&&g});const v=N()("fab-CheckboxGroup__legend",{"fab-CheckboxGroup__legend--required":f,"fab-CheckboxGroup__legend--error":f&&g});const y={className:v,id:`${i}-checkbox-legend`};return(0,b.Z)(u,{fieldBoxClasses:l,id:i},void 0,(0,b.Z)("fieldset",{className:"fab-CheckboxGroup"},void 0,r&&(0,b.Z)(d,{context:a,props:y,settings:{label:r}}),s))};var ee=Q;var te=a(9771);var ae=a(17842);var se=a.n(ae);const ne=(e,t)=>{const a=(0,c.useRef)(true);(0,c.useEffect)((()=>{let t=()=>{};if(a.current){a.current=false}else{t=e()}if(t&&typeof t==="function"){return t}}),t)};var ie=a(26570);const oe=e=>{const{props:t,settings:a,context:s}=e;const{controls:{TextField:n,PendingRequest:i},validation:{formState:{errors:o},register:r,setValue:h,trigger:p}}=s;const{disabled:m,readOnly:f,name:g,id:v,value:y,className:S}=t;const{currency:C}=a;const x=!!m;const[T,E]=(0,c.useState)([]);const[k,Z]=(0,c.useState)(C);const[F,I]=(0,c.useState)(y);const A=Mn(g);const M=Pn(o,A);r(A,{...jn(s,e),required:In(s,e)});(0,c.useEffect)((()=>{h(A,y);D()}),[]);ne((()=>{if(C.code!==k.code){io("currency-object",v,k,s);setTimeout((()=>{p(A)}),1)}}),[k]);ne((()=>{io("text",v,F.toString(),s)}),[F]);const D=()=>{let e=null;let t=null;const a=To(s);if(a&&(S.includes(fn.overtimeRate)||S.includes(fn.payRate))){e=Nn();t=Eo(s)}se().get("/ajax/get_currency",{field:v,employeeId:e,payScheduleId:t}).then((e=>{if(e.data&&e.data.data&&Array.isArray(e.data.data)){E(e.data.data)}})).catch((()=>{window.setMessage(ie.__("There was a problem getting the currency list"),"error")}));E([{text:ie.__("Loading..."),code:"TMP",key:"tempLoading",isDisabled:true}])};const P=()=>{E([])};const L=e=>{Z(e.data)};const O=(e,t)=>d().createElement("button",(0,l.Z)({},t,{className:`fab-TextInput__button fab-TextInput__button--text ${x?"CurrencyPicker__button--disabled":""}`,disabled:m||f,tabIndex:-1,type:"button"}),k.code);const R=e=>{I(e);h(A,e,{shouldDirty:true,shouldValidate:true})};const B=e=>{let{amount:t,currencyCode:a}=e;I(t);Z(T.find((e=>e.code===a)));h(A,t,{shouldDirty:true,shouldValidate:true})};const j={...t,className:N()(S,{"fab-TextInput--error":M,"fab-TextInput--disabled":m||f}),...(m||f)&&{readonly:String(m||f)},value:F};const H=d().createElement(d().Fragment,null,(0,b.Z)(u.CurrencyPickerProvider,{currencyCode:k.code,decimalCharacter:".",getCurrencyItems:()=>Promise.resolve(T),thousandsSeparator:","},void 0,(0,b.Z)(u.CurrencyField,{id:j.id,name:g,onChange:e=>B({amount:e.amount,currencyCode:e.currencyCode}),value:{amount:F.toString(),currencyCode:k.code},size:"medium",width:6,disabled:m||f}),g&&(0,b.Z)("input",{className:"currencyType js-currency-picker-type",name:g.replace("[0]","[1]"),type:"hidden",value:k.code})));const q=d().createElement(d().Fragment,null,(0,b.Z)(te._Z,{defaultValue:F,handleValueChange:R,inputProps:j,name:g,selectedCurrencyItem:k}),(0,b.Z)(te.cT,{currencyCollection:T,disabled:m||f,name:g.replace("[0]","[1]"),onCurrencyCodeSelect:L,onMenuClose:P,onMenuOpen:D,renderToggle:O,value:k.code}));return(0,b.Z)(n,{context:s,input:(0,b.Z)("div",{className:`CurrencyPicker ${x?"CurrencyPicker--pending":""}`},void 0,(0,b.Z)("div",{className:"fab-InputWrapper"},void 0,(0,b.Z)(i,{context:s,props:t,settings:a}),(0,w.ifFeature)("encore",H,q))),props:t,settings:a})};var re=oe;const le=e=>{const{props:t,settings:a,context:s}=e;const{controls:{CurrencyField:n}}=s;const{[fn.overtimeRate]:{note:i,show:o}}=Io(s);return o&&(0,b.Z)(n,{context:s,props:t,settings:{...a,note:{text:i,type:"base"}}})};var ce=le;var de=a(34914);var ue=a(26570);const he=e=>{const{props:t,settings:a,context:s}=e;const{controls:{TextField:n,PendingRequest:i},validation:{formState:{errors:o},register:r,setValue:l}}=s;const{value:d,className:h,...p}=t;const{name:m,disabled:f}=p;const g=/\d\d\d\d-\d\d-\d\d/g;const v=d?d.toString():"";const y=d&&!d.toString().match(g)?(0,de.formatISO)((0,de.parse)(d.toString(),window.dateFnsDefaultFormat,new Date),{representation:"date"}):v;const[w,S]=(0,c.useState)(y);const C=In(s,e);const x=Mn(m);const T=Pn(o,x);r(x,{...jn(s,e),required:C});(0,c.useEffect)((()=>{l(x,y)}),[]);ne((()=>{const e=w?w:"";io("text",t.id,e.toString(),s);l(x,e,{shouldDirty:true,shouldValidate:true})}),[w]);const E=e=>{if(!(0,de.isValid)(new Date(e))){a.note=null;return}const t=(0,de.differenceInYears)(new Date,new Date(e));a.note={text:ue.__("Age: %1",t),type:"base"}};const k=e=>{const{value:t}=e;S(t);if(a.token==="textEmployeeBirthDate"){E(t)}};const Z=new Date(`${w}T00:00:00`);return(0,b.Z)(n,{context:s,input:(0,b.Z)("div",{className:"dateFieldWrapper"},void 0,(0,b.Z)(i,{context:s,props:t,settings:a}),(0,b.Z)(u.DatePicker,{disabled:!!f,id:t.id,onChange:k,required:C,status:T?"error":undefined,value:w}),(0,b.Z)("input",{name:m,type:"hidden",value:(0,de.isValid)(Z)?(0,de.format)(Z,window.dateFnsDefaultFormat):""})),props:t,settings:a})};var pe=he;function me(e){return se().get(`/employees/files/covid_documents/${e}`)}function fe(e,t){const a=new FormData;a.append("attachId[]",e);a.append("action","upload");a.append("employeeId",t);a.append("covidDocumentUpload","true");a.append("share","true");return se().post(`/ajax/employees/files/edit_file.php`,a)}function ge(e){return se().post("/employees/files/delete_files",{action:"delete",fileIds:[e]})}const ve=(0,u.makeStyles)((e=>{let{palette:t}=e;return(0,u.createStyles)({header:{color:t.grey[800],marginBottom:"5px"}})}));var _e=a(40065);var ye=a(8741);var be=a(82543);var we=a.n(be);var Se=a(26570);const Ce=(0,u.makeStyles)((e=>{let{palette:t}=e;return(0,u.createStyles)({trash:{fill:t.error.main},file:{marginTop:"10px",padding:"25px 0px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},fileName:{marginBottom:"0"}})}));const xe=e=>{const{file:t,isOpen:a,handleClose:s,handleConfirm:n}=e;const i=Ce();const o=we()(t.created).format(we().defaultFormat);return(0,b.Z)(u.StandardModal,{isOpen:a,onRequestClose:s},void 0,(0,b.Z)(u.StandardModal.Body,{renderFooter:(0,b.Z)(u.StandardModal.Footer,{actions:[(0,b.Z)(u.Button,{onClick:n,type:"button"},"primary",Se.__("Delete File")),(0,b.Z)(u.Button,{color:"secondary",onClick:s,type:"button"},"secondary",Se.__("Keep File"))]}),renderHeader:(0,b.Z)(u.StandardModal.Header,{hasCloseButton:true,title:Se.__("Just Checking...")})},void 0,(0,b.Z)(u.StandardModal.Constraint,{spacingOverrides:{bottom:u.StandardModal.Constraint.Spacing.MEDIUM,top:u.StandardModal.Constraint.Spacing.MEDIUM}},void 0,(0,b.Z)(u.StandardModal.HeroHeadline,{icon:(0,b.Z)(ye.Z,{className:i.trash}),text:Se.__("Are you sure you want to delete this file?")}),(0,b.Z)(u.RoundedBox,{className:i.file},void 0,(0,b.Z)(u.FileIcon,{filename:t.name,size:"large"}),(0,b.Z)(u.Typography,{className:i.fileName,variant:"h4"},void 0,t.name),(0,b.Z)(u.Typography,{variant:"small"},void 0,"Created ",o," by ",t.created_user," (",(0,h.humanFileSize)(t.size),")")))))};const Te=(0,u.makeStyles)((e=>{let{palette:t}=e;return(0,u.createStyles)({wrapper:{display:"flex",alignItems:"center",marginBottom:"10px"},file:{display:"flex",alignItems:"center","&:hover $name":{cursor:"pointer",color:t.action.active}},name:{margin:"0px 8px",color:t.grey[800]}})}));const Ee=e=>{const{file:t,onDelete:a,canEdit:s}=e;const n=Te();const[i,o]=(0,c.useState)(false);const r=()=>{o(true)};const l=()=>{o(false)};const d=()=>{a(t);l()};const h=()=>{window.previewFile(String(t.most_recent_employee_file_data_id),t.id,t.name,true,null,false,t.mode,false,false)};return(0,b.Z)("div",{},void 0,(0,b.Z)("div",{className:n.wrapper},void 0,(0,b.Z)("div",{className:n.file,onClick:h},void 0,(0,b.Z)(u.FileIcon,{filename:t.name}),(0,b.Z)(u.Typography,{className:n.name},void 0,t.name)),s&&(0,b.Z)(u.IconButton,{icon:(0,b.Z)(_e.Z,{}),noBoundingBox:true,onClick:r,type:"button"})),(0,b.Z)(xe,{file:t,handleClose:l,handleConfirm:d,isOpen:i}))};var ke=a(26570);const Ze=e=>{let{props:t,settings:a,context:s}=e;const{accessLevel:n}=t;const{type:i}=a;const o=n.includes("view");const r=n.includes("edit");const[l,d]=(0,c.useState)([]);const[h,p]=(0,c.useState)(false);const[m,f]=(0,c.useState)(false);const g=ve();function v(e){ge(e.id).then((function(e){let{data:t={}}=e;f(false);if(t.success){setMessage(t.success_message,"success")}else{setMessage(t.error,"error")}}))}function y(e){const t=window.Employee.id;let a;switch(i){case"upload_covid_documents":a=fe(e.id,t);break;default:a=null;break}if(a!==null){a.then((function(e){let{data:t={}}=e;if(t.success){setMessage(t.success_message,"success")}else{setMessage(t.error,"error")}}))}}function w(){me(window.Employee.id).then((function(e){if(e.data&&Array.isArray(e.data)){d(e.data);p(false);f(true)}}))}(0,c.useEffect)((function(){if(!m&&!h){p(true);w()}}),[m,h,r]);return(0,b.Z)("div",{},void 0,o&&(0,b.Z)("div",{},void 0,(0,b.Z)("div",{},void 0,(0,b.Z)(u.Typography,{className:g.header,variant:"small"},void 0,ke.__(`Attached File(s)`))),l.length>0&&l.map((e=>(0,b.Z)(Ee,{canEdit:r&&!h,file:e,onDelete:v},e.id))),r&&(0,b.Z)(u.FileUpload,{canSelectMultiple:true,isDisabled:h,onRemove:v,onUpload:y})))};var Fe=Ze;var Ie=a(26570);const Ne=e=>{let{type:t}=e;const a=t==="updatedTaxType"?Ie.__("We updated the Employee Tax Type to a value that matches the Employment Status."):Ie.__("Based on the Employment Status, the Employee Tax Type may need to be updated.");return(0,b.Z)("div",{className:"TaxTypeWarningTextWrapper DynamicForm--EmploymentStatusNote"},void 0,(0,b.Z)("div",{className:"TaxTypeWarningText"},void 0,(0,b.Z)("div",{className:"TaxTypeWarningText__text"},void 0,a),(0,b.Z)("div",{className:"TaxTypeWarningText__doubleCheck"},void 0,Ie.__("Double-check and make sure it looks right."))))};var Ae=Ne;var Me=a(1891);var De=a(1513);function Pe(e){return(0,b.Z)("div",{className:"Quickform",dangerouslySetInnerHTML:{__html:e}})}function Le(e){return(0,b.Z)("div",{style:{float:"none",clear:"both",marginTop:"40px"}},void 0,(0,b.Z)(Me.x5,{customClassNamePrefix:e.tableType,employee:window.Employee,openHistoryModal:De.jN,route:"/employees/widget-history-table",tableComponentJson:e}))}function Oe(e,t){const a={tableDirectReports:"direct reports"};return!e.componentJson||a[t.token]}const Re=e=>{let{type:t,children:a,props:s,settings:n}=e;const{"aria-label":i="",id:o=""}=s||{};const r=window.BambooHR.env.dev;const{componentHtml:l,componentJson:d}=s;(0,c.useEffect)((()=>{if(!l&&!t.includes("table")&&!t.includes("direct_reports")){console.error("Dynamic Form: Missing template for: ",{type:t,label:i,fieldId:o})}}),[]);const u=Oe(s,n);if(d){d.label=n.label}return(0,b.Z)("div",{},void 0,r&&!l&&(0,b.Z)("div",{style:{color:"red"}},void 0,"Tried to Render type: ",t,", but template doesn't exist"),a,u&&l&&Pe(l),!u&&d&&Le(d))};var Be=Re;var $e=a(32499);var je=a(71141);var He=a(26570);const qe=(0,je.isEnabled)("GenderSelectUpdates");const We=e=>{let{props:t,children:a,settings:s,context:n}=e;const{className:i="",id:o}=t;const{isClickToEdit:r=false,customFooterData:h={primaryButton:{},secondaryButton:{}},validation:p={}}=s;const{primaryButton:m={},secondaryButton:f={}}=h;const{form:{isEditable:g,setIsEditable:v},validation:{trigger:y,formState:{errors:w}}}=n;const[S,C]=(0,c.useState)(false);const x=N()(...i.split(" "),{"BhrForms--view":r?!g:false,DynamicForm__TraxSyncing:To(n)});const T=e=>{const t=so(e);if(!g&&t){v(true)}};const E=async()=>{closeMessage();C(true);const e=p.noValidation&&qe?true:await y();console.log("isValid",e,w);if(e){const e=He(`#${o}`);if(window.ASSUMED_USER){window.disabledForPermsTest();return}e.submit()}else{setMessage("Whoops... No worries. Please fix any missing or incorrect information and try again.","error");C(false);po(null,155)}};const k=()=>{no(n);if(r){v(false)}};return d().createElement("form",(0,l.Z)({},t,{className:x,onClick:T}),a,(0,b.Z)($e.T,{isOpen:g},void 0,(0,b.Z)(u.Button,{clickAction:E,isProcessing:S,text:m.text||He.__("Save Changes"),type:"submit"}),(0,b.Z)(u.TextButton,{clickAction:k,isProcessing:S,text:f.text||He.__("Cancel"),type:"reset"})))};var Ue=We;const ze=e=>{const{props:t,settings:a,context:s,children:n}=e;const{id:i,items:o}=t;const r=t["data-prefer-not-to-say-id"];const l=t["data-custom-gender-identity-id"];const c=zi(s,fn.genderIdentity);const u=qi(c);const h=u===l;const{controls:{SelectField:p}}=s;const m=[{items:o.filter((e=>e.value!==r&&e.value!==l)),type:"group",value:1},{anchor:"bottom",items:o.filter((e=>{if(e.value===r||e.value===l){e.exclusive=true;return e}})),type:"group",value:2}];const f={...t,canSelectMultiple:true,onChange:e=>io("select",i,e,s),items:m};return d().createElement(d().Fragment,null,(0,b.Z)(p,{context:s,props:f,settings:a}),h&&n)};var Ve=ze;const Ye=e=>{let{props:t,settings:a,context:s}=e;const{items:n}=t;const{controls:{SelectField:i}}=s;const o=[{items:n.filter((e=>e.value!==t["data-prefer-not-to-say-id"])),type:"group",value:1},{anchor:"bottom",items:n.filter((e=>e.value===t["data-prefer-not-to-say-id"])),type:"group",value:2}];const r={...t,items:o};return(0,b.Z)(i,{context:s,props:r,settings:a})};var Ge=Ye;const Ke=()=>(0,u.makeStyles)((e=>{let{palette:t}=e;return(0,u.createStyles)({infoIcon:{position:"relative","& svg":{fill:t.grey[600]},"&:hover svg":{fill:t.primary.main}},popoverContainer:{width:"250px"}})}));var Xe=a(26570);const Je=e=>{let{props:t,settings:a,context:s,children:n}=e;const{disabled:i,id:o}=t;const{fieldBoxClasses:r=""}=a;const{controls:{FieldBox:l,SelectField:h},formData:p}=s;const m=!r.includes("hidden");const f=zi(s,fn.gender);const g=qi(f);const v=Object.keys(Qi(s,o,{selector:"key",value:"field"})||[]);const y=v.map((e=>{const t=p[e];return qi(t)||""})).join("");const S=g==="Non-binary";const C=window.SESSION_USER&&window.SESSION_USER.isOnboardingUser&&window.isMobile();const[x,T]=(0,c.useState)(null);const[E,k]=(0,c.useState)(false);const[Z,F]=(0,c.useState)((!!y||S)&&m);const I={...t,width:"5"};const N=Ke();const A=N();const M=!!n.length;const D=M?"fieldRow":"fieldBox DynamicForm__fieldBox";let P="top";if(C){if(window.outerWidth<=780){P="top-start"}else if(window.outerWidth>780&&window.outerWidth<1024){P="top-end"}}return(0,b.Z)("div",{className:D},void 0,(0,b.Z)(h,{context:s,props:I,settings:a}),(S||Z)&&m&&n,M&&m&&!i&&d().createElement(d().Fragment,null,(0,b.Z)(l,{fieldBoxClasses:r},void 0,d().createElement(u.IconButton,{ariaLabel:Xe.__("Show expanded gender option details"),className:A.infoIcon,floatingIcon:true,icon:(0,w.ifFeature)("encore","circle-question-solid",(0,b.Z)(u.Icon,{brand:true,name:C?"fab-question-20x20":"fab-question-14x14"})),onClick:()=>{k(true)},onMouseEnter:()=>{k(true)},ref:T,type:"button"}),(0,b.Z)(u.Popover,{anchorEl:x,disableOuterClickOnClose:C,disablePortal:true,onClose:()=>k(false),open:E,placement:P,title:Xe.__("Gender Information")},void 0,(0,b.Z)("div",{className:A.popoverContainer},void 0,Xe.__(`Government reporting currently requires reporting on employee gender. If you'd like, we encourage you to add gender information below and share more about your gender identity and pronouns.`),!(S||Z)&&(0,b.Z)(u.TextButton,{onClick:()=>F(true)},void 0,Xe.__("+ Add Gender Information")))))))};var Qe=Je;const et=e=>{let{props:t}=e;return d().createElement("input",t)};var tt=et;const at=e=>{let{settings:t,context:a}=e;const{controls:{FieldDiv:s}}=a;const{note:n}=t;return(0,b.Z)(s,{},void 0,n)};var st=at;const nt=e=>{let{labelClasses:t,inputId:a,label:s,labelProps:n,info:i,required:o,error:r,children:c}=e;if(!s||s.length===0){return null}const u=t||N()("fab-Label",{"fab-Label--info":i,"fab-Label--required":o,"fab-Label--error":r});return d().createElement("label",(0,l.Z)({className:u,htmlFor:a},n),s,c)};var it=nt;var ot=a(61943);var rt=a(35933);var lt=a(21337);var ct=a(88141);var dt=a(52596);var ut=a(87207);var ht=a(45607);var pt=a(48179);var mt=a(42436);var ft=a(24410);var gt=a(40816);var vt=a(35151);var _t=a(50054);var yt=a(9133);var bt=a(39938);var wt=a(63);var St=a(39905);var Ct=a(99303);const xt=(0,w.ifFeature)("encore",{address:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"house-solid",size:16}),compensation:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"money-check-solid",size:16}),contact:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"address-book-solid",size:16}),default:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"id-card-solid",size:16}),emergencyContacts:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"truck-medical-solid",size:20}),employmentStatus:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"id-card-solid",size:16}),job:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"briefcase-solid",size:20}),jobInformation:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"briefcase-solid",size:16}),personal:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"user-solid",size:16}),socialLinks:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"comments-solid",size:16}),projectPayRates:(0,b.Z)(u.IconV2,{color:"primary-strong",name:"stopwatch-solid",size:16})},{address:(0,b.Z)(ot.Z,{}),benefits:(0,b.Z)(rt.Z,{}),compensation:(0,b.Z)(lt.Z,{}),contact:(0,b.Z)(ct.Z,{}),default:(0,b.Z)(dt.Z,{}),directDeposit:(0,b.Z)(ut.Z,{}),emergencyContacts:(0,b.Z)(ht.Z,{}),employmentStatus:(0,b.Z)(pt.Z,{}),job:(0,b.Z)(mt.Z,{}),jobInformation:(0,b.Z)(mt.Z,{}),payrollCheckbox:(0,b.Z)(ft.Z,{}),payrollInformation:(0,b.Z)(gt.Z,{}),personal:(0,b.Z)(vt.Z,{}),selfService:(0,b.Z)(_t.Z,{}),socialLinks:(0,b.Z)(yt.Z,{}),stateUnemploymentInsurance:(0,b.Z)(bt.Z,{}),taxWithholding:(0,b.Z)(wt.Z,{}),vaccinationStatus:(0,b.Z)(St.Z,{}),projectPayRates:(0,b.Z)(Ct.Z,{})});const Tt=e=>{let{settings:t,props:a}=e;const{label:s,icon:n,fabIcon:i}=t;const{className:o=""}=a;if(!s){console.error("Label is required for Legend component");return null}const r=typeof n==="undefined"?false:xt[n]||xt.default;const c=typeof i==="undefined"?r:(0,b.Z)(u.Icon,{brand:true,name:i});const h=N()({DynamicForm__Legend:true,"fab-FormSection__legend":!o.includes("fab-CheckboxGroup__legend")},o);const p=`quickform-form-section-for-${s?.toLowerCase().replace(" ","-")}-legend`;return d().createElement("legend",(0,l.Z)({},a,{className:h,"data-bi-id":p}),(0,w.ifFeature)("encore",!!r&&(0,b.Z)(u.StyledBox,{backgroundColor:"neutral-medium",borderRadius:"medium",marginRight:2,padding:1.5},void 0,(0,b.Z)(u.Flex,{alignItems:"center"},void 0,r)),!!c&&(0,b.Z)("div",{className:"DynamicForm__LegendIcon"},void 0,c)),(0,b.Z)("div",{className:"DynamicForm__LegendText"},void 0,s))};var Et=Tt;const kt=e=>{let{type:t,text:a,context:s}=e;const{controls:{EmploymentStatusNote:n,PayScheduleNote:i}}=s;if(t==="updatedTaxType"||t==="verifyTaxType"){return(0,b.Z)(n,{context:s,text:a,type:t})}if(t==="PayScheduleWarning"){return(0,b.Z)(i,{context:s,text:a,type:t})}const o=N()("fab-FormNote",{"fab-FormNote--info":t==="info"});return(0,b.Z)("span",{className:o},void 0,a)};var Zt=kt;var Ft=a(26570);const It=()=>(0,b.Z)("div",{className:"DynamicForm--PayScheduleNote"},void 0,(0,b.Z)("div",{className:"fab-FormNote CompensationForm__warningNote"},void 0,Ft.__("This pay schedule isn’t compatible with a couple other fields.")),(0,b.Z)("div",{className:"fab-FormNote"},void 0,Ft.__("Make sure to also update the fields highlighted in red.")));var Nt=It;var At=a(2063);var Mt=a(26570);const Dt=(0,u.makeStyles)((e=>{let{palette:t,spacing:a,typography:s}=e;return{note:{color:t.gray[700],fontSize:s?.teenie?.fontSize,lineHeight:s?.teenie?.lineHeight,marginTop:a(1)}}}));const Pt=e=>{const{props:t,settings:a,context:s}=e;const{controls:{SelectField:n},setFormData:i,validation:{setValue:o}}=s;const r=qi(e);const l=zi(s,fn.employeeTaxType);const u=(e,t,a)=>{let n;const r=e.data.options.map((e=>{const{optionValue:t,optionText:a,selected:s}=e;if(s){n=t.toString()}return{value:t.toString(),text:a}}));const c=io("select-items",l?.props?.id,r,s,false);const d=document.getElementById(c?.props?.id);if(Bn(d)){c.props.condition="info";if(t||c.props.selectedValues.length===0){c.props.selectedValues=[n]}const e=Mn(c?.props?.name);o(e,c?.props?.selectedValues[0]||"",{shouldDirty:true,shouldValidate:true});c.settings.note={text:" ",type:a}}i((e=>({...e,...{[c.props.id]:c}})))};const p=()=>{const e=zi(s,fn.employeeTaxType);if(e.settings.note){e.settings.note=null;e.props.condition=null;i((t=>({...t,...{[e.props.id]:e}})))}};const m=()=>{if(r){At.Z.getAllowableEmployeeTaxTypes("0",r,`select[name="${l?.props?.name}"]`).then((e=>{let{result:t,forceNewSelection:a,warningType:s}=e;u(t,a,s)})).catch((()=>{}))}else{setTimeout((()=>{p()}),10)}};const f=(0,c.useMemo)((()=>t.items.some((e=>{let{props:t,value:a}=e;const s=!!(typeof t==="object"&&t["data-inactiveoption"]);return s&&a===r}))),[r]);(0,c.useEffect)((()=>{if((0,h.hasTrax)()&&l?.props?.id){m()}}),[r]);const g=Dt();return d().createElement(d().Fragment,null,d().createElement(n,e),f?(0,b.Z)("div",{className:g.note},void 0,Mt.__("This employee will not be able to access their BambooHR account while in this employment status.")):null)};var Lt=Pt;const Ot=e=>{const{props:t,settings:a,context:s}=e;const{id:n,disabled:i,isObfuscated:o,className:r,style:p,name:m,condition:f=null,items:g,selectedValues:v,canSelectMultiple:y=false,onChange:w}=t;const{fieldBoxClasses:S,label:C,type:x,note:T=false}=a;const{controls:{Label:E,Note:k,FieldBox:Z,FieldDiv:F,PendingRequest:I},validation:{formState:{errors:N},trigger:A,register:M,setValue:D}}=s;const P=(0,c.useRef)(null);const L=In(s,e);const O=Mn(m);const R=Pn(N,O);M(O,{...jn(s,e),required:L});let B=[];if(Array.isArray(v))B=v;if(typeof v==="string")B=[v];(0,c.useEffect)((()=>{D(O,B[0]||"")}),[]);const j=()=>{const e=P.current;let t;let i;const o=new Promise(((e,a)=>{t=e;i=a}));if(!e){console.error("Dynamic Form: Select Element: Unable to get current element ref");i();return o}e.dispatchEvent(new CustomEvent("ba:selectAddItem",{bubbles:true,detail:{resolve:t,reject:i,settings:a}}));return o.then((function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];ro(n,e[0],s);if(e[0]?.selected&&e[0]?.value){D(O,e[0].value||"",{shouldDirty:true,shouldValidate:true})}}))};const H=g.filter((e=>{if((0,h.hasTrax)()&&e?.props&&typeof e.props==="object"&&Object.prototype.hasOwnProperty.call(e.props,"data-invalid-payroll-option")&&To(s)){return!e.props["data-invalid-payroll-option"]}return true}));const q=e=>{io("select",n,y?e:e[0]||"",s);D(O,e[0]||"",{shouldDirty:true,shouldValidate:true})};const W={};Object.keys(t).forEach((e=>{if(e.startsWith("data-")){W[e]=t[e]}}));return(0,b.Z)(Z,{fieldBoxClasses:S},void 0,(0,b.Z)(E,{error:R,info:f==="info",inputId:n,label:C,required:L}),(0,b.Z)(F,{isObfuscated:o,type:x},void 0,(0,b.Z)(I,{context:s,props:t,settings:a}),d().createElement("div",(0,l.Z)({className:r,ref:P},W,{"data-name":m,style:p}),d().createElement(u.Select,(0,l.Z)({},t,{condition:R?"error":f,isDisabled:i||window.previewUser,items:H,name:y?`${m}[]`:m,onAdd:t["can-add"]?j:null,onChange:w?e=>{w(e);A(m)}:q,selectedValues:B,showSearch:"auto"})))),T&&d().createElement(k,(0,l.Z)({},T,{context:s})))};var Rt=Ot;const Bt=e=>{const{props:t,settings:a,context:s}=e;const{disabled:n=false,selectedValues:i=[]}=t;const{controls:{SelectField:o}}=s;const{[fn.overtimeStatus]:{nonExemptEmptyPay:r,note:l}}=Io(s);const c={...a,note:{text:l,type:"base"}};const d={...t,isDisabled:r||n,selectedValues:r?["Exempt"]:i};return(0,b.Z)(o,{context:s,props:d,settings:c})};var $t=Bt;function jt(e){const{props:t,settings:a,context:s}=e;const{controls:{SelectField:n}}=s;const i=zi(s,fn.payType);const o=qi(i);if(o&&(o==="Commission"||o==="Hourly")){return(0,b.Z)(n,{context:s,props:{...t,className:`${t.className} hidden`,disabled:false,selectedValues:["Hour"]},settings:a})}const r=t?.selectedValues?.[0];const l=t.items.filter((e=>e.value!=="Hour"));return d().createElement(d().Fragment,null,(0,b.Z)(n,{context:s,props:{...t,disabled:!o,items:l},settings:a}),r&&!o?(0,b.Z)("input",{type:"hidden",name:t?.name,value:r}):null)}const Ht=e=>{const{props:t,settings:a,context:s}=e;const{controls:{SelectField:n}}=s;return d().createElement(d().Fragment,null,(0,b.Z)(n,{context:s,props:t,settings:a}))};var qt=Ht;var Wt=a(26570);function Ut(e){const{props:t,settings:a,context:s}=e;const{controls:{CurrencyField:n}}=s;const i=zi(s,fn.payType);const o=qi(i);const r=Xi(s,t.id);const l=r?document.querySelector(`#${r.props.id}`):undefined;if(l){l.classList.remove("hidden")}if(o&&o!=="Salary"&&o!=="Hourly"){if(l){l.classList.add("hidden")}return null}const c=o==="Hourly"?{type:"edit",text:Wt.__("per hour.")}:a.note;return(0,b.Z)(n,{context:s,props:{...t,readOnly:!o?true:false},settings:{...a,note:c}})}var zt=a(26570);const Vt=e=>{const{props:t,settings:a,context:s}=e;const{items:n,selectedValues:i=[]}=t;const{validation:o,validation:{requiredTrax:r}}=a;const{controls:{SelectField:l},validation:{trigger:d}}=s;const u=(0,c.useRef)(null);const p=()=>{if(n.length===0){return[{text:zt.__(`You don't have any pay schedules set up. Add them in settings.`),value:"",isDisabled:true}]}return n};const m=zi(s,qa.payrollCheckbox);const f=m?.props?.checked;const g=zi(s,fn.paidPer);const v=zi(s,fn.payType);const y=(0,h.hasTrax)()&&Nn()===0&&m?.props?.checked===true||r;const[w,S]=(0,c.useState)(p());(0,c.useEffect)((()=>{if((0,h.hasTrax)()&&m&&n.length>0){const e=!!m.props.checked;if(e){const e=n.filter((e=>{if(!e.props){return true}return e.props["data-syncing-pay-schedule"]}));S(e)}else{S(n)}}}),[f]);(0,c.useEffect)((()=>{if((0,h.hasTrax)()&&To(s)&&g&&v){const e=Wi(g);const t=Wi(v);if(e?.props?.["data-invalid-payroll-option"]||t?.props?.["data-invalid-payroll-option"]){u.current={text:" ",type:"PayScheduleWarning"};d([g?.props?.name,v?.props?.name])}}else{u.current=null;d([g?.props?.name,v?.props?.name])}}),[f,i]);const C={...a,note:u.current,validation:{...o,requiredTrax:y}};return(0,b.Z)(l,{context:s,props:{...t,items:w},settings:C})};var Yt=Vt;function Gt(e){const{props:t,settings:a,context:s}=e;const{controls:{SelectField:n}}=s;const i=t.items.filter((e=>e.value!=="Contract"));return(0,b.Z)(n,{context:s,props:{...t,items:i},settings:a})}var Kt=a(76374);const Xt=e=>{const{props:t,settings:a,context:s}=e;const{id:n,"data-state-field-id":i,"data-zip-field-id":o,items:r,selectedValues:l}=t;const{initialValue:u}=a;const{controls:{SelectField:p},formData:m}=s;const f=qi(e);const g=i?.includes("field")?m[i]:m[`field_${i}-0`];const v=o?.includes("field")?o:`field_${o}-0`;const y=To(s);const b=(0,h.hasTrax)()&&Bi();const w=`/ajax/get_states?${b?`payrollCheckbox=${y}&`:""}country=`;const[S,C]=(0,c.useState)(r);const[x,T]=(0,c.useState)(u[0]);const{countryId:E,postCodeLabel:k,subEntityLabel:Z,subEntityOptions:F,switchCountry:I}=(0,Kt.m)({initialCountryId:u[0]?~~x:1,initialSubEntityOptions:g?g.props.items:[],endpoint:w});const N=()=>{io("select-items",n,S,s)};const A=()=>{oo(g.props.id,v,{countryId:E,postCodeLabel:k,subEntityLabel:Z,subEntityOptions:F},s,u[0]===l[0])};(0,c.useEffect)((()=>{N()}),[S]);(0,c.useEffect)((()=>{const e=l[0];if(e&&+e!==+x){T(e);I(e)}}),[f]);(0,c.useEffect)((()=>{if(g){A()}}),[E,f]);(0,c.useEffect)((()=>{if(l[0]){I(l[0])}}),[]);const M=()=>{let e="";if(b){e+=`payrollChecked=${y}`}if(e.length!==0){se().get(`/ajax/get_countries?${e}`).then((e=>{if(e.data.success){const t=Object.keys(e.data.data).map((t=>({text:e.data.data[t],value:t})));C(t)}})).catch((e=>{console.error("Dynamic Form - Select Standard Country - Ajax request failed to update country selector",e)}))}};(0,c.useEffect)((()=>{M()}),[y]);return d().createElement(p,e)};var Jt=Xt;var Qt=a(26570);const ea=e=>{let{props:t,settings:a,context:s}=e;const{id:n}=t;const{form:{isEditable:i=true},controls:{TextField:o}}=s;const[r,l]=(0,c.useState)(i);const[d,u]=(0,c.useState)(a.sensitive.value);const h=()=>{if(An()){return}se().get(`/employees/get_secure_field/${t["data-secure-field-type"]}`,{id:t["data-employeeid"]}).then((e=>{if(e.data){u(e.data);l(true)}})).catch((()=>{window.setMessage(Qt.__("There was a problem getting the sensitive data"),"error")}))};const p=()=>{if(d===a.sensitive.value){h()}else{l(true)}};const m=()=>{l(false)};(0,c.useEffect)((()=>{if(i){p()}else{m()}}),[i]);const f={text:r?Qt.__("Hide"):Qt.__("Show"),template:"action",className:"",handleHoverAction:r?m:p};const g={...t,value:r?d:a.sensitive.value};const v={...a,...!!d&&{hover:f}};return(0,b.Z)(o,{context:s,props:g,settings:v},`${n}${r?"sensitive":""}`)};var ta=ea;var aa=a(97106);const sa=e=>{let{props:t,settings:a,context:s}=e;const n=()=>{const{template:e,value:n}=a;const{controls:{FieldSet:i}}=s;const{className:o}=t;if(e==="dash"){const e=N()("formDash","DynamicForm--static__dash",o);return d().createElement("span",(0,l.Z)({},t,{className:e}),"–")}if(e==="payrollSectionHeader"){const e=N()("payroll-section-header","DynamicForm--static__payrollInformation",o);return(0,b.Z)(i,{context:s,props:{...t,className:e},settings:a},void 0,(0,b.Z)(aa.O,{classes:"DynamicForm--static__payrollInformationIcon",fabricColorName:"info",iconName:"fab-question-16x16"}),(0,b.Z)("span",{className:"DynamicForm--static__payrollInformationText"},void 0,"Not sure about some of the payroll info below? That’s okay, just fill out as much as you know.")," Anything not completed here will be sent to your company's payroll admins to fill out.")}return null};return n()};var na=sa;const ia=e=>{const{props:t,settings:a,context:s}=e;const{id:n,name:i,className:o}=t;const{fieldBoxClasses:r,label:u,isObfuscated:h,type:p}=a;const{controls:{Label:m,FieldBox:f,FieldDiv:g,PendingRequest:v},validation:{formState:{errors:y},register:w,setValue:S}}=s;const C=Mn(i);const x=Pn(y,C);const T=In(s,e);w(C,{...jn(s,e),required:T});const{value:E,...k}=t;(0,c.useEffect)((()=>{S(C,E)}),[]);const Z=e=>{io("textarea",n,e.target.value,s);S(C,e.target.value,{shouldDirty:true,shouldValidate:true})};return(0,b.Z)(f,{fieldBoxClasses:r,isRequired:T},void 0,(0,b.Z)(m,{error:x,inputId:n,label:u,required:T}),(0,b.Z)(g,{isObfuscated:h,type:p},void 0,(0,b.Z)(v,{context:s,props:t,settings:a}),d().createElement("textarea",(0,l.Z)({},k,{className:N()(o,{"fab-Textarea--error":x}),defaultValue:E,onBlur:Z}))))};var oa=ia;var ra=a(96800);var la=a.n(ra);var ca=a(45673);var da=a(78144);const ua=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let a=null;Object.keys(ca.Kx).forEach((s=>{if(e.includes(s)||(0,da.bB)(e,s.split(" "))){const e=t?ca.Kx[s]:ca.Kx[`${s}-sensitive`]||ca.Kx[s];a=e}}));return a};const ha=e=>{const{props:t,context:a}=e;const{className:s="",id:n,name:i,value:o=""}=t;const{form:{isEditable:r=true},validation:{register:c,setValue:u}}=a;const h=Mn(i);c(h,{...jn(a,e),required:In(a,e)});const p=e=>{io("text",n,e.target.value,a);u(h,e.target.value,{shouldValidate:true,shouldDirty:true})};const m=ua(s,r);return d().createElement(la(),(0,l.Z)({mask:m},t,{onBlur:p}))};var pa=ha;const ma=e=>{const{props:t,input:a,settings:s,context:n}=e;const{className:i="",disabled:o,id:r,name:u}=t;const{icon:h,label:p="",isObfuscated:m,condition:f,fieldBoxClasses:g,pending:v,type:y,note:w=false}=s;const{controls:{TextMaskedField:S,TextIconField:C,TextHoverField:x,FieldBox:T,FieldDiv:E,Label:k,Note:Z,PendingRequest:F},validation:{register:I,formState:{errors:A},setValue:M},form:{isEditable:D}}=n;const P=Mn(u);const L=Pn(A,P);const O=In(n,e);(0,c.useEffect)((()=>{M(P,B)}),[]);const R=e=>{io("text",r,e.target.value,n);M(P,e.target.value,{shouldDirty:true,shouldValidate:true})};const{value:B,...j}=t;const H={type:"text",...j,defaultValue:B,className:N()(i,{disabled:o,"fab-TextInput--error":L})};const q=()=>{const a=!!ua(i,D);if(a&&!v){return(0,b.Z)(S,{context:n,props:H,settings:s})}I(P,{...jn(n,e),required:O});return(0,b.Z)("div",{className:"fab-InputWrapper"},void 0,(0,b.Z)(F,{context:n,props:t,settings:s}),d().createElement("input",(0,l.Z)({onBlur:R},H)),h&&(0,b.Z)(C,{props:t,settings:s}))};const W=a||q();const U=()=>{const e=W;const a=(0,b.Z)(x,{context:n,input:e,props:t,settings:s});return a};return(0,b.Z)(T,{fieldBoxClasses:g,isRequired:O},void 0,(0,b.Z)(k,{error:L,info:f==="info",inputId:r,label:p,required:s?.validation?.requiredWhenVisible===true}),(0,b.Z)(E,{isObfuscated:m,type:y},void 0,U()),w&&d().createElement(Z,(0,l.Z)({},w,{context:n})))};var fa=ma;const ga=e=>{let{props:t,settings:a,input:s,context:n}=e;const{value:i=""}=t;const{hover:o,initialValue:r}=a;const{form:{isEditable:l=true},controls:{HoverAction:c,HoverEmail:d,HoverLink:u,HoverMap:h}}=n;const p={link:u,email:d,map:h,action:c};if(o&&o.template&&r){const e=p[o.template];if(e){return(0,b.Z)(e,{context:n,hover:o,isEditable:l,value:i},void 0,s)}}return s};var va=ga;var _a=a(59284);var ya=a(4408);var ba=a(65197);var wa=a(94125);var Sa=a(80556);var Ca=a(66523);var xa=a(25498);var Ta=a(49064);var Ea=a(33897);var ka=a(78325);var Za=a(19158);var Fa=a(72269);const Ia=(0,w.ifFeature)("encore",{default:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"comment-regular",size:16}),inputAolIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"globe-solid",size:16}),inputSkypeIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"skype",size:16}),inputEducationIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"graduation-cap-solid",size:16}),inputHomeIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"house-regular",size:16}),inputMobileIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"mobile-regular",size:16}),inputFacebookIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"facebook",size:16}),inputLinkedinIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"linkedin",size:16}),inputPinterestIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"pinterest",size:16}),inputTwitterIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"square-x-twitter",size:16}),inputOfficeIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"building-regular",size:16}),inputInstagramIcon:(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"square-instagram",size:16})},{default:(0,b.Z)(_a.Z,{className:"fab-TextInputNub__icon"}),inputAolIcon:(0,b.Z)(ya.Z,{className:"fab-TextInputNub__icon"}),inputSkypeIcon:(0,b.Z)(ba.Z,{className:"fab-TextInputNub__icon"}),inputEducationIcon:(0,b.Z)(wa.Z,{className:"fab-TextInputNub__icon"}),inputHomeIcon:(0,b.Z)(Sa.Z,{className:"fab-TextInputNub__icon"}),inputMobileIcon:(0,b.Z)(Ca.Z,{className:"fab-TextInputNub__icon"}),inputFacebookIcon:(0,b.Z)(xa.Z,{className:"fab-TextInputNub__icon"}),inputLinkedinIcon:(0,b.Z)(Ta.Z,{className:"fab-TextInputNub__icon"}),inputPinterestIcon:(0,b.Z)(Ea.Z,{className:"fab-TextInputNub__icon"}),inputTwitterIcon:(0,b.Z)(ka.Z,{className:"fab-TextInputNub__icon"}),inputOfficeIcon:(0,b.Z)(Za.Z,{className:"fab-TextInputNub__icon"}),inputInstagramIcon:(0,b.Z)(Fa.Z,{className:"fab-TextInputNub__icon"})});const Na=e=>{let{props:t,input:a,settings:s,context:n}=e;const{icon:i}=s;const o=Ia[i]||Ia.default;return(0,b.Z)("span",{className:"fab-TextInputNub"},void 0,o)};var Aa=Na;var Ma=a(73641);var Da=a(90452);const Pa=e=>e.map((e=>{const t=e.flat_or_percent==="FLAT"?"Dollar":e.amount==="100"?"Balance":"Percent";const a=(0,Ma.cloneDeep)(e);return{postItem:a,...e,accountId:e.order.toString(),amount:e.flat_or_percent==="FLAT"?`$${e.amount}`:`${e.amount}%`,calculationType:t,imageUrl:e.image_url,isBankImageUrl:!!e.image_url,numberRaw:e.number,number:`X-${e.number.substr(e.number.length-4)}`,rawAmount:e.amount,routingNumber:e.routing_number}}));const La=()=>{const[e,t]=(0,c.useState)([]);const a=(e,a)=>{const s=Pa(e||[]);t(s);const n={data:{direct_deposits:{BANK:s}}};if(a&&typeof a==="function"){a(n)}};const s=()=>e.map((e=>d().createElement(d().Fragment,null,Object.keys(e.postItem).map((t=>{const{postItem:a}=e;return(0,b.Z)("input",{hidden:true,name:`accounts[${a.order}][${t}]`,type:"text",value:a[t]},`${a.order}${t}${a.routing_number}${a.number}`)})))));return d().createElement(d().Fragment,null,(0,b.Z)(Da.q,{customSave:a,deposits:[],employeeId:0,hasTrax:true,permissionLevel:3}),s())};var Oa=La;var Ra=a(37194);var Ba=a(26570);const $a=(0,u.styled)(u.SelectableBox)((e=>{let{theme:t}=e;return{marginRight:t.spacing(2),maxWidth:350}}));const ja=e=>{let{props:t,settings:a,context:s}=e;const{id:n,name:i,value:o="disabled"}=t;const{hasEmailFields:r,permission:l,userGroups:h,userGroupValue:p}=a;const{controls:{FieldRow:m}}=s;const f=h&&Array.isArray(h)?[h[0].value]:[];const[g,v]=(0,c.useState)(o);const[y,S]=(0,c.useState)(f);const[C,x]=(0,c.useState)(true);const T=zi(s,fn.emailWork);const E=T?.props?.value;const k=zi(s,fn.emailHome);const Z=k?.props?.value;(0,c.useEffect)((()=>{const e=!!E;const t=!!Z;if(e||t){x(false)}else{x(true)}}),[E,Z]);const F=(e,t)=>{v(t);io("text",n,t,s)};const I=e=>{S(e)};const N={id:"ess_group_id",isClearable:false,items:h,label:Ba.__("Access Level"),name:"ess_group_id",onChange:I,selectedValues:y,width:6};const A=()=>{let e=g==="disabled"?Ba.__("Disabled"):Ba.__("Enabled");if(h&&Array.isArray(h)&&h.length>1&&p){const t=h.find((e=>e.value===p));if(t){e=t.text}}return(0,b.Z)("span",{className:"DynamicForm--employeeAccess__noAccess"},void 0,e)};return(0,b.Z)("div",{className:"DynamicForm--employeeAccess"},void 0,!!(l==="REQUEST/EDIT")&&d().createElement(d().Fragment,null,r&&d().createElement(d().Fragment,null,(0,b.Z)(m,{context:s,props:{},settings:{}},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.Flex,{"data-bi-id":"employees-add-employee-form-employee-access"},void 0,(0,b.Z)(u.SelectableBoxGroup,{ariaLabel:Ba.__("Self-service access"),type:"checkbox"},void 0,(0,b.Z)(u.Flex,{gap:"24px",flexDirection:"row",height:"121px"},void 0,(0,b.Z)(u.SelectableBox,{description:Ba.__("They will be able to login to BambooHR using the access level you choose."),icon:"square-check-regular",inputId:`${n}-enabled`,isChecked:g==="enabled",name:i,onChange:F,title:Ba.__("Allow Access to BambooHR"),type:"checkbox",value:"enabled"}),(0,b.Z)(u.SelectableBox,{description:Ba.__(`They won't have access and will not be able to login to BambooHR.`),icon:"ban-regular",inputId:`${n}-disabled`,isChecked:g!=="enabled",name:i,onChange:F,title:Ba.__("No Access"),type:"checkbox",value:"disabled"})))),(0,b.Z)("div",{className:"fieldBox fab-FormField","data-bi-id":"employees-add-employee-form-employee-access"},void 0,(0,b.Z)(u.SelectableBoxGroup,{ariaLabel:Ba.__("Self-service access"),type:"radio"},void 0,(0,b.Z)($a,{description:Ba.__("They will be able to login to BambooHR using the access level you choose."),icon:"fab-check-circle-20x20",inputId:`${n}-enabled`,isChecked:g==="enabled",name:i,onChange:F,title:Ba.__("Allow Access to BambooHR"),type:"radio",value:"enabled"}),(0,b.Z)($a,{description:Ba.__(`They won't have access and will not be able to login to BambooHR.`),icon:"fab-block-20x20",inputId:`${n}-disabled`,isChecked:g!=="enabled",name:i,onChange:F,title:Ba.__("No Access"),type:"radio",value:"disabled"}))))),!!(h&&Array.isArray(h)&&h.length>1&&g==="enabled")&&(0,b.Z)(m,{context:s,props:{},settings:{}},void 0,(0,b.Z)("div",{className:"fieldBox fab-FormField"},void 0,d().createElement(u.Select,N)))),(0,b.Z)(m,{context:s,props:{},settings:{}},void 0,(0,b.Z)("div",{className:"fieldBox fab-FormField"},void 0,!r&&(0,b.Z)("span",{className:"fab-FormNote DynamicForm--employeeAccess__noMargin"},void 0,(0,b.Z)(Ra.Message,{link:(0,Ra.InternalLink)("new_fields.php"),text:Ba._(`To turn this on the employee needs an email and we don't detect an email on the page. Click [here] to add.`)})),!!(C&&g==="enabled")&&(0,b.Z)("span",{className:"fab-FormNote fab-FormNote--info DynamicForm--employeeAccess__noMargin"},void 0,Ba.__("To enable access, this employee needs to be active and have a valid work or home email."))))),!!(l!=="REQUEST/EDIT")&&(0,b.Z)(m,{context:s,props:{},settings:{}},void 0,A()))};var Ha=ja;let qa=function(e){e["newHireCheckbox"]="customNewHireCheckbox";e["payrollCheckbox"]="bamboohrPayrollCheckbox";e["employeeAccess"]="employee_access_field";return e}({});var Wa=a(87579);var Ua=a(26570);const za="taxInformationGroup";const Va=e=>{let{context:t,props:a}=e;const{controls:{Legend:s},validation:{formState:{errors:n},register:i},form:{isAddEmployeeForm:o},formOptions:{employeeId:r,showPayrollFederal:l,showPayrollState:h,isNHPPacket:p}}=t;const{disabled:m}=a;const[f,g]=(0,c.useState)({});const[v,y]=(0,c.useState)(false);const[w,S]=(0,c.useState)(false);const C=(0,c.useRef)();const x=window.SESSION_USER&&window.SESSION_USER.isAdmin;i(za,{validate:{manuallyRequired:()=>Pi(C)}});const T=Dn(n,za);const E=!!T;const k=zi(t,fn.location);const Z=zi(t,fn.employeeAddressState);const F=zi(t,fn.payrollHomeStateField);const I=zi(t,fn.stateTaxWithholdingLocationField);const A=zi(t,fn.stateUiLocationField);const M=zi(t,fn.stateUiExemptField);const D=qi(k);const P=qi(Z)||qi(F);const L=qi(I);const O=qi(A);const R=!!M?.props?.checked;const B=()=>{if(k&&(Z||F)&&I&&A&&M){if(D&&P&&L&&O){y(true)}}};const j=async()=>{if(D&&P&&L&&O){S(true);const e=await se().get("/payroll_ajax/new_employee_detailed_tax_information/",{locationId:D,homeStateId:P,stateTaxWithholdingLocation:L,stateUiLocation:O,stateUiExempt:R});S(false);if(e.data&&e.data.success){g(e.data.employeeTaxInformation);y(false)}}};(0,c.useEffect)((()=>{B()}),[D,P,L,O,R]);const H=N()("DynamicForm--taxInformation",{"DynamicForm--error":E});const{hasBhrPayroll:q,hasTempTraxFeature:W,hasTrax:U,withHoldings:z}=window;const V=document.getElementById("nhpTaxInformation");const Y={canAccessStateUiFields:true,canManageBhrPayroll:false,companyTaxStates:[],employeeId:0,federalTaxDeductionsPermissions:3,federalTaxDeductionToggle:true,hasBhrPayroll:false,hasTempTraxFeature:true,hasTrax:true,isAdminUser:x,isNewHirePacket:true,isPayrollAdminUser:true,newTraxEEData:f,residentTaxState:null,showResidentTaxState:null,stateTaxDeductionsPermissions:3,unemploymentTaxState:null,withholdings:{}};if(!o){Y.canAccessStateUiFields=false;Y.companyTaxStates=null;Y.employeeId=r;Y.federalTaxDeductionsPermissions=l?2:0;Y.hasBhrPayroll=q;Y.hasTempTraxFeature=W;Y.hasTrax=U||undefined;Y.isAdminUser=false;Y.isNewHirePacket=p;Y.isPayrollAdminUser=false;Y.newTraxEEData=V?JSON.parse(V.innerHTML):null;Y.stateTaxDeductionsPermissions=h?2:0;Y.withholdings=z||undefined}return d().createElement("div",{ref:C,className:H},(0,b.Z)(s,{props:{},settings:{label:Ua.__("Tax Withholding"),icon:"taxWithholding"}}),E&&(0,b.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,T.message),!v&&d().createElement(d().Fragment,null,!!Object.keys(f).length&&(0,b.Z)("div",{className:"DynamicForm--taxInformation__delete"},void 0,(0,b.Z)(u.FloatingIconButton,{clickAction:()=>y(true),icon:"fab-trash-can-14x16",secondary:true,type:"button"})),d().createElement(Wa.X,Y)),v&&(0,b.Z)(u.BlankState,{icon:"fab-gov-building-66x72",subtitle:Ua.__("Federal and State Tax withholding information can be added for this employee."),title:""},void 0,(0,b.Z)(u.Button,{clickAction:j,isProcessing:w,outline:true,text:`+ ${Ua.__("Add Withholding")}`,type:"button"})))};var Ya=Va;function Ga(e,t){const a=new FormData;a.append("id",e);a.append("employeeId",t);return se().post("/ajax/employees/delete_employee_education_item.php",a)}function Ka(e,t){return se()["delete"](`/employees/contacts.php?id=${e}&e=${e}&c=${t}`)}function Xa(e,t){const a=new FormData;a.append("id",e);a.append("d",t);return se().post("/ajax/dialog/delete_dependent.php",a)}var Ja=a(98675);var Qa=a(26570);const es=(0,u.makeStyles)((()=>({modalContainer:{display:"flex",justifyContent:"center"}})));const ts=e=>{let{handleClose:t=Ma.noop,handlePrimaryAction:a=Ma.noop}=e;const s=es();return(0,b.Z)(Ja.u_,{icon:(0,w.ifFeature)("encore","trash-can-regular","fab-trash-can-43x48"),iconColor:"danger",isOpen:true,onClose:()=>{t()},primaryAction:()=>{a()},primaryActionText:Qa.__("Yes, Delete Education"),title:Qa.__("Delete Education")},void 0,(0,b.Z)("div",{className:(0,w.ifFeature)("encore",s.modalContainer,""),id:"editForm"},void 0,(0,b.Z)("div",{className:"deleteModal"},void 0,(0,b.Z)("div",{className:"deleteMessage"},void 0,(0,b.Z)(Ra.Message,{strong:{tag:"span",className:"emphasis"},text:Qa._("Are you sure you want to **delete this education record**?")})),(0,b.Z)("div",{className:"deleteSubMessage"},void 0,Qa.__(`Don't worry, doing so won't actually make the employee any less educated`)))))};var as=ts;const ss=(0,u.makeStyles)((()=>({deleteIconContainer:{display:"flex"}})));const ns=e=>{let{props:t,settings:a,handleRemove:s,children:n}=e;const{canDelete:i}=a;const{disabled:o,id:r}=t;const l=ss();const c=i||r.includes("add");return d().createElement("div",t,c&&(0,b.Z)("button",{className:"fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:o,onClick:()=>{s(r)},type:"button"},void 0,(0,b.Z)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,b.Z)("div",{className:`${(0,w.ifFeature)("encore",l.deleteIconContainer,"")} phoneHide`},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.IconV2,{name:"trash-solid",size:16}),(0,b.Z)(u.Icon,{name:"fab-trash-can-14x16"})))),(0,b.Z)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,b.Z)("div",{className:"hidden phoneOnly--inline-flex"},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.IconV2,{name:"trash-solid",size:12}),(0,b.Z)(u.Icon,{name:"fab-trash-can-11x13"}))))),(0,b.Z)("div",{className:"fieldGroup divided"},void 0,n))};var is=ns;var os=a(26570);const rs=(0,u.makeStyles)((()=>({button:{margin:"5px 0px 0px 24px"}})));const ls=e=>{let{props:t,settings:a,context:s,children:n}=e;const{id:i,disabled:o}=t;const{canAdd:r,displayInitialEmpty:h}=a;const[p,m]=(0,c.useState)(false);const[f,g]=(0,c.useState)(false);let v;const y=rs();const S=()=>{if(!v){console.error(`Dynamic Form: Error getting add template for repeating container with id ${i}`);return}Oi(i,v,s)};(0,c.useEffect)((()=>{if(v&&Array.isArray(n)&&n.length<2&&h&&!f){return S()}g(true)}),[v,h,n,f]);const C=e=>{if(e.includes("add")){Ri(i,e,s)}else{m(e)}};const x=()=>{m(false)};const T=()=>{if(typeof p==="string"){const e=p;const t=e.split("_").pop();Ga(t,window.currentlyEditingEmployeeId.toString()).then((t=>{let{data:a={}}=t;if(a.result==="error"){window.setMessage(a.message,"error");return}window.setMessage(a.message,"success");Ri(i,e,s)})).catch((e=>{let{data:t={}}=e;window.setMessage(t.message,"error")}))}m(false)};const E=Array.isArray(n)?n.map((e=>{if(e&&e.props.props&&e.props.props.className&&e.props.props.className.includes("repeatPrototype")){v=e.props.props.id;return null}return d().createElement(is,(0,l.Z)({},e.props,{key:e.props.props.id,handleRemove:C}))})):n;return(0,b.Z)("div",{},void 0,p&&(0,b.Z)(as,{handleClose:x,handlePrimaryAction:T}),(0,b.Z)("div",{className:"row repeat employee_education",id:i},void 0,(0,b.Z)("div",{},void 0,(0,b.Z)("input",{id:"qf:employeeEducation",name:"_qf__employeeEducation",type:"hidden"}),E),(0,b.Z)("button",{className:`${(0,w.ifFeature)("encore",y.button,"")} educationAdd fab-TextButton fab-link`,disabled:!r||o,id:"educationAdd",onClick:S,type:"button"},void 0,(0,b.Z)("span",{className:"fab-TextButton__icon fab-TextButton__icon--left"},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.IconV2,{color:"neutral-strong",name:"circle-plus-regular",size:16}),(0,b.Z)(u.Icon,{brand:true,name:"fab-circle-plus-14x14"}))),os.__("Add Education"))))};var cs=ls;var ds=a(26570);const us=ds.__("No emergency contacts have been added for this employee.");const hs=ds.__("Add Contact");const ps=(0,u.makeStyles)((e=>({icon:{fill:e.palette.gray[600]},root:{marginTop:"72px"},subtitle:{color:e.palette.gray[600]},title:{color:e.palette.gray[600]}})));const ms=e=>{let{onClick:t,canAdd:a}=e;const s=ps();return(0,b.Z)(u.BlankState,{classes:s,icon:"fab-ambulance-120x100",subtitle:"",title:us},void 0,a&&(0,b.Z)(u.Button,{"data-bi-id":"employees-contacts-add-contact",onClick:t,outline:true,startIcon:"fab-circle-plus-16x16",text:`${hs}`,type:"button"}))};const fs=e=>{let{onClick:t,canAdd:a}=e;return(0,b.Z)(u.BlankState,{icon:"fab-ambulance-120x100",subtitle:us,title:""},void 0,a&&(0,b.Z)(u.Button,{"data-bi-id":"employees-contacts-add-contact",onClick:t,outline:true,text:`+ ${hs}`,type:"button"}))};var gs=a(26570);const vs=e=>{let{handleClose:t=Ma.noop,handlePrimaryAction:a=Ma.noop,data:s}=e;const n=(0,b.Z)(u.StandardModal,{isOpen:true,onRequestClose:()=>t()},void 0,(0,b.Z)(u.StandardModal.Body,{renderFooter:(0,b.Z)(u.StandardModal.Footer,{actions:[(0,b.Z)(u.Button,{onClick:()=>a(),type:"button"},"primary",gs.__("Delete Contact")),(0,b.Z)(u.Button,{color:"secondary",onClick:()=>t(),type:"button"},"secondary",gs.__("Keep Contact"))]})},void 0,(0,b.Z)(u.StandardModal.Constraint,{},void 0,(0,b.Z)(u.StandardModal.HeroHeadline,{icon:(0,b.Z)(u.IconV2,{name:"trash-can-regular",size:48,color:"error-strong"}),text:gs.__("Are you sure you want to delete this contact?")}),(0,b.Z)("div",{className:"Contact__modalContent"},void 0,(0,b.Z)("div",{className:"Contact__modalName"},void 0,s.contactName),(0,b.Z)("div",{className:"Contact__modalRelationship"},void 0,s.contactRelationship)))));const i=(0,b.Z)(Ja.u_,{alternativeAction:null,headline:gs.__("Are you sure you want to delete this contact?"),icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:true,onClose:()=>{t()},primaryAction:()=>{a()},primaryActionText:gs.__("Delete Contact"),secondaryAction:()=>{t()},secondaryActionText:gs.__("Keep Contact"),title:gs.__("Just Checking...")},void 0,(0,b.Z)("div",{className:"Contact__modalContent"},void 0,(0,b.Z)("div",{className:"Contact__modalName"},void 0,s.contactName),(0,b.Z)("div",{className:"Contact__modalRelationship"},void 0,s.contactRelationship)));return(0,w.ifFeature)("encore",n,i)};var _s=vs;const ys=e=>{let{props:t,settings:a,handleRemove:s,children:n}=e;const{canDelete:i=true}=a;const{id:o,disabled:r}=t;const l=i||o.includes("add");return d().createElement("div",t,(0,b.Z)("fieldset",{},void 0,l&&(0,b.Z)("button",{className:"Contact__formDelete fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:r,onClick:()=>{s(o)},type:"button"},void 0,(0,b.Z)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,b.Z)("div",{className:"phoneHide"},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.IconV2,{name:"trash-regular",size:16}),(0,b.Z)(u.Icon,{name:"fab-trash-can-14x16"})))),(0,b.Z)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,b.Z)("div",{className:"hidden phoneOnly--inline-flex"},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.IconV2,{name:"trash-regular",size:12}),(0,b.Z)(u.Icon,{name:"fab-trash-can-11x13"}))))),(0,b.Z)("input",{className:"hidden",id:`id-0_${o}`,name:`id[${o}]`,type:"hidden",value:o}),n))};var bs=ys;var ws=a(26570);const Ss=e=>{let{props:t,settings:a,context:s,children:n}=e;const{id:i,disabled:o}=t;const{canAdd:r,displayInitialEmpty:h,label:p}=a;const[m,f]=(0,c.useState)(false);const[g,v]=(0,c.useState)(false);const y=An()?fs:ms;let w;let S=0;const{validation:C}=s;const{unregister:x}=C;const T=e=>{const t={contactName:"",contactRelationship:""};const a=e.split("_").pop();const n=Ki(s,{selector:"key",value:a},{selector:"props.className",value:"nameInput"});const i=Ki(s,{selector:"key",value:a},{selector:"props.className",value:"list-field"});t.contactName=n?n.props.value.toString():"";t.contactRelationship="";if(i){const{items:e}=i.props;const a=e.find((e=>e.value===i.props.selectedValues[0]));t.contactRelationship=a?a.text:""}return t};const E=()=>{if(!w){console.error(`Dynamic Form: Error getting add template for repeating container with id ${i}`);return}Oi(i,w,s)};const k=e=>{if(e.includes("add")){Ri(i,e,s)}else{f(e)}};const Z=()=>{f(false)};const F=()=>{if(typeof m==="string"){const e=m;const t=e.split("_").pop();Ka(window.currentlyEditingEmployeeId.toString(),t).then((t=>{let{data:a={}}=t;if(!a.success){if(a.error){window.setMessage(a.error,"error")}return}if(a.newPrimaryContactId){const e=Ki(s,{selector:"key",value:a.newPrimaryContactId},{selector:"settings.fieldBoxClasses",value:"primaryCheck"});if(e){e.props.checked=true;s.setFormData((t=>({...t,...{[e.props.id]:e}})))}}x(e);Ri(i,e,s)})).catch((e=>{let{data:t={}}=e;window.setMessage(t.error||t.message,"error")}))}f(false)};const I=Array.isArray(n)?n.map((e=>{if(e&&e.props.props&&e.props.props.className&&e.props.props.className.includes("repeatPrototype")){w=e.props.props.id;return null}S++;return d().createElement(bs,(0,l.Z)({},e.props,{handleRemove:k,key:e.props.props.id}))})):n;const N=!!S;(0,c.useEffect)((()=>{if(w&&!N&&h&&!g){return E()}v(true)}),[w,h,N,g]);return d().createElement(d().Fragment,null,m&&(0,b.Z)(_s,{data:T(m),handleClose:Z,handlePrimaryAction:F}),(0,b.Z)("div",{className:"row repeat employee_contacts",id:i},void 0,(0,b.Z)("input",{id:"qf:emergencyContact",name:"_qf__emergencyContact",type:"hidden"}),p&&(0,b.Z)("p",{},void 0,p),I,!N&&(0,b.Z)(y,{canAdd:r,onClick:E}),N&&r&&(0,b.Z)("button",{className:"Contact__addNewContact fab-TextButton fab-link repeatAdd","data-bi-id":"employees-contacts-add-contact",disabled:!r||o,onClick:E,type:"button"},void 0,(0,b.Z)("span",{className:"fab-TextButton__icon fab-TextButton__icon--left"},void 0,(0,b.Z)(u.Icon,{name:"fab-circle-plus-14x14"})),ws.__("Add Contact"))))};var Cs=Ss;var xs=a(25370);var Ts=a(34790);const Es=e=>{let{props:t,settings:a,handleRemove:s,children:n}=e;const{canDelete:i}=a;const{disabled:o,id:r}=t;const l=i||r.includes("add");return d().createElement("div",t,l&&(0,b.Z)(u.IconButton,{className:"fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:o,onClick:()=>{s(r)},type:"button",icon:(0,b.Z)(Ts.Z,{})}),(0,b.Z)("div",{className:"fieldGroup divided"},void 0,n))};var ks=Es;var Zs=a(26570);const Fs=e=>{let{handleClose:t=Ma.noop,handlePrimaryAction:a=Ma.noop,data:s}=e;const{palette:n}=(0,u.useTheme)();return(0,b.Z)(u.StandardModal,{isOpen:true,onRequestClose:()=>t()},void 0,(0,b.Z)(u.StandardModal.Body,{renderFooter:()=>(0,b.Z)(u.StandardModal.Footer,{actions:[(0,b.Z)(u.Button,{onClick:()=>a()},"confirm",Zs.__("Yes, Delete Dependent")),(0,b.Z)(u.TextButton,{onClick:()=>t()},"cancel",Zs.__("Cancel"))]}),renderHeader:()=>(0,b.Z)(u.StandardModal.Header,{title:Zs.__("Delete Dependent")})},void 0,(0,b.Z)(u.StandardModal.Constraint,{},void 0,(0,b.Z)(u.Stack,{spacing:2},void 0,(0,b.Z)(u.StandardModal.HeroHeadline,{icon:(0,b.Z)(ye.Z,{fill:n.error.main}),text:Zs.__("Are you sure you want to delete this dependent?")}),(0,b.Z)("div",{className:"Contact__modalContent"},void 0,(0,b.Z)("div",{className:"Contact__modalName"},void 0,s.contactName),(0,b.Z)("div",{className:"Contact__modalRelationship"},void 0,s.contactRelationship))))))};var Is=Fs;var Ns=a(75088);var As=a(6701);var Ms=a(26570);const Ds=Ms.__("No dependents have been added for this employee.");const Ps=Ms.__("Add Dependent");const Ls=(0,u.makeStyles)((e=>({icon:{fill:e.palette.gray[600]},root:{marginTop:"72px"},subtitle:{color:e.palette.gray[600]},title:{color:e.palette.gray[600]}})));const Os=e=>{let{onClick:t,canAdd:a}=e;const s=Ls();return(0,b.Z)(u.BlankState,{classes:s,icon:(0,b.Z)(Ns.Z,{}),title:Ds},void 0,a&&(0,b.Z)(u.Button,{"data-bi-id":"employees-dependents-add-dependent",onClick:t,outline:true,startIcon:(0,b.Z)(As.Z,{}),text:`${Ps}`,type:"button"}))};const Rs=e=>{let{onClick:t,canAdd:a}=e;return(0,b.Z)(u.BlankState,{icon:(0,b.Z)(Ns.Z,{}),subtitle:Ds,title:""},void 0,a&&(0,b.Z)(u.Button,{"data-bi-id":"employees-dependents-add-dependent",onClick:t,outline:true,text:`+ ${Ps}`,type:"button"}))};var Bs=a(26570);const $s=e=>{let{props:t,settings:a,context:s,children:n}=e;const{id:i,disabled:o}=t;const{canAdd:r,displayInitialEmpty:h,label:p}=a;const[m,f]=(0,c.useState)(false);const[g,v]=(0,c.useState)(false);const y=An()?Rs:Os;let w;let S=0;const{validation:C}=s;const{unregister:x}=C;const T=e=>{const t={contactName:"",contactRelationship:""};const a=e.split("_").pop();const n=Ki(s,{selector:"key",value:a},{selector:"props.className",value:"nameInput"});const i=Ki(s,{selector:"key",value:a},{selector:"props.className",value:"list-field"});t.contactName=n?n.props.value.toString():"";t.contactRelationship="";if(i){const{items:e}=i.props;const a=e.find((e=>e.value===i.props.selectedValues[0]));t.contactRelationship=a?a.text:""}return t};const E=()=>{if(!w){console.error(`Dynamic Form: Error getting add template for repeating container with id ${i}`);return}Oi(i,w,s)};const k=e=>{if(e.includes("add")){Ri(i,e,s)}else{f(e)}};const Z=()=>{f(false)};const F=()=>{if(typeof m==="string"){const e=m;const t=e.split("_").pop();Xa(window.currentlyEditingEmployeeId.toString(),t).then((t=>{let{data:a={}}=t;if(!a.success){if(a.error){window.setMessage(a.error,"error")}return}x(e);Ri(i,e,s)})).catch((e=>{let{data:t={}}=e;window.setMessage(t.error||t.message,"error")}))}f(false)};const I=Array.isArray(n)?n.map((e=>{if(e?.props?.props?.className?.includes("repeatPrototype")){w=e.props.props.id;return null}S++;return d().createElement(ks,(0,l.Z)({},e.props,{handleRemove:k,key:e.props.props.id}))})):n;const N=!!S;(0,c.useEffect)((()=>{if(w&&!N&&h&&!g){return E()}v(true)}),[w,h,N,g]);return(0,b.Z)("div",{},void 0,m&&(0,b.Z)(Is,{data:T(m),handleClose:Z,handlePrimaryAction:F}),(0,b.Z)("div",{className:"row repeat dependents",id:i},void 0,(0,b.Z)("div",{},void 0,(0,b.Z)("input",{id:"qf:dependent",name:"_qf__dependent",type:"hidden"}),I),!N&&(0,b.Z)(y,{canAdd:r,onClick:E}),N&&r&&(0,b.Z)(u.TextButton,{disabled:!r||o,onClick:E,text:Bs.__("Add Dependent"),type:"button",startIcon:(0,b.Z)(xs.Z,{})})))};var js=$s;const Hs=e=>{const{settings:{repeatType:t}}=e;let a=null;if(t==="base"){return null}if(t==="education"){a=d().createElement(cs,e)}else if(t==="contact"){a=d().createElement(Cs,e)}else if(t==="dependent"){a=d().createElement(js,e)}return a};var qs=Hs;const Ws=e=>{let{children:t,isEditable:a,hoverChild:s}=e;const n=N()("HoverHint","DynamicForm--HoverBase__hint",{"DynamicForm--HoverBase__Editable":a});return(0,b.Z)("span",{className:n},void 0,s,(0,b.Z)("span",{className:"HoverHint__content"},void 0,t))};var Us=Ws;var zs=a(26570);const Vs=e=>{let{value:t,isEditable:a,context:s,children:n}=e;const{controls:{HoverBase:i}}=s;return(0,b.Z)(i,{hoverChild:n,isEditable:a},void 0,d().createElement(d().Fragment,null,(0,b.Z)("span",{className:"HoverHint__icon"},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.IconV2,{color:"info-strong",name:"envelope-solid",size:16}),(0,b.Z)(u.Icon,{brand:true,name:"fab-envelope-16x12"}))),(0,b.Z)("a",{className:"HoverHint__link",href:`mailto:${t}`},void 0,zs.__("Email"))))};var Ys=Vs;var Gs=a(26570);const Ks=e=>{let{hover:t,isEditable:a,context:s,children:n}=e;const{controls:{HoverBase:i}}=s;if(!t.link){return d().createElement(d().Fragment,null," ",n," ")}return(0,b.Z)(i,{hoverChild:n,isEditable:a},void 0,d().createElement(d().Fragment,null,(0,b.Z)("span",{className:"HoverHint__icon"},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.IconV2,{color:"info-strong",name:"location-dot-solid",size:12}),(0,b.Z)(u.Icon,{brand:true,name:"fab-location-9x12"}))),(0,b.Z)("a",{className:"HoverHint__link",href:t.link,rel:"noopener noreferrer",target:"_blank"},void 0,Gs.__("Map"))))};var Xs=Ks;var Js=a(26570);const Qs=e=>{let{hover:t,isEditable:a,context:s,children:n}=e;const{controls:{HoverBase:i}}=s;return(0,b.Z)(i,{hoverChild:n,isEditable:a},void 0,(0,b.Z)("a",{className:"HoverHint__link",href:t.link,rel:"noopener noreferrer",target:"_blank"},void 0,Js.__("View")))};var en=Qs;const tn=e=>{let{hover:t,isEditable:a,context:s,children:n}=e;const{controls:{HoverBase:i}}=s;return(0,b.Z)(i,{hoverChild:n,isEditable:a},void 0,(0,b.Z)("button",{className:"HoverHint__link fab-TextButton fab-link",onClick:t.handleHoverAction,type:"button"},void 0,t.text))};var an=tn;var sn=a(17145);var nn=a(26570);const on=e=>{let{props:t,settings:a}=e;const{pending:s}=a;const{className:n="",type:i}=t;if(!s){return null}const o=N()({DynamicForm__pending:true,"DynamicForm__pending--container":i==="checkbox"});const r=`/inbox/details.php?id=${s}`;return(0,b.Z)("a",{className:o,href:r},void 0,(0,b.Z)("div",{className:"DynamicForm__pending--icon"},void 0,(0,b.Z)(sn.Z,{settings:{template:{name:"tooltip-standard",data:{title:nn.__("Pending Approval"),content:nn.__("The latest change to this field is waiting for approval. Click to go to the original request."),textAlign:"center"}}}},void 0,(0,w.ifFeature)("encore",(0,b.Z)(u.IconV2,{color:"neutral-weak",name:"clock-solid",size:16}),(0,b.Z)(u.Icon,{name:"fab-pencil-check-16x16"})))))};var rn=on;var ln=a(26570);function cn(){let e;t();ln(window).resize((function(){clearTimeout(e);e=setTimeout(t,400)}));function t(){const e=document.getElementsByClassName("js-BhrTable-scroll");for(let t=0;t<e.length;t++){const a=e[t];const s=a.querySelector(".BhrTable__scrollWrapper-inner");if(s.scrollWidth>s.clientWidth){a.classList.add("scrollable");s.addEventListener("scroll",(function(){if(s.scrollLeft>s.scrollWidth-(s.clientWidth+50)){a.classList.remove("scrollable")}else{a.classList.add("scrollable")}}))}else{a.classList.remove("scrollable")}}}ln(".js-BhrTable-scroll").on("mouseover",".fab-Table__row",a);function a(){const e=ln(this)[0];const t=e.closest(".scrollable .BhrTable__scrollWrapper-inner");const a=ln(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell")[0];if(t&&a){const s=a.offsetWidth;if(t.scrollLeft<e.scrollWidth-(t.clientWidth+s)){let e="";ln(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell").each((function(a){const s=window.getComputedStyle(this);const n={left:t.clientWidth-parseInt(s.width)+"px",height:parseInt(s.height)-parseInt(s.borderBottomWidth)+"px",display:"flex","flex-direction":"column","justify-content":"center","border-bottom":"none"};e=s.height;this.classList.add("BhrTable__actions--floating");ln(this).css(n)}));ln(this).css({height:e})}}}ln(".js-BhrTable-scroll").on("mouseout",".fab-Table__row",(function(){ln(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell").each((function(e){ln(this).removeAttr("style");this.classList.remove("BhrTable__actions--floating")}))}))}const dn={...n,...s,...i,...o};const un=e=>{let{data:t,controls:a={},isAddEmployeeForm:s=false,additionalOptions:n={}}=e;const[i,o]=(0,c.useState)(t);const r=(0,u.useForm)([],{mode:"onBlur",shouldFocusError:false,shouldUnregister:false});const{root:l}=i;const d=i[l];let h=true;(0,c.useEffect)((()=>{cn()}),[]);if(d&&d.settings&&Object.prototype.hasOwnProperty.call(d.settings,"isClickToEdit")){h=false}const[p,m]=(0,c.useState)(h);const f={...dn,...a};const{employeeId:g,showPayrollFederal:y=false,showPayrollState:b=false,isNHPPacket:w=false}=n;const S={controls:f,formData:i,setFormData:o,formOptions:{employeeId:g,isNHPPacket:w,showPayrollFederal:y,showPayrollState:b},form:{isAddEmployeeForm:s,isEditable:p,setIsEditable:m},validation:r};v(S);const C=e=>{const t=i[e];const{props:a,settings:s,type:n,children:o}=t;let r=n;if(typeof t==="undefined"||typeof a==="undefined"){console.error(`Dynamic Form: Unable to find element id: ${e}`);return null}if(r.includes("upload_covid_documents")){r="Documents"}let l=[];if(Array.isArray(o)&&o.length>0){l=o.map((e=>e===null||e===undefined?null:C(e)))}const d=f[r]||f.FallbackDiv;return(0,c.createElement)(d,{key:a.id,context:S,props:a,settings:s,type:r},l)};return l?C(l):null};const hn=e=>{const t=f(e.data);return d().createElement(un,(0,l.Z)({},e,{data:t}))};var pn=hn;let mn=function(e){e["FIELD_ROW"]="FieldRow";e["FIELD_SET"]="FieldSet";e["GROUP"]="Group";e["FORM"]="Form";e["TEXT"]="TextField";e["SELECT"]="SelectField";e["CHECKBOX"]="CheckboxField";e["CHECKBOX_LIST"]="CheckboxList";e["DATE"]="DateField";e["REPEAT"]="RepeatingContainer";e["STATIC"]="StaticTemplate";e["INFORMATION"]="InformationField";e["TEXTAREA"]="TextareaField";e["HIDDEN"]="HiddenInput";e["LEGEND"]="Legend";e["EMPLOYEE_ACCESS"]="EmployeeAccess";e["DOCUMENTS"]="Documents";return e}({});let fn=function(e){e["emailHome"]="home-email-field";e["emailWork"]="work-email-field";e["employeeAddressState"]="employee-address-state-field";e["employeeFirstName"]="first-name-field";e["employeeLastName"]="last-name-field";e["employeeMiddleName"]="middle-name-field";e["employeeNumber"]="employee-number-field";e["employeeTaxType"]="employee-tax-type-field";e["employmentStatus"]="employment-status-field";e["gender"]="gender-field";e["genderIdentity"]="gender-identity-field";e["genderPronouns"]="gender--pronouns-field";e["homeState"]="state-field";e["location"]="js-location-insertable-list";e["nationalId"]="national-id-field";e["nin"]="nin-field";e["overtimeRate"]="overtime-rate-field";e["overtimeStatus"]="overtime-status-field";e["paidPer"]="paid-per-field";e["payGroup"]="pay-group-field";e["payRate"]="pay-rate-field";e["payrollHomeStateField"]="js-validate-payroll-state-live-in";e["paySchedule"]="pay-schedule-field";e["payType"]="pay-type-field";e["sin"]="sin-field";e["ssn"]="ssn-field";e["stateTaxWithholdingLocationField"]="js-payroll-tax-state-withholding-type";e["stateUiExemptField"]="js-payroll-tax-state-ui-exempt";e["stateUiLocationField"]="js-payroll-tax-state-ui-type";return e}({});var gn=a(30424);var vn=a(26570);const _n=/^[0-9]{3}-[0-9]{2}-[0-9]{4}$/;const yn=/^[0-9]{3}-[0-9]{3}-[0-9]{3}$/;const bn=/^([0-9a-z]{2}\s?){4}\s?[0-9a-z]{1}$/i;const wn=/^[0-9a-z]{6,16}$/i;const Sn=/^\d+$/;const Cn=/^((https?|s?ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;const xn=new RegExp(window.GLOBAL_NUMBER_REGEX.replace("(?!0[0-9])",""));const Tn=/^[A-Z0-9]{1,20}$/i;const En={[fn.ssn]:{validateSocialSecurity:{check_field:"ssn",action:"checkSSN",message:window.SESSION_USER&&window.SESSION_USER.isAdmin?vn.__("Oops, this is not a valid SSN or it is a duplicate of another SSN in your account."):vn.__("Oops! Double check the numbers you entered. If everything is correct please contact your administrator.")},pattern:_n},[fn.sin]:{validateSocialId:{action:"checkSIN",check_field:"sin",message:vn.__("There is already an employee with this SIN in the system.")},pattern:yn},[fn.nin]:{validateSocialId:{check_field:"nin",action:"checkNIN",message:vn.__("Please fix this field.")},pattern:bn},[fn.nationalId]:{validateSocialId:{check_field:"national_id",friendly_name:"National ID",action:"checkNationalID",message:vn.__("Please fix this field.")},pattern:wn},[fn.employeeNumber]:{uniqueEmployeeNumber:true},[fn.paySchedule]:{validatePaySchedule:true},[fn.payType]:{invalidPayrollOption:true},[fn.paidPer]:{invalidPayrollOption:true,validatePayRatePaidPer:true,validatePaidPerTrax:true},[fn.payRate]:{validatePayRatePaidPer:true,currencyTypeMatch:{onlyIfTrax:true,currency:"USD"}},CalendarPicker:{baseDateValidation:{from:we()().subtract({year:100,days:1}),to:we()().add(50,"y")}},validateBirthDate:{validateDateBetween:{from:"1900-01-01",to:we()()}},validateDateField:{validateDateField:true},validateHireDate:{validateDateBetween:{from:"1900-01-01",to:we()().add(3,"y")}},validateSmallDate:{validateDateBetween:{from:"1900-01-01",to:"2079-06-06"}},validateToDate:{validateDateFrom_to:true},validateZipTrax:{validateUSZipTrax:true},checkEmailExists:{checkEmailExists:true,pattern:{value:gn.emailRegex,message:vn.__("Invalid email address.")}},validateEmail:{pattern:{value:gn.emailRegex,message:vn.__("Invalid email address.")}},validateUrl:{pattern:{value:Cn,message:vn.__("Please enter a valid URL.")}},validateNumber:{pattern:{value:new RegExp(window.GLOBAL_NUMBER_REGEX),message:vn.__("Please enter a valid number or remove any leading zeros.")}},validateEmployeeNumber:{pattern:{value:xn,message:vn.__("Please enter a valid number.")}},validatePayrollEmployeeNumber:{pattern:Sn,maxLength:6,noLeadingZeros:true},creditCardLast4Digits:{pattern:Sn,maxLength:4},validateOvertimeRateTrax:{valueGreaterThanZero:{onlyIfTrax:true},currencyTypeMatch:{onlyIfTrax:true,currency:"USD"}},validatePassportNumber:{pattern:Tn,maxLength:20},validateCCNumber:{minLength:13,maxLength:16},primaryContact:{onePrimaryContact:true}};var kn=a(26570);const Zn=null;const Fn=["maxLength","minLength","max","min","pattern"];const In=(e,t)=>{let a=true;const s=document.getElementById(t.props.id);if(!Bn(s)){return false}if(t?.props?.disabled===true||t?.props?.readOnly!==undefined){return false}if(t?.settings?.validation?.requiredWhenVisible===true){a=true}else{a=false}if(Nn()===0&&t?.props?.className?.includes("emailRequiredIfSelfService")&&!a){const t=zi(e,qa.employeeAccess);const a=Gi(e,{selector:"props.className",value:"oneEmailRequired"});const s=Object.keys(a);if(t?.props?.value==="enabled"&&s.length===1){return true}}if(t?.settings?.validation?.requiredTrax&&(0,h.hasTrax)()){const t=To(e);if(t){a=true}}return a};const Nn=()=>window.currentlyEditingEmployeeId||0;const An=()=>{let e=false;if(Nn()===0){e=true}return e};const Mn=e=>{if(typeof e!=="string"){console.error("Cannot validate field without name");return""}if(e.includes("table_")){return e.replaceAll("[","_group").replaceAll("][","_field").replaceAll("]","")}return e};const Dn=(e,t)=>(0,Ma.get)(e,t,null);const Pn=(e,t)=>!!Dn(e,t);const Ln=(e,t,a)=>{if(a&&Object.keys(t).length){const s=Qi(e,a,{selector:"type",value:"FieldRow"});if(Object.keys(s).length===0){const s=Qi(e,a,{selector:"key",value:"field"});const n=Object.keys(s).map((e=>s[e]?.props?.name));const i=n.find((e=>Pn(t,e)&&Dn(t,e)?.message));if(i){return(0,Ma.get)(t,i,null)}}}return null};const On=()=>window.isOnboardingUser||window.SESSION_USER&&window.SESSION_USER.isOnboardingUser;const Rn=()=>{if(On()){return"/self_onboarding/packet/validate"}return"/employees/validate"};function Bn(e){return kn(e).is(":visible")}function $n(e,t){const a={validate:{}};if(t?.settings?.validation&&typeof t.settings.validation==="object"&&Object.keys(t.settings.validation).length){const s=e.formData[t?.props?.id];if(!s){return a}const n=Object.keys(t.settings.validation);if(n.includes("maxLength")){let{maxLength:i}=t.settings.validation;if((0,h.hasTrax)()&&n.includes("maxLengthTrax")&&To(e)){i=t.settings.validation.maxLengthTrax}if(s.type.toLowerCase().includes("select")){a.validate.maxLengthSelect=xi(e,t,{maxLength:i,message:kn.__("Please select an option with no more than %1 characters.",i)})}else{a.maxLength={value:i,message:kn.__("Please enter no more than %1 characters.",i)}}}}return a}function jn(e,t){const a={validate:{}};const s=(t.props.className||"").split(" ");s.forEach((s=>{const n=En[s];if(n&&t.props.disabled===false){Object.keys(n).forEach((s=>{if(Fn.includes(s)){a[s]=n[s]}else{const i=r[s];if(i){a.validate[s]=i(e,t,n[s])}}}))}}));const n=$n(e,t);const i=(0,Ma.merge)(a,n);y(t,i);return i}const Hn={};const qn=async function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;if(typeof e!=="function"){console.warn("validateWithBE - unsupported ajax function!")}if(s&&s!==""){const e=Hn[s];if(e)return e}let n=null;let i=true;let o=false;try{n=await e.call(se(),a||Rn(),t);i=n.data===true;o=n.data===Zn;if(o){window.Rollbar.info("EE Validation: limit has been met!",{action:(t||{})?.action})}}catch(e){console.warn(e);return{response:null,isValid:true,isRateLimited:false}}const r={response:n,isValid:i,isRateLimited:o};if(s&&s!==""&&!o){Hn[s]=r}return r};var Wn=a(26570);const Un=(e,t,a)=>s=>{const{settings:{currency:{code:n=""}}}=t;let i=n===a.currency;const{Employee:o}=window;const r=o.firstName?o.firstName:"an employee";if(a.onlyIfTrax){const t=(0,h.hasTrax)()&&To(e);if(!t){i=true}}if(!i){window.setMessage(Wn.__("Oops, please make sure the pay rate is in %1 before adding %2 to a pay schedule that syncs with BambooHR Payroll.",a.currency,r),"error")}return i};const zn=(e,t,a)=>e=>we()(e).isBetween(a.from,a.to,null,"[]");const Vn=(e,t,a)=>zn(e,t,a);var Yn=a(26570);const Gn=Yn.__("Please enter a valid date.");const Kn=(e,t,a)=>e=>{const t=e===""||we()(e,we().defaultFormat).isValid();return t||Gn};var Xn=a(26570);const Jn=Xn.__("Beginning date must be before end date.");const Qn=(e,t,a)=>a=>{const{props:s}=t;if(a===""){return true}const n=s["data-calendar-id"]||null;const i=Ki(e,{selector:"props.data-calendar-id",value:n,match:"exact"});if(!i){return false}const o=we()(a);const r=we()(i.props.value.toString());const l=o.isValid()&&r.isValid()&&o.isAfter(r,"day");return l||Jn};var ei=a(26570);const ti=ei.__("This field has been validated too many times, please wait 2 minutes and try again.");var ai=a(26570);const si=(e,t,a)=>{const s=ai.__("This email is already being used.");return async a=>{if(!a){return true}const n={id:Nn(),userId:t.props["data-userid"]||null,email:a,action:"checkUserEmail"};const i=`${e.formData.memoizeKey}${Nn}${n.action}${n.email}`;const{isValid:o,isRateLimited:r}=await qn(se().post,n,null,i);if(r){return ti}return o||s}};var ni=a(26570);const ii=ni.__("This employee number is already being used.");const oi=(e,t,a)=>async e=>{if(!e){return true}const t={eeid:Nn(),value:e};const{isValid:a,isRateLimited:s}=await qn(se().get,t,"/ajax/check_unique_ee_number.php");if(s){return ti}return a||ii};var ri=a(67572);var li=a(26570);const ci=li.__("Value must be greater than 0");const di=(e,t,a)=>t=>{const s=!t||(0,ri.w)(t)>0;if(a.onlyIfTrax){if((0,h.hasTrax)()&&To(e)){return s}return true}return s||ci};const ui=(e,t,a)=>a=>{if(To(e)&&t&&Object.prototype.hasOwnProperty.call(t.props,"selectedValues")){const e=Wi(t);if(e){if(e?.props?.["data-invalid-payroll-option"]){return false}}}return true};var hi=a(26570);const pi=hi.__("Value must not start with a 0.");const mi=(e,t,a)=>e=>{const t=!e||!e.toString().startsWith("0");return t||pi};var fi=a(33098);var gi=a(26570);const vi=gi.__("Please select one Primary Contact");const _i=(e,t,a)=>async a=>{const s=document.getElementById(t.props.id);if(!Bn(s)){return true}const{validation:{setError:n,clearErrors:i}}=e;await(0,fi._)(100);const o=Vi(e,{selector:"props.className",value:"primaryContact"},{selector:"key",value:":idx:",match:"notIncludes"});const r=Object.keys(o).filter((e=>!!o[e]?.props?.checked));if(r.length>1){r.forEach((e=>{const t=o[e]?.props?.name;if(t){n(t,{type:"onePrimaryContact",message:vi})}}));return vi}i(Object.keys(o).map((e=>o[e]?.props?.name)));return true};const yi=(e,t,a)=>function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(To(e)&&t){const a=zi(e,fn.payType);if(a){const e=qi(a);if(e?.toLowerCase()==="salary"&&t?.toLowerCase()!=="year"){return false}}}return true};const bi=(e,t,a)=>t=>{const a=zi(e,fn.paidPer);const s=zi(e,fn.payRate);const n=zi(e,fn.payType);const i=n?qi(n):"";const o=s?.props?.value;const r=a?qi(a):false;return!!t||!o&&!r||i==="Hourly"&&!!o};var wi=a(26570);const Si=wi.__("SSN is not valid for the Selected Pay Schedule.");const Ci=(e,t,a)=>async t=>{const{validation:{trigger:a},formData:s}=e;if(!t){return true}if(!(0,h.hasTrax)()){return true}const n={id:Nn(),payScheduleId:null,payScheduleListValueId:t,action:"checkPayScheduleForEmployee",ssn:null};const i=zi(e,fn.ssn);if(i&&i.props&&i.props.value){n.ssn=i.props.value}const{isValid:o,isRateLimited:r}=await qn(se().post,n);if(r){return ti}if(!o){if(i&&i.props&&i.props.name){a(i.props.name)}}return o||Si};const xi=(e,t,a)=>e=>{if(e){const e=Wi(t);if(e&&e.text){const{maxLength:t=255}=a;const s=e.text.length;return s>t?a.message:true}}return true};var Ti=a(80962);var Ei=a(26570);const ki={};const Zi=(e,t,a)=>{const{action:s,check_field:n,friendly_name:i,message:o}=a;const r=(i||n).toUpperCase();return async e=>{if(!e||e===t?.settings?.initialValue){return true}if(ki?.[n]?.value===e){return ki?.[n].valid}const a={id:Nn(),check_field:n,action:s,[n]:e};let{isValid:i,isRateLimited:l}=await qn(se().post,a);if(l){return ti}if(!i){let e;const t=new Promise(((t,a)=>{e=t}));const a=Ei.__("There is already an employee with this %1 in the system. Are you sure you want to create another one?",r);const s=Ei.__("Duplicate %1",r);(0,Ti.U0)(s,a,e);i=await t}ki[n]={value:e,valid:i};return i||o}};let Fi=false;const Ii=(e,t,a)=>{const{action:s,check_field:n,message:i}=a;return async t=>{if(!t){return true}const a={id:Nn(),check_field:n,action:s,[n]:t,payScheduleListValueId:null};if((0,h.hasTrax)()){const t=Eo(e);if(t){a.payScheduleListValueId=t}}const{isValid:o,isRateLimited:r}=await qn(se().post,a);if(r){return ti}if(t==="001-00-0000"){if(!Fi&&!On()){Fi=true;(0,Ti.Ix)()}}else{Fi=false}if(o&&(0,h.hasTrax)()){const t=zi(e,fn.paySchedule);if(t){const{props:{name:a}}=t;const{validation:{clearErrors:s}}=e;s(a)}}return o||i}};var Ni=a(26570);const Ai=Ni.__("Please enter a valid US Zip code.");const Mi=(e,t,a)=>a=>{const{className:s,id:n}=t.props;if(!a){return true}if(!(0,h.hasTrax)()||s.includes("contact_zip")||!Bn(document.getElementById(n))){return true}const i=To(e);if(i){const e=(0,da.wU)(a);return e||Ai}return true};var Di=a(26570);const Pi=e=>{let t=true;const a=Di.__("There is missing information in Tax Withholding. Please check that all required fields are entered and all State Unemployment Insurance fields are filled out (if applicable).");const s=['[name^="fed[status"]','[name="state[optional][13]"]','[name="state[optional][48]"]','[name="state[location]"]','[name="uiState[location]"]','[name="uiState[optional][1]"]','[name="uiState[optional][2]"]','[name="uiState[optional][3]"]'];if(!e?.current){return t}const n=e.current.querySelectorAll(s.join(", "));if(!n||!n.length){return t}n.forEach((e=>{if(e&&!e.value.length){t=false}}));return t||a};function Li(e){let t;do{t=`add${Math.round(Math.random()*1e4)}`}while(document.getElementById(e.replace(":idx:",t)));return t}function Oi(e,t,a){const s=(0,Ma.cloneDeep)(a.formData[e]);const n=Hi(t,a);let i;try{i=JSON.stringify(n)}catch(a){console.error(`Dyanmic Form: unable to stringify template with container ${e} and template ${t}`);return false}const o=Li(t);i=i.replace(/:idx:/gi,o).replace("repeatPrototype","");try{i=JSON.parse(i)}catch(a){console.error(`Dyanmic Form: unable to parse template with container ${e} and template ${t}`);return false}const r=t.replace(":idx:",o);s.children.push(r);a.setFormData({...a.formData,...i,...{[s.props.id]:s}});return r}function Ri(e,t,a){const s=(0,Ma.cloneDeep)(a.formData[e]);const n=Hi(t,a);const i=(0,Ma.omit)(a.formData,Object.keys(n));s.children=s.children.filter((e=>e!==t));a.setFormData({...i,...{[s.props.id]:s}});const o=[];for(const e in n){if(n[e].props.name){const t=Mn(n[e].props.name);o.push(t)}}a.validation.unregister(o)}function Bi(){return!window.location.href.includes("contacts")}function $i(e){return{controls:dn,form:{isEditable:true,setIsEditable(e){this.isEditable=e}},formData:{},setFormData(e){if(typeof e==="function"){this.formData=e(this.formData)}else{this.formData=e}},validation:{},...e}}function ji(e){return{[e.props.id]:e}}function Hi(e,t){const a=(0,Ma.cloneDeep)(t.formData[e]);if(!a){console.error(`Dynamic Form: Unable to find field with id: ${e}`);return}let s={};if(Array.isArray(a.children)){const e=a.children.map((e=>Hi(e,t)));e.forEach((e=>{s={...s,...e}}))}return{[a.props.id]:a,...s}}const qi=e=>{if(!e){return undefined}const{props:{selectedValues:t=[]}}=e;if(t.length===0)return"";return t.length===1?t[0]:t};const Wi=e=>{const t=qi(e);if(t!==undefined){return e.props.items.find((e=>e.value==t))}return undefined};const Ui=(0,Ma.memoize)(((e,t)=>{const a=Ki(e,{selector:"props.className",value:t});return a?.props?.id}),((e,t)=>`${e?.formData?.memoizeKey}_${t}`));const zi=(e,t)=>{if(Object.values(qa).includes(t)){return(0,Ma.cloneDeep)(e.formData[t])}if(e.formData?.memoizeKey?.length&&t?.length){const a=Ui(e,t);if(a){return(0,Ma.cloneDeep)(e.formData[a])}}return Ki(e,{selector:"props.className",value:t})};function Vi(e){let t=e.formData;for(var a=arguments.length,s=new Array(a>1?a-1:0),n=1;n<a;n++){s[n-1]=arguments[n]}s.forEach((e=>{let{selector:a,match:s="includes",value:n}=e;if(a==="key"&&s==="exact"){const e=t[n];t=e?ji(e):{}}else{t=Object.keys(t).reduce(((e,i)=>{let o=false;if(a==="key"){if(s==="includes"&&i.includes(n)){o=true}else if(s==="notIncludes"&&!i.includes(n)){o=true}else if(s==="exact"&&i===n){o=true}}else{const e=(0,Ma.get)(t[i],a);if(e!==undefined){if(s==="includes"&&(typeof e==="string"||Array.isArray(e))&&e.includes(n)){o=true}else if(s==="notIncludes"&&(typeof e==="string"||Array.isArray(e))&&!e.includes(n)){o=true}else if(s==="exact"&&e===n){o=true}}}if(o){e[i]=t[i]}return e}),{})}}));return(0,Ma.cloneDeep)(t)}const Yi=(0,Ma.memoize)((function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}return Object.keys(Vi(e,...a))}),(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}return`${e?.formData?.memoizeKey}_${a.map((e=>Object.values(e).join(""))).join("_")}`}));const Gi=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}if(e.formData?.memoizeKey?.length&&a?.length){const t=Yi(e,...a);if(t?.length){const a={};t.forEach((t=>{a[t]=e.formData[t]}));return(0,Ma.cloneDeep)(a)}}return Vi(e,...a)};function Ki(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}const n=Vi(e,...a);const i=Object.keys(n)[0];if(typeof i!=="undefined"){return n[i]}return null}function Xi(e,t){const a=Object.keys(e.formData).find((a=>e.formData[a]?.children?.includes(t)));return a?e.formData[a]:null}function Ji(e,t){const a=Xi(e,t);if(a){for(var s=arguments.length,n=new Array(s>2?s-2:0),i=2;i<s;i++){n[i-2]=arguments[i]}const t=Ki(e,{selector:"key",value:a.props.id,match:"exact"},...n);if(!t){return Ji(e,a.props.id,...n)}return t}return null}function Qi(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++){s[n-2]=arguments[n]}const i=e.formData[t];if(i&&i.children&&i.children.length){let t={};i.children.forEach((a=>{const n=e.formData[a];if(n.children&&n.children.length){const n=Qi(e,a,...s);t={...t,...n}}if(n){t[a]=n}}));const a=$i({formData:(0,Ma.cloneDeep)(t)});return Vi(a,...s)}return null}function eo(e,t,a){const s=(0,Ma.cloneDeep)(e);for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++){i[o-3]=arguments[o]}const r=Ki($i({formData:s}),...i);if(!r){console.error(`Dynamic Form - Unable to add child, field not found`);return s}const l=Array.isArray(r.children)?r.children:[];if(a==="start"){l.unshift(t.props.id)}else{l.push(t.props.id)}r.children=l;s[t.props.id]=t;s[r.props.id]=r;return s}function to(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"hidden";const n=(0,Ma.cloneDeep)(e.formData);const i=$i({formData:n});const o={};const r={};const l={};const c=` ${s}`;const d=t=>{let s;if(typeof t==="string"){const e=t.replace("*","");const a=t.includes("*")?"includes":"exact";s=Vi(i,{selector:"key",value:e,match:a})}else{s=ji(t)}Object.keys(s).forEach((t=>{const n=s[t];if(n.props.id.includes(":idx:")){return false}if(n){n.settings.fieldBoxClasses=n.settings.fieldBoxClasses||"";n.props.className=n.props.className||"";if(a){if(t.startsWith("field")){n.settings.fieldBoxClasses+=c;n.props.className+=c}else{n.props.className+=c}}else{if(t.startsWith("field")){n.settings.fieldBoxClasses=n.settings.fieldBoxClasses.replaceAll(c,"");n.props.className=n.props.className.replaceAll(c,"")}else{n.props.className=n.props.className.replaceAll(c,"")}}o[n.props.id]=n;const s=Ji(e,t,{selector:"type",value:"FieldRow"});if(s){r[s.props.id]=s}}}))};const u=(t,a,s)=>{Object.keys(t).forEach((t=>{const n=Qi(e,t,{selector:"key",value:"field"});let i=0;Object.keys(n).forEach((e=>{if(!o[e]){i++}}));if(i===0){d(t);if(a&&s){const s=Ji(e,t,a);if(s){l[s.props.id]=s}}}}))};if(Array.isArray(t)){t.forEach(d)}else{Object.keys(t).forEach(d)}u(r,{selector:"type",value:"FieldSet"},l);u(l);return o}const ao=["INPUT","BUTTON","TEXTAREA","BA-SELECT","DIV"];const so=e=>{const{tagName:t=""}=e.target;if(!ao.includes(t)){return false}const a=e=>{if(e.querySelector(".fab-SelectToggle")?.classList?.contains("fab-SelectToggle--disabled")){return true}return e.getAttribute("disabled")!==null};if(a(e.target)){return false}if(t==="DIV"){const t=e.target.closest("ba-select, .fab-Select");if(t){if(a(t)){return false}}else{return false}}if(t==="LABEL"){const t=document.getElementById(e.target.getAttribute("for"));if(a(t)){return false}}if(t==="A"){return false}if(t==="BUTTON"){const t=e.target.closest(".DynamicForm--HoverBase__hint");if(t){return false}}return true};function no(e){const t={};Object.keys(e.formData).forEach((a=>{let s=e.formData[a];if(s.settings&&Object.prototype.hasOwnProperty.call(s.settings,"initialValue")&&!s.props.id.includes(":idx:")){s=(0,Ma.cloneDeep)(s);const{initialValue:e}=s.settings;if(Object.prototype.hasOwnProperty.call(s.props,"checked")){s.props.checked=!!e}else if(Object.prototype.hasOwnProperty.call(s.props,"selectedValues")){s.props.selectedValues=e}else{s.props.value=`${e}`}t[s.props.id]=s}}));e.setFormData((e=>({...e,...t})))}function io(e,t,a,s){let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;const i=(0,Ma.cloneDeep)(s.formData[t]);if(!i){console.error(`Dynamic Form - Unable to update value for field id: ${t}`);return}if(e==="text"||e==="textarea"){i.props.value=`${a}`}else if(e==="checkbox"||e==="radio"){i.props.checked=!!a}else if(e==="select"){let e=[];if(Array.isArray(a))e=a;if(typeof a==="string")e=[a];i.props.selectedValues=e}else if(e==="currency-object"){i.settings.currency=(0,Ma.cloneDeep)(a)}else if(e==="select-items"&&Array.isArray(a)){const e=(0,Ma.cloneDeep)(a);const t=i;t.props.items=e;const s=e.some((e=>e.value===t.props.selectedValues[0]));if(!s){t.props.selectedValues=[]}}if(n){s.setFormData((e=>({...e,...{[i.props.id]:i}})))}else{return i}}function oo(e,t,a,s,n){const i=(0,Ma.cloneDeep)(s.formData[e]);const o={};if(!i){console.error(`Dynamic Form - unable to update state field: ${e}`);return}let r=function(e){e[e["SELECT_FIELD"]=0]="SELECT_FIELD";e[e["TEXT_FIELD"]=1]="TEXT_FIELD";return e}({});let l=document.getElementById(e);let c="";let d;if(l?.value){c=l.value;d=r.TEXT_FIELD}else{l=document.querySelector(`#${e} select`);c=l?.value;d=r.SELECT_FIELD}if(a.subEntityOptions.length>0){i.type="SelectField";const e=a.subEntityOptions.map((e=>({text:e.name||e.text,value:e.value||e.id})));i.props.items=e;i.props.className=i.props.className.replaceAll("fab-TextInput","");i.props.isDisabled=!!i.props.disabled;if(n){i.props.selectedValues=Array.isArray(i.settings.initialValue)?i.settings.initialValue:[i.settings.initialValue]}else{i.props.selectedValues=d===r.SELECT_FIELD?[`${c}`]:[]}i.settings.type="select";i.props.type="select";i.props.placeholder=a.subEntityLabel}else{i.type="TextField";i.props.value=typeof i.settings.initialValue==="string"&&n?i.settings.initialValue:"";i.props.className+=" fab-TextInput";i.props.value=d===r.TEXT_FIELD?c:"";i.settings.type="text";i.props.type="text";delete i.props.isDisabled;delete i.props.selectedValues;delete i.props.items;delete i.props.placeholder}i.settings.label=a.subEntityLabel;i.props["aria-label"]=a.subEntityLabel;const u=(0,Ma.cloneDeep)(s.formData[t]);if(u){u.settings.label=a.postCodeLabel;u.props["aria-label"]=a.postCodeLabel;o[u.props.id]=u}o[i.props.id]=i;s.setFormData((e=>({...e,...o})))}function ro(e,t,a){const s=(0,Ma.cloneDeep)(a.formData[e]);if(!s||!s.props||!s.props.items){console.error(`Dynamic Form - Unable to add item for field id: ${e}`);return}s.props.items.push({text:t.text,value:t.value.toString()});if(t.selected){s.props.selectedValues=[t.value.toString()]}a.setFormData((e=>({...e,...{[s.props.id]:s}})))}function lo(e,t,a){const s=(0,Ma.cloneDeep)(a);const n=s[e];if(n){n.type=t}return s}function co(e,t){if(Array.isArray(e)){const a=cloneDeep(t);e.forEach((e=>{if(typeof e.filter==="string"){const t=a[e.filter];if(t){t.type=e.replacementType}}else if(typeof e.filter==="object"){const t=e.filter;Object.keys(t).forEach((s=>{const n=t[s];const i=a[n&&n.props&&n.props.id];if(i){i.type=e.replacementType}}))}}));return a}return t}function uo(e,t,a){const s=a.formData[e];const n=s&&s.children||[];const i={};n.map((e=>{const s=cloneDeep(a.formData[e]);if(s.type!==t){s.type=t;i[s.props.id]=s}return s}));if(Object.keys(i).length){a.setFormData((e=>({...e,...i})))}}const ho=(0,Ma.debounce)((e=>{const{formData:t,setFormData:a}=e;a((e=>({...e,forceRender:(0,h.makeUid)()})))}),200);const po=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const a=[".fab-Label--error",".fab-CheckboxGroup__legend--error",".fab-Textarea--error",".fab-TextInput--error",".fab-SelectToggle__innerFacade--errorCondition",".fab-FormNote--error",".DynamicForm--error"];const s=document.querySelector(a.join(","));if(s){const a=e||window;const n=e?0:window.scrollY;const i=s.getBoundingClientRect();a.scrollTo({top:i.top+n-t})}};const mo={"f-0":{type:"TextField",props:{id:"f-0",value:"blue",className:""},settings:{initialValue:"blue"},children:["1-2"]},"1-2":{type:"TextField",props:{id:"1-2"},settings:{}}};const fo={...(0,Ma.cloneDeep)(mo),"1-2":{type:"TextField",props:{id:"1-2"},settings:{},children:["1-3"]},"1-3":{type:"SelectField",props:{id:"1-3"},children:["1-4"],settings:{}},"1-4":{type:"StaticTemplate",props:{id:"1-4"},settings:{}}};let go=JSON.stringify((0,Ma.cloneDeep)(fo));go=go.replace(/1-2/gi,"1-2:idx:").replace(/1-3/gi,"1-3:idx:").replace(/1-4/gi,"1-4:idx:");const vo=JSON.parse(go);const _o={test_01:{type:"CheckboxField",props:{id:"test_01",checked:true},settings:{initialValue:true},children:[]}};const yo={test_02:{type:"SelectField",props:{id:"test_02",className:"",selectedValues:["2"],items:[{text:"test 2",value:"2"}]},settings:{initialValue:["2"]},children:[]}};const bo={"0-0":{type:"FieldSet",props:{id:"0-0"},settings:{},children:["0-1"]},"0-1":{type:"FieldRow",props:{id:"0-1"},settings:{},children:["field_1-2","field_1-3"]},"field_1-2":{type:"TextField",props:{id:"field_1-2"},settings:{}},"field_1-3":{type:"TextField",props:{id:"field_1-3"},settings:{}}};const wo={field_4204:{type:"CurrencyField",props:{type:"text",name:"field_4204[0]",id:"field_4204",className:"dynamic-field-react  fab-TextInput fab-TextInput--width5 currency-field  js-overtimeRate",value:"",disabled:false},settings:{initialValue:"",fieldBoxClasses:" spaced",currency:{code:"USD",symbol:"$",symbolPosition:0},label:"Overtime Rate",type:"currency",isCustomField:false}}};function So(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return createContext(e)}function Co(){return window.Employee&&window.Employee.payrollSynced}function xo(e){let t=false;const a=zi(e,fn.paySchedule);if(a){t=a.props.items.some((e=>e.props&&e.props["data-syncing-pay-schedule"]))}return t}function To(e){const t=zi(e,qa.payrollCheckbox);if(t){if(t.props.checked){return true}}const a=zi(e,fn.paySchedule);if(!a){return Co()}const{items:s}=a.props;const n=qi(a);const i=s.find((e=>e.value===n));if(i){return i.props&&i.props["data-syncing-pay-schedule"]}return false}function Eo(e){const t=zi(e,fn.paySchedule);let a;const s=zi(e,qa.payrollCheckbox);if(t){a=qi(t)}if(s&&t&&!a){const e=!!s.props.checked;const a=t.props.items.find((t=>t.props&&t.props["data-syncing-pay-schedule"]===e));if(a){return a.value}}return a}var ko=a(26570);const Zo=e=>{if(e===0||!(0,h.hasTrax)()){return null}const t=(Number(e)*1.33333333).toFixed(2);const a=ko.__("The double time rate is $%1.",t);return a};const Fo=e=>{if(e&&(0,h.hasTrax)()){const{value:t=0}=e.props;const{currency:{symbol:a="$",symbolPosition:s=0}}=e.settings;const n=(0,ri.w)((0,ri.l)(t,a));const i=(Number(n)*2).toFixed(2);const o=(Number(n)*1.5).toFixed(2);const r=s==0?`${a}${o}`:`${o}${a}`;const l=s==0?`${a}${i}`:`${i}${a}`;const c=ko.__("Overtime rate is %1 (1.5x), double-time rate is %2",r,l);return c}return null};function Io(e){const t={[fn.overtimeRate]:{show:false,note:null},[fn.overtimeStatus]:{note:null,nonExemptEmptyPay:false}};const a=zi(e,fn.payRate);const s=zi(e,fn.overtimeStatus);const n=zi(e,fn.payType);const i=zi(e,fn.overtimeRate);const o=zi(e,fn.paidPer);const r=qi(o);const l=s&&(qi(s)||"");const c=n&&(qi(n)||"");const d=(0,ri.w)(i?.props?.value);t[fn.overtimeRate].note=Zo(d);if(l?.toLowerCase()==="non-exempt"){if(!(0,h.hasTrax)()){t[fn.overtimeRate].show=true}else if(c?.toLowerCase()==="hourly"&&r==="Hour"&&a?.settings?.currency?.symbolPosition==0){t[fn.overtimeRate].show=false;t[fn.overtimeStatus].note=Fo(a)}else if(c==="Hourly"){t[fn.overtimeRate].show=false}else{t[fn.overtimeRate].show=true}if(a){const e=(0,ri.w)(a?.props?.value);if(e===0){t[fn.overtimeRate].show=false;t[fn.overtimeStatus].note=ko.__("Non-exempt requires a Pay Rate higher than $0.00");t[fn.overtimeStatus].nonExemptEmptyPay=true}}}else{t[fn.overtimeRate].show=false}return t}},71775:(e,t,a)=>{"use strict";a.d(t,{Q:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(17842);var l=a.n(r);function c(e){return e.map((e=>({header:e.name,fieldId:e.fieldId,key:e.fieldId,sortBy:t=>t[e.fieldId].value.toString().toLowerCase(),cell:t=>{let a=(0,s.Z)("span",{},void 0,t[e.fieldId].value);if(t[e.fieldId].type==="name"){a=(0,s.Z)("a",{href:`/employees/employee.php?id=${t.id.value}`},void 0,t[e.fieldId].value)}return a}})))}var d=a(41599);var $=a(26570);const u=e=>{const{isOpen:t,onClose:a,title:r,listId:u,listValueId:h,employeeIds:p,subtitle:m}=e;const f=(0,d.Z)();const[g,v]=(0,n.useState)(true);const[y,b]=(0,n.useState)([]);const[w,S]=(0,n.useState)([]);const[C,x]=(0,n.useState)(0);const[T,E]=(0,n.useState)(false);const[k,Z]=(0,n.useState)(0);const[F,I]=(0,n.useState)(0);const N=(0,n.useRef)(false);const A="pay_group";const[M,D]=(0,n.useState)(true);(0,n.useEffect)((()=>{D(t)}),[t]);const P=()=>{D(false)};function L(){a();b([]);S([])}(0,n.useEffect)((()=>{E(C>k)}),[C,k]);const O=e=>{const{columns:t,employeeResults:a,totalNumberOfEmployees:s,pagination:n}=e.data;b(c(t));S(w.concat(a));x(s);Z(a.length+k);I(n.next);N.current=false};const R=()=>{if(N.current){return}N.current=true;if(u&&h){l().post("/employees/list/filter/list_value",{list_id:u===A?A:+u,list_value_id:+h,page:F}).then(O).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{v(false)}))}else if(p?.length){l().post("/employees/list/filter/employee_ids",{employee_ids:p,page:F}).then(O).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{v(false)}))}};const B=()=>{v(true);if(u&&h){l().post("/employees/list/filter/list_value",{list_id:u===A?A:+u,list_value_id:+h}).then(O).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{v(false)}))}else if(p?.length){l().post("/employees/list/filter/employee_ids",{employee_ids:p}).then(O).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{v(false)}))}else{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error");P()}};return(0,s.Z)(o.StandardModal,{isOpen:t&&M,onOpenComplete:B,onRequestClose:P,onCloseComplete:L},void 0,(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{onClick:P,type:"button"},"button",$.__("Done"))]}),renderHeader:(0,s.Z)(o.StandardModal.Header,{hasCloseButton:true,title:r})},void 0,(0,s.Z)(o.StandardModal.StandardHeadline,{icon:"fab-employees-18x15",text:`${m} ${C?`(${C})`:""}`}),(0,s.Z)("div",{className:f.modalBody,id:"employee_list_modal_body"},void 0,g?(0,s.Z)(o.Loader,{}):i().createElement(i().Fragment,null,(0,s.Z)(o.Table,{caption:`${r} - ${m}`,columns:y,rowKey:e=>e.id.value,rows:w}),T&&(0,s.Z)(o.ProgressiveLoader,{hasMore:T,loadMore:R,loader:(0,s.Z)(o.Loader,{small:true}),preloadUntilScroll:true,wrapper:"#employee_list_modal_body"})))))}},96040:(e,t,a)=>{"use strict";a.d(t,{w:()=>m});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(21198);var l=a(59155);var c=a(44816);var d=a(17145);class u extends(null&&Component){static get className(){return"ListItem"}constructor(e){super(e);_defineProperty(this,"_handleClick",(()=>{this.setState((e=>({selected:!e.selected})));this.props.onItemClick(this.props.item)}));this.state={selected:false}}render(){const e=classNameFromObject({EmployeeSelectorReact__list__item:!this.state.selected,"EmployeeSelectorReact__list__item--selected":this.state.selected,baseBgColor:this.state.selected});const t=classNameFromObject({EmployeeSelectorReact__list__item__textRight:true,"EmployeeSelectorReact__list__item__textRight--selected":this.state.selected});return _jsx("li",{className:e,onClick:this._handleClick},void 0,this.props.displayText," ",_jsx("span",{className:t},void 0,this.props.displayTextRight))}}var h=a(56445);var $=a(26570);class p extends(null&&Component){static get className(){return"EmployeeSelector"}constructor(e){super(e);_defineProperty(this,"_handleAvailableClick",(e=>{const t=this.state.availableEmployees.slice(0);const a=t.indexOf(e);if(a===-1){t.push(e);this.setState({availableEmployees:t})}else{t.splice(a,1);this.setState({availableEmployees:t})}}));_defineProperty(this,"_handleSelectedClick",(e=>{const t=this.state.selectedEmployees.slice(0);const a=t.indexOf(e);if(a===-1){t.push(e);this.setState({selectedEmployees:t})}else{t.splice(a,1);this.setState({selectedEmployees:t})}}));_defineProperty(this,"_handleAllEmployeesSelect",(()=>{const e=this.props.selectedEmployeeList.slice(0);let t=this.state.employees.slice(0);if(t.length>0){t=e.concat(t);this.props.onListChange(t);this.setState({employees:[],availableEmployees:[],selectedEmployees:[]})}}));_defineProperty(this,"_handleEmployeesSelect",(()=>{let e=this.state.availableEmployees.slice(0);if(e.length>0){const t=this.state.employees.slice(0);const a=t.filter((t=>e.indexOf(t)===-1));const s=this.props.selectedEmployeeList.concat(e);this.props.onListChange(s);this.setState({employees:a,availableEmployees:[]})}}));_defineProperty(this,"_handleAllEmployeesDeselect",(()=>{const e=this.state.employees.slice(0);let t=this.props.selectedEmployeeList.slice(0);if(t.length>0){t=e.concat(t);this.props.onListChange([]);this.setState({employees:t,availableEmployees:[],selectedEmployees:[]})}}));_defineProperty(this,"_handleEmployeesDeselect",(()=>{const e=this.state.selectedEmployees.slice(0);if(e.length>0){const t=this.props.selectedEmployeeList.slice(0);const a=t.filter((t=>e.indexOf(t)===-1));const s=this.state.employees.concat(e);this.props.onListChange(a);this.setState({employees:s,selectedEmployees:[]})}}));_defineProperty(this,"_handleAddSecondFilter",(()=>{this.setState((e=>({showAddButton:false,showSecondFilter:!e.showSecondFilter})))}));_defineProperty(this,"_formatEmployeeFilters",(()=>{const e=this.props.employeeFilters.slice(0);let t=[];e.forEach(((e,a)=>{let s={displayText:e.name,key:e.key};let n=[];if(e.options){for(let t in e.options){let a={displayText:e.options[t],value:t};if(this.state.firstSelectedFilter[t]){a.selected=true}n.push(a)}s.items=n}t.push(s)}));return t}));_defineProperty(this,"_onFilterSelect",((e,t)=>{const a=this.props.employeeList.filter((e=>this.props.selectedEmployeeList.indexOf(e)===-1));if(e===undefined){this.setState({firstSelectedFilter:{},secondSelectedFilter:{},employees:a,filteredEmployees:a,showAddButton:false,showSecondFilter:false})}else{const s=e.value;const n=t.parentItem.key;let i=[];for(let e in a){if(a[e][n]===s){i.push(a[e])}}this.setState({firstSelectedFilter:{[e.value]:{displayText:e.displayText,key:t.parentItem.key}},secondSelectedFilter:{},employees:i,filteredEmployees:i,showAddButton:true,showSecondFilter:false})}}));_defineProperty(this,"_populateFilterSelect",(()=>{const e={items:this._formatEmployeeFilters()};const t={placeholder:$.__("All Employees"),grow:true,showSearch:"never"};return{className:"EmployeeSelectorReact__filters__select",data:e,settings:t,onChange:this._onFilterSelect}}));_defineProperty(this,"_formatSecondEmployeeFilters",(()=>{const e=this.props.employeeFilters.slice(0);const t=this.state.firstSelectedFilter;let a=[];e.forEach(((e,s)=>{if(e.key!==t[Object.keys(t)[0]].key){let t={displayText:e.name,key:e.key};let s=[];if(e.options){for(let t in e.options){let a={displayText:e.options[t],value:t};if(this.state.secondSelectedFilter[t]){a.selected=true}s.push(a)}t.items=s}a.push(t)}}));return a}));_defineProperty(this,"_onSecondFilterSelect",((e,t)=>{const a=this.props.employeeList.filter((e=>this.props.selectedEmployeeList.indexOf(e)===-1));const s=this.state.firstSelectedFilter;const n=s[Object.keys(s)[0]].key;const i=Object.keys(s)[0];let o=[];for(let e in a){if(a[e][n]===i){o.push(a[e])}}if(e===undefined){this.setState({secondSelectedFilter:{},employees:o,filteredEmployees:o,showAddButton:true,showSecondFilter:false})}else{const a=e.value;const s=t.parentItem.key;let n=[];for(let e in o){if(o[e][s]===a){n.push(o[e])}}this.setState((a=>({secondSelectedFilter:{[e.value]:{displayText:e.displayText,key:t.parentItem.key}},employees:n,filteredEmployees:n})))}}));_defineProperty(this,"_populateSecondFilterSelect",(()=>{const e={items:this._formatSecondEmployeeFilters()};const t={grow:true,showSearch:"never"};return{className:"EmployeeSelectorReact__filters__select",data:e,settings:t,onChange:this._onSecondFilterSelect}}));_defineProperty(this,"_sortEmployees",(e=>{const t=e.sort(((e,t)=>e.lastName.localeCompare(t.lastName)));return t}));_defineProperty(this,"_handleSearch",(e=>{const{filteredEmployees:t}=this.state;const{selectedEmployeeList:a}=this.props;const s=t.filter((e=>a.indexOf(e)===-1));const n=e.target.value.toLowerCase();const i=s.filter((e=>{if(e.firstName.toLowerCase().indexOf(n)===0||e.lastName.toLowerCase().indexOf(n)===0||e.displayName.toLowerCase().indexOf(n)===0){return true}return false}));this.setState({searchValue:e.target.value,employees:i})}));_defineProperty(this,"_handleSearchFocus",(()=>{this.setState({searchFocused:true})}));_defineProperty(this,"_handleSearchBlur",(()=>{const{searchValue:e}=this.state;if(e===""){this.setState({searchFocused:false})}}));this.state={employees:e.employeeList,filteredEmployees:e.employeeList,availableEmployees:[],selectedEmployees:[],firstSelectedFilter:{},secondSelectedFilter:{},showAddButton:false,showSecondFilter:false,searchFocused:false,searchValue:""}}render(){const{employees:e,searchFocused:t,searchValue:a,showAddButton:s,showSecondFilter:n}=this.state;const{rowTextRight:i,selectedEmployeeList:o}=this.props;const r=this._sortEmployees(e.slice(0));const l=r.map((e=>_jsx(ListItem,{displayText:e.displayName,displayTextRight:e[i],item:e,onItemClick:this._handleAvailableClick},e.id)));const c=this._sortEmployees(o.slice(0));const d=c.map((e=>_jsx(ListItem,{displayText:e.displayName,displayTextRight:e[i],item:e,onItemClick:this._handleSelectedClick},e.id)));return _jsx("div",{className:"EmployeeSelectorReact"},void 0,_jsx("div",{className:"EmployeeSelectorReact__container"},void 0,_jsx("p",{className:"EmployeeSelectorReact__title"},void 0,$.__("Available Employees")),_jsx("div",{className:"EmployeeSelectorReact__wrapper"},void 0,_jsx("div",{className:"EmployeeSelectorReact__filters"},void 0,React.createElement(Select,this._populateFilterSelect()),s?_jsx("div",{className:"EmployeeSelectorReact__link--add baseBorderColor--hoverBefore childHover",onClick:this._handleAddSecondFilter},void 0,_jsx("span",{className:"EmployeeSelectorReact__link--addIco childHoverBackgroundColor--before childHoverBackgroundColor--after"})):_jsx("div",{className:"EmployeeSelectorReact__filters__plus"},void 0,n&&_jsx("span",{},void 0,"+")),n&&React.createElement(Select,this._populateSecondFilterSelect())),_jsx("div",{className:"EmployeeSelectorReact__searchContainer"},void 0,_jsx("input",{className:"EmployeeSelectorReact__search",onBlur:this._handleSearchBlur,onChange:this._handleSearch,onFocus:this._handleSearchFocus,placeholder:$.__("Search..."),type:"text",value:a}),_jsx("div",{className:co({EmployeeSelectorReact__searchIcon:true,baseFillColor:t})},void 0,_jsx(Icon,{name:"magnifying-glass-16x16"}))),_jsx("ul",{className:"EmployeeSelectorReact__list"},void 0,l))),_jsx("div",{className:"EmployeeSelectorReact__buttons"},void 0,_jsx("div",{className:"EmployeeSelectorReact__btn",onClick:this._handleAllEmployeesSelect}),_jsx("div",{className:"EmployeeSelectorReact__btn EmployeeSelectorReact__btn--one",onClick:this._handleEmployeesSelect}),_jsx("div",{className:"EmployeeSelectorReact__btn EmployeeSelectorReact__btn--left EmployeeSelectorReact__btn--one",onClick:this._handleEmployeesDeselect}),_jsx("div",{className:"EmployeeSelectorReact__btn EmployeeSelectorReact__btn--left",onClick:this._handleAllEmployeesDeselect})),_jsx("div",{className:"EmployeeSelectorReact__container"},void 0,_jsx("p",{className:"EmployeeSelectorReact__title"},void 0,$.__("Selected Employees")),d.length===0?_jsx("div",{className:"EmployeeSelectorReact__wrapper EmployeeSelectorReact__wrapper--empty",id:"js-empty-list"},void 0,_jsx("img",{alt:"Add Employees",src:"/images/settings/new_benefit/plex-blank-state.png"}),_jsx("p",{},void 0,$.__(`You haven't added any employees yet.`))):_jsx("div",{className:"EmployeeSelectorReact__wrapper",id:"js-selected-employee-list"},void 0,_jsx("ul",{className:"EmployeeSelectorReact__list--selected"},void 0,d))))}}class m extends i.Component{static get className(){return"TheNewEmployeeSelector"}constructor(e){super(e);(0,n.Z)(this,"_filterAndPlace",(()=>{let{employees:e,rowKey:t,isRowSelected:a,sort:s}=this.props;const{leftHighlightedKeys:n}=this.state;e=e.sort(s);const[i,o]=g(e,a);const r={};const l=o.filter(this._isNotFiltered);l.forEach((e=>{const a=t(e);if(n[a]){r[a]=true}}));this.setState({availableEmployees:l,selectedEmployees:i,leftHighlightedKeys:r})}));(0,n.Z)(this,"_sortFilters",((e,t)=>{if(e.text&&t.text){const a=e.text.toUpperCase();const s=t.text.toUpperCase();if(a<s){return-1}if(a>s){return 1}}return 0}));(0,n.Z)(this,"_createFirstFilterSettings",(()=>{const{filters:e}=this.props;const{firstFilter:t,showSecondFilter:a}=this.state;const s=(0,h.isEnabled)("encore")?100:6;const n={onClear:this._handleFirstFilterCleared,onSelect:this._handleFirstFilterSelect,placeholder:$.__("All Employees"),showSearch:"never",size:"small",width:a?4:s};if(t){n.items=t.items;n.selectedValues=t.selectedValues}else{n.items=e.map((e=>{const{key:t,name:a,options:s}=e;return{key:t,text:a,items:Object.keys(e.options).reduce(((e,t)=>{e.push({text:s[t],value:t});return e}),[]).sort(this._sortFilters)}}))}return n}));(0,n.Z)(this,"_createSecondFilterSettings",(()=>{const{filters:e}=this.props;const{firstFilter:t,secondFilter:a}=this.state;const s={onClear:this._handleSecondFilterCleared,onSelect:this._handleSecondFilterSelect,placeholder:$.__("-- Select --"),showSearch:"never",size:"small",width:4};if(a){s.items=a.items;s.selectedValues=a.selectedValues}else{s.items=e.filter((e=>e.key!==t.parentKey)).map((e=>{const{key:t,name:a,options:s}=e;return{key:t,text:a,items:Object.keys(e.options).reduce(((e,t)=>{e.push({text:s[t],value:t});return e}),[]).sort(this._sortFilters)}}))}return s}));(0,n.Z)(this,"_createRowMeta",(e=>{const{rowKey:t,mainContent:a,secondaryContent:s,secondaryContentIcon:n,isRowDisabled:i,rowDisabledTooltip:o}=this.props;return{key:t(e),main:a(e),secondary:s(e),secondaryIcon:n(e),isDisabled:i(e),disabledTooltipContent:o(e)}}));(0,n.Z)(this,"_isNotFiltered",(e=>{const{firstFilter:t,secondFilter:a,searchValue:s}=this.state;const n=s.toLowerCase().trim();const i=t?String(e[t.parentKey])===t.selectedValues[0]:true;if(!i){return false}const o=a?String(e[a.parentKey])===a.selectedValues[0]:true;if(!o){return false}const r=e.firstName.toLowerCase().indexOf(n)===0||e.lastName.toLowerCase().indexOf(n)===0||e.displayName.toLowerCase().indexOf(n)===0||e.lastNameFirstName.toLowerCase().indexOf(n)===0;if(!r){return false}return true}));(0,n.Z)(this,"_handleFirstFilterSelect",((e,t,a)=>{const{firstFilter:s}=this.state;this.setState({firstFilter:{parentKey:a.parentItem?a.parentItem.key:s.parentKey,items:a.parentItem?a.parentItem.items:s.items,selectedValues:[e]}},this._filterAndPlace)}));(0,n.Z)(this,"_handleFirstFilterCleared",(()=>{const{secondFilter:e}=this.state;const t=e?e:null;this.setState({firstFilter:t,secondFilter:null,showSecondFilter:false},this._filterAndPlace)}));(0,n.Z)(this,"_handleSecondFilterSelect",((e,t,a)=>{const{secondFilter:s}=this.state;this.setState({secondFilter:{parentKey:a.parentItem?a.parentItem.key:s.parentKey,items:a.parentItem?a.parentItem.items:s.items,selectedValues:[e]}},this._filterAndPlace)}));(0,n.Z)(this,"_handleSecondFilterCleared",(()=>{this.setState({secondFilter:null,showSecondFilter:false},this._filterAndPlace)}));(0,n.Z)(this,"_handleAddFilter",(()=>{this.setState({showSecondFilter:true})}));(0,n.Z)(this,"_handleSearchFocus",(()=>{this.setState({searchFocused:true})}));(0,n.Z)(this,"_handleSearchBlur",(()=>{this.setState({searchFocused:false})}));(0,n.Z)(this,"_handleSearchChange",(e=>{this.setState({searchValue:e.target.value},this._filterAndPlace)}));(0,n.Z)(this,"_handleRowClick",((e,t,a,s,n)=>{const{rowKey:i,isRowDisabled:o}=this.props;const{availableEmployees:r,selectedEmployees:l}=this.state;if(s){return}const{leftHighlightedKeys:c,rightHighlightedKeys:d}=this.state;let u=t?c:d;let h=t?r:l;if(e.shiftKey&&this.lastRowKeyUsed&&this.lastRowKeyUsed!==a&&this.leftSideUsedLast===t){const e=[];let t=false;for(let s=0;s<h.length;s++){const n=i(h[s]);const r=o(h[s]);if(!r&&t){e.push(n)}if(!r&&(n===a||n===this.lastRowKeyUsed)){if(t){break}e.push(n);t=true}}e.forEach((e=>{u[e]=!n}))}else if(e.metaKey||e.altKey||e.ctrlKey){u[a]=!n}else{u={[a]:true}}this.lastRowKeyUsed=a;this.leftSideUsedLast=t;this.setState({[t?"leftHighlightedKeys":"rightHighlightedKeys"]:u})}));(0,n.Z)(this,"_onClickAddAll",(()=>{const{onSelect:e,isRowDisabled:t}=this.props;const{availableEmployees:a,leftHighlightedKeys:s}=this.state;const n=a.filter((e=>!t(e)));if(n.length===0){return}e(n);this.setState({leftHighlightedKeys:{},rightHighlightedKeys:s})}));(0,n.Z)(this,"_onClickAddHighlighted",(()=>{const{onSelect:e,isRowDisabled:t,rowKey:a}=this.props;const{availableEmployees:s,leftHighlightedKeys:n}=this.state;const i=s.filter((e=>!t(e)&&n[a(e)]));if(i.length===0){return}e(i);this.setState({leftHighlightedKeys:{},rightHighlightedKeys:n})}));(0,n.Z)(this,"_onClickRemoveHighlighted",(()=>{const{onDeselect:e,isRowDisabled:t,rowKey:a}=this.props;const{selectedEmployees:s,rightHighlightedKeys:n}=this.state;const i=s.filter((e=>!t(e)&&n[a(e)]));if(i.length===0){return}e(i);this.setState({rightHighlightedKeys:{},leftHighlightedKeys:n})}));(0,n.Z)(this,"_onClickRemoveAll",(()=>{const{onDeselect:e,isRowDisabled:t}=this.props;const{rightHighlightedKeys:a,selectedEmployees:s}=this.state;const n=s.filter((e=>!t(e)));if(n.length===0){return}e(n);this.setState({rightHighlightedKeys:{},leftHighlightedKeys:a})}));let{employees:t,isRowSelected:a,sort:s}=this.props;this.leftSideUsedLast=false;this.lastRowKeyUsed=null;t=t.sort(s);const[i,o]=g(t,a);this.state={availableEmployees:o,selectedEmployees:i,firstFilter:null,secondFilter:null,showSecondFilter:false,searchFocused:false,searchValue:"",leftHighlightedKeys:{},rightHighlightedKeys:{}}}componentDidUpdate(e,t,a){const{employees:s}=this.props;if(s!==e.employees){this._filterAndPlace()}}render(){let{filters:e=[],rowDisabledTooltip:t,showSearch:a=true}=this.props;const{availableEmployees:n,selectedEmployees:c,leftHighlightedKeys:u,rightHighlightedKeys:p,searchFocused:m,searchValue:g,firstFilter:v,showSecondFilter:y}=this.state;return(0,s.Z)("div",{className:"EmployeeSelectorReact"},void 0,(0,s.Z)("div",{className:"EmployeeSelectorReact__container"},void 0,(0,s.Z)("div",{className:"EmployeeSelectorReact__title"},void 0,$.__("Available Employees")),(0,s.Z)("div",{className:"EmployeeSelectorReact__wrapper"},void 0,e.length>0&&(0,s.Z)("div",{className:"EmployeeSelectorReact__selects"},void 0,o().createElement(l.Select,this._createFirstFilterSettings()),!!v&&!y&&(0,s.Z)("div",{className:"EmployeeSelectorReact__addSelectIcon",onClick:this._handleAddFilter},void 0,(0,s.Z)(l.Icon,{name:"fab-circle-plus-14x14"})),y&&(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("div",{className:"EmployeeSelectorReact__plusSelectIcon"},void 0,"+"),o().createElement(l.Select,this._createSecondFilterSettings()))),a&&(0,s.Z)("div",{className:"EmployeeSelectorReact__searchContainer"},void 0,(0,h.ifFeature)("encore",(0,s.Z)(l.TextField,{onBlur:this._handleSearchBlur,onChange:this._handleSearchChange,onFocus:this._handleSearchFocus,placeholder:$.__("Search..."),value:g,size:"small",InputProps:{startAdornment:(0,s.Z)(l.Nub,{position:"start"},void 0,(0,s.Z)(l.IconV2,{name:"magnifying-glass-solid",size:16,color:"neutral-weak"}))}}),(0,s.Z)("input",{className:"EmployeeSelectorReact__searchInput",onBlur:this._handleSearchBlur,onChange:this._handleSearchChange,onFocus:this._handleSearchFocus,placeholder:$.__("Search..."),type:"text",value:g})),(0,h.ifFeature)("encore","",(0,s.Z)("div",{className:"EmployeeSelectorReact__searchInputIcon"},void 0,(0,s.Z)(l.Icon,{brand:m,name:"fab-mag-glass-16x16"})))),(v||g)&&n.length===0&&(0,s.Z)("div",{className:"EmployeeSelectorReact__noFilterMatchBlankState"},void 0,$.__("No employees match this filter.")),n.length>0&&(0,s.Z)("div",{className:"EmployeeSelectorReact__listContainer"},void 0,(0,s.Z)("ul",{className:"EmployeeSelectorReact__list"},void 0,n.map((e=>{const{key:t,main:a,secondary:n,secondaryIcon:i,isDisabled:o,disabledTooltipContent:c}=this._createRowMeta(e);const h=u[t];return(0,s.Z)(f,{condition:o&&c,wrap:e=>(0,s.Z)(d.Z,{settings:{content:c}},void 0," ",e," ")},t,(0,s.Z)("li",{className:(0,r.classNameFromObject)("EmployeeSelectorReact__listItem",{"EmployeeSelectorReact__listItem--disabled":o,"EmployeeSelectorReact__listItem--highlighted":h}),onClick:e=>this._handleRowClick(e,true,t,o,h)},void 0,(0,s.Z)("div",{className:"EmployeeSelectorReact__listItem__mainContent"},void 0,a),n&&(0,s.Z)("span",{className:(0,r.classNameFromObject)("EmployeeSelectorReact__listItem__textRight",{"EmployeeSelectorReact__listItem__textRight--highlighted":h})},void 0,i&&(0,s.Z)("span",{className:(0,r.classNameFromObject)("EmployeeSelectorReact__listItem__textRightIcon",{"EmployeeSelectorReact__listItem__textRightIcon--highlighted":h})},void 0,(0,s.Z)(l.Icon,{name:i})),n)))})))))),(0,s.Z)("div",{className:"EmployeeSelectorReact__buttons"},void 0,(0,s.Z)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,h.ifFeature)("encore",(0,s.Z)(l.Button,{onClick:this._onClickAddAll,icon:(0,s.Z)(l.IconV2,{color:"neutral-strong",name:"chevrons-right-regular",size:16}),outline:true,secondary:true,size:"teenie",type:"button"}),(0,s.Z)(l.Button,{clickAction:this._onClickAddAll,icon:"fab-double-chevron-right-14x11",outline:true,secondary:true,size:"teenie",type:"button",width:1}))),(0,s.Z)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,h.ifFeature)("encore",(0,s.Z)(l.Button,{onClick:this._onClickAddHighlighted,icon:(0,s.Z)(l.IconV2,{color:"neutral-strong",name:"chevron-right-regular",size:16}),outline:true,secondary:true,size:"teenie",type:"button"}),(0,s.Z)(l.Button,{clickAction:this._onClickAddHighlighted,icon:"fab-chevron-right-7x11",outline:true,secondary:true,size:"teenie",type:"button",width:1}))),(0,s.Z)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,h.ifFeature)("encore",(0,s.Z)(l.Button,{onClick:this._onClickRemoveHighlighted,icon:(0,s.Z)(l.IconV2,{color:"neutral-strong",name:"chevron-left-regular",size:16}),outline:true,secondary:true,size:"teenie",type:"button"}),(0,s.Z)(l.Button,{clickAction:this._onClickRemoveHighlighted,icon:"fab-chevron-left-7x11",outline:true,secondary:true,size:"teenie",type:"button",width:1}))),(0,s.Z)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,h.ifFeature)("encore",(0,s.Z)(l.Button,{onClick:this._onClickRemoveAll,icon:(0,s.Z)(l.IconV2,{color:"neutral-strong",name:"chevrons-right-regular",size:16}),outline:true,secondary:true,size:"teenie",type:"button"}),(0,s.Z)(l.Button,{clickAction:this._onClickRemoveAll,icon:"fab-double-chevron-left-14x11",outline:true,secondary:true,size:"teenie",type:"button",width:1})))),(0,s.Z)("div",{className:"EmployeeSelectorReact__container"},void 0,(0,s.Z)("p",{className:"EmployeeSelectorReact__title"},void 0,$.__("Selected Employees")),(0,s.Z)("div",{className:"EmployeeSelectorReact__wrapper"},void 0,c.length>0&&(0,s.Z)("div",{className:"EmployeeSelectorReact__listContainer"},void 0,(0,s.Z)("ul",{className:"EmployeeSelectorReact__list"},void 0,c.map((e=>{const{key:t,main:a,secondary:n,isDisabled:i}=this._createRowMeta(e);const o=p[t];return(0,s.Z)("li",{className:(0,r.classNameFromObject)("EmployeeSelectorReact__listItem",{"EmployeeSelectorReact__listItem--disabled":i,"EmployeeSelectorReact__listItem--highlighted":o}),onClick:e=>this._handleRowClick(e,false,t,i,o)},t,(0,s.Z)("div",{className:"EmployeeSelectorReact__listItem__mainContent"},void 0,a),n&&(0,s.Z)("span",{className:(0,r.classNameFromObject)("EmployeeSelectorReact__listItem__textRight",{"EmployeeSelectorReact__listItem__textRight--highlighted":o})},void 0,"   ",n))})))),c.length===0&&(0,s.Z)("div",{className:"EmployeeSelectorReact__rightBlankState"},void 0,(0,s.Z)("div",{className:"EmployeeSelectorReact__rightBlankStateIcon"},void 0,(0,h.ifFeature)("encore",(0,s.Z)(l.IconV2,{color:"neutral-medium",name:"circle-user-regular",size:60}),(0,s.Z)(l.Icon,{name:"fab-person-lined-72x72"}))),$.__(`You haven't added any employees yet.`)))))}}(0,n.Z)(m,"defaultProps",{isRowDisabled:e=>e.disabled,isRowSelected:e=>e.selected,mainContent:e=>e.lastNameFirstName,rowKey:e=>e.id,rowDisabledTooltip:()=>null,secondaryContent:()=>null,secondaryContentIcon:()=>null,showSearch:true,sort:(e,t)=>e.lastName.localeCompare(t.lastName)||e.firstName.localeCompare(t.firstName)});function f(e){let{condition:t,wrap:a,children:s}=e;return t?a(s):s}function g(e,t){const a=[];const s=[];for(let n=0;n<e.length;n++){const i=e[n];(t(i)?a:s).push(i)}return[a,s]}},91313:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);const l="EmployeesList";function c(e){const{employees:t,title:a}=e;return(0,s.Z)("div",{className:l},void 0,(0,s.Z)("div",{className:`${l}__header`},void 0,(0,s.Z)(o.Icon,{name:"fab-people-20x16"}),(0,s.Z)("span",{className:`${l}__header--title`},void 0,a)),(0,s.Z)("ul",{className:`${l}__list`},void 0,t.map(((e,t)=>{const{name:a,imageUrl:n}=e;const i=`${a}-${t}`;return(0,s.Z)("li",{},i,(0,s.Z)("img",{alt:"Employee",src:n}),(0,s.Z)("span",{},void 0,a))}))))}t["Z"]=c},89998:(e,t,a)=>{"use strict";a.d(t,{p:()=>E,Y:()=>x});var s=a(89835);var n=a(23321);var i=a(98675);var o=a(50299);var r=a(2885);function l(e){const{id:t,label:a,onChange:n,selectedValue:i,value:o}=e;return(0,s.Z)("div",{className:"fab-Radio"},void 0,(0,s.Z)("input",{checked:i===o,className:"fab-Radio__input",id:t,onChange:n,type:"radio",value:o}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:t},void 0,a))}const c={name:false,acaStatus:false,fte:false};const d={name:"",acaStatus:"",fte:""};var u=a(17842);var h=a.n(u);function p(e){if(!e){return d}return{name:m(e.name),acaStatus:m(e.acaStatus),fte:m(e.fte),changeHistory:"history"}}function m(e){return e===null||e===undefined?"":e}function f(e,t,a,s){let n;if(e){n=h().prepareData({action:"Update",ajax:1,changeHistory:s.changeHistory,listValueId:a,id:t,acaStatus:s.acaStatus===""?null:s.acaStatus,value:s.name,FTEValue:s.fte},h().prepareDataTypes.FORM_DATA)}else{n=h().prepareData({action:"Add",ajax:1,id:t,acaStatus:s.acaStatus===""?null:s.acaStatus,label:s.name},h().prepareDataTypes.FORM_DATA)}return h().post("/settings/list.php",n)}function g(){window.location.reload()}function v(e){return e.data&&e.data.ret==="SAVED"}function y(e,t){return{fte:!S(e.fte),name:!w(e.name),acaStatus:t?!w(e.acaStatus):false}}function b(e){return e.name||e.acaStatus||e.fte}function w(e){return e!==""}function S(e){if(!e){return true}const t=window.getFloatFromStringJS(e);return!isNaN(t)&&t<=1&&t>=0}function C(e){const t=(0,n.useRef)();(0,n.useEffect)((()=>{t.current=e}),[e]);return t.current}var $=a(26570);function x(e){const{acaStatuses:t,initialValues:a,isEdit:i,isProcessing:d,postFormData:u,setIsProcessing:h,showAcaStatus:m,showChangeHistory:f}=e;const[g,v]=(0,n.useState)((()=>p(a)));const[w,S]=(0,n.useState)(c);const x=C(d);(0,n.useEffect)((()=>{if(!x&&d){const e=y(g,m);S({...e});if(b(e)){h(false)}else{u(g)}}}),[x,d,g,u,h,m]);const T=e=>{v({...g,name:e.target.value})};const E=e=>{v({...g,acaStatus:e||""})};const k=e=>{v({...g,fte:e.target.value})};const Z=e=>{v({...g,changeHistory:e.target.value})};return(0,s.Z)("form",{},void 0,(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)(r.nv,{hasError:w.name,id:"employmentStatusName",label:$.__("Name"),onChange:T,required:true,value:g.name})),m&&(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)(o.e,{allowedAcaStatuses:t,hasError:w.acaStatus,id:"employmentStatusAca",onSelect:E,selectedValue:g.acaStatus,showLabel:true}))),i&&(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)(r.nv,{hasError:w.fte,id:"employmentStatusFTE",label:$.__("FTE (Full Time Equivalent)"),maxLength:"4",note:$.__("1.0 is equal to one full-time worker"),onChange:k,value:g.fte,width:"4"})),f&&(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("fieldset",{className:"fab-RadioGroup check-radio"},void 0,(0,s.Z)("legend",{className:"fab-RadioGroup__legend"},void 0,$.__("How should this change occur?")),(0,s.Z)(l,{id:"changeHistory1",label:$.__("Change for future but leave history alone."),onChange:Z,selectedValue:g.changeHistory,value:"noHistory"}),(0,s.Z)(l,{id:"changeHistory2",label:$.__("Change anywhere it is used, including history."),onChange:Z,selectedValue:g.changeHistory,value:"history"}))))}var T=a(26570);function E(e){const{acaStatuses:t,closeModal:a,initialValues:o,isEdit:r,isOpen:l,listId:c,listValueId:d,showAcaStatus:u,showChangeHistory:h=false}=e;const[p,m]=(0,n.useState)(false);const y=e=>{f(r,c,d,e).then((e=>{if(v(e)){g()}else{window.setMessage(e.data.error||window.DEFAULT_ERROR_MESSAGE,"error");m(false)}})).catch((e=>{m(false);window.Rollbar.error("Failed to save employment status",e)}))};const b=()=>{m(true)};return(0,s.Z)(i.u_,{isOpen:l,isProcessing:p,onClose:a,primaryAction:b,primaryActionText:T.__("Save"),title:r?T.__("Edit Employment Status"):T.__("New Employment Status")},void 0,(0,s.Z)(x,{acaStatuses:t,initialValues:o,isEdit:r,isProcessing:p,postFormData:y,setIsProcessing:m,showAcaStatus:u,showChangeHistory:h}))}},48037:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addComment:()=>C,addEvent:()=>x,beginEditing:()=>T,cancelEditing:()=>E,deleteComment:()=>w,deleteEvent:()=>S,editComment:()=>b});const s="ADD_COMMENT";const n="ADD_EVENT";const i="EDIT_COMMENT_START";const o="EDIT_COMMENT_SUCCESS";const r="EDIT_COMMENT_ERROR";const l="DELETE_COMMENT_START";const c="DELETE_COMMENT_SUCCESS";const d="DELETE_COMMENT_ERROR";const u="DELETE_EVENT_START";const h="DELETE_EVENT_SUCCESS";const p="DELETE_EVENT_ERROR";const m="EDITING_BEGIN";const f="EDITING_CANCEL";var g=a(99023);var v=a(28727);var y=a(38962);var $=a(26570);const b=(e,t,a,s)=>(n,l)=>{n({type:i,payload:e});const c=(0,y.iE)(l().id);$.post(`${c.rootCommentURL}/${c.parentType}/${c.parentId}/${e}`,{text:t,attachIds:a,deleteIds:s}).then((t=>{const a=(0,g.XR)(t);n({type:o,payload:{feed:a,id:e}});c.externalCallback({type:"edit",data:(0,v.getCommentById)(a,e)})}),(t=>{if(t){window.Rollbar.error("FEEDS: Error when editing comment",t)}n({type:r,payload:e,error:true})}))};const w=e=>(t,a)=>{t({type:l,payload:e});const s=(0,y.iE)(a().id);$.ajax({url:`${s.rootCommentURL}/${s.parentType}/${s.parentId}/${e}`,type:"DELETE"}).then((n=>{t({type:c,payload:e});if(Array.isArray(n)&&!n.length){n={type:"delete",data:{id:e},state:a()}}s.externalCallback(n)}),(n=>{if(n?.status==404){t({type:c,payload:e});s.externalCallback({type:"delete",data:{id:e},state:a()});return}if(n){window.Rollbar.error("FEEDS: Error when deleting comment",n)}t({type:d,payload:e,error:true})}))};const S=e=>(t,a)=>{t({type:u,payload:e});const s=(0,y.iE)(a().id);const n=a().getIn(["entities","events","byId",e]);$.ajax({data:{id:n.getRemoteId(),type:n.type},type:"DELETE",url:`/events/${s.parentType}/${s.parentId}`}).then((n=>{t({type:h,payload:e});const i={...n,state:a()};s.externalCallback(i)}),(a=>{if(a){window.Rollbar.error("FEEDS: Error when deleting event",a)}t({type:p,payload:e,error:true})}))};const C=e=>(t,a)=>{const n=(0,y.iE)(a().id);t({type:s,payload:(0,g.XR)(e)});n.externalCallback({type:"addComment",feed:(0,g.XR)(e),state:a()})};const x=e=>(t,a)=>{const s=(0,y.iE)(a().id);t({type:n,payload:(0,g.XR)(e)});s.externalCallback({type:"addEvent",feed:(0,g.XR)(e),state:a()})};const T=e=>t=>{t({type:m,payload:e})};const E=e=>t=>{t({type:f,payload:e})}},38962:(e,t,a)=>{"use strict";a.d(t,{K8:()=>l,R:()=>y,eC:()=>m,hT:()=>u,iE:()=>p});var s=a(20711);var n=a(90046);var i=a.n(n);var o=a(88617);var $=a(26570);const r=window.GLOBAL_VALID_EXTENSIONS?Array.from(window.GLOBAL_VALID_EXTENSIONS):["pdf","doc","docx","xls","xlsx","csv","jpg","jpeg","tif","tiff","gif","png","bmp","txt","rtf","zip"];const l=r.map((e=>"."+e));const c=(0,n.Record)({enableAttach:true,enableReply:true,externalCallback:()=>undefined,externalRender:()=>undefined,externalRenderByType:()=>undefined,inputPosition:"top",parentId:0,parentType:"applicant_tracking",placeholder:$.__("Add a comment..."),replyPlaceholder:$.__("Add your reply..."),submitEditText:$.__("Save"),submitNewText:$.__("Post"),readOnly:false,rootCommentURL:"/comments",rootComponent:o.Z,rootData:{}});let d=c();const u={"entities, comments, byId":s.sv,"entities, files, byId":s.$B,"entities, replies, byId":s.jB,"entities, users, byId":s.n5,"entities, events, byId":s.ju};let h={};const p=e=>{if(!e){let e;for(e in h){break}return h[e]}return h[e]};function m(e){if(n.Iterable.isIterable(e)){d=e}else{d=c(e)}h[d.parentId]=d;return d}const f=$.__("Are you sure you want to delete this comment and its replies (including any attached files)?");const g=$.__("Are you sure you want to delete this comment and all its files?");const v=$.__("Are you sure you want to delete this comment?");const y=e=>{const{replies:t,files:a}=e;if(t&&t.size){return f}else if(a&&a.size){return g}return v}},757:(e,t,a)=>{"use strict";a.d(t,{HW:()=>p.Z,NE:()=>v,cU:()=>g,vx:()=>m.Z,wl:()=>h,yG:()=>y});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(99023);var r=a(46676);var l=a(2011);var c=a(38962);var d=a(77512);var u=a(48037);var h=a(28727);var p=a(88617);var m=a(64265);let f={};const g=()=>f;const v=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1?arguments[1]:undefined;const a=(0,c.eC)(t);const n={...e};const i=a.rootComponent;n.id=a.parentId;const d=(0,o.ZP)(n);const{addComment:h,addEvent:p}=u;f=(0,l.DE)({addComment:h,addEvent:p},d.dispatch);return(0,s.Z)(r.zt,{store:d},void 0,(0,s.Z)(i,{}))};const y=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2?arguments[2]:undefined;(0,d.s)(v(t,a),document.getElementById(e))}},20711:(e,t,a)=>{"use strict";a.d(t,{$B:()=>c,JH:()=>i,ZM:()=>r,jB:()=>d,jQ:()=>o,ju:()=>h,n5:()=>u,sv:()=>l});var s=a(90046);var n=a.n(s);const i=(0,s.Record)({allIds:new s.OrderedSet,byId:new s.Map});const o=(0,s.Record)({comments:new i,files:new i,replies:new i,users:new i,events:new i});const r=(0,s.Record)({id:null,entities:new o});const l=(0,s.Record)({author:null,canDelete:false,canEdit:false,categoryName:null,createdAt:null,createdDate:null,edited:false,editing:false,excludeFromComments:false,files:[],id:null,isPinned:false,pending:false,replies:[],text:"",eventId:null});const c=(0,s.Record)({fileType:"",id:null,mostRecentEmployeeFileDataId:null,name:""});const d=(0,s.Record)({author:null,canDelete:false,canEdit:false,createdAt:null,edited:false,editing:false,files:[],id:null,inReplyTo:null,pending:false,text:""});const u=(0,s.Record)({avatar:"",canView:false,employeeId:null,id:null,name:""});class h extends((0,s.Record)({createdAt:null,canDelete:false,data:{},id:null,pending:false,type:null,userId:null})){static get className(){return"Event"}getCommentId(){return this.getIn(["data","commentId"],null)}getRemoteId(){return this.getIn(["data","remoteId"],null)}}},99023:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>P,XR:()=>F,qP:()=>A});const s=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return(e,a)=>t.reduce(((e,t)=>t(e,a)),e)};const n=(e,t)=>function(){let a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:e;let s=arguments.length>1?arguments[1]:undefined;if(t.hasOwnProperty(s.type)){return t[s.type](a,s)}return a};var i={ADD_COMMENT:(e,t)=>{e=e.mergeDeep(t.payload).set("id",e.id);const a=t.payload.getIn(["entities","replies","byId"]).first();if(a){e=e.updateIn(["entities","comments","byId",a.inReplyTo,"replies"],(e=>e.add(a.id)))}return e}};var o={ADD_EVENT:(e,t)=>A(e.mergeDeep(t.payload).set("id",e.id))};var r={DELETE_COMMENT_START:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],true):e.setIn(["entities","replies","byId",t.payload,"pending"],true),DELETE_COMMENT_ERROR:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],false):e.setIn(["entities","replies","byId",t.payload,"pending"],false),DELETE_COMMENT_SUCCESS:(e,t)=>{const a=(e,t,a)=>e.removeIn(["entities",t,"byId",a]).updateIn(["entities",t,"allIds"],(e=>e.delete(a)));const s=t=>{const s=e.getIn(["entities","comments","byId",t,"eventId"]);return a(s?n(e,s):e,"comments",t)};const n=(e,t)=>{const s=e.getIn(["entities","events","byId",t,"type"]);if(s==="move"){return e.setIn(["entities","events","byId",t,"data","commentId"],null)}return a(e,"events",t)};const i=t=>{const a=e.getIn(["entities","replies","byId",t,"inReplyTo"]);return e.removeIn(["entities","replies","byId",t]).updateIn(["entities","comments","byId",a,"replies"],(e=>e.delete(t)))};return e.hasIn(["entities","comments","byId",t.payload])?s(t.payload):i(t.payload)}};var l={DELETE_EVENT_START:(e,t)=>e.setIn(["entities","events","byId",t.payload,"pending"],true),DELETE_EVENT_ERROR:(e,t)=>e.setIn(["entities","events","byId",t.payload,"pending"],false),DELETE_EVENT_SUCCESS:(e,t)=>{const a=e.getIn(["entities","events","byId",t.payload]);const s=(e,t,a)=>e.removeIn(["entities",t,"byId",a]).updateIn(["entities",t,"allIds"],(e=>e.delete(a)));return s(a.getCommentId()?s(e,"comments",a.getCommentId()):e,"events",t.payload)}};var c={EDIT_COMMENT_START:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],true):e.setIn(["entities","replies","byId",t.payload,"pending"],true),EDIT_COMMENT_ERROR:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],false):e.setIn(["entities","replies","byId",t.payload,"pending"],false),EDIT_COMMENT_SUCCESS:(e,t)=>{const{id:a,feed:s}=t.payload;const n=e.hasIn(["entities","comments","allIds",a])?"comments":"replies";return e.mergeDeep(s).setIn(["entities",n,"byId",a,"files"],s.getIn(["entities",n,"byId",a,"files"])).set("id",e.id)}};var d={EDITING_BEGIN:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"editing"],true):e.setIn(["entities","replies","byId",t.payload,"editing"],true),EDITING_CANCEL:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"editing"],false):e.setIn(["entities","replies","byId",t.payload,"editing"],false)};var u=a(20711);var h=n(new u.ZM,{...i,...o,...r,...l,...c,...d});const p=s(h);var m=p;var f=a(90046);var g=a.n(f);var v=a(68283);var y=a(38962);var b=a(2011);var w=a(16415);var S=a(73641);function C(e){if(!f.Iterable.isIterable(e)){throw new Error("The data parameter must be an immutable data object.")}if(f.List.isList(e)){return f.List}else if(f.Stack.isStack(e)){return f.Stack}else if(f.OrderedMap.isOrderedMap(e)){return f.OrderedMap}else if(f.OrderedSet.isOrderedSet(e)){return f.OrderedSet}else if(f.Set.isSet(e)){return f.Set}return f.Map}function x(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(!f.Iterable.isIterable(e)){throw new Error("immutableData parameter must be an immutable data object.")}const n=k(e,a);const i=C(n);const o=n.reduce(((e,a,n)=>{if(s){n=parseInt(n)}return e.set(n,new t(a))}),new i);if(a){return e.setIn(a,o)}return o}function T(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=e;each(t,((e,t)=>{const s=t.replace(/\s+/g,"").split(",");const n=a.getIn(s);a=a.setIn(s,new e(n))}));return a}function E(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;let s=e;(0,S.each)(t,((e,t)=>{let n=t.replace(/\s+/g,"").split(",");s=x(s,e,n,a)}));return s}function k(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(t!==null){if(t!==""&&f.Iterable.isIterable(e.getIn(t))){return e.getIn(t)}throw new Error(`The immutable entry ${t} passed either doesn't exist or is malformed.`)}return e}const Z=(0,w.Uo)({serialize:{immutable:g()}})((0,b.md)(v.Z));const F=e=>{let t=g().fromJS(e,((e,t)=>g().Iterable.isIndexed(t)?t.toOrderedSet():t.toMap()));if(t!==null&&t?.size>0){return E(t.update((e=>new u.ZM(e.updateIn(["entities"],(e=>new u.jQ(e.map((e=>new u.JH(e.updateIn(["byId"],(e=>new f.Map(e)))))))))))),y.hT)}return new u.ZM};const I=(e,t,a)=>e.getIn(["entities",t,"byId",a,"createdAt"]);const N=e=>e.updateIn(["entities","comments","allIds"],(t=>t.sort(((t,a)=>I(e,"comments",t)-I(e,"comments",a)))));const A=e=>e.updateIn(["entities","events","allIds"],(t=>t.sort(((t,a)=>I(e,"events",a)-I(e,"events",t)))));const M=e=>e.updateIn(["entities","comments","byId"],(t=>t.map((t=>t.update("replies",(t=>t.sort(((t,a)=>I(e,"replies",t)-I(e,"replies",a)))))))));const D=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;const t=A(M(N(F(e))));if(t!==null){return(0,b.MT)(m,t,Z)}return(0,b.MT)(m,Z)};var P=D},28727:(e,t,a)=>{"use strict";a.r(t);a.d(t,{getAllCommentIds:()=>n,getAllEventIds:()=>c,getCommentById:()=>i,getEventById:()=>d,getFilesByParentId:()=>l,getId:()=>s,getLatestEventByType:()=>u,getReplyById:()=>o,getUserById:()=>r});const s=e=>e.id;const n=e=>{const t=e.getIn(["entities","comments","byId"]);return e.getIn(["entities","comments","allIds"]).filter((e=>!t.get(e).excludeFromComments))};const i=(e,t)=>e.getIn(["entities","comments","byId",t]);const o=(e,t)=>e.getIn(["entities","replies","byId",t]);const r=(e,t)=>e.getIn(["entities","users","byId",t]);const l=(e,t)=>{const a=e.getIn(["entities","comments","byId",t,"files"])||e.getIn(["entities","replies","byId",t,"files"]);return e.getIn(["entities","files","byId"]).filter(((e,t)=>a.has(t)))};const c=e=>e.getIn(["entities","events","allIds"]);const d=(e,t)=>e.getIn(["entities","events","byId",t]);const u=(e,t)=>{const a=e.getIn(["entities","events","byId"]).filter((e=>e.type===t));return a.reduce(((e,t)=>e.createdAt>t.createdAt?e:t))}},56740:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(3600);var r=a(38962);const l=e=>{let{ids:t,timezones:a}=e;return(0,s.Z)("ul",{className:`feedListContainer ${(0,r.iE)().inputPosition==="bottom"?"feedListContainer--bottom":""}`},void 0,t.map((e=>(0,s.Z)(o.Z,{id:e,timezones:a},`comment${e}`))))};t["Z"]=l},88617:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(5288);var r=a(46676);var l=a(56740);var c=a(28727);const d=e=>({ids:(0,c.getAllCommentIds)(e)});var u=(0,r.$j)(d,{})(l.Z);var h=a(38962);const p=e=>(0,s.Z)("div",{className:`feedOrder ${(0,h.iE)().inputPosition==="bottom"?"feedOrder--bottom":""}`},void 0,!(0,h.iE)(e?.feedId).readOnly&&(0,s.Z)(o.Z,{}),i().createElement(u,e));var m=p},79673:(e,t,a)=>{"use strict";a.d(t,{Z:()=>I});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(59786);var l=a(46676);var c=a(28727);const d=(e,t)=>{const a=(0,c.getFilesByParentId)(e,t.id).toList().filterNot((e=>t.filesToDelete.has(e.get("id"))));return{files:a}};var u=(0,l.$j)(d)(r.Z);var h=a(60042);var p=a.n(h);var m=a(62484);var f=a(59155);var g=a(56445);var v=a(90046);var y=a(73641);var b=a(69835);var $=a(26570);const w=4;const S=$.__("Error when uploading file, please try again. If the issue persists, please contact support.");const C=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:y.noop;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:y.noop;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:y.noop;let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:y.noop;const i=new FormData;i.append("upload",e);const o=new XMLHttpRequest;o.addEventListener("loadstart",(e=>{t(o)}));o.upload.addEventListener("progress",(e=>{a(Math.round(e.loaded/e.total*100))}));o.upload.addEventListener("abort",(e=>{n()}));o.addEventListener("load",(e=>{const t=JSON.parse(e.target.responseText);if(t.status==="ERROR"){window.setMessage(t.message,"error");n()}else{s((0,r.Y)({remoteId:t.fid,name:t.name,progress:100}))}}));o.open("POST","/ajax/files/attachTemporary.php",true);o.send(i);o.onerror=function(e){window.setMessage(S,"error");window.Rollbar.error("FEEDS: Error when uploading temporary file",e)}};const x=e=>{if(e.xhr&&e.xhr.readyState&&e.xhr.readyState!==w){e.xhr.abort()}else{const t=new XMLHttpRequest;t.open("POST",`/ajax/dialog/employee_files/delete_files.php?temporary=1&file_ids[]=${e.remoteId}&delete=1&showMessage=no`,true);t.setRequestHeader("X-CSRF-Token",window.CSRF_TOKEN);t.send()}};var T=a(38962);var E=a(26570);const k=E.__("Cancel");const Z=function(e){e.preventDefault()};class F extends i.PureComponent{constructor(){var e;super(...arguments);e=this;(0,n.Z)(this,"_handleReset",(e=>{this.state.tempFiles.forEach((e=>this.deleteTempFile(e.id)));this.showErrorState(false);return this.props.onReset(e,this.getValue(),this.state.tempFiles)}));(0,n.Z)(this,"_handleSubmit",(e=>{e.preventDefault();if(this.isAssumedUser){return this.disabledForPermsTest()}if(this.getValue().trim().length===0){this.showErrorState(true,E.__("Share what's on your mind! Make sure you add a comment."))}else{this.showErrorState(false);return this.props.onSubmit(e,this.getValue(),this.state.tempFiles,this.textArea.current.textarea,this.state.filesToDelete)}}));(0,n.Z)(this,"_handleAttach",(e=>{const t=e.target.files;if(t.length>=1){this.addTempFiles(t)}e.target.value=""}));(0,n.Z)(this,"_handleDrop",(e=>{const t=e.dataTransfer.files;if(t.length>=1){this.addTempFiles(t)}this.setState({dragging:false});e.preventDefault()}));(0,n.Z)(this,"_handleDrag",(e=>{e.preventDefault();const t=e.type==="dragenter"||false;this._handleFocus(e);this.setState({dragging:t})}));(0,n.Z)(this,"_handleFocus",(e=>this.props.onFocus(e,this.getValue(),this.state.tempFiles)));(0,n.Z)(this,"showErrorState",(function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let a=arguments.length>1?arguments[1]:undefined;if(t&&a.length){window.setMessage(a,"error")}else{window.closeMessage()}e.setState({error:t})}));(0,n.Z)(this,"markFileForDeletion",(e=>{this.setState({filesToDelete:this.state.filesToDelete.set(e,e)})}));(0,n.Z)(this,"deleteTempFile",(e=>{x(this.state.tempFiles.get(e));this.setState((t=>({tempFiles:t.tempFiles.delete(e)})))}));(0,n.Z)(this,"addTempFiles",(e=>{const t=(0,y.debounce)((()=>this.setState({uploadPending:true})),500);t();Array.from(e).forEach((e=>{const a=(0,y.uniqueId)();this.setState((t=>({filesPending:t.filesPending+1,tempFiles:t.tempFiles.set(a,(0,r.Y)({id:a,name:e.name}))})));C(e,(e=>this.setState((t=>({tempFiles:t.tempFiles.setIn([a,"xhr"],e)})))),(e=>this.setState((t=>({tempFiles:t.tempFiles.setIn([a,"progress"],e)})))),(e=>{t.cancel();this.setState((t=>({uploadPending:t.filesPending!==1,filesPending:t.filesPending-1,tempFiles:t.tempFiles.update(a,(t=>t.mergeWith(((e,t)=>t||e),e)))})))}),(()=>{t.cancel();this.setState((e=>({uploadPending:e.filesPending!==1,filesPending:e.filesPending-1,tempFiles:e.tempFiles.remove(a)})))}))}))}));(0,n.Z)(this,"getValue",(()=>this.textArea.current.textarea.value));(0,n.Z)(this,"openFileSelector",(e=>{this._handleFocus(e);this.fileInput.click()}));(0,n.Z)(this,"textArea",(0,i.createRef)());(0,n.Z)(this,"attachIcon",(0,i.createRef)());(0,n.Z)(this,"state",{tempFiles:(0,v.OrderedMap)(),filesToDelete:(0,v.Map)(),error:false,uploadPending:false,filesPending:0,dragging:false});(0,n.Z)(this,"componentWillReceiveProps",(e=>{if(!e.editing){this.textArea.current.textarea.value="";this.setState({tempFiles:(0,v.Map)(),filesToDelete:(0,v.Map)()})}}));(0,n.Z)(this,"componentDidMount",(()=>{window.addEventListener("dragover",Z);window.addEventListener("drop",Z);if(this.props.focusOnMount){this.textArea.current.textarea.focus()}if(this.attachIcon.current){this.Tooltip=b.Z.create(this.attachIcon.current,{template:{name:"tooltip-standard",data:{content:E.__("Drag and drop or click to browse files.")}},tailOnBalloon:15,delay:500})}}));(0,n.Z)(this,"componentWillUnmount",(()=>{window.removeEventListener("dragover",Z);window.removeEventListener("drop",Z);if(this.attachIcon.current){this.Tooltip.destroy()}}))}static get className(){return"Editor"}get isAssumedUser(){return window.GLOBAL_IS_ASSUMED_USER}get disabledForPermsTest(){return window.disabledForPermsTest}render(){const{itemId:e,config:t,showEditText:a,editing:n,pending:i,defaultValue:l}=this.props;const{error:c,dragging:d,uploadPending:h}=this.state;const v=p()({"fab-Textarea":true,"fab-Textarea--error":c,"fab-Textarea--width100":true,FeedInput__textarea:true,"FeedInput__textarea--dragging":d});return(0,s.Z)("div",{className:"FeedListItemEdit"},void 0,(0,s.Z)("form",{method:"post",onKeyDown:e=>{if(e.key==="Enter"&&(e.metaKey||e.ctrlKey)){this._handleSubmit(e)}},onReset:this._handleReset,onSubmit:this._handleSubmit},void 0,t.enableAttach?(0,s.Z)("div",{className:"FeedListItem__input",onDragEnter:this._handleDrag,onDragLeave:this._handleDrag,onDrop:this._handleDrop},void 0,o().createElement(m.Z,{className:v,defaultValue:l,disabled:i,onFocus:this._handleFocus,placeholder:t.placeholder,ref:this.textArea}),(0,s.Z)("span",{className:i?"hidden":"FeedInput__attach",onClick:this.openFileSelector},void 0,o().createElement("span",{className:"FeedInput__attachIcon",ref:this.attachIcon},(0,g.ifFeature)("encore",(0,s.Z)(f.IconV2,{color:"neutral-extra-strong",name:"link-regular",size:16}),(0,s.Z)(f.Icon,{name:"fab-paperclip-16x16"}))),o().createElement("input",{accept:T.K8,"aria-label":"File upload",multiple:true,onChange:this._handleAttach,ref:e=>{this.fileInput=e},style:{display:"none"},type:"file"}))):(0,s.Z)("div",{className:"FeedListItem__input"},void 0,o().createElement(m.Z,{className:v,defaultValue:l,disabled:i,onFocus:this._handleFocus,placeholder:t.placeholder,ref:this.textArea})),e&&(0,s.Z)(u,{filesToDelete:this.state.filesToDelete,id:e,removeOnClick:this.markFileForDeletion,showRemoveIcon:true}),(0,s.Z)(r.Z,{files:this.state.tempFiles,removeOnClick:this.deleteTempFile,showLoader:true,showRemoveIcon:!i}),n&&(0,s.Z)("div",{className:"FeedInput__actions"},void 0,(0,s.Z)(f.Button,{isProcessing:i||h,text:a?t.submitEditText:t.submitNewText,type:"submit"}),(0,s.Z)(f.TextButton,{isDisabled:i,text:k,type:"reset"}))))}}(0,n.Z)(F,"defaultProps",{defaultValue:"",editing:false,focusOnMount:false,pending:false,placeholder:"",onFocus:y.noop,onReset:y.noop,onSubmit:y.noop,submitText:"",itemId:null,showEditText:false});var I=F},14384:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var s=a(89835);var n=a(23321);var i=a(81551);var o=a(59155);const r=e=>{let{img:t,size:a="45x45"}=e;const[i,r]=(0,n.useState)(false);return(0,s.Z)(n.Fragment,{},void 0,t&&!i?(0,s.Z)("img",{alt:"Employee Avatar",className:"FeedListItemAvatar Avatar",onError:()=>r(true),src:t}):(0,s.Z)("span",{className:"FeedListItemAvatar Avatar"},void 0,(0,s.Z)(o.Icon,{name:`fab-person-circle-${a}`})))};const l=e=>{let{src:t,size:a}=e;return(0,s.Z)(i.Z,{},void 0,(0,s.Z)(r,{img:t,size:a}))};var c=l},81551:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var s=a(44119);var n=a(23321);var i=a.n(n);class o extends n.PureComponent{constructor(){super(...arguments);(0,s.Z)(this,"state",{error:null,info:null})}static get className(){return"ItemErrorBoundary"}componentDidCatch(e,t){this.setState({error:e,info:t});console.error(e)}render(){if(!this.state.error){return this.props.children}return null}}},5288:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(69677);var r=a(88638);const l=e=>{let{...t}=e;return i().createElement(o.Z,(0,s.Z)({},t,{onError:t.handleError,onFocus:t.beginEditing,onReset:()=>{let e=new CustomEvent("feeds:cancelEditing",{bubbles:true,detail:t.config.parentId});t.cancelEditing();document.dispatchEvent(e)},onSubmit:t.beginSaving,onSuccess:()=>{let e=new CustomEvent("feeds:commentAdded",{bubbles:true,detail:t.config.parentId});t.handleSuccess();document.dispatchEvent(e)}}))};var c=(0,r.Z)(l);var d=a(48037);var u=a(38962);var h=a(28727);var p=a(46676);const m=e=>({config:(0,u.iE)((0,h.getId)(e))});var f=(0,p.$j)(m,{addComment:d.addComment})(c)},3600:(e,t,a)=>{"use strict";a.d(t,{Z:()=>ne});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(88604);var l=a(56445);var c=a(69677);var d=a(88638);var $=a(26570);const u=e=>{let{...t}=e;let a=null;if(t.editing){a=i().createElement(c.Z,(0,r.Z)({},t,{focusOnMount:true,onError:t.handleError,onReset:t.cancelEditing,onSubmit:t.beginSaving,onSuccess:t.handleSuccess,placeholder:t.config.replyPlaceholder}))}else{a=(0,s.Z)("button",{className:"fab-TextButton fab-TextButton--teenie fab-link FeedReplyCreator__button",onClick:t.beginEditing,type:"button"},void 0,(0,s.Z)("span",{className:"fab-TextButton__icon FeedReplyCreator__buttonIcon"},void 0,(0,l.ifFeature)("encore",(0,s.Z)(o.IconV2,{color:"primary-medium",name:"reply-solid",size:16}),(0,s.Z)(o.Icon,{name:"fab-comment-bubble-plus-13x14"}))),$.__("Reply"))}return(0,s.Z)("div",{className:"FeedReplyCreator"},void 0,a)};var h=(0,d.Z)(u);var p=a(48037);var m=a(46676);var f=a(38962);var g=a(28727);const v=e=>({config:(0,f.iE)((0,g.getId)(e))});var y=(0,m.$j)(v,{addComment:p.addComment})(h);var b=a(44119);var w=a(98675);var S=a(26570);const C=S.__("Just Checking...");const x=(e,t)=>{const{item:a,actions:n,title:o,message:l,visible:c}=e;const d={type:"small",title:C,icon:"fab-trash-can-43x48",iconColor:"danger",headline:o,onClose:()=>{t(false)},primaryAction:()=>{n.deleteComment(a.id)},primaryActionText:S.__("Yes, Delete Comment"),content:l};return(0,s.Z)("div",{},void 0,i().createElement(w.u_,(0,r.Z)({},d,{isOpen:c})))};var T=a(26570);const E=T.__("Delete Comment?");class k extends n.PureComponent{static get className(){return"ActionDropdown"}constructor(e){super(e);(0,b.Z)(this,0,void 0);(0,b.Z)(this,"_buildMenu",(e=>{const t={items:[]};const a={items:[{text:T.__("Edit Comment"),value:"edit"}],type:"group",key:`edit-${e.id}`};const s={items:[{text:T.__("Delete Comment"),value:"delete"}],type:"group",key:`delete-${e.id}`};if(e.canEdit){t.items.push(a)}if(e.canDelete){t.items.push(s)}return t}));(0,b.Z)(this,"_handleSelect",(e=>{if(window.GLOBAL_IS_ASSUMED_USER){return window.disabledForPermsTest()}const{item:t,actions:a}=this.state;switch(e){case"edit":a.beginEditing(t.id);break;case"delete":this.toggleModal(true);break;default:break}}));(0,b.Z)(this,"_handleOpen",(()=>{this.setState({dropdownState:"FeedActions--open"})}));(0,b.Z)(this,"_handleClose",(e=>{const{visible:t}=this.state;if(!t&&this._isMounted){this.setState({dropdownState:""})}}));(0,b.Z)(this,"toggleModal",(e=>{if(e){const{item:t}=this.state;this.setState({visible:e,title:F(t),message:Z(t),dropdownState:""})}else{this.setState({visible:e})}}));const{item:t,...a}=e;const s=this._buildMenu(t);this._isMounted=false;this.state={actions:a,item:t,menu:s,title:E,dropdownState:"",visible:false}}componentDidMount(){this._isMounted=true}componentWillUnmount(){this._isMounted=false}render(){const{dropdownState:e,menu:t,visible:a}=this.state;if(t.items.length){return(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("div",{className:`FeedActions ${e}`},void 0,(0,s.Z)(o.Dropdown,{buttonSettings:(0,l.ifFeature)("encore",{},{outline:true,secondary:true,size:"teenie"}),ButtonProps:(0,l.ifFeature)("encore",{outline:true,secondary:true,size:"small"}),items:t.items,onClose:this._handleClose,onOpen:this._handleOpen,onSelect:this._handleSelect,type:"icon"})),a?x({...this.state},this.toggleModal):null)}return null}}const Z=e=>{const t=(0,f.iE)();return(0,s.Z)("div",{className:"FeedModalContent"},void 0,e.eventId?t.externalRenderByType(e,"delete"):(0,f.R)(e))};const F=e=>{const t=(0,f.iE)();return e.eventId?t.externalRenderByType(e,"title"):E};var I=a(79673);var N=a(59786);const A=(e,t)=>({files:(0,g.getFilesByParentId)(e,t.id).toList()});var M=(0,m.$j)(A,{removeOnClick:p.deleteFile})(N.Z);var D=a(82543);var P=a.n(D);var L=a(73641);var O=a(64265);var R=a(94122);var B=a(26570);const j=(e,t)=>{const a=e.createdDate||e.createdAt;const s=P()(a,P().ISO_8601,true).isValid();const n=!(0,L.isEmpty)(t)?(0,R.Em)(t)?.timezone:"";if(s){const e=P()(a,"YYYY-MM-DD",true).isValid();if(e){return P()(a).format()}return n?P().utc(a).tz(n).calendar():P().utc(a).local().calendar()}return n?P().unix(a).tz(n).calendar():P().unix(e.createdAt).calendar()};const H=e=>{let{item:t,timezones:a}=e;return(0,s.Z)("div",{className:"FeedListItem__info"},void 0,(0,s.Z)("div",{className:"FeedListItem__userName"},void 0,(0,s.Z)(O.Z,{id:t.author})),t.categoryName&&(0,s.Z)("div",{className:"FeedListItem__category"},void 0,t.categoryName),(0,s.Z)("div",{className:"FeedListItem__timeStamp","data-date":t.createdAt},void 0,j(t,a),t.edited&&` - ${B.__("Edited")}`))};var q=H;var W=a(14384);const U=(e,t)=>{const a=(0,g.getUserById)(e,t.id)||{};return{src:a.avatar||null}};var z=(0,m.$j)(U,{})(W.Z);const V=e=>{let{item:t,config:a,timezones:n,...o}=e;let l=null;if(t.editing){l=(0,s.Z)(I.Z,{config:a,defaultValue:t.text,editing:t.editing,focusOnMount:true,itemId:t.id,onReset:()=>o.cancelEditing(t.id),onSubmit:(e,a,s,n,i)=>{e.preventDefault();o.editComment(t.id,a,s.valueSeq().map((e=>e.remoteId)).toArray(),i.keySeq().toArray())},pending:t.pending,showEditText:true})}else{l=(0,s.Z)("div",{className:"FeedListItemWrapper"},void 0,(0,s.Z)(q,{item:t,timezones:n}),(0,s.Z)("div",{className:"FeedListItem__text"},void 0,t.text),(0,s.Z)(M,{id:t.id,showRemoveIcon:false}),!a.readOnly&&!t.pending&&i().createElement(k,(0,r.Z)({item:t},o)))}return(0,s.Z)("div",{className:"FeedListItemParent"},void 0,(0,s.Z)(z,{id:t.author}),l)};var Y=V;const G=e=>(0,s.Z)("li",{className:"FeedListItem FeedListItem--reply"},void 0,i().createElement(Y,e));var K=G;const X=(e,t)=>({item:(0,g.getReplyById)(e,t.id),config:(0,f.iE)((0,g.getId)(e))});var J=(0,m.$j)(X,{beginEditing:p.beginEditing,cancelEditing:p.cancelEditing,deleteComment:p.deleteComment,editComment:p.editComment})(K);const Q=e=>{let{ids:t,timezones:a}=e;return(0,s.Z)("ul",{className:"FeedListReplyList"},void 0,t.map((e=>(0,s.Z)(J,{id:e,timezones:a},`reply${e}`))))};var ee=Q;const te=e=>(0,s.Z)("li",{className:`FeedListItem ${e.item.isPinned?"FeedListItem--pinned":""}`},void 0,e.item.isPinned&&(0,s.Z)("span",{className:"FeedListItem__pinnedIcon"},void 0,(0,s.Z)(o.Icon,{brand:true,name:"fab-thumbtack-16x24"})),i().createElement(Y,e),e.item.eventId&&e.config.externalRender(e.item.eventId),e.config.enableReply&&(0,s.Z)(ee,{ids:e.item.replies,timezones:e.timezones}),!e.config.readOnly&&e.config.enableReply&&(0,s.Z)(y,{inReplyTo:e.item.id}));var ae=te;const se=(e,t)=>({item:(0,g.getCommentById)(e,t.id),config:(0,f.iE)((0,g.getId)(e))});var ne=(0,m.$j)(se,{beginEditing:p.beginEditing,cancelEditing:p.cancelEditing,deleteComment:p.deleteComment,editComment:p.editComment})(ae)},69677:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(89835);var n=a(44119);var i=a(23321);var o=a(14384);var r=a(79673);var l=a(73641);var c=a(56445);var $=a(26570);class d extends i.PureComponent{constructor(){super(...arguments);(0,n.Z)(this,"handleFocus",((e,t,a)=>this.props.onFocus(e,t,a)));(0,n.Z)(this,"handleReset",((e,t,a)=>this.props.onReset(e,t,a)));(0,n.Z)(this,"create",((e,t,a,s)=>{const{config:n,onSubmit:i,inReplyTo:o,addComment:r,onSuccess:l,onError:c}=this.props;e.preventDefault();i(e,t,a);$.post(`${n.rootCommentURL}/${n.parentType}/${n.parentId}`,{text:t,attachIds:a.valueSeq().map((e=>e.remoteId)).toArray(),inReplyTo:o}).then((n=>{r(n);l(e,t,a);s.value=""}),(()=>c(e,t,a)))}))}static get className(){return"ItemCreator"}render(){const e=window.SESSION_USER||{};return(0,s.Z)("div",{className:"FeedInput"},void 0,(0,s.Z)("div",{className:"FeedInput__flexwrap"},void 0,(0,s.Z)(o.Z,{size:(0,c.ifFeature)("encore","32x32","38x38"),src:e.avatarTiny}),(0,s.Z)(r.Z,{config:this.props.config,editing:this.props.editing,focusOnMount:this.props.focusOnMount,onFocus:this.handleFocus,onReset:this.handleReset,onSubmit:this.create,pending:this.props.pending})))}}(0,n.Z)(d,"defaultProps",{editing:false,config:l.noop,focusOnMount:false,pending:false,onFocus:l.noop,onReset:l.noop,onSubmit:l.noop,onError:l.noop,onSuccess:l.noop});var u=d;var h=a(46676);var p=a(38962);var m=a(28727);const f=e=>({config:(0,p.iE)((0,m.getId)(e))});var g=(0,h.$j)(f)(u)},64265:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var s=a(89835);var n=a(23321);var i=a(81551);const o=e=>{let{author:t}=e;return(0,s.Z)("div",{},void 0,t&&t.canView&&t.employeeId?(0,s.Z)("a",{href:`/employees/employee.php?id=${t.employeeId}`},void 0,t.name):t.name)};const r=e=>{let{user:t}=e;return(0,s.Z)(i.Z,{},void 0,(0,s.Z)(o,{author:t}))};var l=r;var c=a(46676);var d=a(28727);const u=(e,t)=>({user:(0,d.getUserById)(e,t.id)});var h=(0,c.$j)(u,{})(l)},88638:(e,t,a)=>{"use strict";var s=a(88604);var n=a(44119);var i=a(23321);var o=a.n(i);const r=e=>{var t;return t=class extends i.PureComponent{constructor(){super(...arguments);(0,n.Z)(this,"state",{editing:false,pending:false});(0,n.Z)(this,"actions",{beginEditing:()=>this.setState({editing:true}),cancelEditing:()=>this.setState({editing:false}),beginSaving:()=>this.setState({pending:true}),handleError:()=>this.setState({pending:false}),handleSuccess:()=>this.setState({editing:false,pending:false})})}render(){return o().createElement(e,(0,s.Z)({},this.state,this.props,this.actions))}},(0,n.Z)(t,"displayName",`creator(${e.displayName||e.name||"Component"})`),t};t["Z"]=r},59786:(e,t,a)=>{"use strict";a.d(t,{Y:()=>g,Z:()=>y});var s=a(89835);var n=a(44119);var i=a(23321);var o=a(90046);var r=a(80187);const l=1e3;const c={transition:`opacity ${l}ms linear`,opacity:1};const d={exiting:{opacity:0}};const u=e=>{let{percent:t}=e;return(0,s.Z)(r.ZP,{in:t<100,timeout:l,unmountOnExit:true},void 0,(e=>(0,s.Z)("div",{className:"FileListItem__loader",style:{...c,...d[e]}},void 0,(0,s.Z)("div",{className:"ProgressBar ProgressBar--feeds"},void 0,(0,s.Z)("div",{className:"ProgressBar__bar baseColorBg",style:{width:`${t}%`}})))))};var h=a(38592);var p=a(73641);var m=a(59155);var $=a(26570);const f=$.__("Unable to preview the requested file. If the issue persists, please contact support.");const g=(0,o.Record)({id:null,name:null,progress:0,remoteId:null,xhr:null},"TemporaryFile");class v extends i.Component{static get className(){return"FileList"}render(){const e=this.props.files.valueSeq().map((e=>{let t="FileListItem js-fileListItem";if(this.props.showLoader&&this.isTemporary(e)&&e.progress<100){t+=" FileListItem--loading"}return(0,s.Z)("li",{className:t,id:e.id},e.id,(0,s.Z)("div",{className:`FileListItem__info FileListItem__info--widthAuto`},void 0,(0,s.Z)("div",{className:"FileListItem__icon"},void 0,(0,s.Z)(m.Icon,{name:(0,h.getIconNameFromFileName)(e.name,null)})),(0,s.Z)("span",{className:"FileListItem__name truncate"},void 0,this.getFileNameFromStatus(e)),(0,s.Z)("div",{className:this.props.showRemoveIcon?"FileListItem__remove":"hidden",onClick:()=>{this.props.removeOnClick(e.id)},role:"button",tabIndex:"0"},void 0,(0,s.Z)(m.Icon,{name:"fab-circle-x-14x14"}))),(0,s.Z)(u,{percent:e.progress}))}));return this.props.files.size?(0,s.Z)("ul",{className:"FileList"},void 0,e):null}getFileNameFromStatus(e){if(!this.isTemporary(e)){return(0,s.Z)("a",{className:"js-FileListLink","data-file_id":e.id,"data-filemode":e.fileType,onClick:t=>this.previewFile(e)},void 0,e.name)}return e.name}isTemporary(e){return e._name&&e._name==="TemporaryFile"}previewFile(e){let{mostRecentEmployeeFileDataId:t,id:a,name:s}=e;try{window.previewFile(t,a,s,false,".js-FileListLink")}catch(t){window.setMessage(f,"error");window.Rollbar.error("previewFile errored when called.",{...e})}}}(0,n.Z)(v,"defaultProps",{files:(0,o.Map)(),removeOnClick:p.noop,showLoader:false,showRemoveIcon:true});var y=v},83943:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var s=a(88604);var n=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(59155);var c=a.n(l);var d=a(98675);var u=a(56445);var h=a.n(u);var $=a(26570);class p extends o.Component{static get className(){return"FilterDropdown"}constructor(e){super(e);(0,i.Z)(this,"_handleToggleModalOpen",(()=>{this.setState((e=>({showModal:!e.showModal})))}));this.state={showModal:false}}render(){const{filters:e,onFilterChange:t,selectedFilter:a,size:i,variant:c="single"}=this.props;const{showModal:h}=this.state;const p=e=>{switch(e){case"circle":return(0,u.ifFeature)("encore","circle-dashed-regular","fab-circle-dots-14x14");case"department":return(0,u.ifFeature)("encore","user-group-regular","fab-people-14x12");case"location":return(0,u.ifFeature)("encore","location-dot-regular","fab-location-11x14");case"division":return(0,u.ifFeature)("encore","sitemap-regular","fab-org-chart-12x13");case"all":return(0,u.ifFeature)("encore","buildings-regular","fab-company-12x14");case"custom":default:return(0,u.ifFeature)("encore","user-group-regular","fab-people-14x12")}};const m=e.map((e=>{let{description:t,displayText:a,value:s}=e;const i=p(s);return(0,u.ifFeature)("encore",{note:t,text:a,icon:(0,n.Z)(l.IconV2,{name:i,size:16}),value:s},{description:t,text:a,iconName:i,value:s})}));const f=(0,u.ifFeature)("encore",{text:$.__("Custom Filter..."),icon:(0,n.Z)(l.IconV2,{name:p("custom"),size:16}),id:"custom",value:"custom"},{displayText:$.__("Custom Filter..."),text:$.__("Custom Filter..."),iconName:p("custom"),id:"custom",value:"custom"});m.push(f);const g=(e,a,s)=>{if(s.item.value===f.value){window.showFilterModal(s.item.text)}else{t(s.item.text,s.item.value)}};const v={isClearable:false,width:7,size:i,onSelect:g,items:m,selectedValues:[a.value],variant:c};return(0,n.Z)(o.Fragment,{},void 0,m&&m.length>0&&(0,u.ifFeature)("encore",r().createElement(l.Select,(0,s.Z)({},v,{renderToggleContent:e=>{const[t]=e;return(0,n.Z)(l.BodyText,{icon:(0,n.Z)(l.IconV2,{name:p(t.value),size:16})},void 0,t.text)}})),(0,n.Z)("div",{className:"FilterDropdown__select"},void 0,r().createElement(l.Select,(0,s.Z)({},v,{renderOptionContent:e=>(0,n.Z)("div",{className:"FilterDropdown__option"},void 0,(0,n.Z)("div",{className:"FilterDropdown__optionText"},void 0,e.iconName&&(0,n.Z)("span",{className:"FilterDropdown__optionIcon"},void 0,(0,n.Z)(l.Icon,{name:e.iconName})),(0,n.Z)("span",{},void 0,e.text)),(0,n.Z)("span",{className:"FilterDropdown__optionDescription"},void 0,e.description)),renderToggleContent:e=>{const[t]=e;return t?(0,n.Z)("div",{className:"FilterDropdown__toggle"},void 0,t.iconName&&(0,n.Z)("span",{className:"FilterDropdown__toggleIcon"},void 0,(0,n.Z)(l.Icon,{name:t.iconName})),(0,n.Z)("span",{},void 0,t.text)):null}})))),(0,n.Z)(d.u_,{icon:"fab-employees-20x18",isOpen:h,onClose:this._handleToggleModalOpen,primaryAction:()=>{t(f.displayText,f.value);this._handleToggleModalOpen()},primaryActionText:$.__("Done"),title:$.__("Filter Options")},void 0,(0,n.Z)("div",{})))}}},2885:(e,t,a)=>{"use strict";a.d(t,{cO:()=>w,WZ:()=>M,Nn:()=>d,tI:()=>c,Ki:()=>g,Ee:()=>b,mg:()=>y,N7:()=>v,nv:()=>f,mc:()=>F,cf:()=>A,jK:()=>N,bR:()=>Z});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(60042);var r=a.n(o);var l=a(26136);let c=function(e){e["right"]="right";e["bottom"]="bottom";return e}({});const d=e=>{const{disabled:t,error:a,hasError:n,id:i,label:o,name:d,max:u,min:h,onChange:p,required:m,inputRef:f,value:g,warning:v,biId:y,errorPosition:b=c.right,width:w=4}=e;const S=e=>{if(e!==g){p(e)}};const C=`fab-TextInput--width${w}`;const x=n||Boolean(a);const T=!x&&Boolean(v);return(0,s.Z)("div",{className:"fab-FormColumn"},void 0,o&&(0,s.Z)("label",{className:r()("fab-Label",{"fab-Label--required":m},{"fab-Label--error":x},{"fab-Label--warning":T}),htmlFor:i},void 0,o),(0,s.Z)(l.Z,{biId:y,cssClasses:{single:r()(C,{"fab-TextInput--error":x},{"fab-TextInput--warning":T})},disabled:Boolean(t),id:i,inputRef:f,name:d,onChange:e=>S(e),onIncomplete:e=>S(e),required:m,settings:{start:g,max:u,min:h},type:"date"}),(a||T)&&(0,s.Z)("span",{className:r()("fab-FormNote",`DateField__note--${b}`,{"fab-FormNote--error":x},{"fab-FormNote--warning":T})},void 0,a||v))};var u=a(88604);var h=a(59155);var p=a(17145);const m=e=>{const{autoComplete:t,autoFocus:a=false,disabled:n=false,error:o,hasError:l=false,id:c,inputMode:d="text",inputRef:u,label:m,maxLength:f,name:g,note:v="",onBlur:y,onChange:b,pattern:w,placeholder:S="",required:C=false,tooltip:x,type:T="text",value:E,width:k=9,biId:Z}=e;const F=`fab-TextInput--width${k}`;const I=l||Boolean(o);const N=T==="number";return(0,s.Z)("div",{className:"fab-FormColumn"},void 0,m&&(0,s.Z)("label",{className:r()("fab-Label",{"fab-Label--required":C},{"fab-Label--error":I}),htmlFor:c},void 0,m,x&&(0,s.Z)(p.Z,{settings:{position:"right",content:x},wrapperClassName:"BaseInputField__tooltipIconWrapper"},void 0,(0,s.Z)(h.Icon,{name:"fab-question-14x14"}))),i().createElement("input",{ref:u,autoComplete:t,autoFocus:a,className:r()("fab-TextInput",F,{"fab-TextInput--error":I},{NumberField__input:N}),"data-bi-id":Z,"data-lpignore":"true",disabled:n,id:c,inputMode:d,maxLength:f,name:g,onBlur:y,onChange:b,pattern:w,placeholder:S,required:C,type:T,value:E}),v&&(0,s.Z)("span",{className:"fab-FormNote"},void 0,v),o&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,o))};const f=e=>i().createElement(m,(0,u.Z)({},e,{type:"text"}));const g=e=>i().createElement(m,(0,u.Z)({},e,{type:"number"}));const v=e=>{const{disabled:t=false,error:a,hasError:n=false,id:o,inputRef:l,label:c,maxLength:d,name:u,onChange:h,placeholder:p="",required:m=false,value:f,width:g=9,biId:v}=e;const y=`fab-Textarea--width${g}`;const b=n||Boolean(a);return(0,s.Z)("div",{className:"fab-FormColumn"},void 0,c&&(0,s.Z)("label",{className:r()("fab-Label",{"fab-Label--required":m},{"fab-Label--error":b}),htmlFor:o},void 0,c),i().createElement("textarea",{ref:l,"data-bi-id":v,disabled:t,className:r()("fab-Textarea",y,{"fab-Textarea--error":b}),id:o,maxLength:d,name:u,onChange:h,placeholder:p,required:m,value:f}),a&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,a))};const y=e=>{const{disabled:t,error:a,hasError:n=false,id:i,inputRef:o,isClearable:l=false,items:c,label:d,name:u,note:p,onChange:m,onClose:f,renderOptionContent:g,required:v=false,selectedValues:y,showSearch:b="auto",width:w=9,biId:S}=e;const C=n||Boolean(a);return(0,s.Z)("div",{className:"fab-FormColumn"},void 0,d&&(0,s.Z)("label",{className:r()("fab-Label",{"fab-Label--required":v},{"fab-Label--error":C}),htmlFor:i},void 0,d),(0,s.Z)(h.Select,{biId:S,condition:C?"error":null,id:i,inputRef:o,isClearable:l,isDisabled:Boolean(t),items:c,name:u,onChange:m,onClose:f,renderOptionContent:g,required:v,selectedValues:y,showSearch:b,width:w}),p&&(0,s.Z)("span",{className:"fab-FormNote"},void 0,p),a&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,a))};const b=e=>{const{createRef:t,id:a,biId:n,disabled:o,hasError:l,items:c,label:d,name:u,onChange:h,required:p,value:m}=e;const f=e=>`${a}_${e}`;const g=e=>{if(n){return`${n}_${e}`}return""};return(0,s.Z)("fieldset",{className:"fab-RadioGroup"},void 0,d&&(0,s.Z)("legend",{className:r()("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":p},{"fab-RadioGroup__legend--error":l})},void 0,d),c.map(((e,a)=>(0,s.Z)("div",{className:"fab-Radio"},e.value,i().createElement("input",{ref:t?t():null,checked:e.value===m,className:"fab-Radio__input",disabled:o,id:f(a),"data-bi-id":g(a),name:u,onChange:h,type:"radio",value:e.value}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:f(a)},void 0,e.text),e.note&&(0,s.Z)("div",{className:"fab-Radio__note"},void 0,e.note)))))};const w=e=>{const{id:t,disabled:a,items:n,label:i,name:o,onChange:l,required:c,values:d}=e;const u=e=>`${t}_${e}`;return(0,s.Z)("fieldset",{className:"fab-CheckboxGroup"},void 0,i&&(0,s.Z)("legend",{className:r()("fab-CheckboxGroup__legend",{"fab-CheckboxGroup__legend--required":c})},void 0,i),n.map(((e,t)=>(0,s.Z)("div",{className:"fab-Checkbox"},e.value,(0,s.Z)("input",{checked:d.some((t=>t===e.value)),className:"fab-Checkbox__input",disabled:a,id:u(t),name:o,onChange:l,type:"checkbox",value:e.value}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:u(t)},void 0,e.text),e.note&&(0,s.Z)("div",{className:"fab-Checkbox__note"},void 0,e.note)))))};var S=a(9771);const C=window.GLOBAL_THOUSANDS_SEPARATOR?window.GLOBAL_THOUSANDS_SEPARATOR:",";const x=window.GLOBAL_DECIMAL_CHAR?window.GLOBAL_DECIMAL_CHAR:".";const T=e=>{const t=e%100;if(t<10){return`0${t}`}return String(t)};const E=e=>{for(let t=0;t<Math.floor((e.length-(1+t))/3);t++){e=e.substring(0,e.length-(4*t+3))+C+e.substring(e.length-(4*t+3))}return e};const k=(e,t,a)=>{const s=e===(e=Math.abs(e));e=Math.floor(e*100+.50000000001);const n=T(e);e=Math.floor(e/100);let i=e.toString();i=E(i);return a?(s?"":"-")+i+x+n+t:(s?"":"-")+t+i+x+n};const Z=(e,t,a)=>{if(e===null){return""}return k(e,t,a)};const F=(e,t)=>{if(t){e=e.replace(t,"")}if(e===""){return null}const a=new RegExp("[^-0-9.,]+","gi");e=e.replace(a,"");const s=new RegExp(`\\${C}`,"gi");e=e.replace(s,"");if(x===e[0]){e=`0${e}`}let n=Number(e.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"));if(isNaN(n)){n=0}return n};const I=(e,t,a)=>{if(e===""){return""}const s=F(e,t);return Z(s,t,a)};const N=(e,t)=>{let a="";const s=e.find((e=>e.code===t));if(s){a=s.symbol}return a};const A=(e,t)=>{let a=0;const s=e.find((e=>e.code===t));if(s){a=s.symbolPosition}return a};const M=e=>{const{amount:t,currencyCode:a,currencies:o,currencyEditingDisabled:r,currencyWarning:l=false,inputDisabled:c,error:d,handleAmountReformat:u,handleCurrencyCodeChange:p,hasError:m,id:f,inputRef:g,name:v,text:y,required:b}=e;const w=N(o,a);const C=A(o,a);const[x,T]=(0,n.useState)(t===null?"":Z(t,w,C));(0,n.useEffect)((()=>{T(Z(t,w,C))}),[w,t,C]);const E=e=>{p(e.value)};const k=e=>{const a=I(e.target.value,w,C);const s=F(a,w);T(a);if(t!==s){u(a,s)}};const M=e=>{T(e.target.value)};let D;if(l){D="warning"}if(m||Boolean(d)){D="error"}return(0,s.Z)("div",{className:"CurrencySelectorField"},void 0,(0,s.Z)("div",{className:"fab-FormField"},void 0,i().createElement(h.TextField,{disabled:c,id:f,inputProps:{name:v},onBlur:k,onChange:M,ref:g,required:b,size:"medium",status:D,value:x,width:4}),(0,s.Z)(S.cT,{currencyCollection:o,disabled:r,onCurrencyCodeSelect:E,value:a})),y&&(0,s.Z)("div",{className:"fab-FormField"},void 0,y),d&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,d))}},37935:(e,t,a)=>{"use strict";a.d(t,{h:()=>y,O:()=>b});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(77512);var r=a(88604);var l=a(44119);var c=a(73641);var d=a(98675);var u=a(84479);var h=a(78144);const p=(0,u.createLogger)("GlobalModal");const m=()=>({autoClose:true,mergeModalProps:false,mergeSheetProps:true});const f=()=>({isOpen:false,isProcessing:false});d.u_.setAppElement(document.querySelector(".BhrPage-wrap"));class g extends n.Component{static get className(){return"GlobalModal"}constructor(e){super(e);(0,l.Z)(this,"_isOpen",(()=>{const{modalProps:{isOpen:e}}=this.state;return e}));(0,l.Z)(this,"_isProcessing",(()=>{const{modalProps:{isProcessing:e}}=this.state;return e}));const{namespace:t="Modal"}=e;this.state={modalOptions:m(),modalProps:f()};this._handleClose=this._handleClose.bind(this);window.BambooHR=window.BambooHR||{};window.BambooHR[t]={setState:this._setState.bind(this),isOpen:this._isOpen,isProcessing:this._isProcessing}}_handleClose(){const{modalOptions:e,modalProps:t}=this.state;const{autoClose:a}=e;const{onClose:s}=t;if(a){this._setState({isOpen:false},true)}if(typeof s==="function"){s()}}_handleOpen(e){const{modalProps:t}=this.state;if(t.isOpen&&e.isOpen){p.warn("window.BambooHR.Modal seems to have been toggled to open while already open! Please ensure your logic is correct, and that the page is not trying to open two modals at the same time.")}}_setState(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:()=>{};const{modalOptions:s,modalProps:n}=this.state;if(typeof a!=="function"){console.warn("Global Modal react.js -> You didn't pass a function for callback");a=()=>{}}let i=t;if(typeof t==="object"){i=Object.assign(m(),t)}const{mergeModalProps:o=false,mergeSheetProps:r=true}=i;const l=t===true||o;const d=n.sheetProps||null;const u=e.sheetProps||null;if(typeof e==="object"){this._handleOpen(e);const i={modalOptions:(0,c.merge)({},s,t),modalProps:(0,c.merge)({},l&&n,e)};if(r&&u){i.modalProps.sheetProps=(0,c.merge)({},d,u)}else{i.modalProps.sheetProps=u}if(n.isOpen&&!i.modalProps.isOpen){this.setState({modalProps:{...n,isOpen:false}});window.setTimeout((()=>{this.setState(i,a)}),250)}else{this.setState(i,a)}}else{p.warn(`window.BambooHR.Modal.setState not called with an object. Got ${typeof e} instead.`)}}render(){const{modalProps:e}=this.state;if(typeof e.title==="string"){e.title=(0,h.Jk)(e.title)}return i().createElement(d.u_,(0,r.Z)({},e,{onClose:this._handleClose}))}}class v extends n.Component{static get className(){return"GlobalModalErrorBoundary"}componentDidCatch(e,t){Rollbar.error("Global Modal",{error:e,info:t})}render(){return i().createElement(g,this.props)}}function y(){const e=document.createElement("div");(0,o.s)((0,s.Z)(v,{}),e)}function b(){const e=document.createElement("div");(0,o.s)((0,s.Z)(v,{namespace:"LockModal"}),e)}},19161:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(89835);var n=a(23321);function i(e){return(0,s.Z)("div",{className:`dotLoader${e?` ${e}__progress`:""}`},void 0,(0,s.Z)("div",{className:"bounce1"}),(0,s.Z)("div",{className:"bounce2"}),(0,s.Z)("div",{className:"bounce3"}))}function o(e){return(0,s.Z)("div",{className:`circleDotLoader${e?` ${e}__loader`:""}`},void 0,(0,s.Z)("span",{className:"loaderCircle1 loaderCircle"}),(0,s.Z)("span",{className:"loaderCircle2 loaderCircle"}),(0,s.Z)("span",{className:"loaderCircle3 loaderCircle"}),(0,s.Z)("span",{className:"loaderCircle4 loaderCircle"}),(0,s.Z)("span",{className:"loaderCircle5 loaderCircle"}),(0,s.Z)("span",{className:"loaderCircle6 loaderCircle"}),(0,s.Z)("span",{className:"loaderCircle7 loaderCircle"}),(0,s.Z)("span",{className:"loaderCircle8 loaderCircle"}),(0,s.Z)("span",{className:"loaderCircle9 loaderCircle"}))}function r(e){let{blockName:t,type:a}=e;switch(a){case"dot":return i(t);default:return o(t)}}},33743:(e,t,a)=>{"use strict";a.d(t,{D:()=>i});var s=a(23321);var n=a.n(s);function i(e){const{markers:t,height:a,width:i}=e;let{zoom:o}=e;const r=(0,s.useRef)(null);if(t.length===1&&!o){o=17}(0,s.useEffect)((()=>{let e=[];let a=[];let s=null;let n=null;let i=null;const l=document.createElement("script");l.src=`https://maps.googleapis.com/maps/api/js?key=${window.GOOGLE_MAPS_API_KEY}`;window.document.head.appendChild(l);const c=l.addEventListener("load",(()=>{s=new window.google.maps.Map(r.current,{disableDefaultUI:true});n={path:"M9.001 0C3 0 0 4.5 0 9s9.001 15 9.001 15S18 13.5 18 9s-3-9-8.999-9zM9 12.857c-1.808 0-3.273-1.535-3.273-3.428C5.727 7.535 7.192 6 9 6s3.273 1.535 3.273 3.429c0 1.893-1.465 3.428-3.273 3.428z",anchor:new window.google.maps.Point(8,11),fillColor:"#EA4336",fillOpacity:1,strokeColor:"#EA4336",strokeWeight:1,labelOrigin:new window.google.maps.Point(43,12)};i=new window.google.maps.LatLngBounds;for(const o of t){if(o.coordinates.lat&&o.coordinates.lng){const t=new window.google.maps.Marker({position:o.coordinates,map:s,icon:n,label:{text:o.label,color:"#D1502A",fontSize:"8px"}});e.push(t);const r=new window.google.maps.Circle({strokeColor:"#EA4336",strokeOpacity:0,strokeWeight:0,fillColor:"#EA4336",fillOpacity:.2,map:s,center:o.coordinates,radius:o.accuracy});a.push(r);i.extend(t.position)}}s.fitBounds(i);window.google.maps.event.addListenerOnce(s,"bounds_changed",(()=>{if(o){s.setZoom(o)}}))}));return()=>{for(const t in e){delete e[t]}for(const e in a){delete a[e]}e=null;a=null;n=null;i=null;s=null;window.google=null;l.removeEventListener("load",c);window.document.head.removeChild(l);const t=document.querySelectorAll(`script[src*='maps.googleapis.com']`);for(let e=0;e<t.length;e++){t[e].parentNode.removeChild(t[e])}}}),[]);return n().createElement("div",{className:"Map",ref:r,id:"map",style:{width:i,height:a}})}},1891:(e,t,a)=>{"use strict";a.d(t,{Wn:()=>oe,vy:()=>G,x5:()=>ie});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(23615);var r=a.n(o);var l=a(85642);function c(){return(0,s.Z)("svg",{height:"16",width:"12.444",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,s.Z)("path",{d:"M12.149 4.834L6.47.093a.395.395 0 00-.509 0L.284 4.833A.789.789 0 000 5.435v6.62c0 .165.106.312.26.371l4.184 1.5v1.292c0 .436.347.783.779.783.384 0 .698-.4.698-.783V9.716a.196.196 0 00-.196-.194h-.189c-.603 0-1.088.836-1.088 2.261l-.004.5c-.2-.064-.38-.117-.528-.17-1.077-.353-2.13-1.23-2.13-2.485 0-2.933 3.194-6.249 4.164-7.185a.398.398 0 01.55 0c.97.936 4.164 4.252 4.164 7.185 0 1.254-1.053 2.132-2.13 2.485-.218.07-.839.253-1.147.353l.012.819c0 .406.408.689.793.554l3.992-1.42a.388.388 0 00.26-.37V5.433a.842.842 0 00-.295-.6z"}))}const d=(0,n.memo)((()=>(0,s.Z)("svg",{height:"14.028",width:"16",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,s.Z)("path",{d:"M9.101 8.05h-2.21a.532.532 0 00-.444.827l1.105 1.666c.047.07.11.127.182.167v.989a1.295 1.295 0 01-.676-.352.266.266 0 00-.376.376c.352.352.82.546 1.318.546.498 0 .966-.194 1.318-.546a.266.266 0 00-.376-.376 1.294 1.294 0 01-.677.352v-.994a.533.533 0 00.174-.163l1.106-1.665A.532.532 0 009.1 8.05z"}),(0,s.Z)("path",{d:"M14.877.396c-1.024-.647-2.289-.484-2.824.364a1.534 1.534 0 00-.199.527C10.742.507 9.43.015 8 .015c-1.429 0-2.742.493-3.855 1.272A1.519 1.519 0 003.947.76C3.411-.088 2.147-.25 1.123.396c-1.024.647-1.42 1.86-.884 2.707.32.506.9.761 1.531.754C1.072 5.025.667 6.323.667 7.553c0 3.57 3.29 6.475 7.333 6.475s7.333-2.904 7.333-6.475c0-1.23-.405-2.528-1.103-3.696.632.008 1.212-.248 1.531-.754.536-.848.14-2.06-.884-2.707zm-.608 7.157c0 2.984-2.812 5.411-6.27 5.411-3.456 0-6.27-2.427-6.27-5.41C1.73 4.62 4.528 1.078 8 1.078c3.474 0 6.27 3.541 6.27 6.474z"}),(0,s.Z)("path",{d:"M6.817 7.176a1.314 1.314 0 00-.16-1.142L5.463 4.269a1.311 1.311 0 00-2.392.86l.203 2.121a1.313 1.313 0 001.75 1.11l.99-.357c.381-.137.678-.442.803-.827zm-1.18.214a.586.586 0 110-1.171.586.586 0 010 1.171zM10.519 4.27L9.325 6.033a1.312 1.312 0 00.643 1.969l.99.356a1.313 1.313 0 001.75-1.109l.203-2.12a1.311 1.311 0 00-2.392-.86zm-.156 3.12a.586.586 0 110-1.171.586.586 0 010 1.171z"}))));var u=a(44119);var h=a(59155);var p=a(1765);var m=a(73276);var f={view:{fontFamily:'"Lato", sans-serif',display:"flex",marginTop:"200px",flexDirection:"column",alignItems:"center",fontSize:`${m.iH.bH.d}px`,lineHeight:`${m.iH.bH.j}px`,color:p.colors.gray8,textAlign:"center"},image:{marginBottom:"16px"}};const g=e=>{let{customMessage:t,style:a}=e;return(0,s.Z)("div",{style:{...f.view,...a}},void 0,(0,s.Z)("span",{style:{...f.image}},void 0,(0,s.Z)("img",{src:"/images/explorer-pudgy-232x270.png"})),(0,s.Z)("div",{},void 0,(0,s.Z)(h.InPageMessaging,{body:"We tried to get that for you, but couldn't find it. Maybe try refreshing the page?",header:"Oh snap!",error:true}),t&&(0,s.Z)("div",{style:{marginTop:"16px"}},void 0,t)))};g.defaultProps={customMessage:"",style:{}};var v=g;var y=a(73641);var b=a(86347);const w=e=>e.replace(/\/[^/]*$/,"");const S=(e,t,a)=>{window[`__staticResourceUrl${(0,y.startCase)(e)}`]=w((0,b.j)(t,a))};const C={};function x(e,t){if(C[e]&&t.retry!==true){return C[e]}const{host:a,name:s,noLoadJSFromManifest:n,loadScript:i}=t;C[e]=fetch(e).then((e=>e.json())).then((e=>{if(e){S(s,a,e["main.js"]);Object.keys(e).filter((e=>e.endsWith(".css"))).forEach((t=>{const n=document.createElement("link");n.rel="stylesheet";n.href=e[t].startsWith("http")?e[t]:(0,b.j)(a,e[t]);n.dataset.microfrontend=s;document.head.appendChild(n)}));const t=Object.keys(e).filter((e=>e.endsWith(".js"))).filter((e=>!n.includes(e))).map((t=>i(e[t],t)));return t}}));return C[e]}class T extends i().Component{static get className(){return"MicroFrontend"}constructor(e){super(e);(0,u.Z)(this,"_renderMicroFrontend",(()=>{const{name:e,payload:t}=this.props;const{containerId:a}=this.state;window[`render_${e}`]?.(a,{...t})}));this.state={error:false,containerId:(0,y.uniqueId)("micro-container")}}_loadResource(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const{host:t,manifest:a,name:s,noLoadJSFromManifest:n}=this.props;const i=(e,a)=>new Promise((a=>{const n=document.createElement("script");n.src=e.startsWith("http")?e:(0,b.j)(t,e);n.async=true;n.onload=()=>a();n.dataset.microfrontend=s;document.head.appendChild(n)}));const o=`${t}/${a}`;const r=x(o,{host:t,manifest:a,name:s,noLoadJSFromManifest:n,loadScript:i,retry:e});this._processManifestPromise(r,e)}_processManifestPromise(e,t){const a=1e3;e.then((e=>{Promise.all(e).then((()=>this._renderMicroFrontend()))})).catch((e=>{if(t){this.setState({error:true});console.warn(e)}else{setTimeout((()=>{this._loadResource(true)}),a)}}))}_unmountMicroFrontend(){const{host:e,manifest:t,name:a}=this.props;const{containerId:s}=this.state;const n=`${e}/${t}`;const i=window[`unmount_${a}`];if(typeof i==="function"){i(s)}else{console.error(`No function exists to unmount "${a}" micro front-end!`)}document.querySelectorAll(`[data-microfrontend="${a}"]`).forEach((e=>{e.parentNode.removeChild(e)}));delete C[n]}componentDidMount(){this._loadResource()}componentDidUpdate(e){const{host:t}=this.props;if(e.host&&e.host!==t){this._unmountMicroFrontend();this._loadResource()}else{this._renderMicroFrontend()}}componentWillUnmount(){this._unmountMicroFrontend()}render(){const{className:e,customErrorMessage:t}=this.props;const{error:a,containerId:n}=this.state;if(a){return(0,s.Z)(v,{customMessage:t})}return(0,s.Z)("main",{className:e,id:n,style:{height:"100%",width:"100%"}})}}T.defaultProps={customErrorMessage:"",payload:{},host:"",name:"",resourceType:"",window,noLoadJSFromManifest:[]};var E=a(61808);function k(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a={greenhouse:"3000",po:"3010",developerportal:"3020"};e=e.toLowerCase();return s=>{let{type:n,version:i}=s;if(t[n]){return t[n]}if(n==="odi"){return`https://staticfe.ci.pandasandbox.com/${e}/${i}`}if(n==="committed"){return(0,E.g)(e)}if(n==="development"){return window.location.host.includes(".bamboolocal.com")?`https://staticfe.bamboolocal.com:${a[e]}`:`https://resources.local.bamboohr.com/js/${e}`}if(n==="custom"){return(0,E.g)(e,i)}return i}}var Z=a(60042);var F=a.n(Z);var I=a(33832);var N=a(59592);var A=a(31868);var M=a(53588);var D=a(26023);const P=(0,n.forwardRef)(((e,t)=>{let{errors:a,name:o,onChange:r,value:l}=e;const c=(0,y.uniqueId)("production-version-picker");return(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("label",{className:F()("fab-Label","fab-Label--required",{"fab-Label--error":a.customVersion}),htmlFor:c},void 0,"Paste a production version of ",(0,y.startCase)(o)),i().createElement("input",{ref:t,className:F()("fab-TextInput","fab-TextInput--width8",{"fab-TextInput--error":a.customVersion}),id:c,name:"customVersion",onChange:e=>r(e.currentTarget.value),required:true,type:"text",value:l}))}));var L=a(20797);var O=a(58365);const R=(0,h.makeStyles)((e=>{let{palette:t,typography:a}=e;return{root:{display:"grid",gap:15,gridColumnTemplate:"1fr",marginTop:10},label:{color:t.grey[800],display:"block",fontSize:a.fabricFontSize("large")},infoText:{color:t.grey[800],fontSize:a.fabricFontSize("small"),marginTop:5},resourceTypePicker:{marginBottom:10}}}));const B=e=>{let{getUrl:t,isOpen:a,onCancel:o,onSave:r,value:l}=e;const c=R();const{errors:d,register:u,validate:p}=(0,I.useValidation)();const[m,f]=(0,O.y)(l?.name);const[g,v]=(0,n.useState)();const[b,w]=(0,n.useState)();const[S,C]=(0,n.useState)(l?.sessionOnly);const x=()=>{v(undefined);w(undefined)};const T=g||b;const E=l?.name;const k=g||l?.type;const Z=g&&g!=="committed"||b?b:l?.version;const B=t({type:k,version:Z});const j=k==="committed"||k==="development"||Z&&(k==="custom"||k==="odi");const H=async()=>{const e=p();if(e){const e=await(0,M.t)(`${B}/manifest.json`);if(e){r({...l,type:k,version:Z,url:B,sessionOnly:S});x()}else{(0,N.f)("The selected version does not exist.","error")}}};const q=()=>{x();o()};return(0,s.Z)(h.StandardModal,{isLoading:f,isOpen:a,onRequestClose:q},void 0,(0,s.Z)(h.StandardModal.Body,{renderFooter:(0,s.Z)(h.StandardModal.Footer,{actions:[(0,s.Z)(h.Button,{ariaLabel:"save version",disabled:!T&&S===l.sessionOnly,onClick:H},"saveButton","Save"),(0,s.Z)(h.TextButton,{ariaLabel:"cancel version picker",onClick:q},"cancelButton","Cancel")]},void 0,(0,s.Z)(h.Flex,{alignItems:"end",justifyContent:"end",width:"100%"},void 0,(0,s.Z)(h.Checkbox,{checked:S,onChange:(e,t)=>{C(t.target.checked)},label:"Save version for this tab only"}))),renderHeader:(0,s.Z)(h.StandardModal.Header,{title:`Change the version of ${(0,y.startCase)(E)}`}),size:h.StandardModal.Body.Size.MEDIUM},void 0,(0,s.Z)(h.StandardModal.Constraint,{},void 0,(0,s.Z)("form",{className:F()(c.root)},void 0,(0,s.Z)("span",{className:c.label},void 0,"Which version of code should we use?"),(0,s.Z)("div",{classes:{root:c.resourceTypePicker}},void 0,(0,s.Z)(L.i,{disabledTypes:m?.length?["development"]:["odi"],onChange:e=>{v(e);if(e==="committed"){w(A.Z.versions[E])}else{w(undefined)}},value:k})),k==="odi"||k==="custom"?(0,s.Z)("div",{},void 0,k==="odi"?i().createElement(D.w,{ref:u({required:true}),errors:d,name:E,odiResources:m,onChange:e=>w(e),value:Z}):null,k==="custom"?i().createElement(P,{ref:u({required:true}),errors:d,name:E,onChange:e=>w(e),value:Z||""}):null):null,j?(0,s.Z)("div",{className:c.infoText},void 0,"Resources will be loaded from: ",(0,s.Z)("a",{href:B,rel:"noopener noreferrer",target:"_blank"},void 0,B)):null))))};var j=a(23211);const H=(0,h.makeStyles)((e=>{let{zIndex:t,palette:a}=e;return{root:{position:"fixed",bottom:0,right:0,zIndex:t.snackbar,width:40,height:40,"&:hover $icon":{fill:a.primary.main},"&:hover $nameIcon":{display:"inline-block"},"&:hover $typeIcon":{display:"none"},"&:hover $bubble":{borderColor:a.primary.main,boxShadow:"0 0 0px 2px white"}},bubble:{position:"absolute",backgroundColor:a.common.white,border:`1px solid ${a.grey[200]}`,borderRadius:"50% 50% 0 0",cursor:"pointer",height:75,left:0,outline:"none",top:0,width:75},children:{height:"100%",width:"100%"},icon:{display:"flex",bottom:8,height:16,justifyContent:"center",lineHeight:0,pointerEvents:"none",position:"absolute",right:8,width:16},nameIcon:{display:"none",fill:a.primary.main},pulse:{animation:`$pulse 1500ms infinite alternate`},typeIcon:{fill:a.grey[600]},indicator:{position:"relative","&:after":{backgroundColor:"rgba(151, 191, 229, 0.75)",bottom:0,content:'""',left:0,position:"absolute",right:0,top:0}},"@keyframes pulse":{"0%":{opacity:1},"100%":{opacity:.25}}}}));const q={committed:"fab-check-circle-outline-16x16",development:"fab-wrench-16x16",odi:"fab-clock-14x14",custom:"fab-pencil-16x16"};const W=e=>{const{children:t,getUrl:a,icon:i,resource:o,onChange:r}=e;const{name:l,type:c,version:d}=o;const u=H(e);const[p,m]=(0,n.useState)(false);const[f,g]=(0,n.useState)(false);const v=(0,s.Z)(h.Icon,{name:q[c]});return window.ENV==="dev"?(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("div",{className:F()(u.children,{[u.indicator]:p}),id:"versionmanager"},void 0,t),(0,s.Z)("div",{className:u.root,onMouseEnter:()=>m(true),onMouseLeave:()=>m(false)},void 0,(0,s.Z)(h.Tooltip,{content:d,title:`Using the ${c} version of ${(0,y.upperFirst)(l)}.`},void 0,(0,s.Z)("button",{"aria-label":"version picker",className:u.bubble,onClick:()=>g(true),type:"button"})),(0,s.Z)("span",{className:F()(u.icon,{[u.pulse]:!p&&c!=="committed"})},void 0,(0,s.Z)("span",{className:u.typeIcon},void 0,v),(0,s.Z)("span",{className:u.nameIcon},void 0,i||v))),(0,s.Z)(B,{getUrl:a||k(l),isOpen:f,onCancel:()=>g(false),onSave:e=>{g(false);r(e)},value:o})):t};var U=a(38592);const z=JSON.parse(window.localStorage.getItem("bhr_greenhouse_dev"))||false;const V=z?(0,s.Z)("span",{},void 0,"Please make sure you've cloned the"," ",(0,s.Z)("a",{href:"https://github.com/BambooHR/fe-greenhouse",rel:"noopener noreferrer"},void 0,"fe-greenhouse")," ","repository and run the build."):"If the problem persists, please contact the Internal Affairs development team.";const Y=(0,U.getJsonScriptVar)("config","pusher");const G=e=>{let{route:t}=e;const a="greenhouse";const[n,i]=(0,j.W)(a);const{mode:o,themeName:r}=(0,l.Y)();const d={fabricMode:o,fabricThemeName:r,globals:{PUSHER_AUTH_KEY:Y.PUSHER_AUTH_KEY,PUSHER_CLUSTER:Y.PUSHER_CLUSTER},route:t};return(0,s.Z)(W,{icon:(0,s.Z)(c,{}),onChange:i,resource:n},void 0,(0,s.Z)(T,{body:V,header:z?"Local Dev Tip":"We can help!",host:n?.url,manifest:"manifest.json",name:a,payload:d}))};G.propTypes={route:r().string};G.defaultProps={route:undefined};var K=a(69853);var X=a(71141);var J=a(92102);var Q=a(12382);var ee=a(47380);const te=(0,n.lazy)((()=>Promise.all([a.e(4736),a.e(6146)]).then(a.bind(a,72826))));function ae(e){const{route:t}=e;return(0,s.Z)(ee.VA,{initialEntries:[t],initialIndex:0},void 0,(0,s.Z)(n.Suspense,{fallback:null},void 0,(0,s.Z)(ee.rs,{},void 0,(0,s.Z)(ee.AW,{path:"payroll",render:()=>i().createElement(te,e)}))))}var se=a(87808);const ne=["pdf.worker.js","salesforce-chat.js","e-signature.mobile.js"];const ie=e=>{let{customClassNamePrefix:t,route:a,...i}=e;const o="po";const[r,c]=(0,j.W)(o);const u=(0,K.useRecoilBridgeAcrossReactRoots_UNSTABLE)();const{mode:h,themeName:p}=(0,l.Y)();const m={customClassNamePrefix:(0,n.useRef)((0,y.uniqueId)(t&&`${t}-`)).current,fabricMode:h,fabricThemeName:p,globals:{assumedUser:window.ASSUMED_USER,company:{...window.SESSION_COMPANY,globalCompanyCountryId:window.GLOBAL_COMPANY_COUNTRY_ID},user:window.SESSION_USER,defaultCurrencyCode:window.GLOBAL_CURRENCY_CODE,defaultCurrencySymbol:window.GLOBAL_CURRENCY_SYMBOL,csrfToken:window.CSRF_TOKEN,Files:{deleteEmployeeFile:window.deleteEmployeeFile,shareEmployeeFile:window.shareEmployeeFile,emailFile:window.emailFile},getCsrfToken:()=>window.CSRF_TOKEN,showHelpWidget:window.showHelpWidget,isFeatureEnabled:X.isEnabled,getSnapEngageClient:J.uu,dateFnsDefaultFormat:window.dateFnsDefaultFormat,datePickerProviderFormatType:(0,Q.u)(),datePickerProviderLocale:(0,Q.K)(),MainTechnicalDebt:ae,decimalChar:window.GLOBAL_DECIMAL_CHAR,thousandsSeparator:window.GLOBAL_THOUSANDS_SEPARATOR,isSupportAdmin:window.IS_SUPPORT_ADMIN,hasTrax:!!window.companyHasTrax||!!window.hasTrax||false,isPayrollSynced:window.Employee&&window.Employee.payrollSynced,isAssumedUser:window.GLOBAL_IS_ASSUMED_USER,numberRegex:window.GLOBAL_NUMBER_REGEX,host:r?.url,clearDemoData:se.J7},route:a,RecoilBridge:u,updateEmployeeInformation:window.BambooHR.HistoryTable?.updateEmployeeInformation,updateEmployeeGearMenu:window.BambooHR.HistoryTable?.updateEmployeeGearMenu,openMissingLocationInformation:window.BambooHR.HistoryTable?.openMissingLocationInformation,updateHireDates:window.updateHireDates,registerRateChange:window.registerRateChange,...i};return(0,s.Z)(W,{icon:(0,s.Z)(d,{}),onChange:c,resource:r},void 0,(0,s.Z)(T,{host:r?.url,manifest:"manifest.json",name:o,noLoadJSFromManifest:ne,payload:m}))};ie.propTypes={route:r().string};ie.defaultProps={route:undefined};const oe=()=>{const e="developerportal";const[t,a]=(0,j.W)(e);const n={globals:{environment:window.ENV}};return(0,s.Z)(W,{icon:(0,s.Z)(c,{}),onChange:a,resource:t},void 0,(0,s.Z)(T,{host:t?.url,manifest:"manifest.json",name:e,payload:n}))}},61808:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var s=a(31868);const n=e=>e==="dev"?"prod":e;const i=(e,t)=>{if(t&&t.startsWith("https://")){return t}const a=t||s.Z.versions[e]||"";return`${s.Z.url}/${e}/${n(a)}`}},58365:(e,t,a)=>{"use strict";a.d(t,{y:()=>c});var s=a(17842);var n=a.n(s);var i=a(23321);var o=a.n(i);var r=a(31868);var l=a(59592);const c=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const[t,a]=(0,i.useState)([]);const[s,o]=(0,i.useState)(true);(0,i.useEffect)((()=>{const s=r.Z?.odiManifestEndpoints[e];o(true);if(!s){if(t){a([])}o(false);return}n().get(s).then((function(){let{data:e=[]}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};a(e);o(false)}),(()=>{(0,l.f)("Something went wrong loading ODI resources.","error");o(false)}))}),[e]);return[t,s]}},23211:(e,t,a)=>{"use strict";a.d(t,{W:()=>u,y:()=>c});var s=a(23321);var n=a.n(s);var i=a(31868);var o=a(61808);const r=e=>{if(!e)return e;if(typeof e==="string")return e;return JSON.stringify(e)};const l=e=>{if(e&&typeof e==="string"){return JSON.parse(e)}return e};const c=()=>{const e="po";const t=`${e.toLowerCase()}_micro_frontend_resource`;const a={url:(0,o.g)(e)};const s=l(window.localStorage.getItem(t));const n=l(window.sessionStorage.getItem(t));return(n||s||a).url};const d=(e,t)=>{let{defaultValue:a}=t;const n=l(window.localStorage.getItem(e));const i=l(window.sessionStorage.getItem(e));const o=i||n||a;const[c,d]=(0,s.useState)(o);const u=t=>{if(t&&t.sessionOnly){window.sessionStorage.setItem(e,r(t));d(t)}else{window.localStorage.setItem(e,r(t));sessionStorage.removeItem(e);d(t)}};(0,s.useEffect)((()=>{const t=t=>{if(e===t.key){if(t.newValue){d(l(t.newValue))}}};window.addEventListener("storage",t);return()=>{if(t){window.removeEventListener("storage",t)}}}),[u]);return[c||a,u]};const u=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const t=i.Z.versions[e];const a={name:e,type:"committed",url:(0,o.g)(e),version:t,sessionOnly:false};return d(`${e.toLowerCase()}_micro_frontend_resource`,{defaultValue:a})}},86347:(e,t,a)=>{"use strict";a.d(t,{j:()=>o});const s=e=>e.includes("staticfe.ci.pandasandbox.com");const n=e=>e.replace(/^\/|\/$/g,"");const i=e=>n(e).replace(/\/[^/]+$/,"");const o=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";const a=new URL(e);const o=s(a.host)?a.pathname:i(a.pathname);return`${a.protocol}//${a.host}/${[n(o),n(t)].filter(Boolean).join("/")}`}},53588:(e,t,a)=>{"use strict";a.d(t,{t:()=>i,L:()=>o});var s=a(17842);var n=a.n(s);function i(e){return n().get(e).then((()=>true),(()=>false))}function o(e){let{branch:t,commit:a,version:s}=e;return{note:a||s,text:t||"<unknown>",value:s}}},26023:(e,t,a)=>{"use strict";a.d(t,{w:()=>p});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(73641);var c=a.n(l);var d=a(60042);var u=a.n(d);var h=a(53588);const p=(0,n.forwardRef)(((e,t)=>{let{errors:a,name:i,odiResources:r,onChange:c,value:d}=e;return(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("label",{className:u()("fab-Label","fab-Label--required",{"fab-Label--error":a?.odiVersion})},void 0,"Select an ODI version of ",(0,l.startCase)(i)),(0,s.Z)(o.Select,{condition:a?.odiVersion?"error":"default",inputRef:t,items:r.map(h.L),name:"odiVersion",onChange:e=>c(e[0]),selectedValues:d?[d]:[],width:"9"}))}))},20797:(e,t,a)=>{"use strict";a.d(t,{i:()=>d});var s=a(89835);var n=a(88604);var i=a(59155);var o=a.n(i);var r=a(23321);var l=a.n(r);const c=(0,i.makeStyles)((()=>({boxes:{display:"grid",gap:10,gridTemplateColumns:"repeat(auto-fill, minmax(280px, max-content))"}})));function d(e){let{disabledTypes:t=[],onChange:a,value:o}=e;const r=c();const d=(e,t)=>a(t);const u=e=>({boxWidth:280,inputId:`version-${e}`,isChecked:o===e,isDisabled:t.includes(e),name:"resource",onChange:d,value:e});return(0,s.Z)(i.SelectableBoxGroup,{type:"radio"},void 0,(0,s.Z)("div",{className:r.boxes},void 0,(0,s.Z)("div",{className:r.box},void 0,l().createElement(i.SelectableBox,(0,n.Z)({},u("committed"),{description:"Use version defined in this branch.",icon:"fab-check-circle-outline-20x20",title:"Committed"}))),(0,s.Z)(i.Tooltip,{content:"This option is only available when used outside of an ODI",open:t.includes("development")?undefined:false},void 0,(0,s.Z)("div",{className:r.box},void 0,l().createElement(i.SelectableBox,(0,n.Z)({},u("development"),{description:"Use a version from your machine.",icon:"fab-wrench-20x20",title:"Development"})))),(0,s.Z)(i.Tooltip,{content:"This option is only available when using an ODI",open:t.includes("odi")?undefined:false},void 0,(0,s.Z)("div",{className:r.box},void 0,l().createElement(i.SelectableBox,(0,n.Z)({},u("odi"),{description:"Use an ODI version.",icon:"fab-clock-20x20",title:"ODI"})))),(0,s.Z)("div",{className:r.box},void 0,l().createElement(i.SelectableBox,(0,n.Z)({},u("custom"),{description:"Use a specific production version.",icon:"fab-pencil-20x20",title:"Custom"})))))}},98675:(e,t,a)=>{"use strict";a.d(t,{u_:()=>U,yI:()=>C});var s=a(88604);var n=a(44119);var i=a(89835);var o=a(84479);var r=a(21198);var l=a(60042);var c=a.n(l);var d=a(59155);var u=a(23321);var h=a.n(u);var p=a(61403);var m=a.n(p);var f=a(56445);var g=JSON.parse('{"zQ":["text","filled","stacked"],"Pt":250,"vK":["aggressiveConfirmation","custom","fullScreen","medium","small","largeSheet","mediumSheet","smallSheet"]}');const v={ADD_ATTR:["brand","encore-color","encore-class","encore-name","encore-size"]};const y='input:not([type="hidden"]), textarea, .fab-Select, select';function b(e){return(0,r.sanitize)(e,v)}function w(e,t){if(!e||!(e instanceof HTMLElement)){return false}return e.querySelectorAll(String(t)).length===1}function S(e){if(!e||!(e instanceof HTMLElement)){return false}return w(e,y)}function C(){document.body.style.position="";document.body.style.top="";window.scrollTo(0,scrollY)}const x=function e(t){const{children:a,content:s,dangerousContent:n,handleClose:o,hasCloseButton:r,isLoading:l,isOpen:u,isProcessing:p,reactModalProps:f}=t;const g=a?a:s;return h().createElement(m(),f,u&&l&&(0,i.Z)("div",{className:"legacyModal__modalLoader"},void 0,(0,i.Z)(d.Loader,{})),(0,i.Z)("div",{className:c()("legacyModal__main","js-fabric-modal-main"),dangerouslySetInnerHTML:n?{__html:b(n)}:null,id:"fabricModalContent",role:"main"},void 0,n?null:g),r&&!p&&(0,i.Z)("button",{className:"legacyModal__closeButton",onClick:o,type:"button"},void 0,(0,i.Z)(d.Icon,{name:"fab-x-16x16"})))};const T=function e(t){const{header:a,headerType:s,headline:n,iconColor:o,iconName:r,isMobileFriendly:l=false,mobileFriendlyHeader:u="",type:p,iconV2Color:m=null}=t;const g=a||n;const v=c()("legacyModal__header",{[`legacyModal__header--${s}`]:!!s});const y=c()("legacyModal__headerContent",{[`legacyModal__header--${p}--mobileHide`]:!!s&&!!l});const b=c()("legacyModal__headerContent",{[`legacyModal__header--${p}--mobileShow`]:!!s&&!!l});const w=c()("legacyModal__headerIcon",{[`legacyModal__headerIcon--${o}`]:!!o,[`legacyModal__headerIcon--${p}--mobileHide`]:!!s&&!!l});if(s==="filled"){return(0,i.Z)("div",{className:v},void 0,(0,i.Z)("div",{className:"legacyModal__headerBox"},void 0,g))}const S=s==="stacked"?"small":"medium";const C=g?h().createElement(d.Headline,{id:"fabricModalHeadline",size:p==="fullScreen"?"large":S,color:s==="stacked"&&p!=="fullScreen"?"neutral-strong":"primary"},g):null;const x=g?h().createElement(p==="fullScreen"?"h2":"h4",{className:y,id:"fabricModalHeadline"},g):null;if(r||g&&typeof g==="string"||u&&typeof u==="string"){return(0,i.Z)("div",{className:v,role:"banner"},void 0,r&&(0,f.ifFeature)("encore",(0,i.Z)(d.Flex,{alignItems:"center",justifyContent:"center"},void 0,(0,i.Z)("div",{className:w},void 0,(0,i.Z)(d.IconV2,{color:m,name:r,size:55}))),(0,i.Z)("div",{className:w},void 0,(0,i.Z)(d.Icon,{name:r}))),(0,f.ifFeature)("encore",C,x),l&&u&&p!=="fullScreen"&&h().createElement("h2",{className:b,id:"fabricModalHeadlineMobile"},u))}return g};const E=function e(t){const{aggressiveConfirmationText:a,dangerousContent:s,handleAggressiveConfirmationInput:n,normalizedContent:o}=t;return(0,i.Z)(u.Fragment,{},void 0,(s||o)&&(0,i.Z)("div",{className:"legacyModal__note",dangerouslySetInnerHTML:s?{__html:b(s)}:null},void 0,o&&!s?o:null),(0,i.Z)("div",{className:"legacyModal__delete",dangerouslySetInnerHTML:typeof a==="string"?{__html:a}:null},void 0,typeof a==="string"?null:a),(0,i.Z)("input",{className:"fab-TextInput fab-TextInput--width4",onChange:n}))};const k=function e(t){const{aggressiveConfirmationText:a,normalizedContent:s,contentHasMaxHeight:n,contentHasPadding:o,dangerousContent:r,handleAggressiveConfirmationInput:l,isConfirmation:d}=t;const u=function e(){if(d){return h().createElement(E,{aggressiveConfirmationText:a,dangerousContent:r,handleAggressiveConfirmationInput:l,normalizedContent:s})}else if(!r){return s}return null};return(0,i.Z)("div",{className:c()("legacyModal__content",{"legacyModal__content--noPadding":!o,"legacyModal__content--noMaxHeight":!n}),dangerouslySetInnerHTML:!d&&r?{__html:b(r)}:null,id:"fabricModalContent"},void 0,u())};const Z=Function.prototype;const F=function e(t){const{actionNote:a,additionalAction:s,additionalActionButtonType:n,additionalActionText:o,alternativeAction:r,alternativeActionText:l,biId:u,isAggressivelyConfirmed:p,isConfirmation:m,isLoading:g,isMobileFriendly:v=false,isProcessing:y,isSheet:b,onClose:w,primaryAction:S,primaryActionText:C,secondaryAction:x,secondaryActionText:T,type:E}=t;const k=(0,f.ifFeature)("encore",true,false);const F=m&&!p?null:S;const I=(0,i.Z)(d.Button,{clickAction:typeof F==="function"?F:null,"data-bi-id":u?`${u}-modal-action-primary`:null,isDisabled:!F,isProcessing:y,size:(0,f.ifFeature)("encore",undefined,"large"),text:C,type:"button"});const N=c()("legacyModal__actions",{[`legacyModal__actions--${E}--mobileShow`]:!!v,[`legacyModal__actions--mobileShow`]:!!v});const A=c()("legacyModal__actions",{[`legacyModal__actions--mobileHide`]:!!v});const M=(0,f.ifFeature)("encore",c()("legacyModal__actionsContainer",{"legacyModal__actionsContainer--hidden":g}),"");function D(){return I}function P(){return typeof x==="function"?(0,i.Z)(d.Button,{clickAction:x,"data-bi-id":u?`${u}-modal-action-secondary`:null,isProcessing:y,outline:E==="fullScreen",secondary:true,size:(0,f.ifFeature)("encore",undefined,"large"),text:T,type:"button"}):null}function L(){return typeof r==="function"?(0,i.Z)(d.TextButton,{clickAction:r===Z?w:r,"data-bi-id":u?`${u}-modal-action-alternative`:null,isDisabled:y,size:(0,f.ifFeature)("encore",undefined,"large"),text:l,type:"button"}):null}function O(){return a?(0,i.Z)("div",{className:"actionNote"},void 0,a):null}function R(){return typeof s==="function"?(0,i.Z)("div",{className:"legacyModal__additionalAction"},void 0,h().createElement(n==="text"?d.TextButton:d.Button,{clickAction:s,"data-bi-id":u?`${u}-modal-action-additional`:null,secondary:true,text:o,type:"button"})):null}const B=[D,P,L,O,R];function j(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e){return B.reduceRight(((e,t)=>{e.push(t());return e}),[])}return B.map((e=>e()))}return(0,i.Z)("div",{className:M},void 0,v&&b&&(0,i.Z)("div",{className:N},void 0,I),(0,i.Z)("div",{className:A},void 0,(0,f.ifFeature)("encore",j(E!=="fullScreen"),j(false)),E==="fullScreen"&&!k&&!v&&(0,i.Z)("div",{className:"legacyModal__logo"},void 0,(0,i.Z)(d.Icon,{name:"fab-bamboohr-logo-113x18"}))))};const I=function e(t){const{actionNote:a,additionalAction:s,additionalActionButtonType:n,additionalActionText:o,aggressiveConfirmationText:r,alternativeAction:l,alternativeActionText:d,biId:u,children:p,content:m,contentHasMaxHeight:g,contentHasPadding:v,dangerousContent:y,footer:b,handleAggressiveConfirmationInput:w,header:S,headerType:C,headline:x,iconColor:E,iconV2Color:Z,iconName:I,isAggressivelyConfirmed:N,isConfirmation:A,isLoading:M,isMobileFriendly:D=false,isProcessing:P,isSheet:L,onClose:O,mobileFriendlyHeader:R,primaryAction:B,primaryActionText:j,secondaryAction:H,secondaryActionText:q,type:W}=t;const U=h().createElement(F,{actionNote:a,additionalAction:s,additionalActionButtonType:n,additionalActionText:o,alternativeAction:l,alternativeActionText:d,biId:u,isAggressivelyConfirmed:N,isConfirmation:A,isLoading:M,isMobileFriendly:D,isProcessing:P,isSheet:L,onClose:O,primaryAction:B,primaryActionText:j,secondaryAction:H,secondaryActionText:q,type:W});return h().createElement(h().Fragment,null,(0,i.Z)("div",{className:c()("legacyModal__main","js-fabric-modal-main",M&&"legacyModal__main--hidden")},void 0,h().createElement(T,{header:S,headerType:C,headline:x,iconColor:E,iconV2Color:Z,iconName:I,isMobileFriendly:D,mobileFriendlyHeader:R,type:W}),h().createElement(k,{aggressiveConfirmationText:r,normalizedContent:p?p:m,contentHasMaxHeight:g,contentHasPadding:v,dangerousContent:y,handleAggressiveConfirmationInput:w,isConfirmation:A}),b&&(0,i.Z)("div",{className:"legacyModal__footer"},void 0,b),(0,f.ifFeature)("encore",null,U)),(0,f.ifFeature)("encore",U,null))};var N=a(40957);var $=a(26570);const A=function e(t){const{handleClose:a,hasCloseButton:s,isHeadless:n,isLoading:o,isMobileFriendly:r=false,isMobileFriendlySheetFullScreen:l=false,isProcessing:p,isSheet:m,title:g,type:v}=t;const y=(0,i.Z)("div",{className:c()("legacyModal__titleGrid",{"legacyModal__titleGrid--noTitle":n||!g,"legacyModal__titleGrid--fullScreen":v==="fullScreen","legacyModal__titleGrid--hidden":o})},void 0,!n&&v!=="fullScreen"&&h().createElement(m?"h4":"h3",{className:c()("legacyModal__title",{"legacyModal__title--hidden":o,"legacyModal__title--hasCloseButton":s&&!p,[`legacyModal__title--${v}--mobileHide`]:r&&!m||l&&m}),id:"fabricModalTitle"},g),s&&!p&&(0,i.Z)("div",{className:"legacyModal__titleCloseButton"},void 0,(0,i.Z)(d.IconButton,{"aria-label":$.__("close modal"),icon:"xmark-solid",onClick:a,size:v==="fullscreen"?"medium":"small",type:"button",variant:"outlined"})));const b=(0,i.Z)(u.Fragment,{},void 0,!n&&v!=="fullScreen"&&h().createElement(m?"h4":"h3",{className:c()("legacyModal__title",{"legacyModal__title--hidden":o,"legacyModal__title--hasCloseButton":s&&!p,[`legacyModal__title--${v}--mobileHide`]:r&&!m||l&&m}),id:"fabricModalTitle"},g),s&&!p&&(0,i.Z)(d.IconButton,{"aria-label":$.__("Close Modal"),className:c()("legacyModal__closeButton",o&&"legacyModal__closeButton--hidden"),icon:(0,i.Z)(N.Z,{}),noBoundingBox:true,onClick:a,type:"button"}));return(0,f.ifFeature)("encore",y,b)};var M=a(26570);var D=a(26570);const P=(0,o.createLogger)("<Modal>");const L=Function.prototype;const O="Delete";let{scrollY:R}=window;const B=[];function j(e){return Boolean(B[0]&&B[0]!==e)}function H(e){if(e.props.type.indexOf("Sheet")>-1||B[1]===e){B.length=1}else if(B[0]===e){B.length=0}}function q(){if(!B[0]){C()}}const W={actionNote:"",additionalAction:null,additionalActionButtonType:"text",additionalActionText:"",aggressiveConfirmationPassphrase:O,aggressiveConfirmationText:M?D.__('Type "%1$s%2$s%3$s" to continue',`<span class="legacyModal__bold">`,O,"</span>"):(0,i.Z)(u.Fragment,{},void 0,"Type “",(0,i.Z)("span",{className:"legacyModal__bold"},void 0,O),"” to continue"),alternativeAction:L,alternativeActionText:M?D.__("Cancel"):"Cancel",biId:"",content:"",contentHasMaxHeight:true,contentHasPadding:true,dangerousContent:"",footer:"",hasCloseButton:true,header:"",headerType:"stacked",headline:"",icon:"",iconColor:"theme",iconV2Color:null,isHeadless:false,isLoading:false,isMobileFriendly:false,isMobileFriendlySheetFullScreen:false,isOpen:false,isProcessing:false,onClose:L,onOpen:L,overrides:{},primaryAction:L,primaryActionText:M?D.__("OK"):"OK",primaryActionKey:"",secondaryAction:null,secondaryActionText:"",sheetProps:null,title:"",type:"small"};class U extends u.PureComponent{constructor(){super(...arguments);(0,n.Z)(this,"_a11yOpen",(()=>{let e=document.querySelector(".BhrPage-wrap");if(e){e.style.visibility="hidden"}}));(0,n.Z)(this,"_a11yClose",(()=>{let e=document.querySelector(".BhrPage-wrap");if(e){e.style.visibility="visible"}}));(0,n.Z)(this,"_handleClose",(()=>{const{onClose:e}=this.props;this._removeEventListeners();if(typeof e==="function"){e()}}));(0,n.Z)(this,"_handleOpen",(()=>{const{onOpen:e}=this.props;this._a11yOpen();this._addEventListeners();document.body.style.position="fixed";document.body.style.top=`-${R}px`;setTimeout((()=>{this._focusInput();if(typeof e==="function"){e()}}))}));(0,n.Z)(this,"_handleAfterClose",(()=>{this._a11yClose()}));(0,n.Z)(this,"_handleFormSubmit",(e=>{e.preventDefault()}));(0,n.Z)(this,"_handleKeyDown",(e=>{const{primaryAction:t,primaryActionKey:a,type:s}=this.props;const{isAggressivelyConfirmed:n}=this.state;if(typeof t!=="function"){return}if(e.key===a&&s!=="aggressiveConfirmation"){t()}else if(e.key==="Enter"&&(e.target.nodeName==="INPUT"||e.target.nodeName==="SELECT")){if(S(this._contentRef)){if(s!=="aggressiveConfirmation"){t()}else if(n){t()}}}}));(0,n.Z)(this,"_handleAggressiveConfirmationInput",(e=>{const{aggressiveConfirmationPassphrase:t}=this.props;const a=e.target.value.toLowerCase();const s=String(t).toLowerCase();this.setState((()=>({isAggressivelyConfirmed:a===s})))}));(0,n.Z)(this,"_focusInput",(()=>{const{overrides:e}=this.props;if(e.shouldFocusAfterRender===false){return}const t=this._contentRef.querySelector('input:not([type="hidden"]), textarea, .fab-Select [role="button"], select');if(t){t.focus()}}));(0,n.Z)(this,"_addEventListeners",(()=>{if(this._contentRef){this._contentRef.addEventListener("submit",this._handleFormSubmit);this._contentRef.addEventListener("keydown",this._handleKeyDown)}}));(0,n.Z)(this,"_removeEventListeners",(()=>{if(this._contentRef){this._contentRef.removeEventListener("submit",this._handleFormSubmit);this._contentRef.removeEventListener("keydown",this._handleKeyDown)}}));(0,n.Z)(this,"state",{isAggressivelyConfirmed:false});(0,n.Z)(this,"_contentRef",null)}static get className(){return"Modal"}static setAppElement(e){if(e){m().setAppElement(e)}}static getDerivedStateFromProps(e,t){if(!e.isOpen&&t.isAggressivelyConfirmed){return{isAggressivelyConfirmed:false}}return null}componentDidMount(){const{headerType:e,type:t}=this.props;if(g.zQ.indexOf(e)===-1){P.warn("Supplied header type is not recognized!")}if(g.vK.indexOf(t)===-1){P.warn("Supplied modal type is not recognized!")}}getSnapshotBeforeUpdate(){const{isOpen:e}=this.props;if(e){if(!B[0]){B[0]=this}else if(B[0]!==this&&!B[1]){B[1]=this}}return null}componentDidUpdate(e){const{isOpen:t,type:a}=this.props;if(!e.isOpen&&t){const e=a.indexOf("Sheet")>-1||j(this);if(!e){({scrollY:R}=window)}}if(e.isOpen&&!t){H(this);q()}}componentWillUnmount(){H(this);q();this._removeEventListeners()}render(){const{actionNote:e,additionalAction:t,additionalActionButtonType:a,additionalActionText:n,aggressiveConfirmationText:o,alternativeAction:l,alternativeActionText:u,biId:p,children:v,content:y,contentHasMaxHeight:b,contentHasPadding:w,dangerousContent:S,footer:C,hasCloseButton:T,header:E,headerType:k,headline:Z,icon:F,iconColor:N,iconV2Color:M,isHeadless:D,isLoading:P,isMobileFriendly:L,isMobileFriendlySheetFullScreen:O,isOpen:R,isProcessing:B,onClose:H,overrides:q,primaryAction:W,primaryActionText:z,secondaryAction:V,secondaryActionText:Y,sheetProps:G,title:K}=this.props;const{mobileFriendlyHeader:X=(L||O?K:null)}=this.props;let{type:J}=this.props;const{isAggressivelyConfirmed:Q}=this.state;const ee=J==="aggressiveConfirmation";let te=J.indexOf("Sheet")>-1;if(!te&&j(this)){te=true;J="smallSheet"}const ae=E||Z;const se=ee&&!F?(0,f.ifFeature)("encore","trash-can-regular","fab-trash-can-43x48"):F;const ne=Boolean(R);this.currentZIndex=!this.isCurrentlyOpen&&ne?(0,r.getMaxZIndex)()+10:this.currentZIndex;this.isCurrentlyOpen=ne;const ie={aria:{labelledby:ae&&typeof ae!=="object"?"fabricModalHeadline":"fabricModalTitle",describedby:"fabricModalContent"},ariaHideApp:true,bodyOpenClassName:"fabricModalOpen",className:c()("legacyModal__modal",{[`legacyModal__modal--${J}`]:!!J,[`legacyModal__modal--${J}--mobileFriendly`]:!!J&&!!L,[`legacyModal__modal--${J}--mobileFriendlyFullScreen`]:!!J&&!!L&&!!O,[`legacyModal__modal--aggressiveConfirmation`]:ee,[`legacyModal__modal--headless`]:D,[`legacyModal__modal--loading`]:P,[`legacyModal__modal--sheet`]:te}),closeTimeoutMS:g.Pt,contentRef:e=>{this._contentRef=e},htmlOpenClassName:"fabricModalOpen",isOpen:ne,onAfterOpen:this._handleOpen,onAfterClose:this._handleAfterClose,onRequestClose:this._handleClose,overlayClassName:c()("legacyModal__overlay",te&&"legacyModal__overlay--sheet"),portalClassName:"legacyModal__portal",shouldCloseOnOverlayClick:false,shouldCloseOnEsc:!B,style:{overlay:{zIndex:this.currentZIndex}},...q};if(J==="custom"){return h().createElement(x,{content:y,dangerousContent:S,handleClose:this._handleClose,hasCloseButton:T,isLoading:P,isOpen:R,isProcessing:B,reactModalProps:ie},v)}return h().createElement(m(),ie,R&&P&&(0,i.Z)("div",{className:"legacyModal__modalLoader"},void 0,(0,i.Z)(d.Loader,{})),h().createElement(A,{handleClose:this._handleClose,hasCloseButton:T,isHeadless:D,isLoading:P,isMobileFriendly:L,isMobileFriendlySheetFullScreen:O,isProcessing:B,isSheet:te,title:K,type:J}),h().createElement(I,{actionNote:e,additionalAction:t,additionalActionButtonType:a,additionalActionText:n,aggressiveConfirmationText:o,alternativeAction:l,alternativeActionText:u,biId:p,content:y,contentHasMaxHeight:b,contentHasPadding:w,dangerousContent:S,footer:C,handleAggressiveConfirmationInput:this._handleAggressiveConfirmationInput,header:E,headerType:k,headline:Z,iconColor:N,iconV2Color:M,iconName:se,isAggressivelyConfirmed:Q,isConfirmation:ee,isLoading:P,isMobileFriendly:L,isProcessing:B,isSheet:te,mobileFriendlyHeader:X,onClose:H,primaryAction:W,primaryActionText:z,secondaryAction:V,secondaryActionText:Y,type:J},v),!te&&G&&h().createElement(U,(0,s.Z)({},G,{sheetProps:null,type:G.type||"smallSheet"})))}}(0,n.Z)(U,"defaultProps",W);const z={defaultProps:W,ModalMain:I,ModalTitle:A}},87094:(e,t,a)=>{"use strict";a.d(t,{u:()=>u});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(98853);var l=a.n(r);var c=a(34825);var d=a(76725);class u extends i.Component{constructor(){super(...arguments);(0,n.Z)(this,"_bodyElm",document.createElement("div"));(0,n.Z)(this,"_footerElm",document.createElement("div"));(0,n.Z)(this,"_titleElm",document.createElement("div"));(0,n.Z)(this,"_modalInstance",null);(0,n.Z)(this,"_bodyElement",(()=>{this._bodyElm.classList.add("js-react-modal-body-wrapper");return this._bodyElm}));(0,n.Z)(this,"_footerElement",(()=>{this._footerElm.classList.add("js-react-modal-footer-wrapper");return this._footerElm}));(0,n.Z)(this,"_titleElement",(()=>{this._titleElm.classList.add("js-react-modal-title-wrapper");return this._titleElm}))}static get className(){return"Modal"}_configureOptions(){const{options:e={},onClose:t,onCloseBefore:a,onOpen:s,onOpenBefore:n,onAction:i,handleData:o,footer:r,title:l}=this.props;const u=r?{show:true,custom:{html:this._footerElement()}}:e.footer||{};if(!r&&i){u.buttons=u.buttons||{};u.buttons.primary=u.buttons.primary||{};u.buttons.primary.action=i}e.title=l?this._titleElement().textContent:e.title;const h={...e,callbacks:{close:{after:()=>{if(t){t()}},before:()=>{if(a){return a()}return true}},open:{after:()=>{c.ZP.setPosition();if(s){s()}},before:()=>{if(n){return n()}return true}}},html:this._bodyElement(),responseToHTML:e=>{const t=(0,d.L)(e);if(o){o(t);return this._bodyElement()}},footer:u};return h}_open(){const e=this._configureOptions();this._modalInstance=c.ZP.openModal(e)}_close(){const{selector:e}=this._modalInstance||{};if(e&&document.querySelector(e)){c.ZP.closeModal()}}componentDidMount(){const{visible:e}=this.props;if(e){this._open()}}componentDidUpdate(e){const{visible:t}=this.props;const a=c.ZP.getTopModalSelector();if(a){c.ZP.setPosition()}if(!!t===!!e.visible){return}if(t){this._open()}else if(a){this._close()}}componentWillUnmount(){this._close()}render(){const{children:e,destroyOnHide:t,visible:a}=this.props;let n=e;if(t){n=a?e:null}return(0,s.Z)(i.Fragment,{},void 0,(0,r.createPortal)(n,this._bodyElement()),this.props.footer&&(0,r.createPortal)(this.props.footer(),this._footerElement()),this.props.title&&(0,r.createPortal)(this.props.title(),this._titleElement()))}}(0,n.Z)(u,"defaultProps",{destroyOnHide:false})},32499:(e,t,a)=>{"use strict";a.d(t,{T:()=>h});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(98853);var r=a(56445);const l=(0,r.isEnabled)("encore")?document.getElementById("encore-site-footer-js"):document.createElement("div");l?.classList.toggle("hidden",true);const c=["SiteFooter","SiteFooter--dark-theme","SiteFooter--large-theme"];const d=()=>window.location.pathname.indexOf("/greenhouse")>-1?"greenhouse":"main";const u={greenhouse:{alt:"BambooHR Greenhouse",href:"/greenhouse",iconName:"fab-greenhouse-logo-150x28"},main:{alt:"BambooHR",href:"https://www.bamboohr.com",iconName:"fab-bamboohr-logo-115x17"}};function h(e){const{children:t,isOpen:a=false,right:h}=e;const p=d();let m=document.querySelector("footer");(0,n.useEffect)((()=>{if(!m){m=document.createElement("footer");m.classList.add(...c);document.body.appendChild(m)}m.appendChild(l)}),[]);const f=()=>{Array.from(m.children).forEach((e=>{if(e!==l){if(e.classList.contains("SiteFooter__container--actions")){e.classList.toggle("hidden",true)}else{e.classList.toggle("hidden",!!a)}}}))};(0,n.useEffect)((()=>{if(a){l.classList.toggle("hidden",!a);setTimeout((()=>m.classList.toggle("SiteFooter--open",!!a)));setTimeout(f,300)}else{m.classList.toggle("SiteFooter--open",!!a);setTimeout((()=>l.classList.toggle("hidden",!a)),300);f()}}),[a]);return(0,o.createPortal)((0,s.Z)("div",{className:"SiteFooter__container SiteFooter__container--actions PageCapsule__footer--borderTop",id:"encore-page-actions-js"},void 0,(0,s.Z)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--outerReverse SiteContent"},void 0,(0,s.Z)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--left"},void 0,t),(0,s.Z)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--right"},void 0,(0,r.ifFeature)("encore",h,h||(0,s.Z)("a",{className:"SiteFooter__link SiteFooter__link--logo",href:u[p].href,rel:"noopener external nofollow noreferrer",target:"_blank"},void 0,(0,s.Z)("span",{className:"SiteFooter__logo"},void 0,(0,s.Z)(i.Icon,{alt:u[p].alt,name:u[p].iconName}))))))),l)}},7125:(e,t,a)=>{"use strict";a.d(t,{W:()=>o});var s=a(89835);var n=a(23321);var i=a(32499);function o(e){const{left:t,right:a}=e;return(0,s.Z)(i.T,{isOpen:true,right:a},void 0,t)}},79782:(e,t,a)=>{"use strict";a.d(t,{m:()=>h});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(56445);var r=a(60042);var l=a.n(r);function c(e){let{icon:t}=e;if(typeof t==="function"){return t()}return(0,s.Z)(i.Icon,{name:t})}function d(e){let{subTitle:t}=e;if(typeof t==="function"){return t()}return t}const u=(0,i.makeStyles)((()=>({rounded:{"&&:before":{width:(0,o.ifFeature)("encore",(e=>e.beforeWidth))}}})));function h(e){const{includeBorder:t=true,rounded:a=false,leftOptionalBlock:i,rightOptionalBlock:r,size:h,back:p,icon:m,title:f,subTitle:g}=e;let v=h;const y=v==="lg"||v==="xl";if(!i&&!y){v="sm"}if(i&&!y){v="md"}const b=p&&p.action?e=>p.action(e):undefined;const w=t?"":"PageHeader--noBorder";const S=a?`PageHeader--rounded`:"";const C=(0,n.useRef)(document.getElementById("js-PageCapsule"));const[x,T]=(0,n.useState)("100%");(0,n.useEffect)((()=>{if(!a||!C.current)return;const e=new ResizeObserver((()=>{T(C.current.offsetWidth)}));e.observe(C.current);return()=>e.disconnect()}),[a]);const E=u({beforeWidth:x});return(0,s.Z)("header",{className:l()(`PageHeader PageHeader--${v} ${w} ${S}`,{[E.rounded]:(0,o.ifFeature)("encore",a,false)})},void 0,p&&(p.value||p.extraContent)&&(0,s.Z)(n.Fragment,{},void 0,p.value?(0,s.Z)("a",{className:"PageHeader__backBtn",href:p.destination,onClick:b},void 0,(0,s.Z)("span",{className:"PageHeader__backBtnArrow"},void 0,(0,s.Z)(c,{icon:"fab-arrow-left-8x7"})),p.value):null,p.extraContent&&p.extraContent()),(0,s.Z)("div",{className:"PageHeader__titleWrap"},void 0,m&&(0,s.Z)("span",{className:"PageHeader__titleIcon"},void 0,(0,s.Z)(c,{icon:m})),(0,s.Z)("div",{className:`PageHeader__titleSubTitleWrap--${v}`},void 0,y?(0,s.Z)("h1",{className:"PageHeader__title"},void 0,f):(0,s.Z)("h2",{className:"PageHeader__title"},void 0,f),g&&y&&(0,s.Z)("h4",{className:"PageHeader__subTitle--large"},void 0,(0,s.Z)(d,{subTitle:g})),g&&!y&&(0,s.Z)("p",{className:"PageHeader__subTitle"},void 0," ",(0,s.Z)(d,{subTitle:g})," ")),v!=="md"&&r&&(0,s.Z)("div",{className:"PageHeader__optionalContent--right"},void 0,r())),v==="md"&&i&&(0,s.Z)("div",{className:"PageHeader__optionalContentWrap"},void 0,(0,s.Z)("div",{},void 0,i()),(0,s.Z)("div",{},void 0,r&&r())))}},11595:(e,t,a)=>{"use strict";a.d(t,{X:()=>l});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(17842);var r=a.n(o);var $=a(26570);function l(e){let{biId:t,closeModal:a,deleteUrl:o,employeeId:l,getUrl:c,imageAlt:d,postUrl:u,open:h,updateDisplayedPhoto:p}=e;const[m,f]=(0,n.useState)(true);const[g,v]=(0,n.useState)(false);const[y,b]=(0,n.useState)();const[w,S]=(0,n.useState)();(0,n.useEffect)((()=>{if(h){r().get(c).then((e=>{let{data:t}=e;if(t.dimensions){S({height:t.dimensions.h,width:t.dimensions.w,x:t.dimensions.x,y:t.dimensions.y})}if(t.data){b(`data:image/png;base64,${t.data}`)}f(false)})).catch((()=>{window.setMessage($.__("Oops! There was a problem getting the profile photo"),"error")}))}else{f(true);v(false);b(undefined);S(undefined)}}),[h]);const C=(0,n.useCallback)(((e,t)=>{v(true);const s=new FormData;s.append("employeeid",l);s.append("method","uploadImage");s.append("dimensions[]",`${t.x}`);s.append("dimensions[]",`${t.y}`);s.append("dimensions[]",`${t.x+t.width}`);s.append("dimensions[]",`${t.y+t.height}`);s.append("dimensions[]",`${t.width}`);s.append("dimensions[]",`${t.height}`);s.append("data",e.slice(e.indexOf(";base64,")+8));r().post(u,s).then((e=>{let{data:t}=e;a();p(`data:image/png;base64,${t.data}`,true);window.setMessage($.__("The profile photo has been saved."),"success")})).catch((()=>{v(false);window.setMessage($.__("There was a problem saving the profile image"),"error")}))}),[u]);const x=(0,n.useCallback)((()=>{v(true);const e=new FormData;e.append("id",l);e.append("action","delete");r().post(o,e).then((()=>{a();p("https://resources.bamboohr.com/images/photo_person_150x150.png",false);window.setMessage($.__("The profile photo has been successfully deleted."),"success")})).catch((()=>{v(false);window.setMessage($.__("There was a problem deleting the profile image"),"error")}))}),[o]);return(0,s.Z)(i.PhotoUploadModal,{biId:t,imageAlt:d,imageSrc:y,initialCropBoxCoords:w,loading:m,onCancel:a,onDelete:x,onSave:C,open:h,processing:g})}},41878:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var s=a(44119);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a(34387);class l extends n.Component{constructor(){super(...arguments);(0,s.Z)(this,"_createPopover",(()=>{this._popover=r.Z.create(this._popoverElement.current,this.props.settings)}));(0,s.Z)(this,"_popoverElement",(0,n.createRef)())}static get className(){return"Popover"}componentDidUpdate(e){if(!(0,o.isEqual)(e.settings,this.props.settings)){this._popover.destroy();this._createPopover()}}componentDidMount(){this._createPopover()}componentWillUnmount(){this._popover.destroy()}render(){const{children:e,wrapperClassName:t}=this.props;return i().createElement("span",{className:t,ref:this._popoverElement},e)}}},63838:(e,t,a)=>{"use strict";a.d(t,{_:()=>l});var s=a(89835);var n=a(44119);var i=a(23321);var o=a(73641);const r=800;class l extends i.Component{static get className(){return"ScreenSize"}constructor(e){super(e);(0,n.Z)(this,"_throttleHandleWindowResize",(()=>{this.setState({isSmallScreen:window.innerWidth<=this._getSmallScreenSize()})}));(0,n.Z)(this,"_handleWindowResize",(0,o.throttle)((()=>{this._throttleHandleWindowResize()}),200));this.state={isSmallScreen:window.innerWidth<=this._getSmallScreenSize()}}_getSmallScreenSize(){const{smallScreenSize:e}=this.props;return e?e:r}componentDidMount(){window.addEventListener("resize",this._handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this._handleWindowResize)}render(){const{render:e}=this.props;return(0,s.Z)(i.Fragment,{},void 0,e(this.state))}}},44816:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>h});var s=a(44119);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(81924);var l=a(73641);function c(e){if(!e||!e.items){return null}return e.items.reduce(((e,t)=>{if(t.anchor||e){return e}if(t.items){return c(t)}if(t.selected===true){return t}}),null)}function d(e){if(!e||!e.items){return null}return e.items.reduce(((e,t,a)=>{if(t.anchor||e){return e}if(t.items){return d(t)}if(a===0){return t}}),null)}class u extends n.Component{constructor(){var e;super(...arguments);e=this;(0,s.Z)(this,"_convertOldProps",(()=>{const t={disabled:"isDisabled",multiselect:"canSelectMultiple",notClearable:{name:"isClearable",convert:e=>!e},required:"isRequired",data:{name:"items",convert:e=>e.items.filter((e=>e)).map(r.r9)},onChange:{name:"onChange",convert:e=>(t,a)=>{const{data:s}=this.props;try{const t=a.length?(0,r.dq)(a[0]):undefined;return e(t,{parentItem:o.ItemUtil.getParent(s.items.map(r.r9),(0,r.r9)(a[0]))})}catch(e){console.log(e)}}},optionContentCallback:{name:"renderOptionContent",convert:e=>t=>e((0,r.dq)(t))},toggleContentCallback:{name:"renderToggleContent",convert:e=>t=>{const{data:a}=this.props;const s=o.ItemUtil.getParent(a.items.map(r.r9),t[0]);const n=s?[(0,r.dq)(s)]:t.map(r.dq);return e(n)}},onShow:"onOpen",onHide:"onClose"};let a=(0,r.Pb)(this.props,t);const{settings:s}=a;if(s){a={...a,settings:null,...this._convertOldSettings(s)}}const{canSelectMultiple:n}=a;const i=e=>e.reduce(((e,t)=>{let a=e;if(t.items){a=[...e,i(t.items)]}else if(t.selected){a=[...e,t]}return a}),[]);if(n){const t=function(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const{item:n,parentItem:o}=s;const{data:l,onChange:c}=e.props;const{items:d}=l;if(c){const e=t?(0,r.dq)(n):undefined;const s=o?(0,r.dq)(o):o;const l=a.includes(t);const u=i(d);const h=l?[...u,e]:u.filter((t=>e&&e.value!==t.value));c(e,{parentItem:s,selectedItems:h,selected:l})}};a.onChange=undefined;a.onSelect=t;a.onDeselect=t;a.onClear=t}return a}));(0,s.Z)(this,"_convertNewSettings",(e=>{const t={canSelectMultiple:"multiselect",isClearable:{name:"notClearable",convert:e=>!e},placeholder:"placeholder",required:"required"};const a=Object.keys(e);const s={};a.forEach((a=>{if(t[a]){s[a]=e[a]}}));return(0,r.Pb)(s,t)}));(0,s.Z)(this,"_convertNewProps",(()=>{const{fabricSettings:e}=this.props;const t={canSelectMultiple:"multiselect",isClearable:{name:"notClearable",convert:e=>!e},isDisabled:"disabled",items:{name:"data",convert:e=>({items:e.filter((e=>e)).map(r.dq)})},placement:{name:"listPosition",convert:e=>(0,r.Wf)(e)},renderOptionContent:{name:"optionContentCallback",convert:e=>t=>e((0,r.r9)(t))}};const a=this._convertNewSettings(e);const s=(0,r.Pb)(e,t);return{...s,settings:a}}))}static get className(){return"Select"}_convertOldSettings(e){const t={disabled:"isDisabled",multiselect:"canSelectMultiple",notClearable:{name:"isClearable",convert:e=>!e},listPosition:{name:"placement",convert:e=>(0,r.hb)(e)}};return(0,r.Pb)(e,t)}render(){const{fabricSettings:e}=this.props;const t=e?e:this._convertOldProps();return i().createElement(o.Select,t)}}var h=u},72595:(e,t,a)=>{"use strict";a.d(t,{V:()=>T,u:()=>x});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(73641);var l=a(98675);var c=a(60042);var d=a.n(c);var u=a(56445);var h=a(59155);var p=a(37194);var $=a(26570);function m(e){const{data:t,isProcessing:a,onClick:n,onRemove:i,renderBottomSlot:o,renderRightSlot:r,settings:l,subTitle:c}=e;const d=[];t.filter((e=>{if(!d.some((t=>Number(t.id)===Number(e.id)))){d.push(e)}}));const p=(0,u.ifFeature)("encore",(()=>(0,s.Z)(h.Headline,{size:"extra-small",color:"neutral-medium"},void 0,c||$.__("Who has access"))),(()=>(0,s.Z)("h4",{},void 0,c||$.__("Who has access"))));return(0,s.Z)("section",{className:"AccessList"},void 0,p(),(0,s.Z)("div",{className:"AccessList__body"},void 0,d.map((e=>y(e,l,a,i,n,o,r)))))}const f=e=>{const{interval:t,timePeriod:a,daysOfWeek:n}=e;if(a&&Array.isArray(a)){const e=t>1?"s":"";if(a.includes("week")&&n&&Array.isArray(n)){return(0,s.Z)(p.Message,{params:[t,a[0],e,n[0]],text:$._("Emailed every {1} {2}{3} on {4}")})}return(0,s.Z)(p.Message,{params:[t,a[0],e],text:$._("Emailed every {1} {2}{3}")})}};const g=(e,t,a)=>{if(t){return(0,s.Z)("span",{className:"AccessList__type"},void 0,f(t))}if(e){return(0,s.Z)("span",{className:"AccessList__type"},void 0,e)}if(a){return(0,s.Z)("span",{className:"AccessList__type"},void 0,a)}};const v=(e,t)=>{const{showRemoveButton:a=true,hideRemoveButtonForOwner:s=false,hideRemoveButtonForSelf:n=false}=t;const{owner:i=false,rowRemoveButton:o=true,self:r=false}=e;if(a){if(o&&!(i&&s||r&&n)){return true}return false}};function y(e,t,a,n,i,r,l){const{ownerText:c=$.__("Owner")}=t;const{image:p,name:m,type:f,reportScheduler:v,owner:y,self:w}=e;const S=()=>(0,s.Z)("span",{className:"AccessList__avatar Avatar"},void 0,(0,s.Z)(h.Icon,{brand:true,name:"fab-people-circle-30x30"}));const C=()=>{let e;if(p){e=(0,s.Z)(h.Avatar,{size:44,src:p})}else{e="users-regular"}return(0,u.ifFeature)("encore",o().createElement(o().Fragment,null,(0,s.Z)(h.BadgeV2,{icon:e,size:"small",title:m,subtitle:y?$.__(c):g(r,v,f)})),o().createElement(o().Fragment,null,p?(0,s.Z)("img",{alt:"employee",className:"AccessList__avatar Avatar",src:p}):S(),(0,s.Z)("div",{className:d()("AccessList__rowRow",{AccessList__rowColumn:f})},void 0,(0,s.Z)("span",{className:d()("AccessList__name",{"AccessList__name--owner":y||w})},void 0,BambooHR.Utils.htmldecode(m),y&&(0,s.Z)("span",{className:"AccessList__name--subtext"},void 0,"(",c,")")),g(r,v,f))))};const x=t=>{let{children:a}=t;if(i&&!y&&!w){return(0,s.Z)("button",{className:"AccessList__clickableContainer",onClick:()=>i(e),type:"button"},void 0,a)}return a};return(0,s.Z)("div",{className:"AccessList__row"},m,(0,s.Z)(x,{},void 0,C()),(0,s.Z)("div",{className:"AccessList__rowRight"},void 0,l&&l(e),b(e,n,t,a)))}function b(e,t,a,n){const i=v(e,a);let o;if(i){o=(0,s.Z)("span",{className:"AccessList__rowRight__icon"},void 0,(0,s.Z)(h.FloatingIconButton,{clickAction:()=>t(e),hasBounding:false,icon:"fab-x-14x14",isDisabled:n,secondary:true}))}else{o=(0,s.Z)("span",{className:"AccessList__rowRight--spacer"})}return(0,u.ifFeature)("encore",(0,s.Z)("span",{className:d()("AccessList__rowRight__icon",{"AccessList__rowRight--hidden":!i})},void 0,(0,s.Z)(h.IconButton,{"aria-label":$.__("Remove Access"),icon:(0,s.Z)(h.IconV2,{name:"xmark-solid",size:12}),onClick:()=>t(e),size:"small",type:"button",variant:"outlined"})),o)}var w=a(26570);class S extends i.Component{constructor(){var e;super(...arguments);e=this;(0,n.Z)(this,"inputHasFocus",(function(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>{};const{updateFocus:s}=e.props;s(t,a)}));(0,n.Z)(this,"_handleNotify",(()=>{const{updateNotify:e}=this.props;const{notify:t}=this.state;this.setState((()=>({notify:!t})));if(e){e(!t)}}));(0,n.Z)(this,"handleSubmit",(e=>{const{onSubmit:t}=this.props;const{notify:a,shareList:s}=this.state;return t({...x(s),notify:a},e)}));(0,n.Z)(this,"state",{notify:true,shareList:[]})}static get className(){return"PeopleSelector"}set shareListData(e){this.setState((()=>({shareList:e})))}set shareListAddition(e){const{updateList:t}=this.props;const{shareList:a}=this.state;const s=a.concat(e);this.shareListData=s;t(s)}set shareListSubtraction(e){const{updateList:t}=this.props;const{shareList:a}=this.state;const s=a.filter((t=>!(0,r.isEqual)(t,e)));this.shareListData=s;t(s)}_clean(e){return BambooHR.Utils.htmlentities(e)}_prepareUserData(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const[t,_,a,s]=e;return{image:s,id:Number(a),name:this._clean(t)}}_setupInputs(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{quickSearchDescription:a=(0,u.ifFeature)("encore",w.__("Enter names or groups"),w.__("Enter names or groups...")),quickSearchEndpoint:s="/quicksearch/share"}=t;const{updateList:n}=this.props;const i=this;const o=w(e.current);const r=o.find(".ac_input");const l=o.find(".input-list");const c=o.find(".PeopleSelector__autocomplete");const d=()=>{c.hide().next(".inputs").show();l.addClass("shown");r.focus();const e=()=>{l.deactivate();o.find(".description").show();this.shareListData=[];n(this.shareListData)};i.inputHasFocus(true,e);l.removeClass("shown");c.show().next(".inputs").hide();l.activate()};c.bind("click.autoInit.bhr",d);l.click((function e(){r.focus()}));l.autoInputList({autocompleteOptions:{highlight:BambooHR.Utils.highlightTermInMarkup,parse:e=>{const{ownerId:t}=this.props;const a=[];const s=e.split("\n");for(let e=0;e<s.length;e+=1){let n=w.trim(s[e]);if(n){n=n.split("|");const e=!t||t&&n[2]!==t;if(e){n[0]=BambooHR.Utils.htmldecode(n[0]);a[a.length]={data:n,value:n[0],result:n[0]}}}}return a}},autocompleteUrl:s,description:a,formatAutoItem:qsWithPhoto,isShareModal:true,formatTagItem(e,t){if(t){const e=e=>BambooHR.Utils.htmlentities(e);const a={user_group:e(t[1]),user:e(t[2]),userData:i._prepareUserData(t)};const s=w(`.item input[value="${e(t[2])}"]`);if(s.length){const e=s[0].closest(".item");const t=w(e).find(".remove");t.click()}if(t[1]&&t[1]!=="empty"){i.shareListAddition=a;w(`\n\t\t\t\t\t\t\t<span class="item itemId${e(t[2])}">\n\t\t\t\t\t\t\t\t${e(t[0])}\n\t\t\t\t\t\t\t\t<input type="hidden" name="ids[${e(t[1])}][]" value="${e(t[2])}" data-user="${e(t)}"/>\n\t\t\t\t\t\t\t\t<ba-icon class="remove" name="fab-x-8x8" encore-class="remove" encore-name="circle-x-solid" encore-size="12"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t`).insertBefore(".PeopleSelector__form .input-list span.input")}w(this).val("");w(".item .remove").on("click",(function e(){if(w(this).parent().hasClass(`itemId${t[2]}`)){i.shareListSubtraction=a}w(this).closest("span.item").remove();r.focus();return false}))}},trackingAction:"sharedReport"}).focus((function e(){l.addClass("focus")})).blur((function e(){l.removeClass("focus")}))}componentDidMount(){const{formRef:e,settings:t}=this.props;setTimeout((()=>{this._setupInputs(e,t)}))}render(){const{data:e,formRef:t,renderBottomSlot:a,renderNotifyBottomSlot:n,renderNotifySiblingSlot:i,renderTopSlot:r,settings:{showNotify:l=true}}=this.props;const{notify:c,shareList:d}=this.state;return(0,s.Z)("div",{className:"PeopleSelector typeahead"},void 0,r&&r(e),o().createElement("form",{ref:t,className:"PeopleSelector__form shareForm",name:"peopleSelector"},(0,s.Z)("label",{className:"fab-Label",htmlFor:"add"},void 0,w.__("Add People")),(0,s.Z)("div",{className:"PeopleSelector__autocomplete input-list inputField fab-Textarea fab-Textarea--width100"}),(0,u.ifFeature)("encore",(0,s.Z)("div",{className:"PeopleSelector__notify"},void 0,l&&d.length>0&&(0,s.Z)("div",{className:"PeopleSelector__notify__item"},void 0,(0,s.Z)("input",{checked:c?"checked":"",className:"fab-Checkbox__input",id:"notify",name:"notify",onChange:this._handleNotify,type:"checkbox",value:"true"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"notify"},void 0,w.__("Notify people via email"))),i&&(0,s.Z)("div",{className:"PeopleSelector__notify__item"},void 0,i(c))),(0,s.Z)("div",{className:"PeopleSelector__notify"},void 0,(0,s.Z)("div",{className:"fab-FormRow"},void 0,l&&d.length>0&&(0,s.Z)("span",{className:"fab-FormField"},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{checked:c?"checked":"",className:"fab-Checkbox__input",id:"notify",name:"notify",onChange:this._handleNotify,type:"checkbox",value:"true"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"notify"},void 0,w.__("Notify people via email")))),i&&(0,s.Z)("span",{className:"fab-FormField"},void 0,i(c))),n&&c&&(0,s.Z)("div",{},void 0," ",n," ")))),a&&a(e,c))}}var C=a(26570);const x=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const t=e.filter((e=>e.user_group==="user")).map((e=>e.user));const a=e.filter((e=>e.user_group==="user_group")).map((e=>e.user));const s=e.map((e=>e.userData));return{ids:{user:t,user_group:a},userData:s}};class T extends i.Component{constructor(){var e;super(...arguments);e=this;(0,n.Z)(this,"_handleRemove",(e=>{const{onRemove:t}=this.props;this.isProcessing=true;return t(e).then((()=>{this.accessListSubtraction=e;this.isProcessing=false}),(e=>{window.setMessage(e,"info");console.error(e);this.isProcessing=false;return Promise.reject("Failed to submit")}))}));(0,n.Z)(this,"_handleSubmit",((e,t)=>{if(t){t.preventDefault()}const{onSubmit:a,onUpdate:s,settings:{showMessage:n=true,successMessage:i=C.__("You have successfully shared this page!")}}=this.props;return a(e).then((e=>{s().then((e=>{if(e.data){this.accessListData=e.data.data.accessList}}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to get shareModal data")}));if(n){const t=e&&e.data&&e.data.msg?e.data.msg:i;window.setMessage(t,"success")}}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to submit")}))}));(0,n.Z)(this,"_handleAlternativeAction",(()=>{const{onCancel:e}=this.props;const{onCloseCallback:t}=this.state;if(typeof e==="function"){e()}t();C(".PeopleSelector__autocomplete .item").remove();C(".input-list").addClass("inactive").blur();this._handleUpdateFocus(false)}));(0,n.Z)(this,"_handleUpdateFocus",(function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>{};e.setState({hasFocus:t,onCloseCallback:a})}));(0,n.Z)(this,"_handleUpdateList",(function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const{onRawListChange:a,setShareList:s}=e.props;if(s){s(t)}if(a){a(t)}e.setState({rawAccessList:t,hasChanges:t.length>0})}));(0,n.Z)(this,"_handleUpdateNotify",(e=>{this.setState({notify:e})}));(0,n.Z)(this,"_findOwnerId",(()=>{const{accessList:e}=this.state;const t=e&&e.find((e=>e.type==="Owner"));return t&&t.id}));(0,n.Z)(this,"_renderWarning",(()=>{const{renderWarning:e}=this.props;if(e){return e()}}));(0,n.Z)(this,"_formRef",(0,i.createRef)());(0,n.Z)(this,"state",{accessList:this.accessListData,hasFocus:false,hasChanges:false,isOpen:this.isOpen,notify:true,isProcessing:this.isProcessing})}static get className(){return"ShareModal"}get accessListData(){const{data:{accessList:e}}=this.props;return e}get isOpen(){const{visible:e}=this.props;return e}get isProcessing(){const{isProcessing:e}=this.props;return e}set accessListData(e){const{onAccessListUpdate:t}=this.props;if(t){t(e)}this.setState((()=>({accessList:e})))}set isOpen(e){this.setState((()=>({isOpen:e})))}set isProcessing(e){this.setState((()=>({isProcessing:e})))}set accessListAddition(e){const{accessList:t}=this.state;this.accessListData=t.concat(e)}set accessListSubtraction(e){const{accessList:t}=this.state;this.accessListData=t.filter((t=>!(0,r.isEqual)(t,e)))}_getModalConfig(e){let{classes:t,visible:a,title:s,onClose:n}=e;return{onClose:n,options:{classes:t,footer:{buttons:{cancel:{show:false},primary:{text:C.__("Done")}}},preventSubmit:true,title:s},visible:a}}_getPrimaryAction(){const{onClose:e,settings:t}=this.props;const{hasChanges:a,notify:s,rawAccessList:n}=this.state;const{closeModalAfterSubmit:i=true,remainOpenOnError:o=false}=t;if(a){if(n){this.isProcessing=true;this._handleSubmit({...x(n),notify:s}).then((()=>{this.isProcessing=false;this.setState({hasFocus:false});this._handleAlternativeAction();const t=false;if(i||o&&t){e()}})).catch((()=>{this.isProcessing=false}))}else{return this._handleUpdateFocus(false)}return}return e()}_getPrimaryActionText(){const{settings:e}=this.props;const{hasChanges:t}=this.state;const{shareButtonText:a=C.__("Share")}=e;if(t){return a}return C.__("Done")}componentDidUpdate(e,t){const{data:{accessList:a},visible:s}=this.props;if(!(0,r.isEqual)(s,e.visible)){this.isOpen=s}if(!(0,r.isEqual)(a,t.accessList)){this.accessListData=a}}render(){var e=this;const{data:{filters:t},isLoading:a,onClose:n,onAccessListClick:i,renderAccessListBottomSlot:r,renderAccessListRightSlot:c,renderPeopleSelectorBottomSlot:d,renderPeopleSelectorNotifyBottomSlot:h,renderPeopleSelectorNotifySiblingSlot:p,renderPeopleSelectorTopSlot:f,renderWarning:g,settings:v,sheetProps:y,subTitle:b,title:w,includeOwner:C}=this.props;const{accessList:x,hasFocus:T,hasChanges:E,isOpen:k,isProcessing:Z}=this.state;const F=!C&&this._findOwnerId();const I=(0,s.Z)("div",{className:"ShareModal"},void 0,(0,s.Z)(m,{data:x,isProcessing:Z,onClick:i,onRemove:this._handleRemove,renderBottomSlot:r,renderRightSlot:c,settings:v,subTitle:b}),this._renderWarning(),(0,s.Z)(S,{data:t,formRef:this._formRef,onSubmit:this._handleSubmit,ownerId:F,renderBottomSlot:d,renderNotifyBottomSlot:h,renderNotifySiblingSlot:p,renderTopSlot:f,settings:v,updateFocus:function(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>{};return e._handleUpdateFocus(t,a)},updateList:e=>this._handleUpdateList(e),updateNotify:e=>this._handleUpdateNotify(e)}));const N={alternativeAction:E?this._handleAlternativeAction:null,biId:`share-modal-${E?"add":"done"}`,content:I,isLoading:a,isOpen:k,isProcessing:Z,onClose:n,sheetProps:y,contentHasPadding:(0,u.ifFeature)("encore",true,false),primaryAction:e=>this._getPrimaryAction(e),primaryActionText:this._getPrimaryActionText(),title:w,type:(0,u.ifFeature)("encore","medium",undefined)};return o().createElement(l.u_,N)}}},81924:(e,t,a)=>{"use strict";a.d(t,{Pb:()=>i,Wf:()=>c,dq:()=>r,hb:()=>l,r9:()=>o});var s=a(40861);var n=a.n(s);function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a={};Object.keys(e).forEach((s=>{if(t[s]){if(n()(t[s])){const{name:n,convert:i}=t[s];a[n]=i(e[s])}else{a[t[s]]=e[s]}}else{a[s]=e[s]}}));return a}function o(e){const t={actionOnly:"isActionOnly",displayText:"text",selected:"isSelected",disabled:"isDisabled",items:{name:"items",convert:e=>e.filter((e=>e)).map(o)}};return i(e,t)}function r(e){const t={text:"displayText",isSelected:"selected",isActionOnly:"actionOnly",isDisabled:"disabled",items:{name:"items",convert:e=>e.filter((e=>e)).map(r)}};return i(e,t)}function l(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const t=e.split(" ");let a="end";let s=t[0]?t[0]:"bottom";switch(t[1]){case"right":case"bottom":a="start";break;case"left":case"top":a="end";break}return{align:a,side:s}}function c(e){const t=e&&e.side?e.side:"bottom";let a="right";if(e&&e.align&&e.align==="end"){a="left"}return`${t} ${a}`}},28112:(e,t,a)=>{"use strict";a.d(t,{K:()=>i});var s=a(23321);var n=a.n(s);function i(e){const{children:t,isOpen:a}=e;const i=(0,s.useRef)();const o=(0,s.useRef)();const r={height:0,overflow:"hidden",transition:"height 200ms ease-in-out"};const l=(0,s.useCallback)((()=>{const e=i.current;if(a){o.current=e.scrollHeight;e.style.height=""}else{e.style.display="none"}}),[a]);(0,s.useEffect)((()=>{const e=i.current;if(o.current===undefined){o.current=e.scrollHeight}if(a){e.style.display="";e.style.height=`${e.scrollHeight}px`;return}window.requestAnimationFrame((()=>{e.style.height=`${o.current}px`;window.requestAnimationFrame((()=>{e.style.height=0}))}))}),[a]);(0,s.useEffect)((()=>{const e=i.current;if(!a){e.style.display="none"}}),[]);return n().createElement("div",{ref:i,onTransitionEnd:l,style:r},t)}},26113:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var s=a(23321);var n=a.n(s);var i=a(73641);var o=a.n(i);var r=a(21198);var l=a.n(r);var c=a(84479);var d=a.n(c);const{warn:u}=(0,c.createLogger)("static-html.react");function h(e){let{html:t,dangerous:a=false,sanitizeOptions:o={},onRender:l}=e;const c=(0,s.useRef)(null);(0,s.useEffect)((()=>{if(!(c.current instanceof HTMLDivElement)||typeof t!=="string"||t.trim()===""){return}const e=document.createRange().createContextualFragment(a?t:(0,r.sanitize)(t,o));if(c.current.innerHTML.trim()!==""){u("DOM will be replaced")}c.current.innerHTML="";c.current.appendChild(e);if((0,i.isFunction)(l)){l(c.current)}}),[t,c]);(0,s.useEffect)((()=>{if(a){u(`DANGEROUS: HTML will NOT be sanitized! BE CAREFUL!!!`)}}),[]);return n().createElement("div",{ref:c})}},31112:(e,t,a)=>{"use strict";a.d(t,{O:()=>p});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(23615);var r=a.n(o);var l=a(73641);var c=a.n(l);var d=a(96247);var u=a.n(d);var $=a(26570);const h=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return u().createClassName("StepIndicator",...t)};function p(e){const{currentStep:t,hasSeparator:a=true,totalStepCount:n}=e;if(t>n){console.warn("The current step must be less than the total step count")}return(0,s.Z)("div",{className:h("wrapper",{hasSeparator:a})},void 0,(0,s.Z)("span",{className:h("message")},void 0,$.__("Step %1 of %2",t,n)),(0,s.Z)("div",{className:h("stepWrapper")},void 0,(0,l.range)(1,n+1).map((e=>(0,s.Z)("span",{className:h("step",{active:e===t})},e)))))}p.propTypes={currentStep:r().number.isRequired,totalStepCount:r().number.isRequired}},67251:(e,t,a)=>{"use strict";a.d(t,{g:()=>u});var s=a(89835);var n=a(23321);var i=a(56445);var o=a(59155);var r=a(60042);var l=a.n(r);function c(e){const{activeIndex:t,tabs:a}=e;return(0,s.Z)("div",{className:"TabNav"},void 0,a.map(((e,a)=>(0,s.Z)("a",{className:l()("TabNav__item",{"TabNav__item--active":t===a}),"data-bi-id":`employees-${e.key}`,href:e.url},e.key,e.iconName&&(0,s.Z)("span",{className:l()("TabNav__itemIcon",{"TabNav__item--active":t===a})},void 0,(0,i.ifFeature)("encore",(0,s.Z)(o.IconV2,{name:e.iconName,size:20}),(0,s.Z)(o.Icon,{name:e.iconName}))),(0,s.Z)("span",{className:"TabNav__itemLabel"},void 0,e.label)))))}var $=a(26570);function d(e,t,a){let s=[];if(t){s.push({iconName:(0,i.ifFeature)("encore","table-list-regular","fab-lines-15x14"),key:"employee-list",label:$.__("List"),url:"/employees/index.php?pin"})}if(e){s.push({iconName:(0,i.ifFeature)("encore","address-book-regular","fab-person-on-book-16x16"),key:"employee-directory",label:$.__("Directory"),url:"/employees/directory.php?pin"})}if(a){s.push({iconName:(0,i.ifFeature)("encore","sitemap-regular","fab-org-chart-16x15"),key:"employee-org-chart",label:$.__("Org Chart"),url:"/employees/orgchart.php?pin"})}return s}function u(e){const{activeKey:t,seeDirectory:a,seeList:i,seeOrgChart:o}=e;const r=d(a,i,o);const l=r.findIndex((e=>e.key===t));return(0,s.Z)(n.Fragment,{},void 0,r&&r.length>0?(0,s.Z)("div",{className:"EmployeeTabNav"},void 0,(0,s.Z)("div",{className:"EmployeeTabNav__tabs"},void 0,(0,s.Z)(c,{activeIndex:l,tabs:r}))):null)}},17145:(e,t,a)=>{"use strict";var s=a(23321);var n=a.n(s);var i=a(73641);var o=a.n(i);var r=a(69835);class l extends s.Component{static get className(){return"Tooltip"}componentDidUpdate(e){if(!(0,i.isEqual)(e.settings,this.props.settings)){this._tooltip.destroy();this._createTooltip()}}componentDidMount(){this._createTooltip()}componentWillUnmount(){this._tooltip.destroy()}render(){const{children:e,wrapperClassName:t}=this.props;return n().createElement("span",{className:t,ref:e=>{this._tooltipElement=e}},e)}_createTooltip(){if(this.props.settings.content||this.props.settings.title){this._tooltip=r.Z.createStandard(this._tooltipElement,this.props.settings)}else{const e=Object.assign({template:{name:"tooltip-standard"}},this.props.settings);this._tooltip=r.Z.create(this._tooltipElement,e)}}}t["Z"]=l},55298:(e,t,a)=>{"use strict";a.d(t,{G:()=>H});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(56445);var l=a(73641);var c=a(2885);var $=a(26570);function d(e){return e==="collection"?"other":"otherNoBank"}function u(e,t){if(e&&e.length){return"bank"}return d(t)}function h(e){const{accountNumber:t,accountNumberError:a,accountType:s,accountTypeError:n,bankId:i,routingNumber:o,routingNumberError:r,type:l}=e;const c={bankType:l};c.errors=p({accountNumberError:a,accountTypeError:n,routingNumberError:r,type:l});if(l==="bank"){c.bankId=i}else if(l==="other"){c.accountNumber=t;c.accountType=s;c.routingNumber=o}return c}function p(e){const{accountNumberError:t,accountTypeError:a,routingNumberError:s,type:n}=e;let i=null;if(n==="other"){if(t||a||s){i={};if(t){i.accountNumber=t}if(a){i.accountType=a}if(s){i.routingNumber=s}}}return i}function m(){return window.location.pathname.split("/")[1]==="greenhouse"}function f(e){return/^\d+?$/.test(e)}function g(){return $.__("You commit to wiring the above amount within 2-3 business days. Our wire information will be provided after your approval.")}function v(e){try{if(!e.trim()){throw new Error("Required")}if(!f(e)){throw new Error("Can only contain numbers")}if(e.length>17){throw new Error("Too many digits")}return null}catch(e){return e.message}}var y=a(26570);function b(e){const{isDisabled:t,onChange:a=l.noop}=e;const[i,d]=(0,n.useState)("");const[u,h]=(0,n.useState)("Required");const[p,m]=(0,n.useState)(false);(0,n.useEffect)((()=>{a(i,u)}),[i,u]);const f=p&&!!u;return(0,r.ifFeature)("encore",(0,s.Z)(o.TextField,{disabled:t,id:"collections-and-refunds-account-number-input-field",label:y.__("Account Number"),note:f&&u,onBlur:()=>m(true),onChange:e=>{d(e.target.value);h(v(e.target.value));m(true)},required:true,status:f?"error":undefined,value:i,width:8}),(0,s.Z)(c.nv,{autoComplete:"disable-auto-complete",disabled:t,error:f&&u,hasError:f,id:"collections-and-refunds-account-number-input-field",label:y.__("Account Number"),onBlur:()=>m(true),onChange:e=>{d(e.target.value);h(v(e.target.value));m(true)},required:true,value:i,width:8}))}const w=[{text:"Checking",value:"checking"},{text:"Savings",value:"savings"}];function S(e){try{if(!e.length){throw new Error("Required")}return null}catch(e){return e.message}}var C=a(26570);function x(e){const{isDisabled:t,onChange:a=l.noop}=e;const[i,d]=(0,n.useState)([]);const[u,h]=(0,n.useState)("Required");const[p,m]=(0,n.useState)(false);(0,n.useEffect)((()=>{const e=i.length?i[0]:null;a(e,u)}),[i,u]);const f=p&&!!u;return(0,r.ifFeature)("encore",(0,s.Z)(o.SelectField,{disabled:t,id:"collections-and-refunds-account-type-input-field",items:w,label:C.__("Account Type"),note:f&&u,onChange:e=>{const t=e.target.value;d(t);h(S(t));m(true)},onClose:()=>m(true),required:true,status:f?"error":undefined,value:i,width:8}),(0,s.Z)(c.mg,{disabled:t,error:f&&u,hasError:f,id:"collections-and-refunds-account-type-input-field",items:w,label:C.__("Account Type"),onChange:e=>{d(e);h(S(e));m(true)},onClose:()=>m(true),required:true,selectedValues:i,width:8}))}function T(e){const{handleChange:t,id:a,isChecked:n,isDisabled:i,label:o,name:r,value:l}=e;return(0,s.Z)("div",{className:"fab-Radio"},void 0,(0,s.Z)("input",{checked:n,className:"fab-Radio__input",disabled:i,id:a,name:r,onChange:t,type:"radio",value:l}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:a},void 0,o))}var E=a(60042);function k(e){const{error:t,handleBlur:a=noop,handleChange:s=noop,id:n,isDisabled:i,isRequired:o,label:r,note:l,placeholder:c,size:d="medium",value:u,width:h}=e;return _jsx("div",{},void 0,!!r&&_jsx("label",{className:classNames("fab-Label",{"fab-Label--error":t,"fab-Label--required":o}),htmlFor:n},void 0,r),_jsx("div",{className:"fab-InputWrapper"},void 0,_jsx("input",{className:classNames("fab-TextInput",{"fab-Label--error":t,[`fab-TextInput--${d}`]:d!=="medium",[`fab-TextInput--${h}`]:!!h}),disabled:i,id:n,onBlur:a,onChange:s,placeholder:c,type:"text",value:u})),!!l&&_jsx("span",{className:"fab-FormNote"},void 0,l))}function Z(e){try{if(!e.trim()){throw new Error("Required")}if(!f(e)){throw new Error("Can only contain numbers")}if(e.length!==9){throw new Error("Must be 9 digits long")}return null}catch(e){return e.message}}function F(e,t){if(e==="processing"){return"Validating..."}if(e==="success"){return t}return""}var I=a(31919);var N=a(17842);function A(e){return e.data}const M=N.ajax.create("client-routing-ajax",{baseURL:"/payroll/direct_deposit/routing/validate"});const D=N.ajax.create("gh-routing-ajax",{baseURL:"/greenhouse/bamboohr_payroll/banking/ajax/routing_number/validate"});function P(e){return(m()?D:M).request({method:"get",url:`/${e}`}).then(A)}function L(e){if(e.current){clearTimeout(e.current);e.current=null}}function O(){const e=(0,n.useRef)(null);const t=(0,n.useRef)(null);const[a,s]=(0,n.useState)(null);const[i,o]=(0,n.useState)(false);(0,n.useLayoutEffect)((()=>()=>{L(e)}),[]);const{data:r,error:c,isError:d,isComplete:u,isProcessing:h,isSuccess:p}=(0,I.y)((()=>{if(a){const{routingNumber:e}=a;o(false);if(t.current!==e){t.current=e;const a=Z(e);if(a){return Promise.reject(a)}return P(e)}}}),[a]);const m={};if(r){m.bankName=r.name}let f=null;if(!i&&u){if(c){f="Error";if((0,l.isString)(c)){f=c}else if(c.response.status===400){f="Invalid"}}}else{f="Required"}let g="initial";if(i){g="pending"}else if(h){g="processing"}else if(d){g="error"}else if(p){g="success"}return{data:m,error:f,status:g,validateRoutingNumber:v};function v(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;o(true);L(e);if(a<=0){s({routingNumber:t})}else{e.current=setTimeout((()=>{s({routingNumber:t})}),a)}}}var R=a(26570);function B(e){const{isDisabled:t,onChange:a=l.noop}=e;const[i,d]=(0,n.useState)("");const[u,h]=(0,n.useState)(false);const{data:p,error:m,status:f,validateRoutingNumber:g}=O();(0,n.useEffect)((()=>{a(i,m)}),[i,m]);const v=f==="error"||f==="success";const y=v&&u&&!!m;return(0,r.ifFeature)("encore",(0,s.Z)(o.TextField,{disabled:t,id:"collections-and-refunds-routing-number-input-field",label:R.__("Routing Number"),note:y&&m?m:F(f,p.bankName),onBlur:e=>{g(e.target.value);h(true)},onChange:e=>{d(e.target.value);g(e.target.value,1e3);h(true)},required:true,status:y?"error":undefined,value:i,width:8}),(0,s.Z)(c.nv,{autoComplete:"disable-auto-complete",disabled:t,error:y&&m,hasError:y,id:"collections-and-refunds-routing-number-input-field",label:R.__("Routing Number"),note:F(f,p.bankName),onBlur:e=>{g(e.target.value);h(true)},onChange:e=>{d(e.target.value);g(e.target.value,1e3);h(true)},required:true,value:i,width:8}))}var j=a(26570);function H(e){const{banksOnFile:t=[],collectionRefundType:a,handleChange:l,hasApprovalDetails:c=true,isDisabled:p,renderWireInformation:m=g}=e;const[f,v]=(0,n.useState)((()=>u(t,a)));const[y,w]=(0,n.useState)(t&&t.length?t[0].bankId:null);const[S,C]=(0,n.useState)("");const[E,k]=(0,n.useState)("Required");const[Z,F]=(0,n.useState)("");const[I,N]=(0,n.useState)("Required");const[A,M]=(0,n.useState)(null);const[D,P]=(0,n.useState)("Required");const L=f==="bank";const O=f==="other"||f==="otherNoBank";const R=f==="wire";(0,n.useEffect)((()=>{const e=h({accountNumber:Z,accountNumberError:I,accountType:A,accountTypeError:D,bankId:y,routingNumber:S,routingNumberError:E,type:f});l(e)}),[Z,I,A,D,y,l,S,E,f]);return(0,r.ifFeature)("encore",(0,s.Z)("div",{className:"TransactionMethodSelector"},void 0,(0,s.Z)("form",{autoComplete:"off"},void 0,(0,s.Z)(o.Flex,{flexDirection:"column"},void 0,(0,s.Z)(o.LayoutBox,{paddingBottom:1},void 0,(0,s.Z)(o.Label,{},void 0,(0,s.Z)(o.BodyText,{size:"small"},void 0,a==="refund"?j.__("Select Refund Method"):j.__("Select Collection Method")))),c&&t.map((e=>(0,s.Z)(o.Radio,{checked:L&&y===e.bankId,disabled:p,id:`transaction-method-selector-radio-bank-${e.bankId}`,label:`${e.bankName} ${e.maskedAccountNumber}`,name:"transactionMethod",onChange:()=>{v("bank");w(e.bankId)},value:e.bankId},e.bankId))),!c&&(0,s.Z)(o.BodyText,{size:"small"},void 0,"Failed to load Bank details. Please try again soon."),(0,s.Z)(o.Radio,{checked:O,disabled:p,id:"transaction-method-selector-radio-other-bank",label:j.__("Use Different Bank Account"),name:"transactionMethod",onChange:()=>v(d(a)),value:"otherBank"}),O&&(0,s.Z)(o.LayoutBox,{marginLeft:3},void 0,a==="refund"?(0,s.Z)(o.LayoutBox,{marginBottom:1},void 0,(0,s.Z)(o.BodyText,{size:"small"},void 0,j.__("Once the refund has been accepted, our tax admin team will reach out to you to collect your bank account information."))):i().createElement(i().Fragment,null,(0,s.Z)(o.LayoutBox,{marginBottom:1},void 0,(0,s.Z)(B,{isDisabled:p,onChange:(e,t)=>{C(e);k(t)}})),(0,s.Z)(o.LayoutBox,{marginBottom:1},void 0,(0,s.Z)(b,{isDisabled:p,onChange:(e,t)=>{F(e);N(t)}})),(0,s.Z)(o.LayoutBox,{marginBottom:1},void 0,(0,s.Z)(x,{isDisabled:p,onChange:(e,t)=>{M(e);P(t)}})))),a==="collection"&&i().createElement(i().Fragment,null,(0,s.Z)(o.Radio,{checked:R,disabled:p,id:"transaction-method-selector-radio-wire-transfer",label:j.__("Wire Transfer"),name:"transactionMethod",onChange:()=>v("wire"),value:"wire"}),R&&(0,s.Z)(o.LayoutBox,{marginLeft:3},void 0,m()))))),(0,s.Z)("div",{className:"TransactionMethodSelector"},void 0,(0,s.Z)("form",{autoComplete:"off"},void 0,(0,s.Z)("fieldset",{className:"fab-RadioGroup"},void 0,(0,s.Z)("legend",{className:"fab-Label TransactionMethodSelector__groupLabel"},void 0,a==="refund"?j.__("Select Refund Method"):j.__("Select Collection Method")),c&&t.map((e=>(0,s.Z)(T,{handleChange:t=>{v("bank");w(e.bankId)},id:`transaction-method-selector-radio-bank-${e.bankId}`,isChecked:L&&y===e.bankId,isDisabled:p,label:`${e.bankName} ${e.maskedAccountNumber}`,name:"transactionMethod"},e.bankId))),!c&&"Failed to load Bank details. Please try again soon.",(0,s.Z)(T,{handleChange:()=>v(d(a)),id:"transaction-method-selector-radio-other-bank",isChecked:O,isDisabled:p,label:j.__("Use Different Bank Account"),name:"transactionMethod"}),O&&(0,s.Z)("div",{className:"TransactionMethodSelector__otherBank"},void 0,a==="refund"?(0,s.Z)("div",{},void 0,j.__("Once the refund has been accepted, our tax admin team will reach out to you to collect your bank account information.")):i().createElement(i().Fragment,null,(0,s.Z)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,s.Z)(B,{isDisabled:p,onChange:(e,t)=>{C(e);k(t)}})),(0,s.Z)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,s.Z)(b,{isDisabled:p,onChange:(e,t)=>{F(e);N(t)}})),(0,s.Z)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,s.Z)(x,{isDisabled:p,onChange:(e,t)=>{M(e);P(t)}})))),a==="collection"&&i().createElement(i().Fragment,null,(0,s.Z)(T,{handleChange:e=>v(e.target.value),id:"transaction-method-selector-radio-wire-transfer",isChecked:R,isDisabled:p,label:j.__("Wire Transfer"),name:"transactionMethod",value:"wire"}),R&&(0,s.Z)("div",{className:"TransactionMethodSelector__wireTransferMessage"},void 0,m()))))))}},24787:(e,t,a)=>{"use strict";var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(59155);var l=a.n(r);var c=a(56445);var d=a.n(c);var $=a(26570);class u extends i.Component{constructor(){super(...arguments);(0,n.Z)(this,"_formRef",(0,i.createRef)());(0,n.Z)(this,"state",{isValid:true})}static get className(){return"Validator"}componentDidMount(){this._validator=$(this._formRef.current).bhrValidate()}render(){return o().createElement(o().Fragment,null,(0,c.ifFeature)("encore",o().createElement("form",{ref:this._formRef},(0,s.Z)(r.Flex,{alignItems:"center",flexWrap:"wrap"},void 0,this.props.render({isValid:this.state.isValid,reset:this._reset.bind(this),validate:this._validate.bind(this)}))),o().createElement("form",{ref:this._formRef},this.props.render({isValid:this.state.isValid,reset:this._reset.bind(this),validate:this._validate.bind(this)}))))}_validate(){const e=this._validator.form();this.setState({isValid:e});return e}_reset(){this._validator.resetForm()}}t["Z"]=u},34675:(e,t,a)=>{"use strict";a.d(t,{M:()=>o});var s=a(89835);var n=a(23321);var i=a(37194);var $=a(26570);function o(){return(0,s.Z)("table",{className:"WireTransferInfo"},void 0,(0,s.Z)("tbody",{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,$.__("Bank:")),(0,s.Z)("td",{},void 0,"Wells Fargo")),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,$.__("Routing Number:")),(0,s.Z)("td",{},void 0,"121000248")),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,$.__("Account Number:")),(0,s.Z)("td",{},void 0,"3711853659")),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,$.__("Bank Address:")),(0,s.Z)("td",{},void 0,"420 Montgomery, San Francisco, CA 94104")),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,$.__("Beneficiary Name:")),(0,s.Z)("td",{},void 0,"BambooHR Payroll")),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,$.__("Beneficiary Address:")),(0,s.Z)("td",{},void 0,"740 Alfred Nobel Dr., Hercules, CA 94547")),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)(i.Message,{params:["CHIPS"],text:$._("{1} Participant ID:")})),(0,s.Z)("td",{},void 0,"ABA 0509"))))}},80544:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});function s(e){let{children:t,condition:a,wrap:s}=e;return a?s(t):t}},38741:(e,t,a)=>{"use strict";var s=a(98907);var n=a(81835);var jQuery=a(26570);const i=(0,s.ifFeature)("encore",'Inter="Inter",sans-serif;'+"Arial=arial,helvetica,sans-serif;"+"Book Antiqua=book antiqua,palatino;"+"Georgia=georgia,palatino;"+"Helvetica=helvetica;"+"Tahoma=tahoma,arial,helvetica,sans-serif;",'Lato="Lato",sans-serif;'+"Arial=arial,helvetica,sans-serif;"+"Book Antiqua=book antiqua,palatino;"+"Georgia=georgia,palatino;"+"Helvetica=helvetica;"+"Tahoma=tahoma,arial,helvetica,sans-serif;");const o={convert_urls:false,default_link_target:"_blank",fix_list_elements:true,font_formats:i,formats:{bold:{inline:"span",styles:{fontWeight:"700"}}},inline_styles:true,keep_styles:true,link_assume_external_targets:true,link_title:false,mode:"exact",paste_data_images:true,paste_retain_style_properties:"color font-family font-size font-style font-weight text-decoration",relative_urls:false,remove_script_host:false,remove_trailing_brs:false,schema:"html5",target_list:false,theme:"modern",verify_html:true,valid_children:"-li[p]",valid_styles:{"*":"color,font-family,font-size,font-style,font-weight,text-decoration",a:"",p:"margin,margin-bottom,margin-top",ol:"margin,margin-bottom,margin-top",ul:"margin,margin-bottom,margin-top"},paste_preprocess:function(e,t){const a=jQuery("<div>"+t.content+"</div>");a.find("*").removeAttr("id");t.content=a.html()}};t["Z"]={...n.Z,...o}},81835:(e,t)=>{"use strict";const a="4.9.11";t["Z"]={browser_spellcheck:true,cache_suffix:"?v=015",content_css:`/js/tinymce_v${a}/css/bamboo-flat-content.css`,inline:true,language:s(),menubar:false,skin:"bamboo-flat",statusbar:false,baseURL:`/js/tinymce_v${a}`,suffix:".min"};function s(){let e="";if(window.i18next){const t=window.i18next.language;switch(t){case"fr_CA":e="fr";break;case"de_DE":e="de";break;case"nl_NL":e="nl";break;case"es_AR":e="es";break;case"ja_JP":e="ja";break;case"pt_BR":case"zh_CN":e=t;break}}return e}},16889:(e,t,a)=>{"use strict";var s=a(81835);const n={entity_encoding:"raw",forced_root_block:false,object_resizing:false,plugins:"common placeholders contentcleaner placeholderattribute validate",selector:"#subject",toolbar:false,hidden_input:false,valid_elements:"img[!data-is-placeholder|class<placeholder|src|data*]",validate_maxlength:250,validate_required:true,setup:e=>{e.on("keyDown",(function(e){if(e.keyCode===13){e.preventDefault()}}))}};t["Z"]=Object.assign({},s.Z,n)},31868:(e,t)=>{"use strict";t["Z"]={url:"https://staticfe.bamboohr.com",versions:{greenhouse:window.ENV,po:window.ENV,developerportal:window.ENV},odiManifestEndpoints:{greenhouse:"/greenhouse/api/manifests",po:"/dev/micro-fe/manifests/po",feMain:"/dev/micro-fe/manifests/fe-main"}}},54752:(e,t,a)=>{"use strict";a.d(t,{Um:()=>n.Um,Y5:()=>n.Y5,ZG:()=>n.ZG,ZP:()=>r,k5:()=>n.k5,on:()=>n.on});var s=a(38592);var n=a(77457);var i=a(73641);var o=a.n(i);var $=a(26570);function r(e){return function(t){let a;let o;let r={};if((0,i.isElement)(e)||(0,s.isJqueryElement)(e)){a=$(e)}else{let t=(0,s.getCurrentScript)();r=(0,i.mapKeys)((0,s.getAttrs)(t,"^data-"),((e,t)=>(0,i.camelCase)(t.replace(/^data-/,""))));o=r.elemId;a=$($(`#${o}`)[0]||t.siblings(e)[0]||$(e)[0]||t.prev(e||"div")[0])}if(a.length===0){return}o=o||a.attr("id")||(0,i.camelCase)(a.selector);t.prototype.$elem=a;delete r.elemId;t.prototype.compConfig=r;var l=new t(a,o);a.data(t.className,l);n.sc.call(l,`Comp__${o}`,a);return l}}},77457:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>ve,on:()=>u,BR:()=>Y,Gd:()=>W,Zl:()=>U,Y5:()=>h,z2:()=>p,nx:()=>m,st:()=>K,ZG:()=>y,dv:()=>G,Km:()=>j,YH:()=>H,X4:()=>q,f5:()=>w,Yh:()=>S,u1:()=>C,nq:()=>F,aQ:()=>L,rj:()=>A,bh:()=>V,Um:()=>M,ib:()=>D,k5:()=>P,gw:()=>O,Wo:()=>X,Bm:()=>z,MI:()=>R,sc:()=>de});var s=a(10405);var n=a.n(s);var i=a(73641);var o=a(94771);var r=a(71141);var l=a(38592);var $=a(26570);const c=(0,l.makeUid)();const d=(0,l.makeUid)();function u(e,t,a){return oe(e,t,a)}function h(e,t){return oe("blur",e,t)}function p(e,t){return oe("change",e,t)}function m(e,t){return oe("click",e,t)}function f(e,t){return oe("copy",e,t)}function g(e,t){return oe("cut",e,t)}function v(e,t){return oe("dblclick",e,t)}function y(e,t){return oe("focus",e,t)}function b(e,t){return oe("input",e,t)}function w(e,t){return oe("keydown",e,t)}function S(e,t){return oe("keypress",e,t)}function C(e,t){return oe("keyup",e,t)}function x(e,t){return oe("mousedown",e,t)}function T(e,t){return oe("mouseenter",e,t)}function E(e,t){return oe("mouseleave",e,t)}function k(e,t){return oe("mousemove",e,t)}function Z(e,t){return oe("mouseout",e,t)}function F(e,t){return oe("mouseover",e,t)}function I(e,t){return oe("mouseup",e,t)}function N(e,t){return oe("mousewheel",e,t)}function A(e,t){return oe("paste",e,t)}function M(){return oe("ready",null,document)}function D(){return oe("resize",null,window)}function P(){return oe(c)}function L(){return oe("orientationchange",null,window)}function O(e,t){return oe("scroll",e,t)}function R(e,t){return oe("submit",e,t)}function B(e,t){return oe("wheel",e,t)}function j(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:".btnAction";return oe("click","#footer-buttons "+e)}function H(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:".footerCancel";return oe("click","#footer-buttons "+e)}function q(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form.BhrForms";let t=arguments.length>1?arguments[1]:undefined;return oe("invalid-form",e,t)}function W(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form.BhrForms[data-ajax-method]";let t=arguments.length>1?arguments[1]:undefined;return oe("ajaxSubmit",e,t)}function U(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form.BhrForms[data-ajax-method]";let t=arguments.length>1?arguments[1]:undefined;return oe("ajaxSubmitFail",e,t)}function z(){return oe("pushState replaceState popState refreshState",null,window)}function V(){return oe("pjax:end",null,document)}const Y=(e,t)=>oe(d,`\n\t\t[data-action="${e}"],\n\t\t[data-action^="${e}:"]\n\t`,t);const G=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}if(t.length>0){if((0,i.isNumber)(t[0])){if(t[0]==0){t.unshift("primary")}else{t.unshift("secondary")}}t=(0,i.compact)(t)}return Y(["SiteFooterAction",...t].join(":"),"footer.SiteFooter")};const K=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"ba-dropdown";let t=arguments.length>1?arguments[1]:undefined;return oe("ba:dropdownSelect",e,t)};const X=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"ba-select";let t=arguments.length>1?arguments[1]:undefined;return oe("ba:selectChange",e,t)};const J=new WeakMap;function Q(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return function(a,s){const n=a[s];J.set(n,{...J.get(n),[e]:t})}}const ee=e=>Q(e,true);const te=e=>Q(e,false);const ae=()=>ee("jade");const se=()=>te("jade");function ne(e){const t=J.get(e);return!t||!Object.entries(t).some((e=>{let[t,a]=e;return a&&!(0,r.isEnabled)(t)||!a&&(0,r.isEnabled)(t)}))}const ie=new WeakMap;function oe(e,t,a){return function(s,n){const i=s[n];const o=s.constructor;const r=ie.get(o)||[];let l=e.split(" ");let c=i;if(e===d){l=["click"];c=function(){let[e,...t]=this.dataset.action.split(":");t=t.map((e=>isNaN(e)?e:parseFloat(e)));return s[n](...arguments,...t)}}l.forEach((e=>{r.push({event:e,selector:t,context:a,handler:c,func:i})}));ie.set(o,r)}}let re=new WeakMap;function le(){var e=this;if(e.constructor!==Function){e=e.constructor}return re.get(e)||$(e.context)[0]||document}function ce(e,t,a){if(t.originalEvent instanceof CustomEvent&&(0,i.isPlainObject)(t.originalEvent.detail)){t.detail=t.originalEvent.detail}for(var s=arguments.length,n=new Array(s>3?s-3:0),o=3;o<s;o++){n[o-3]=arguments[o]}return e.call(this,t,a,...n)}function de(e,t){var a=this;var s=a.constructor;if(s===Function){console.error("::setupEvents() must be called on a class instance, not the class itself")}var n=ie.get(s);if(!Array.isArray(n)){return}t=$(t)[0]||le.call(s);re.set(s,t);if(typeof n!=="undefined"){n.forEach((s=>{let{context:n,event:i,func:o,handler:r,selector:l}=s;if(!ne(o)){return}let d=$(n||t);if(l){d.on(`${i}.${e}`,l,(function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++){s[n-1]=arguments[n]}return ce.call(this,r,e,a,...s)}));return}let u;switch(i){case c:$(window).on(`resize.${e}`,(function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++){s[n-1]=arguments[n]}clearTimeout(u);u=setTimeout((()=>ce.call(this,r,e,a,...s)),100)}));break;default:d.on(`${i}.${e}`,(function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++){s[n-1]=arguments[n]}return ce.call(this,r,e,a,...s)}));break}}))}}function ue(e){var t;var a=this;if(a.constructor!==Function){a=a.constructor}var s=(t=a,le).call(t);var n=(0,i.uniq)((ie.get(a)||[]).map((e=>$(e.context||s)[0])).filter((e=>(0,i.isElement)(e)||e===document||e===window)).concat([window,document,s]));if(n.length>0){$(n).off(`.${e}`)}}var he=a(26570);const pe={};const me={};const fe=new WeakMap;const _=(0,o.createPrivateContext)();function ge(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a=(0,i.camelCase)(e);const s=s=>{if(!s.hasOwnProperty("ID")){Object.defineProperty(s,"ID",{value:s.className.replace(/Ctrl$/,"")})}if(!s.hasOwnProperty("getJsonScriptVar")){const e=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"data";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:s.ID;const a=(0,l.getJsonScriptVar)(e,t);if(a&&a!==_(s)[e]){_(s)[e]=a}return _(s)[e]};Object.defineProperty(s,"getJsonScriptVar",{value:e})}function o(o){var r=[];var c=n()(e,r).exec(window.location.pathname);var d=(0,l.queryStringToObject)();var u=s.className;var h=function(){var e=true;(0,i.each)(t,((t,a)=>{e=e&&d[a]==t}));return e}();var p;if(c&&h){const e=r.reduce(((e,t,a)=>{let{name:s}=t;return{...e,[s]:c[a+1]}}),{});if((0,i.isUndefined)(me[u])){Object.assign(s.prototype,{_params:e});if(!s.prototype.hasOwnProperty("_data")){Object.defineProperty(s.prototype,"_data",{get:()=>s.getJsonScriptVar()})}if(!s.prototype.hasOwnProperty("_wrapper")){Object.defineProperty(s.prototype,"_wrapper",{get:()=>document.getElementById(s.ID)})}p=new s;pe[u]=s;s.active=true;me[u]=p;fe.set(s,p);de.call(p,a);(s.setup||i.noop)(p)}else{p=me[u];Object.assign(p,{_params:e});if(o&&o.type=="refreshState"){(s.teardown||i.noop)(p);(s.setup||i.noop)(p)}}}else if(s.active){(s.teardown||i.noop)(me[u]);s.active=false;delete me[u];ue.call(s,a)}}he(window).on("pushState replaceState popState refreshState",o);o()};return s}ge.getCtrl=function e(t){if((0,i.isString)(t)){return me[t]}if(!t){return}return fe.get(t)};ge.refresh=function e(){Se("refresh")};ge.Feature=function e(t,a){if(a&&!(0,r.isEnabled)(t)||!a&&(0,r.isEnabled)(t)){return i.noop}for(var s=arguments.length,n=new Array(s>2?s-2:0),o=2;o<s;o++){n[o-2]=arguments[o]}return ge(...n)};ge.FeatureOn=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}return ge.Feature(e,true,...a)};ge.FeatureOff=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}return ge.Feature(e,false,...a)};ge.Jade=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return ge.FeatureOn("jade",...t)};ge.Legacy=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return ge.FeatureOff("jade",...t)};var ve=Object.freeze(ge);const _e=ge.Jade;const ye=ge.Legacy;function be(){return window.location.pathname+window.location.search}var we=be();function Se(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}const[n,i]=a;const o=be();if(we!==o||e=="refresh"){he(window).trigger(`${e}State`,[we,o,n,i]);we=o}}var Ce=window.history.pushState;window.history.pushState=function e(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++){a[s]=arguments[s]}Ce.call(window.history,...a);Se("push",...a)};var xe=window.history.replaceState;window.history.replaceState=function e(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++){a[s]=arguments[s]}xe.call(window.history,...a);Se("replace",...a)};he(window).on("popstate",(function(e){Se("pop",e.state,document.title)}))},76374:(e,t,a)=>{"use strict";a.d(t,{m:()=>C});var s=a(73641);var n=a(23321);var i=a(17842);var o=a.n(i);function r(e){return e?Array.from(e).map((e=>({...e,text:e.displayText||e.name||e.text,value:e.value||e.id}))):[]}function l(e){switch(parseInt(e)){case d:case u:case h:case m:return f;case p:return g;default:return v}}function c(e){switch(parseInt(e)){case d:case u:return y;case h:case p:return b;default:return w}}var $=a(26570);const d=0;const u=1;const h=3;const p=222;const m=157;const f=$.__("State");const g=$.__("County");const v=$.__("Province");const y=$.__("ZIP");const b=$.__("Postcode");const w=$.__("Postal Code");const S={endpoint:"/ajax/get_states?country=",initialCountryId:u,initialSubEntityLabel:l(u),initialSubEntityOptions:[]};function C(e){e={...S,...e};const{initialCountryId:t,initialPostCodeLabel:a,initialSubEntityLabel:i,initialSubEntityOptions:o}=e;const[d,u]=(0,n.useState)({countryId:t,postCodeLabel:t?c(t):a,subEntityLabel:t?l(t):i,subEntityOptions:r(o)});const h=(0,n.useCallback)(T(u),[]);const p=(0,n.useCallback)(x(e,h),[e]);(0,n.useEffect)((()=>{if((0,s.isEmpty)(e.initialSubEntityOptions)){p(e.initialCountryId)}}),[]);return{countryId:d.countryId,postCodeLabel:d.postCodeLabel,subEntityLabel:d.subEntityLabel,subEntityOptions:d.subEntityOptions,switchCountry:p}}function x(e,t){let{endpoint:a}=e;return e=>o().get(`${a}${e}`).then((a=>{t(e,a.data?a.data.data:[])})).catch((t=>{if(t?.response?.status>=500){window.Rollbar.error(`Could not fetch state data for country id ${e}, with status code ${t?.response?.status}`,t)}}))}function T(e){return(t,a)=>{e({countryId:t,postCodeLabel:c(t),subEntityLabel:l(t),subEntityOptions:r(a)})}}},7949:(e,t,a)=>{"use strict";a.d(t,{Y:()=>o});var s=a(23321);var n=a(73641);function i(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"id";const[a,i]=(0,s.useState)(e);const[o,r]=(0,s.useState)();const l=e=>a.find((a=>a[t].toString()===e.toString()));const c=(e,t)=>{r(l(t));e.dataTransfer.effectAllowed="move";try{e.dataTransfer.dropEffect="move"}catch(e){}};const d=(e,s,r)=>{e.preventDefault();if(o){const e=l(s);const c=a.findIndex((e=>e[t].toString()===s.toString()));if(o[t]===e[t]){return}const d=a.filter((e=>e[t]!==o[t]));d.splice(c,0,o);if(r&&typeof r==="function"){r((0,n.cloneDeep)(d),(0,n.cloneDeep)(e))}else{i(d)}}};const u=()=>{r(undefined)};return[a,i,o,{handleDragStart:c,handleDragOver:d,handleDragEnd:u}]}var o=i},31919:(e,t,a)=>{"use strict";a.d(t,{y:()=>c});var s=a(73641);var n=a.n(s);var i=a(23321);var o=a.n(i);const r={data:null,error:null,isComplete:false,isError:false,isProcessing:false,isSuccess:false};function l(e,t){const{payload:a,type:s}=t;switch(s){case"async_begin":return{...r,isProcessing:true};case"async_error":return{...e,error:a,isComplete:true,isError:true,isProcessing:false};case"async_success":return{...e,data:a,isComplete:true,isProcessing:false,isSuccess:true};default:return e}}function c(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!e){throw new Error(`useCancellableAsyncMethod 'asyncMethod' is required.`)}if(typeof e!=="function"){throw new Error(`useCancellableAsyncMethod 'asyncMethod' must be a function.`)}if(!t){throw new Error(`useCancellableAsyncMethod 'asyncMethodDeps' is required.`)}if(!Array.isArray(t)){throw new Error(`useCancellableAsyncMethod 'asyncMethodDeps' must be an array.`)}if(typeof a!=="object"){throw new Error(`useCancellableAsyncMethod 'options' must be an object.`)}const n=(0,i.useRef)(null);const o=(0,i.useRef)({onError:undefined,onSuccess:undefined});o.current.onError=a.onError||s.noop;o.current.onSuccess=a.onSuccess||s.noop;if(typeof o.current.onError!=="function"){throw new Error(`useCancellableAsyncMethod 'onError' must be a function.`)}if(typeof o.current.onSuccess!=="function"){throw new Error(`useCancellableAsyncMethod 'onSuccess' must be a function.`)}const c=(0,i.useRef)(false);const d=(0,i.useCallback)((()=>e()),t);const[u,h]=(0,i.useReducer)(l,r);(0,i.useLayoutEffect)((()=>()=>{c.current=true}),[]);(0,i.useLayoutEffect)((()=>{const e=d();if(e){n.current=e;h({type:"async_begin"});e.then((t=>{if(!c.current){if(e===n.current){o.current.onSuccess(t);h({type:"async_success",payload:t})}}})).catch((t=>{if(!c.current){if(e===n.current){o.current.onError(t);h({type:"async_error",payload:t})}}}))}}),[d]);return u}},65659:(e,t,a)=>{"use strict";a.d(t,{I:()=>i});var s=a(84073);const n=Object.freeze({children:e=>e.children,nodeSize:e=>e.data.size,spacing:0});function i(e){const t=Object.assign({},n,e);function a(e){const a=t[e];return typeof a==="function"?a:()=>a}function i(e){const t=d(c(),e,(e=>e.children));t.update();return t.data}function l(){const e=a("nodeSize");const t=a("spacing");return class a extends s.bT.prototype.constructor{static get className(){return"FlexNode"}constructor(e){super(e)}copy(){const e=d(this.constructor,this,(e=>e.children));e.each((e=>e.data=e.data.data));return e}get size(){return e(this)}spacing(e){return t(this,e)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const e=this.ancestors();return e[e.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce(((e,t)=>a.maxExtents(e,t.extents)),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(e,t){return{top:Math.min(e.top,t.top),bottom:Math.max(e.bottom,t.bottom),left:Math.min(e.left,t.left),right:Math.max(e.right,t.right)}}}}function c(){const e=l();const t=a("nodeSize");const s=a("spacing");return class extends e{constructor(e){super(e);Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return t(this.data)}spacing(e){return s(this.data,e.data)}get x(){return this.data.x}set x(e){this.data.x=e}get y(){return this.data.y}set y(e){this.data.y=e}update(){o(this);r(this);return this}}}function d(e,t,a){const s=(t,n)=>{const i=new e(t);Object.assign(i,{parent:n,depth:n===null?0:n.depth+1,height:0,length:1});const o=a(t)||[];i.children=o.length===0?null:o.map((e=>s(e,i)));if(i.children){Object.assign(i,i.children.reduce(((e,t)=>({height:Math.max(e.height,t.height+1),length:e.length+t.length})),i))}return i};return s(t,null)}Object.assign(i,{nodeSize(e){return arguments.length?(t.nodeSize=e,i):t.nodeSize},spacing(e){return arguments.length?(t.spacing=e,i):t.spacing},children(e){return arguments.length?(t.children=e,i):t.children},hierarchy(e,a){const s=typeof a==="undefined"?t.children:a;return d(l(),e,s)},dump(e){const t=a("nodeSize");const s=e=>a=>{const n=e+"  ";const i=e+"    ";const{x:o,y:r}=a;const l=t(a);const c=a.children||[];const d=c.length===0?" ":`,${n}children: [${i}${c.map(s(i)).join(i)}${n}],${e}`;return`{ size: [${l.join(", ")}],${n}x: ${o}, y: ${r}${d}},`};return s("\n")(e)}});return i}i.version="2.1.1";const o=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;e.y=t;(e.children||[]).reduce(((t,a)=>{const[s,n]=t;o(a,e.y+e.ySize);const i=(s===0?a.lExt:a.rExt).bottom;if(s!==0)c(e,s,n);const r=v(i,s,n);return[s+1,r]}),[0,null]);l(e);g(e);return e};const r=(e,t,a)=>{if(typeof t==="undefined"){t=-e.relX-e.prelim;a=0}const s=t+e.relX;e.relX=s+e.prelim-a;e.prelim=0;e.x=a+e.relX;(e.children||[]).forEach((t=>r(t,s,e.x)));return e};const l=e=>{(e.children||[]).reduce(((e,t)=>{const[a,s]=e;const n=a+t.shift;const i=s+n+t.change;t.relX+=i;return[n,i]}),[0,0])};const c=(e,t,a)=>{const s=e.children[t-1];const n=e.children[t];let i=s;let o=s.relX;let r=n;let l=n.relX;let c=true;while(i&&r){if(i.bottom>a.lowY)a=a.next;const s=o+i.prelim-(l+r.prelim)+i.xSize/2+r.xSize/2+i.spacing(r);if(s>0||s<0&&c){l+=s;d(n,s);u(e,t,a.index,s)}c=false;const m=i.bottom;const f=r.bottom;if(m<=f){i=p(i);if(i)o+=i.relX}if(m>=f){r=h(r);if(r)l+=r.relX}}if(!i&&r)m(e,t,r,l);else if(i&&!r)f(e,t,i,o)};const d=(e,t)=>{e.relX+=t;e.lExtRelX+=t;e.rExtRelX+=t};const u=(e,t,a,s)=>{const n=e.children[t];const i=t-a;if(i>1){const t=s/i;e.children[a+1].shift+=t;n.shift-=t;n.change-=s-t}};const h=e=>e.hasChildren?e.firstChild:e.lThr;const p=e=>e.hasChildren?e.lastChild:e.rThr;const m=(e,t,a,s)=>{const n=e.firstChild;const i=n.lExt;const o=e.children[t];i.lThr=a;const r=s-a.relX-n.lExtRelX;i.relX+=r;i.prelim-=r;n.lExt=o.lExt;n.lExtRelX=o.lExtRelX};const f=(e,t,a,s)=>{const n=e.children[t];const i=n.rExt;const o=e.children[t-1];i.rThr=a;const r=s-a.relX-n.rExtRelX;i.relX+=r;i.prelim-=r;n.rExt=o.rExt;n.rExtRelX=o.rExtRelX};const g=e=>{if(e.hasChildren){const t=e.firstChild;const a=e.lastChild;const s=(t.prelim+t.relX-t.xSize/2+a.relX+a.prelim+a.xSize/2)/2;Object.assign(e,{prelim:s,lExt:t.lExt,lExtRelX:t.lExtRelX,rExt:a.rExt,rExtRelX:a.rExtRelX})}};const v=(e,t,a)=>{while(a!==null&&e>=a.lowY)a=a.next;return{lowY:e,index:t,next:a}}},8236:(e,t,a)=>{"use strict";a.d(t,{g:()=>h});var s=a(1846);var n=a.n(s);var i=a(66317);var o=a.n(i);var r=a(25178);var l=a.n(r);var c=a(55410);var d=a.n(c);let u=d().process;d().process=function e(t,a,s){t=t.replace(/(%\d+)(\$\w)?/g,"$1$s");return u(t,a,s)};function h(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}return d().process(e,e,{sprintf:a})}window.sprintf=h;n().use(l()).use(o()).use(d());t["Z"]=n()},71865:(e,t,a)=>{var jQuery=a(26570);(function($){$.fn.extend({autocomplete:function(e,t){var a=typeof e=="string";t=$.extend({},$.Autocompleter.defaults,{url:a?e:null,data:a?null:e,delay:a?$.Autocompleter.defaults.delay:10,max:t&&!t.scroll?10:150},t);t.highlight=t.highlight||function(e){return e};t.formatMatch=t.formatMatch||t.formatItem;return this.each((function(){new $.Autocompleter(this,t)}))},result:function(e){return this.bind("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}});$.Autocompleter=function(e,t){var a={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var s=$(e).attr("autocomplete","off").addClass(t.inputClass);var n;var i="";var o=$.Autocompleter.Cache(t);var r=0;var l;var c={mouseDownOnSelect:false};var d=$.Autocompleter.Select(t,e,h,c);var u;s.bind("keydown.autocomplete",(function(e){r=1;l=e.keyCode;switch(e.keyCode){case a.UP:e.preventDefault();if(d.visible()){d.prev()}else{p(0,true)}break;case a.DOWN:e.preventDefault();if(d.visible()){d.next()}else{p(0,true)}break;case a.PAGEUP:e.preventDefault();if(d.visible()){d.pageUp()}else{p(0,true)}break;case a.PAGEDOWN:e.preventDefault();if(d.visible()){d.pageDown()}else{p(0,true)}break;case t.multiple&&$.trim(t.multipleSeparator)==","&&a.COMMA:case a.TAB:case a.RETURN:if(h()){e.preventDefault();u=true;return false}break;case a.ESC:d.hide();break;default:clearTimeout(n);n=setTimeout(p,t.delay);break}})).focus((function(){r++})).blur((function(){r=0;if(!c.mouseDownOnSelect){v()}})).click((function(){if(r++>1&&!d.visible()){p(0,true)}})).bind("search",(function(){var e=arguments.length>1?arguments[1]:null;function t(t,a){var n;if(a&&a.length){for(var i=0;i<a.length;i++){if(a[i].result.toLowerCase()==t.toLowerCase()){n=a[i];break}}}if(typeof e=="function")e(n);else s.trigger("result",n&&[n.data,n.value])}$.each(m(s.val()),(function(e,a){w(a,t,t)}))})).bind("flushCache",(function(){o.flush()})).bind("setOptions",(function(){$.extend(t,arguments[1]);if("data"in arguments[1])o.populate()})).bind("unautocomplete",(function(){d.unbind();s.unbind();$(e.form).unbind(".autocomplete")}));function h(){var a=d.selected();if(!a)return false;var n=a.result;i=n;if(t.multiple){var o=m(s.val());if(o.length>1){var r=t.multipleSeparator.length;var l=$(e).selection().start;var c,u=0;$.each(o,(function(e,t){u+=t.length;if(l<=u){c=e;return false}u+=r}));o[c]=n;n=o.join(t.multipleSeparator)}n+=t.multipleSeparator}s.val(n);y();s.trigger("result",[a.data,a.value]);return true}function p(e,n){if(l==a.DEL){d.hide();return}var o=s.val();if(!n&&o==i)return;i=o;o=f(o);if(o.length>=t.minChars){s.addClass(t.loadingClass);if(!t.matchCase)o=o.toLowerCase();w(o,b,y)}else{C();d.hide()}}function m(e){if(!e)return[""];if(!t.multiple)return[$.trim(e)];return $.map(e.split(t.multipleSeparator),(function(t){return $.trim(e).length?$.trim(t):null}))}function f(a){if(!t.multiple)return a;var s=m(a);if(s.length==1)return s[0];var n=$(e).selection().start;if(n==a.length){s=m(a)}else{s=m(a.replace(a.substring(n),""))}return s[s.length-1]}function g(n,o){if(t.autoFill&&f(s.val()).toLowerCase()==n.toLowerCase()&&l!=a.BACKSPACE){s.val(s.val()+o.substring(f(i).length));$(e).selection(i.length,i.length+o.length)}}function v(){clearTimeout(n);n=setTimeout(y,200)}function y(){var e=d.visible();d.hide();clearTimeout(n);C();if(t.mustMatch){s.search((function(e){if(!e){if(t.multiple){var a=m(s.val()).slice(0,-1);s.val(a.join(t.multipleSeparator)+(a.length?t.multipleSeparator:""))}else{s.val("");s.trigger("result",null)}}}))}}function b(e,t){if(t&&t.length&&r){C();d.display(t,e);g(e,t[0].value);d.show()}else{y()}}function w(a,s,n){if(!t.matchCase)a=a.toLowerCase();var i=o.load(a);if(i&&i.length){s(a,i)}else if(typeof t.url=="string"&&t.url.length>0){var r={timestamp:+new Date};$.each(t.extraParams,(function(e,t){r[e]=typeof t=="function"?t():t}));var l="GET";if(typeof t.method!="undefined"&&t.method=="POST"){l="POST"}$.ajax({type:l,mode:"abort",port:"autocomplete"+e.name,dataType:t.dataType,url:t.url,data:$.extend({q:f(a),limit:t.max},r),success:function(e){var n=t.parse&&t.parse(e)||S(e);o.add(a,n);s(a,n)}})}else{d.emptyList();n(a)}}function S(e){var a=[];var s=e.split("\n");for(var n=0;n<s.length;n++){var i=$.trim(s[n]);if(i){i=i.split("|");a[a.length]={data:i,value:i[0],result:t.formatResult&&t.formatResult(i,i[0])||i[0]}}}return a}function C(){s.removeClass(t.loadingClass)}};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(e){return e[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};$.Autocompleter.Cache=function(e){var t={};var a=0;function s(t,a){if(!e.matchCase)t=t.toLowerCase();var s=t.indexOf(a);if(e.matchContains=="word"){s=t.toLowerCase().search("\\b"+a.toLowerCase())}if(s==-1)return false;return s==0||e.matchContains}function n(s,n){if(a>e.cacheLength){o()}if(!t[s]){a++}t[s]=n}function i(){if(!e.data)return false;var t={},a=0;if(!e.url)e.cacheLength=1;t[""]=[];for(var s=0,i=e.data.length;s<i;s++){var o=e.data[s];o=typeof o=="string"?[o]:o;var r=e.formatMatch(o,s+1,e.data.length);if(r===false)continue;var l=r.charAt(0).toLowerCase();if(!t[l])t[l]=[];var c={value:r,data:o,result:e.formatResult&&e.formatResult(o)||r};t[l].push(c);if(a++<e.max){t[""].push(c)}}$.each(t,(function(t,a){e.cacheLength++;n(t,a)}))}setTimeout(i,25);function o(){t={};a=0}return{flush:o,add:n,populate:i,load:function(n){if(!e.cacheLength||!a)return null;if(!e.url&&e.matchContains){var i=[];for(var o in t){if(o.length>0){var r=t[o];$.each(r,(function(e,t){if(s(t.value,n)){i.push(t)}}))}}return i}else if(t[n]){return t[n]}else if(e.matchSubset){for(var l=n.length-1;l>=e.minChars;l--){var r=t[n.substr(0,l)];if(r){var i=[];$.each(r,(function(e,t){if(s(t.value,n)){i[i.length]=t}}));return i}}}return null}}};$.Autocompleter.Select=function(e,t,a,s){var n={ACTIVE:"ac_over"};var i,o=-1,r,l="",c=true,d,u;function h(){if(!c)return;d=$("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body);u=$("<ul/>").appendTo(d).mouseover((function(e){if(p(e).nodeName&&p(e).nodeName.toUpperCase()=="LI"){o=$("li",u).removeClass(n.ACTIVE).index(p(e));$(p(e)).addClass(n.ACTIVE)}})).click((function(e){$(p(e)).addClass(n.ACTIVE);a();t.click();return false})).mousedown((function(){s.mouseDownOnSelect=true})).mouseup((function(){s.mouseDownOnSelect=false}));if(e.width>0)d.css("width",e.width);c=false}function p(e){var t=e.target;while(t&&t.tagName!="LI")t=t.parentNode;if(!t)return[];return t}function m(t){i.slice(o,o+1).removeClass(n.ACTIVE);f(t);var a=i.slice(o,o+1).addClass(n.ACTIVE);if(e.scroll){var s=0;i.slice(0,o).each((function(){s+=this.offsetHeight}));if(s+a[0].offsetHeight-u.scrollTop()>u[0].clientHeight){u.scrollTop(s+a[0].offsetHeight-u.innerHeight())}else if(s<u.scrollTop()){u.scrollTop(s)}}}function f(e){o+=e;if(o<0){o=i.size()-1}else if(o>=i.size()){o=0}}function g(t){return e.max&&e.max<t?e.max:t}function v(){u.empty();var t=g(r.length);for(var a=0;a<t;a++){if(!r[a])continue;var s=e.formatItem(r[a].data,a+1,t,r[a].value,l);if(s===false)continue;var c=$("<li/>").html(e.highlight(s,l)).addClass(a%2==0?"ac_even":"ac_odd").addClass(r[0].data[1]).appendTo(u)[0];$.data(c,"ac_data",r[a])}i=u.find("li");if(e.selectFirst){i.slice(0,1).addClass(n.ACTIVE);o=0}if($.fn.bgiframe)u.bgiframe()}return{display:function(e,t){h();r=e;l=t;v()},next:function(){m(1)},prev:function(){m(-1)},pageUp:function(){if(o!=0&&o-8<0){m(-o)}else{m(-8)}},pageDown:function(){if(o!=i.size()-1&&o+8>i.size()){m(i.size()-1-o)}else{m(8)}},hide:function(){d&&d.hide();i&&i.removeClass(n.ACTIVE);o=-1},visible:function(){return d&&d.is(":visible")},current:function(){return this.visible()&&(i.filter("."+n.ACTIVE)[0]||e.selectFirst&&i[0])},show:function(){var a=$(t).offset();d.css({width:typeof e.width=="string"||e.width>0?e.width:$(t).width(),top:a.top+t.offsetHeight,left:a.left}).show();if(e.scroll){u.scrollTop(0);u.css({maxHeight:e.scrollHeight,overflow:"auto"})}},selected:function(){var e=i&&i.filter("."+n.ACTIVE).removeClass(n.ACTIVE);return e&&e.length&&$.data(e[0],"ac_data")},emptyList:function(){u&&u.empty()},unbind:function(){d&&d.remove()}}};$.fn.selection=function(e,t){if(e!==undefined){return this.each((function(){if(this.createTextRange){var a=this.createTextRange();if(t===undefined||e==t){a.move("character",e);a.select()}else{a.collapse(true);a.moveStart("character",e);a.moveEnd("character",t);a.select()}}else if(this.setSelectionRange){this.setSelectionRange(e,t)}else if(this.selectionStart){this.selectionStart=e;this.selectionEnd=t}}))}var a=this[0];if(a.createTextRange){var s=document.selection.createRange(),n=a.value,i="<->",o=s.text.length;s.text=i;var r=a.value.indexOf(i);a.value=n;this.selection(r,r+o);return{start:r,end:r+o}}else if(a.selectionStart!==undefined){return{start:a.selectionStart,end:a.selectionEnd}}}})(jQuery)},49608:(e,t,a)=>{var jQuery=a(26570);var $=a(26570);(function(){function e(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}jQuery.validator.addMethod("maxWords",(function(t,a,s){return this.optional(a)||e(t).match(/\b\w+\b/g).length<=s}),jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",(function(t,a,s){return this.optional(a)||e(t).match(/\b\w+\b/g).length>=s}),jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",(function(t,a,s){var n=e(t),i=/\b\w+\b/g;return this.optional(a)||n.match(i).length>=s[0]&&n.match(i).length<=s[1]}),jQuery.validator.format("Please enter between {0} and {1} words."))})();jQuery.validator.addMethod("accept",(function(e,t,a){var s=typeof a==="string"?a.replace(/\s/g,"").replace(/,/g,"|"):"image/*",n=this.optional(t),i,o;if(n){return n}if(jQuery(t).attr("type")==="file"){s=s.replace(/\*/g,".*");if(t.files&&t.files.length){for(i=0;i<t.files.length;i++){o=t.files[i];if(!o.type.match(new RegExp(".?("+s+")$","i"))){return false}}}}return true}),jQuery.validator.format("Please enter a value with a valid mimetype."));jQuery.validator.addMethod("alphanumeric",(function(e,t){return this.optional(t)||/^\w+$/i.test(e)}),"Letters, numbers, and underscores only please");jQuery.validator.addMethod("bankaccountNL",(function(e,t){if(this.optional(t)){return true}if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e)){return false}var a=e.replace(/ /g,""),s=0,n=a.length,i,o,r;for(i=0;i<n;i++){o=n-i;r=a.substring(i,i+1);s=s+o*r}return s%11===0}),"Please specify a valid bank account number");jQuery.validator.addMethod("bankorgiroaccountNL",(function(e,t){return this.optional(t)||$.validator.methods.bankaccountNL.call(this,e,t)||$.validator.methods.giroaccountNL.call(this,e,t)}),"Please specify a valid bank or giro account number");jQuery.validator.addMethod("bic",(function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e)}),"Please specify a valid BIC code");jQuery.validator.addMethod("cifES",(function(e){"use strict";var t=[],a,s,n,i,o,r;e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}for(n=0;n<9;n++){t[n]=parseInt(e.charAt(n),10)}s=t[2]+t[4]+t[6];for(i=1;i<8;i+=2){o=(2*t[i]).toString();r=o.charAt(1);s+=parseInt(o.charAt(0),10)+(r===""?0:parseInt(r,10))}if(/^[ABCDEFGHJNPQRSUVW]{1}/.test(e)){s+="";a=10-parseInt(s.charAt(s.length-1),10);e+=a;return t[8].toString()===String.fromCharCode(64+a)||t[8].toString()===e.charAt(e.length-1)}return false}),"Please specify a valid CIF number.");jQuery.validator.addMethod("creditcardtypes",(function(e,t,a){if(/[^0-9\-]+/.test(e)){return false}e=e.replace(/\D/g,"");var s=0;if(a.mastercard){s|=1}if(a.visa){s|=2}if(a.amex){s|=4}if(a.dinersclub){s|=8}if(a.enroute){s|=16}if(a.discover){s|=32}if(a.jcb){s|=64}if(a.unknown){s|=128}if(a.all){s=1|2|4|8|16|32|64|128}if(s&1&&/^(5[12345])/.test(e)){return e.length===16}if(s&2&&/^(4)/.test(e)){return e.length===16}if(s&4&&/^(3[47])/.test(e)){return e.length===15}if(s&8&&/^(3(0[012345]|[68]))/.test(e)){return e.length===14}if(s&16&&/^(2(014|149))/.test(e)){return e.length===15}if(s&32&&/^(6011)/.test(e)){return e.length===16}if(s&64&&/^(3)/.test(e)){return e.length===16}if(s&64&&/^(2131|1800)/.test(e)){return e.length===15}if(s&128){return true}return false}),"Please enter a valid credit card number.");jQuery.validator.addMethod("currency",(function(e,t,a){var s=typeof a==="string",n=s?a:a[0],i=s?true:a[1],o;n=n.replace(/,/g,"");n=i?n+"]":n+"]?";o="^["+n+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";o=new RegExp(o);return this.optional(t)||o.test(e)}),"Please specify a valid currency");jQuery.validator.addMethod("dateITA",(function(e,t){var a=false,s=/^\d{1,2}\/\d{1,2}\/\d{4}$/,n,i,o,r,l;if(s.test(e)){n=e.split("/");i=parseInt(n[0],10);o=parseInt(n[1],10);r=parseInt(n[2],10);l=new Date(r,o-1,i,12,0,0,0);if(l.getFullYear()===r&&l.getMonth()===o-1&&l.getDate()===i){a=true}else{a=false}}else{a=false}return this.optional(t)||a}),"Please enter a correct date");jQuery.validator.addMethod("dateNL",(function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)}),"Please enter a correct date");jQuery.validator.addMethod("extension",(function(e,t,a){a=typeof a==="string"?a.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(t)||e.match(new RegExp(".("+a+")$","i"))}),jQuery.validator.format("Please enter a value with a valid extension."));jQuery.validator.addMethod("giroaccountNL",(function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)}),"Please specify a valid giro account number");jQuery.validator.addMethod("iban",(function(e,t){if(this.optional(t)){return true}var a=e.replace(/ /g,"").toUpperCase(),s="",n=true,i="",o="",r,l,c,d,u,h,p,m,f;if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(a)){return false}r=a.substring(0,2);h={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};u=h[r];if(typeof u!=="undefined"){p=new RegExp("^[A-Z]{2}\\d{2}"+u+"$","");if(!p.test(a)){return false}}l=a.substring(4,a.length)+a.substring(0,4);for(m=0;m<l.length;m++){c=l.charAt(m);if(c!=="0"){n=false}if(!n){s+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(c)}}for(f=0;f<s.length;f++){d=s.charAt(f);o=""+i+""+d;i=o%97}return i===1}),"Please specify a valid IBAN");jQuery.validator.addMethod("integer",(function(e,t){return this.optional(t)||/^-?\d+$/.test(e)}),"A positive or negative non-decimal number please");jQuery.validator.addMethod("ipv4",(function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)}),"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",(function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)}),"Please enter a valid IP v6 address.");jQuery.validator.addMethod("lettersonly",(function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)}),"Letters only please");jQuery.validator.addMethod("letterswithbasicpunc",(function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)}),"Letters or punctuation only please");jQuery.validator.addMethod("mobileNL",(function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)}),"Please specify a valid mobile number");jQuery.validator.addMethod("mobileUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)}),"Please specify a valid mobile number");jQuery.validator.addMethod("nieES",(function(e){"use strict";e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[T]{1}/.test(e)){return e[8]===/^[T]{1}[A-Z0-9]{8}$/.test(e)}if(/^[XYZ]{1}/.test(e)){return e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23)}return false}),"Please specify a valid NIE number.");jQuery.validator.addMethod("nifES",(function(e){"use strict";e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[0-9]{8}[A-Z]{1}$/.test(e)){return"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8)}if(/^[KLM]{1}/.test(e)){return e[8]===String.fromCharCode(64)}return false}),"Please specify a valid NIF number.");jQuery.validator.addMethod("nowhitespace",(function(e,t){return this.optional(t)||/^\S+$/i.test(e)}),"No white space please");jQuery.validator.addMethod("pattern",(function(e,t,a){if(this.optional(t)){return true}if(typeof a==="string"){a=new RegExp(a)}return a.test(e)}),"Invalid format.");jQuery.validator.addMethod("phoneNL",(function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)}),"Please specify a valid phone number.");jQuery.validator.addMethod("phoneUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)}),"Please specify a valid phone number");jQuery.validator.addMethod("phoneUS",(function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)}),"Please specify a valid phone number");jQuery.validator.addMethod("phonesUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)}),"Please specify a valid uk phone number");jQuery.validator.addMethod("postalcodeNL",(function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)}),"Please specify a valid postal code");jQuery.validator.addMethod("postcodeUK",(function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)}),"Please specify a valid UK postcode");jQuery.validator.addMethod("require_from_group",(function(e,t,a){var s=$(a[1],t.form),n=s.eq(0),i=n.data("valid_req_grp")?n.data("valid_req_grp"):$.extend({},this),o=s.filter((function(){if($(this).is(":checkbox"))return $(this).is(":checked");return i.elementValue(this)})).length>=a[0];n.data("valid_req_grp",i);if(!$(t).data("being_validated")){s.data("being_validated",true);s.each((function(){i.element(this)}));s.data("being_validated",false)}return o}),jQuery.validator.format("Please fill at least {0} of these fields."));jQuery.validator.addMethod("skip_or_fill_minimum",(function(e,t,a){var s=$(a[1],t.form),n=s.eq(0),i=n.data("valid_skip")?n.data("valid_skip"):$.extend({},this),o=s.filter((function(){return i.elementValue(this)})).length,r=o===0||o>=a[0];n.data("valid_skip",i);if(!$(t).data("being_validated")){s.data("being_validated",true);s.each((function(){i.element(this)}));s.data("being_validated",false)}return r}),jQuery.validator.format("Please either skip these fields or fill at least {0} of them."));jQuery.validator.addMethod("strippedminlength",(function(e,t,a){return jQuery(e).text().length>=a}),jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("time",(function(e,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(e)}),"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",(function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)}),"Please enter a valid time in 12-hour am/pm format");jQuery.validator.addMethod("url2",(function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.url);jQuery.validator.addMethod("vinUS",(function(e){if(e.length!==17){return false}var t=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],a=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],s=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],n=0,i,o,r,l,c,d;for(i=0;i<17;i++){l=s[i];r=e.slice(i,i+1);if(i===8){d=r}if(!isNaN(r)){r*=l}else{for(o=0;o<t.length;o++){if(r.toUpperCase()===t[o]){r=a[o];r*=l;if(isNaN(d)&&o===8){d=t[o]}break}}}n+=r}c=n%11;if(c===10){c="X"}if(c===d){return true}return false}),"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("zipcodeUS",(function(e,t){return this.optional(t)||/^\d{5}-\d{4}$|^\d{5}$/.test(e)}),"The specified US ZIP Code is invalid");jQuery.validator.addMethod("ziprange",(function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)}),"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx")},77825:(e,t,a)=>{"use strict";var s=a(53509);var n=a(49608);var i=a(17842);var o=a.n(i);var r=a(71141);var l=a(45662);var c=a(78144);var d=a(38592);var u=a(67572);var h=a(73641);var p=a(82543);var m=a.n(p);var f=a(34825);var g=a(80962);var v=a(18075);function y(e){if(typeof e!=="number"){return false}if(Number.isNaN(e)){return false}if(e<=0){return false}if(e>168){return false}return true}var b=a(55482);function w(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e===""){return t}const a=(0,b.J)(e);return y(a)}var $=a(26570);var _=a(73641);var jQuery=a(26570);const S=["input","select","textarea"];const C=(0,r.isEnabled)("jade");if(!C){S.push("ba-select")}var x=$.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");function T(){const e=E();return e===""?"/ajax/employee_emails.php":e}function E(){if(typeof window.SESSION_USER==="undefined"){return""}else if(window.isOnboardingUser||window.SESSION_USER&&window.SESSION_USER.isOnboardingUser){return"/self_onboarding/packet/validate"}return"/employees/validate"}$.fn.isFieldRequired=function(){return!!$(this).rules().required};$.fn.syncingPayScheduleSelected=function(){const e=$(this).closest("form").find("ba-select.js-paySchedule");const t=e.length>0?e.find("ba-option:selected"):[];if(t.length>0){return A(e,t[0].value)}return $(this).hasClass("syncingScheduleSelected")||false};$.fn.toggleRequired=function(e){$(this).each((function(){var t=$(this);var a=t.closest(".fieldBox");var s=!!t.rules().required;if(_.isUndefined(e)){e=!s}a.toggleClass("required",e);if(!e){a.removeAttr("aria-required").removeClass("error");t.rules("remove","required")}else{a.attr("aria-required","true");if(!_.isPlainObject(e)){e={required:e}}if(_.isUndefined(e.required)){e.required=true}t.rules("add",e)}}))};$.fn.setTraxRequired=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;$(this).each((function(){if(!(0,d.hasTrax)()){console.warn("Cannot set fields required when company isn't Trax");return}const t=this.tagName==="SELECT"?$(this).closest("ba-select"):$(this);const a=t.closest(".fieldBox,.fab-FormRow");if(e){a.attr("aria-required",e);t.attr("aria-required",e)}else{a.removeAttr("aria-required");t.removeAttr("aria-required")}a.toggleClass("required",e);a.find("label").toggleClass("fab-Label--required",e);t.toggleClass("requiredWhenTraxSyncing",e).find("select").toggleClass("requiredWhenTraxSyncing",e);t.removeClass("requiredWhenVisible").find("select").removeClass("requiredWhenVisible").closest(".fieldBox").removeClass("requiredWhenVisible");const s=t[0].tagName==="BA-SELECT"?t.find("select"):t;if(!e){s.valid()}}))};$.fn.forceValidateField=function(){const e=$(this);const t=e.is(":visible")||e.closest("ba-select").is(":visible");if(e.length!==1){console.warn("Invalid data for forcing validation check -> Must match element & Must not match multiple elements");return false}else if(e.closest("form").attr("bhrvalidate-initiated")!="true"){console.warn("forceValidateField can only be used on initiated bhrValidate form");return false}else if(e.is("[readonly]")||e.is(":disabled")){console.warn("forceValidateField cannot validate readonly or disabled field");return false}else if(!t){return false}e.valid()};$.fn.initialTraxValidation=function(){if(!(0,d.hasTrax)()||window.currentlyEditingEmployeeId===0){return false}const e=$(this);if(e.get(0).hasSSNBeenValidatedInitially){return false}else{e.get(0).hasSSNBeenValidatedInitially=true}if(!e.is("form")){console.warn("initialTraxValidation can only be called on a form element");return false}const t=e.find(".primary-ssn-field");if(t.length===1){t.data("isInitialValidation",true);t.forceValidateField()}const a=e.find("ba-select.js-paySchedule");if(a.length===1){M(a,null)}};function k(){if(!this.form){this.form=$(this).closest("form")[0]}}function Z(e){const t=$(e).data("employeeid");const a=t!="data-employeeid"&&t!=undefined;const s=window.currentlyEditingEmployeeId||"0";return a?t:s}function F(e,t,a,s,n){if(!a.settings.messages[e.name]){a.settings.messages[e.name]={}}a.settings.messages[e.name].remote=s.originalMessage;if(n){let t=a.formSubmitted;a.prepareElement(e);a.formSubmitted=t;a.successList.push(e);delete a.invalid[e.name];a.showErrors();a.settings.unhighlight.call(a,e)}else{let n=a.errorMap||{};let i=a.defaultMessage(e,"remote");n[e.name]=s.message=$.isFunction(i)?i(t):i;a.invalid[e.name]=true;a.showErrors(n);a.settings.highlight.call(a,e)}s.valid=n;a.stopRequest(e,n)}function I(e,t,a,s){let n=N(e,t);if(n&&n.length===1){let e=n.get(0);F(e,e.value,a,a.previousValue(e),s)}}function N(e,t){let a=$(e).closest("form").find(t);let s=a.is(":visible")||a.closest("ba-select").is(":visible");return s?a:false}function A(e,t){const a=N(e,"select.js-paySchedule");if(a){const s=t||a.val();const n=a[0].tagName==="SELECT"?a.closest("ba-select").data("payScheduleIds"):a.data("payScheduleIds");if(n){return n&&s.length&&String(n).includes(s)}else{return $(e).closest("ba-select").find("ba-option:selected").data("syncing-pay-schedule")===true}}return false}function M(e,t){const a=$(e).closest("form");if(A(e,t)){$(".trax-required",a).not(".requiredWhenTraxSyncing, .workflow-additional-field-required, .requiredWhenVisible").setTraxRequired(true)}else{$(".trax-required.requiredWhenTraxSyncing, .trax-required.workflow-additional-field",a).not(".workflow-additional-field-required").setTraxRequired(false)}}$((function(){jQuery.validator.addClassRules({requiredWhenVisible:{required:function(e){const t=$(e);switch(true){case!C&&t.is("select"):return t.next(".chzn-container").is(":visible");case!C&&$(e).hasClass("chzn-container"):return false;case C&&t.is("select:not(visible)"):return t.closest(".fab-Select").is(":visible");default:return $(e).is(":visible")}}},requiredWhenTraxSyncing:{required:function(e){const t=$(e);if(t.is("select:not(visible)")){return t.closest(".fab-Select").is(":visible")}return $(e).is(":visible")}},validateUrl:{urlHttpOptional:true},"validateUrl-http":{url:true},"validateUrl-https":{urlHttpsRequired:true},validateNumber:{number:true},validateEmployeeNumber:{employeeNumber:true},validatePayrollEmployeeNumber:{digits:true,maxLengthDigits:6,noLeadingZeros:true},creditCardLast4Digits:{digits:true,maxLengthDigits:4},checkEmailExists:{bambooEmailValidator:true,check_email_exists:{url:T(),data:{id:Z(this),userId:$(this).data("userid")}}},validateEmail:{bambooEmailValidator:true},"ssn-field":{regex:"^[0-9]{3}-[0-9]{2}-[0-9]{4}$"},"primary-ssn-field":{check_ssn:{url:E(),data:{id:Z(this),check_field:"ssn",check_action:"checkSSN"}}},"sin-field":{regex:"^[0-9]{3}-[0-9]{3}-[0-9]{3}$"},"primary-sin-field":{check_sin_exists:{url:E(),data:{id:Z(this),check_field:"sin",check_action:"checkSIN"}}},"js-validate-nin":{regex:/^([0-9a-z]{2}\s?){4}\s?[0-9a-z]{1}$/i},"js-validate-overtimeRate-trax":{valueGreaterThanZeroTrax:true,currencyTypeMatchTrax:"USD"},"js-validate-primary-nin":{check_nin_exists:{url:E(),data:{id:Z(this),check_field:"nin",check_action:"checkNIN"}}},"js-validate-national-id":{regex:/^[0-9a-z]{6,16}$/i},"js-validate-primary-national-id":{check_national_id_exists:{url:E(),data:{id:Z(this),check_field:"national_id",friendly_name:"National ID",check_action:"checkNationalID"}}},"js-validate-passport-number":{regex:/^[A-Z0-9]{1,20}$/i,maxlength:20},essRequiredFields:{essRequiredFields:true},"js-validate-inlineEdit":{validateInlineEdit:true},"js-validate-ccNumber":{minlength:13,maxlength:16},"js-validate-todayAndFuture":{todayAndFuture:true},"js-multiSelect-quantityCheck":{multiSelectQuantityCheck:true},"js-validate-ss-required":{validateSelfServiceEmailRequired:true,validateTraxEmailRequired:true},"js-validate-date-field":{validateDateField:true},"js-validate-to-date":{validateDateFrom_to:true},"js-validate-mindate":{validateMinDate:true},"js-validate-maxdate":{validateMaxDate:true},"js-validate-hire-date":{validateDateBetween:{from:"1900-01-01",to:m()().add(3,"y")}},"js-validate-birth-date":{validateDateBetween:{from:"1900-01-01",to:m()()}},"js-validate-smalldate":{validateDateBetween:{from:"1900-01-01",to:"2079-06-06"}},"js-ToggleButton__validate":{validateToggleButton:true},"js-validate-payRate":{validatePayRate:true},"js-validate-payRate-trax":{currencyTypeMatchTrax:"USD"},"js-validate-noEmptyWhitespace":{trimIsNotEmpty:true},"js-validate-directDeposit":{directDepositValidator:true,directDeposit100Validator:true},"js-validate-range-1-5":{smartRange:[1,5]},"js-validate-range-0-24":{smartRange:[0,24]},"js-paySchedule":{check_pay_schedule:{url:E(),data:{action:"checkPayScheduleForEmployee"}}},"js-validate-zip-trax":{validateUSZipTrax:true},"js-validate-salaried-hours-per-week":{validateSalariedHoursPerWeek:true}});$('form.BhrForms:not([bhrvalidate-initiated=true]):not(".js-noValidate"):not(".dynamic-form")').each((function(){$(this).bhrValidate({})}))}));(function(jQuery){const e=jQuery.validator.prototype.resetForm;var $=jQuery;jQuery.fn.bhrValidOnClick=function(){if($(this).valid()&&!$("#footer-buttons .btn").hasClass("disabled")){if(C){document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"))}else{$("#footer-buttons .btn").addClass("disabled processing")}$(this).submit()}};jQuery.validator.prototype.resetForm=function(){e.call(this);this.elements().each(((e,t)=>{jQuery.validator.prototype.resetElement.call(this,t)}))};jQuery.validator.prototype.elements=function(){var e=this,t={};return $(this.currentForm).find(S.join(", ")).not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter((function(){if(!this.name&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in t||!e.objectLength($(this).rules())){return false}t[this.name]=true;return true})).each(k)};jQuery.fn.bhrValidate=function(e,t){var a,s;if(t==undefined){t=x}if($(this).attr("bhrvalidate-initiated")!="true"){$(this).attr("bhrvalidate-initiated","true")}else{$(this).each(((t,a)=>{if(window.BambooHR.env.dev&&a instanceof HTMLFormElement){console.warn(".bhrValidate() called multiple times",e)}}))}if(e==undefined){e={}}$(this).find(".requiredWhenVisible").find(":input:not(.notRequired), ba-select:not(.notRequired)").addClass("requiredWhenVisible");const n=Object.keys($.validator.classRuleSettings)||[];$(this).find("ba-select").each((function(){if(C){const e=Array.from(this.classList);const t=n.filter((t=>e.includes(t)));if(t.length){this.querySelector("select").classList.add(...t)}}k.call(this)}));if(typeof e.customMessages=="undefined"){s={}}else{s=e.customMessages}$(this).find(".checkEmailExists").each((function(){s[$(this).attr("name")]={remote:$.__("This email is already being used.")}}));$(this).find(".ssn-field").each((function(){s[$(this).attr("name")]={remote:jQuery.validator.messages.check_ssn};$(this).attr("data-errorclass","ssn-field--error")}));$(this).find(".sin-field").each((function(){s[$(this).attr("name")]={remote:$.__("There is already an employee with this SIN in the system.")}}));$(this).find(".creditCardLast4Digits").each((function(){s[$(this).attr("name")]={remote:$.__("The field has too many characters.")}}));a={ignore:".ignore",messages:s,errorPlacement:function(e,t){if(C){(0,v.wn)(e,t);return}var a;var s=t.attr("type")=="email"||t.hasClass("validateEmail");var n=t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error");if((s||n)&&e.html()!=jQuery.validator.messages.required){if(t.closest("form").hasClass("newFormDesign")){if(t.siblings(".fieldInfo").length>0){t.siblings(".fieldInfo").addClass("error").html(e.html())}else{t.closest(".fieldDiv").append('<span class="fieldInfo error">'+e.html()+"</span>")}}else if(t.closest("form").hasClass("BhrForms")){a=null;if(t.closest(".fieldRow").find(".fieldBox:visible").length>1){a=t.closest(".fieldRow").find(".fieldBox:last-child")}else{a=t.closest(".fieldBox:visible")}if(a.find(".formNote").length>0){a.find(".formNote").text(e.html()).addClass("error")}else if(a.length===1){a.append('<span class="formNote error">'+e.html()+"</span>")}}}},highlight:function(e){if(e){e.dispatchEvent(new CustomEvent("validation",{bubbles:true,cancelable:true,detail:{isValid:false}}))}if(C){(0,v.s7)(e);return}var t=$(e);var a=t.closest(".fieldBox");var s=t.closest("form");var n=t.closest(".mceWrapper--editor");if(t.is("ba-select")){t.attr("error","")}if(n.length==1){n.addClass("mceWrapper--error")}else{a.addClass("error");t.closest(".fieldGroup").addClass("validate-group-error");if(t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error")){var i=t.attr("data-error-msg")==undefined?$('label[for="'+t.attr("id")+'"]').attr("data-error-msg"):t.attr("data-error-msg");if(i==undefined){return}if(s.hasClass("newFormDesign")){if(a.find(".fieldInfo").length>0){a.find(".fieldInfo").text(i).addClass("error")}else if(t.closest(".fieldDiv").length==1){t.closest(".fieldDiv").append('<span class="fieldInfo error">'+i+"</span>")}else{a.append('<div class="fieldDiv"><span class="fieldInfo error">'+i+"</span></div>")}}else if(s.hasClass("BhrForms")){if(a.find(".formNote").length>0){a.find(".formNote").text(i).addClass("error")}else if(a.length==1){a.append('<span class="formNote error">'+i+"</span>")}}}}},unhighlight:function(e){if(e){e.dispatchEvent(new CustomEvent("validation",{bubbles:true,cancelable:true,detail:{isValid:true}}))}if(C){(0,v.qZ)(e);return}var t=$(e);var a=t.closest(".fieldBox");var s=t.closest(".fieldRow");var n=t.closest(".mceWrapper--editor");if(e&&e.matches("ba-select[error]")){e.removeAttribute("error","")}if(n.length==1){n.removeClass("mceWrapper--error")}else{a.removeClass("error");if(s.find(".fieldBox.error").length==0){s.find(".fieldInfo.error").removeClass("error").empty();s.find(".fieldBox:last-child .formNote.error").removeClass("error").empty();a.find(".formNote.error").removeClass("error").empty()}if(t.closest(".fieldGroup.validate-group-error").find(".error").length==0){t.closest(".fieldGroup").removeClass("validate-group-error")}}},invalidHandler:function(a,s){let n=s.errorList;let i=s.errorMap;if(e.debug){console.log(n)}if(n.length>0){const a=typeof t==="function"?t(n,x):t;let o=$("<div></div>");if(e.debug){console.log(i);n.forEach((e=>console.log(e)))}o.html(a);setMessage(o.html(),"error");s.errorList[0].element.focus();$(".btn.processing").toggleProcessing(false)}},focusInvalid:false,onkeyup:function(e){var t=$(e).attr("id");var a=$(e).attr("name");var s=this.settings.rules[t]==undefined?this.settings.rules[a]:this.settings.rules[t];if(s!=undefined&&s.onkeyup!==false){$.validator.defaults.onkeyup.apply(this,arguments)}},submitHandler:function(t){for(var a=arguments.length,s=new Array(a>1?a-1:0),n=1;n<a;n++){s[n-1]=arguments[n]}if((0,h.isFunction)(e.submitHandler)&&e.submitHandler(t,...s)===false){return}const{ajaxMethod:i}=t.dataset;const r=$(t);const l=r.find(".btn.btnAction");l.toggleProcessing(true);o().request({url:t.action,method:i,data:r.serialize()}).then((e=>{const{success:a,successMessage:s}=e.data||{};if(!a){throw o().createError(e)}const n=!t.dispatchEvent(new CustomEvent("ajaxSubmit",{bubbles:true,cancelable:true,detail:e}));if(n){return}l.toggleProcessing(false);if((0,h.isString)(s)){setMessage(s,"success")}})).catch((e=>{const a=!t.dispatchEvent(new CustomEvent("ajaxSubmitFail",{bubbles:true,cancelable:true,detail:e.response}));if(a){return}let{error:s,errorMessage:n,validationErrors:i}=e.response.data;s=s||e.message||e.response.statusText;console.error(s,e);n=e.response.errorMessage||n||x;if((0,h.isString)(n)){setMessage(n,"error")}l.toggleProcessing(false);if((0,h.isPlainObject)(i)){this.showErrors(i)}}))}};$(this).closest("form").on("submit",(function(){$(this).data("validation-submitting",true)}));let i;$(this).each(((t,s)=>{const n=$(s);let o=n.attr("data-ajax-method");i=n.validate({...a,...e,submitHandler:o?a.submitHandler:e.submitHandler||false})}));$(".required :input:not(.requiredWhenVisible), .required ba-select:not(.requiredWhenVisible)",$(this)).each((function(){$(this).rules("add",{required:true})}));$(".required select:not(.requiredWhenVisible)",$(this)).each((function(){$(this).rules("add",{excludeZero:true})}));$(".required.noZeroAllowed input",$(this)).each((function(){$(this).rules("add",{excludeZero:true})}));$("input[name=uploadValidatorHiddenInput]",$(this)).each((function(){$(this).rules("add",{fileUploader:true})}));$(".visuallyRequired.multipleCheckbox",$(this)).each((function(){var e=$(this).find("input[type=checkbox]").attr("data-checkbox_id")||false;if(e){$("."+e).each((function(){$(this).rules("add",{require_from_group_when_visible:[1,"."+e]})}))}}));$("select.conditionallyRequired, input.conditionallyRequired",$(this)).each((function(){let e=$(this);let t=this.name;let a=$(e.data("conditionally-required-selector"));e.rules("add",{conditionallyRequired:true});a.change((function(){L($('[name="'+t+'"]'),$(this))}));L(e,a)}));$("ba-select.conditionallyRequired",$(this)).each((function(){let e=$(this);let t=this.getAttribute("name");let a=$(this.dataset.conditionallyRequiredSelector);let s=e.find(`select[name='${t}']`);s.rules("add",{conditionallyRequired:true});L(e,a)}));if($(".primaryContact:checked.requiredWhenVisible").length>0){const e=$(".primaryContact:checked.requiredWhenVisible");$(".primaryContact").removeClass("requiredWhenVisible");e.addClass("requiredWhenVisible")}if(!$(this).hasClass("BhrForms--view")){setTimeout((()=>{$(this).initialTraxValidation()}))}$(this).on("change keyup paste",".checkEmailExists",(0,h.debounce)((function(){$(this).valid()}),600)).on("change",".required .chzn-done:not(.customOnChange),.required select[multiple], .required textarea, :input:not(.custom-mce-validation), ba-select:not(.custom-mce-validation)",(function(e){if(!$(this).is("ba-select")){$(this).valid()}})).on("ba:selectChange",(function(e){if(C){const t=e.target.querySelector("select");if(t){window.setTimeout((()=>{$(t).valid()}))}return}window.setTimeout((()=>{$(e.target).valid()}))})).on("invalid-form.bhrValidate",(function(){$(document).trigger(...arguments)}));return i}})(jQuery);jQuery.extend(jQuery.validator.messages,{required:$.__("This field is required."),remote:$.__("Please fix this field."),email:$.__("Invalid email address."),url:$.__("Please enter a valid URL."),urlHttpsRequired:$.__("Please enter a valid HTTPS URL."),date:$.__("Please enter a valid date."),dateField:$.__("Please enter a valid date."),dateISO:$.__("Please enter a valid date (ISO)."),number:$.__("Please enter a valid number or remove any leading zeros."),employeeNumber:$.__("Please enter a valid number."),noLeadingZeros:$.__("Value must not start with a 0."),digits:$.__("Please enter only digits."),creditcard:$.__("Please enter a valid credit card number."),equalTo:$.__("Please enter the same value again."),accept:$.__("Please enter a value with a valid extension."),textOnly:$.__("Please enter a value with only alphabetic characters."),maxLengthDigits:jQuery.validator.format($.__("Please enter no more than %1 digits.","{0}")),maxlength:jQuery.validator.format($.__("Please enter no more than %1 characters.","{0}")),minlength:jQuery.validator.format($.__("Please enter at least %1 characters.","{0}")),rangelength:jQuery.validator.format($.__("Value must be between %1 and %2 characters long.","{0}","{1}")),range:jQuery.validator.format($.__("Value must be between %1 and %2.","{0}","{1}")),max:jQuery.validator.format($.__("Value must be less than or equal to %1.","{0}")),min:jQuery.validator.format($.__("Value must be greater than or equal to %1.","{0}")),require_from_group:jQuery.validator.format($.__("At least %1 of these fields is required.","{0}")),require_from_group_when_visible:jQuery.validator.format($.__("At least %1 of these fields is required.","{0}")),check_email_exists:jQuery.validator.format($.__("This email is already being used.")),check_ssn:jQuery.validator.format(window.SESSION_USER&&window.SESSION_USER.isAdmin?$.__("Oops, this is not a valid SSN or it is a duplicate of another SSN in your account."):$.__("Oops! Double check the numbers you entered. If everything is correct please contact your administrator.")),check_ssn_exists:jQuery.validator.format($.__("This SSN is already being used.")),check_sin_exists:jQuery.validator.format($.__("This SIN is already being used.")),check_nin_exists:jQuery.validator.format($.__("This NIN is already being used.")),check_national_id_exists:jQuery.validator.format($.__("This National ID is already being used.")),greaterThan:jQuery.validator.format($.__("Value must be greater than %1.","{0}")),valueGreaterThanZero:jQuery.validator.format($.__("Value must be greater than 0")),currencyTypeMatch:jQuery.validator.format($.__("Currency must be %1","{0}")),lessThan:jQuery.validator.format($.__("Value must be less than %1.","{0}")),regex:jQuery.validator.format($.__("This value is not valid.")),sameSiblingValue:jQuery.validator.format($.__("These two values cannot be the same.")),sameRowValue:jQuery.validator.format($.__("These values cannot be the same.")),futureDate:jQuery.validator.format($.__("This must be a future date.")),todayAndFuture:jQuery.validator.format($.__("This must be today or a future date.")),fromToDatesOrder:jQuery.validator.format($.__("Beginning date must be before end date.")),minDate:jQuery.validator.format($.__("Please enter a valid date.")),maxDate:jQuery.validator.format($.__("Please enter a valid date.")),isCurrency:jQuery.validator.format($.__("This currency must be %1.","{0}")),isCountryCode:jQuery.validator.format($.__("Only US employees can be included in payroll.","{0}")),isPayType:jQuery.validator.format($.__("Pay type must be hourly or salary to include this employee in payroll.")),USZip:jQuery.validator.format($.__("Please enter a valid US Zip code."))});jQuery.validator.addMethod("bambooEmailValidator",(function(e,t){return this.optional(t)||BambooHR.Utils.validateEmail(e)}),jQuery.validator.messages.email);jQuery.validator.addMethod("check_email_exists",(function(e,t,a){if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}a.data.id=Z(t);a.data.userId=$(t).data("userid");a.data.email=e;a.data.action="checkUserEmail";a.data.validate=true;a.type="POST";return jQuery.validator.methods.remote.call(this,e,t,a)}));jQuery.validator.addMethod("check_ssn",(function(e,t,a){if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}let s=this;if(this.settings.ignoreSSNField){return true}let n={},i=N(t,"select.js-paySchedule");n.url=E();n.data={};n.data.id=Z(t);n.data[a.data.check_field]=e;n.data.action=a.data.check_action;n.type="POST";n.data.validate=true;if(i){n.data.payScheduleListValueId=i.val();t.defaultValue=`nomatch-${window.BambooHR.Utils.makeUid()}`}n.complete=function(a){const n=$(t).data("isInitialValidation");$(t).removeData("isInitialValidation");if(!n&&e==="001-00-0000"&&!s.settings.isNHPPage&&e!==t.defaultValue){(0,g.Ix)()}if((0,d.hasTrax)()&&A(t)){const e=a.responseText==true||a.responseText==="true";I(t,"select.js-paySchedule",s,e)}};return jQuery.validator.methods.remote.call(this,e,t,n)}),jQuery.validator.messages.check_ssn);jQuery.validator.addMethod("check_ssn_exists",(function(e,t,a){if(e==""||e==t.defaultValue){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}let s=this.previousValue(t),n=this;if(this.settings.ignoreField){return true}let i={};i.url=a.url||E();i.data={};i.data.id=$(t).data("employeeid");i.data[a.data.check_field]=e;i.data.action=a.data.check_action;i.data.validate=true;i.type="POST";i.complete=function(){if(n.invalid[t.name]){n.startRequest(t);let e=(a.data.friendly_name||a.data.check_field).toUpperCase();let i=$.__("There is already an employee with this %1 in the system. Are you sure you want to create another one?",e);if(C){const a=window.BambooHR.Modal.isOpen();let o={};let r={dangerousContent:`<div className="ValidationModal">\n\t\t\t\t\t\t\t<span className="ValidationModal__alertIcon">\n\t\t\t\t\t\t\t\t<ba-icon name="triangle-exclamation-12x11"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p className="ValidationModal__message">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>`,primaryAction:()=>{let e=n.formSubmitted;n.prepareElement(t);n.formSubmitted=e;n.successList.push(t);delete n.invalid[t.name];s.valid=true;n.showErrors();n.hideErrors();n.settings.unhighlight.call(n,t,n.settings.errorClass,n.settings.validClass);n.stopRequest(t,true);if(a){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Yes"),isOpen:true,title:$.__("Duplicate %1",e)};if(a){o={isOpen:true,sheetProps:r}}else{o=r}window.BambooHR.Modal.setState(o,a)}else{f.ZP.openModal({footer:{buttons:{primary:{action:function(){let e=n.formSubmitted;n.prepareElement(t);n.formSubmitted=e;n.successList.push(t);delete n.invalid[t.name];s.valid=true;n.showErrors();n.hideErrors();n.settings.unhighlight.call(n,t,n.settings.errorClass,n.settings.validClass);n.stopRequest(t,true);f.ZP.closeModal()},text:$.__("Yes")}},nostack:false,show:true},html:`\n\t\t\t\t\t\t<div class="ValidationModal">\n\t\t\t\t\t\t\t<span class="ValidationModal__alertIcon">\n\t\t\t\t\t\t\t\t<ba-icon name="triangle-exclamation-12x11"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p class="ValidationModal__message">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t`,title:$.__("Duplicate %1",e)})}}};return jQuery.validator.methods.remote.call(this,e,t,i)}));let D=false;jQuery.validator.addMethod("check_pay_schedule",(function(e,t,a){M(t,e);const s=$(".js-validate-payRate-trax, .js-validate-overtimeRate-trax");if(A(t,e)&&s.length>0){s.addClass("syncingScheduleSelected");if(!D){D=true;s.valid()}}else{s.removeClass("syncingScheduleSelected");if(D){s.valid()}D=false}if((0,d.hasTrax)()){if(window.currentlyEditingEmployeeId===0){return true}if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).parents("ba-select").is(":visible")){return true}let s=this.previousValue(t),n=this,i=N(t,".primary-ssn-field");if(i){a.data.ssn=i.val()}a.data.payScheduleId=null;a.data.payScheduleListValueId=e;a.data.id=Z(t);a.data.userId=Z(t);a.data.validate=true;a.type="POST";a.complete=function(a){const i=a.responseText==true||a.responseText==="true";setTimeout((()=>{F(t,e,n,s,i)}),10);if(!i){const e=$(t).parents("ba-select").find("ba-option[selected]").text();(0,g.lF)(e)}I(t,".primary-ssn-field",n,i)};return jQuery.validator.methods.remote.call(this,e,t,a)}return true}));jQuery.validator.addMethod("check_sin_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));jQuery.validator.addMethod("check_nin_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));jQuery.validator.addMethod("check_national_id_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));if(C){jQuery.validator.addMethod("bambooRichText",(function(e,t){const a=$(t).closest(".js-bamboo-rich-text").find(".js-bamboo-rich-text-editor");if(a[0]){const e=window.tinyMCE.get(a.attr("id"));if(e){return!!e.getContent()}}}),jQuery.validator.messages.required)}else{jQuery.validator.addMethod("mceEditor",(function(e,t,a){if(a&&typeof tinyMCE!="undefined"&&$(t).attr("id")&&tinyMCE.get($(t).attr("id"))){return tinyMCE.get($(t).attr("id")).getContent()!=""}}),jQuery.validator.messages.required)}jQuery.validator.addMethod("maxLengthDigits",(function(e,t,a){return e.length<=a}),jQuery.validator.messages.maxLengthDigits);jQuery.validator.addMethod("textOnly",(function(e,t,a){return e.match(/^[A-Za-z .]+$/)}),jQuery.validator.messages.textOnly);jQuery.validator.addMethod("validateUSZip",(function(e,t,a){return(0,c.wU)(e)}),jQuery.validator.messages.USZip);jQuery.validator.addMethod("validateUSZipTrax",(function(e,t,a){const s=this;if(!(0,d.hasTrax)()||t.classList.contains("contact_zip")||!$(t).is(":visible")){return true}const n=$(t).closest("form").find("ba-select.js-paySchedule");const i=n.length>0?n[0].value:null;if(n.length>0){return A(n,i)?jQuery.validator.methods.validateUSZip.call(s,e,t,a):true}if(window.Employee&&window.Employee.payrollSynced){return jQuery.validator.methods.validateUSZip.call(s,e,t,a)}return true}),jQuery.validator.messages.USZip);jQuery.validator.addMethod("currencyTypeMatchTrax",(function(e,t,a){if($(t).syncingPayScheduleSelected()&&(0,d.hasTrax)()){return jQuery.validator.methods.currencyTypeMatch.call(this,e,t,a)}return true}),jQuery.validator.messages.currencyTypeMatch);jQuery.validator.addMethod("currencyTypeMatch",(function(e,t,a){if(!$(t).is(":visible")){return true}let s=$(t).siblings("input.currencyType");if(s.length===0){s=$(t).closest(".fieldRow, .fab-FormRow").find(".js-CurrencyPicker ").find("input.currencyType")}const n=s.length>0?s.val():"";const i=n===a;const{Employee:o={}}=window;const r=o.firstName||"an employee";if(!i){window.setMessage($.__("Oops, please make sure the pay rate is in %1 before adding %2 to a pay schedule that syncs with BambooHR Payroll.",a,r),"error")}return i}),jQuery.validator.messages.currencyTypeMatch);jQuery.validator.addMethod("valueGreaterThanZeroTrax",(function(e,t,a){if($(t).syncingPayScheduleSelected()&&(0,d.hasTrax)()){return jQuery.validator.methods.valueGreaterThanZero.call(this,e,t,a)}return true}),jQuery.validator.messages.valueGreaterThanZero);jQuery.validator.addMethod("valueGreaterThanZero",(function(e,t,a){if(!$(t).is(":visible")){return true}return(0,u.w)(e)>0}),jQuery.validator.messages.valueGreaterThanZero);jQuery.validator.addMethod("noLeadingZeros",(function(e,t,a){return e==""||e.charAt(0)!=0}),jQuery.validator.messages.noLeadingZeros);jQuery.validator.addMethod("fileUploader",(function(e,t,a){return $(t).closest(".attach-wrapper").siblings(".files").find(".file-wrapper.uploadDone").length>0}),$.__("Please upload a file."));jQuery.validator.addMethod("passwordValidate",(function(e,t,a){return t.value.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/)}));jQuery.validator.addMethod("excludeZero",(function(e,t,a){return t.value!=0}));jQuery.validator.addMethod("greaterThan",(function(e,t,a){return t.value>a}),jQuery.validator.messages.greaterThan);jQuery.validator.addMethod("lessThan",(function(e,t,a){return t.value<a}),jQuery.validator.messages.lessThan);jQuery.validator.addMethod("regex",(function(e,t,a){var s=new RegExp(a);return this.optional(t)||s.test(e)}),jQuery.validator.messages.regex);jQuery.validator.addMethod("number",(function(e,t,a){var s=new RegExp(GLOBAL_NUMBER_REGEX);return this.optional(t)||s.test(e)}),jQuery.validator.messages.number);var P=GLOBAL_NUMBER_REGEX.replace("(?!0[0-9])","");jQuery.validator.addMethod("employeeNumber",(function(e,t,a){return this.optional(t)||new RegExp(P).test(e)}),jQuery.validator.messages.employeeNumber);jQuery.validator.addMethod("min",(function(e,t,a){return this.optional(t)||getFloatFromStringJS(e)>=a}),jQuery.validator.messages.min);jQuery.validator.addMethod("max",(function(e,t,a){return this.optional(t)||getFloatFromStringJS(e)<=a}),jQuery.validator.messages.max);jQuery.validator.addMethod("urlHttpOptional",(function(e,t,a){return this.optional(t)||/^((https?|s?ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.url);jQuery.validator.addMethod("urlHttpsRequired",(function(e,t,a){return this.optional(t)||/^((https):\/\/)(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.urlHttpsRequired);jQuery.validator.addMethod("essRequiredFields",(function(e,t,a){var s=false;if($(".checkEmailExists").length>0){$(".checkEmailExists").each((function(e,t){if($(t).val()!==""&&validateEmail($(t).val())){s=true}}))}var n;if(typeof n=="undefined"){n="Active"}var i=$(".employee-status-field").val()||n;return s&&i==="Active"||!t.checked}));jQuery.validator.addMethod("sameSiblingValue",(function(e,t,a){let s=$(t);let n=s.siblings(a);if(s.closest(".fieldBox").is(":hidden")&&n.closest(".fieldBox").is(":hidden")){return true}let i=n.val();return e!==i}),jQuery.validator.messages.sameSiblingValue);jQuery.validator.addMethod("sameRowValue",(function(e,t,a){const s=".formRow, .fab-FormRow";const n=".fieldBox, fab-FormField";const i=$(t);const o=i.closest(s);const r=o.find(a);if(i.closest(n).is(":hidden")&&r.closest(n).is(":hidden")){return true}return i.val()!==r.val()}),jQuery.validator.messages.sameRowValue);function L(e,t){if(t[0]&&t[0].tagName==="BA-SELECT"){const a=e[0];const s=a.querySelector("select");const n=s?s.value:"";const i=t[0].querySelector("select").value;const o=e.data("conditionally-required-values")?e.data("conditionally-required-values").split(",").indexOf(i)>=0:false;return!e.is(":visible")||!o||n.length>0}let a=e.closest(".fieldBox");let s=e.data("conditionally-required-values")?e.data("conditionally-required-values").split(",").indexOf(t.val())>=0:false;a.removeClass("error");if(s){a.addClass("required")}else{a.removeClass("required")}return!a.is(":visible")||!s||e.val().length>0}jQuery.validator.addMethod("conditionallyRequired",(function(e,t){const a=C&&t.tagName==="SELECT"?$(t).closest("ba-select"):$(t);return L(a,$(a.data("conditionally-required-selector")))}));jQuery.validator.addMethod("futureDate",(function(e,t,a){if(!$(t).is(":visible")){return true}var s=new Date;var n=s.getFullYear();var i=$(a.monthSelector).val();var o=$(a.yearSelector).val();var r=i>=1&&i<=12&&o>=n&&o<n+20&&(o==n?i>=s.getMonth()+1:true);if(r){}return r}),jQuery.validator.messages.futureDate);jQuery.validator.addMethod("todayAndFuture",(function(e,t,a){if(e==$(t).attr("placeholder")){return true}var s=new Date;var n=new Date($(t).val());s.setHours(0,0,0,0);return this.optional(t)||n>=s}),jQuery.validator.messages.todayAndFuture);jQuery.validator.addMethod("multiSelectQuantityCheck",(function(e,t,a){return e.length>=$(t).attr("data-quantity-required")}));jQuery.validator.addMethod("validateSelfServiceEmailRequired",(function(e,t,a){var s=$(".ess-field").length>=1&&$(".ess-field:checked").val()=="enabled";if(s){var n=0;$(".js-validate-ss-required").each((function(e,t){if(t.value!=""){n++}}));return n>0}return true}),"");jQuery.validator.addMethod("validateTraxEmailRequired",(function(e,t,a){var s=(0,d.hasTrax)();if(s){var n=0;$(".js-validate-ss-required").each((function(e,t){if(t.value!=""){n++}}));return n>0}return true}),"");jQuery.validator.addMethod("validateDateFrom_to",(function(e,t){var a=$(t);if(a.val()===""){return true}var s=m().$(a),n=m().$("input.js-validate-from-date[data-calendar-id="+a.data("calendarId")+"]");return s.isValid()&&n.isValid()&&s.isAfter(n,"day")}),jQuery.validator.messages.fromToDatesOrder);jQuery.validator.addMethod("validateToggleButton",(function(e,t){var a=$(t).closest(".fieldDiv");if(a.find(".currency-field").val()==""&&a.find(".percent-field").val()==""){return false}return true}));jQuery.validator.addMethod("validateInlineEdit",(function(e,t){if(!$(t).closest('[saving-inline="true"]').length){return false}return jQuery.validator.methods.required.apply(this,arguments)}));jQuery.validator.addMethod("validateDateField",(function(e,t,a){return e===""||m().$(t).isValid()}),jQuery.validator.messages.dateField);jQuery.validator.addMethod("validateMinDate",(function(e,t){var a=$(t),s=m().$(t),n=m()(a.data("mindate")||a.datepicker("option","minDate"));return s.isValid()&&s.isSameOrAfter(n,"day")}),jQuery.validator.messages.minDate);jQuery.validator.addMethod("validateMaxDate",(function(e,t){var a=$(t),s=m().$(t),n=m()(a.data("maxdate")||a.datepicker("option","maxDate"));return s.isValid()&&s.isSameOrBefore(n,"day")}),jQuery.validator.messages.maxDate);jQuery.validator.addMethod("validateDateBetween",(function(e,t,a){return this.optional(t)||m().$(t).isBetween(a.from,a.to,null,"[]")}));jQuery.validator.addMethod("validateCalendarPicker",(function(e,t){var a=$(this.currentForm);var s=$(t);var n;var i=true;var o=s.closest("[calendar-picker]").data("calendarPicker");if(!o||!(s.is(o.$start)||s.is(o.$end))){throw new Error("You're trying to validate an input that is not part of a Calendar Picker")}if(!s.val().trim()&&!o.isValid()&&(o.isDirty()||a.data("validation-submitting"))){i=false}i=i&&o.isValid(t);s.data("cp-invalid",!i);n=s.is(o.$start)?o.$end:o.$start;if(i&&n&&n.data("cp-invalid")){setTimeout(function(){this.element(n)}.bind(this))}return i}),(function(e,t){var a=$(t);var s=a.closest("[calendar-picker]").data("calendarPicker");var n=s.validate(t)[0];var i="";if(!n){return}switch(n.code){case"BEFORE_MIN":i=$.__("%s is before the earliest allowed date",t.value);break;case"AFTER_MAX":i=$.__("%s is after the last allowed date",t.value);break;case"OUT_OF_BOUNDS":i=$.__("%s is outside of the allowed date range",t.value);break}if(!n.code&&s.isDirty()&&!a.val().trim()){i=$.__("A calendar field is missing")}return i}));jQuery.validator.addMethod("require_from_group_when_visible",(function(e,t,a){var s=$(t).closest(a[2])[0]||t;return!$(s).is(":visible")||jQuery.validator.methods.require_from_group.call(this,e,t,a)}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("Compensation_TraxConditionalRequire",(function(e,t,a){var s=$(t).closest("form");var n=["rate[0]","paidPer","payGroup","payPeriod","payType","exempt"];var i=n.map((function(e){return'[name="'+e+'"]'}));var o=false;s.find(i.join(", ")).each((function(e,t){if($(t).val()){o=true}}));return!!e||!o}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("validatePayRate",(function(e,t,a){var s=$(t).closest("form");var n=s.find('[name="rate[0]"]').val();var i=s.find('[name="paidPer"]').val();return e||!n&&!i}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("isCurrency",(function(e,t,a){var s=$(t).closest(".CurrencyPicker").find("input.js-currency-picker-type");if(_.isString(a)){a=[a]}return _.includes(a,s.val())}),jQuery.validator.messages.isCurrency);jQuery.validator.addMethod("isPayType",(function(e,t){var a=$(t);return a.val()=="Hourly"||a.val()=="Salary"}),jQuery.validator.messages.isPayType);jQuery.validator.addMethod("isCountryCode",(function(e,t,a){var s=$(t);if(_.isString(a)){a=[a]}return _.includes(a,s.val())}),jQuery.validator.messages.isCountryCode);jQuery.validator.addMethod("trimIsNotEmpty",(function(e){if(e.length>0){return e.trim().length!==0}return true}),jQuery.validator.messages.remote);jQuery.validator.addMethod("smartRange",(function(e,t,a){const[s,n]=a;const i=window.getFloatFromStringJS(e);return i>=s&&i<=n}),jQuery.validator.messages.range);jQuery.validator.addMethod("directDepositValidator",(function(e,t,a){if(e.indexOf("%")>=0&&e.match(/\d+/)[0]>=100){return $(t).closest(".js-DirectDepositCard").is(":last-child")}return true}));jQuery.validator.addMethod("directDeposit100Validator",(function(e,t,a){return!(e.indexOf("%")>=0&&e.match(/\d+/)[0]>100)}));jQuery.validator.addMethod("timeOffTypeNameValidator",(function(e,t,a){return!a.error}));jQuery.validator.addMethod("validateSalariedHoursPerWeek",((e,t)=>{const a=t.dataset.validationAllowEmpty==="true";return w(e,a)}))},18075:(e,t,a)=>{"use strict";a.d(t,{qZ:()=>u,s7:()=>d,wn:()=>c});var $=a(26570);var jQuery=a(26570);const s=`fab-Label--error`;const n=`fab-CheckboxGroup__legend--error`;const i=`fab-RadioGroup__legend--error`;const o='[class*="fab-FormNote--"]:not(.js-fab-FormNote-ignore)';const r=".js-fab-FormNote-toggle";const l=["input","textarea","ba-select"];const c=(e,t)=>{const a=t[0];const s=t.attr("type")=="email"||t.hasClass("validateEmail");const n=t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error");if((s||n)&&e.html()!=jQuery.validator.messages.required){if(t.closest("form").hasClass("BhrForms")){const s=v(a).parentNode;let n=s.querySelector(o);if(!n){n=document.createElement("span");n.innerText=e.html();s.insertAdjacentElement("beforeend",n)}n.className="fab-FormNote fab-FormNote--error "+(t.attr("data-errorclass")||"");n.innerHTML=e.html()}}};const d=e=>{switch(e.nodeName){case"INPUT":if(y(e)){break}else if(e.classList.contains("js-rich-text-hidden-input")){const t=e.closest(".BambooRichText");if(t){t.classList.add("BambooRichText--error")}}else if(e.classList.contains("js-validate-ss-required")&&$(e).closest(".fieldGroup").hasClass("oneEmailRequired")){$(e).closest(".fieldGroup").addClass("oneEmailRequired--error")}else{e.classList.add("fab-TextInput--error")}break;case"TEXTAREA":e.classList.add("fab-Textarea--error");break;case"BA-SELECT":return false;default:}p(e,true);h(e)};const u=e=>{switch(e.nodeName){case"INPUT":if(y(e)){break}else if(e.classList.contains("js-rich-text-hidden-input")){const t=e.closest(".BambooRichText");if(t){t.classList.remove("BambooRichText--error")}}else if(e.classList.contains("js-validate-ss-required")&&$(e).closest(".fieldGroup").hasClass("oneEmailRequired")){$(e).closest(".fieldGroup").removeClass("oneEmailRequired--error")}else{e.classList.remove("fab-TextInput--error")}break;case"TEXTAREA":e.classList.remove("fab-Textarea--error");break;default:}p(e,false);h(e,true);const t=e.closest(".fieldRow")||e.closest(".fab-FormRow");let a;if(t){a=t.querySelector(o)}if(a){a.parentNode.removeChild(a)}};const h=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=m(e);if(a){if(t){return f(a)}g(a)}};const p=(e,t)=>{const a=e.closest(".fieldRow")||e.closest(".fab-FormRow");let s;if(a){s=a.querySelector(r)}if(s){if(t){s.style.display="none"}else{s.style.display=""}}};const m=e=>{if(y(e)){const t=e.closest(".fab-CheckboxGroup")||e.closest(".fab-RadioGroup");if(t){const e=t.querySelector("legend");if(e){return e}}}if(e.id){const t=document.querySelector(`.fab-Label[for="${e.id}"]`);if(t){return t}}const t=e.closest(".fieldBox")||e.closest(".fab-FormColumn");if(t){return t.querySelector(".fab-Label")}return e.parentNode.querySelector(".fab-Label")};const f=e=>{if(e){e.classList.remove(b(e))}};const g=e=>{if(e){e.classList.add(b(e))}};const v=e=>{const t=e.closest(".fieldRow")||e.closest(".fab-FormRow");const a=t.querySelectorAll(l.join());let s=a[a.length-1];if(s&&s.parentNode.classList.contains("fab-InputWrapper")){s=s.parentNode}if(s.className.includes("masked")){s=t.children[0]}return s};function y(e){let{type:t}=e;return t==="checkbox"||t==="radio"}function b(e){if(e.classList.contains("fab-CheckboxGroup__legend")){return n}else if(e.classList.contains("fab-RadioGroup__legend")){return i}return s}},53509:(e,t,a)=>{var jQuery=a(26570);(function($){$.extend($.fn,{validate:function(e){if(!this.length){if(e&&e.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var t=$.data(this[0],"validator");if(t){return t}this.attr("novalidate","novalidate");t=new $.validator(e,this[0]);$.data(this[0],"validator",t);if(t.settings.onsubmit){this.validateDelegate(":submit","click",(function(e){if(t.settings.submitHandler){t.submitButton=e.target}if($(e.target).hasClass("cancel")){t.cancelSubmit=true}if($(e.target).attr("formnovalidate")!==undefined){t.cancelSubmit=true}}));this.submit((function(e){if(t.settings.debug){e.preventDefault()}function a(){var a;if(t.settings.submitHandler){if(t.submitButton){a=$("<input type='hidden'/>").attr("name",t.submitButton.name).val($(t.submitButton).val()).appendTo(t.currentForm)}t.settings.submitHandler.call(t,t.currentForm,e);if(t.submitButton){a.remove()}return false}return true}if(t.cancelSubmit){t.cancelSubmit=false;return a()}if(t.form()){if(t.pendingRequest){t.formSubmitted=true;return false}return a()}else{t.focusInvalid();return false}}))}return t},valid:function(){var e,t;if($(this[0]).is("form")){e=this.validate().form()}else{e=true;t=$(this[0].form).validate();this.each((function(){e=t.element(this)&&e}))}return e},removeAttrs:function(e){var t={},a=this;$.each(e.split(/\s/),(function(e,s){t[s]=a.attr(s);a.removeAttr(s)}));return t},rules:function(e,t){var a=this[0],s,n,i,o,r,l;if(e){s=$.data(a.form,"validator").settings;n=s.rules;i=$.validator.staticRules(a);switch(e){case"add":$.extend(i,$.validator.normalizeRule(t));delete i.messages;n[a.name]=i;if(t.messages){s.messages[a.name]=$.extend(s.messages[a.name],t.messages)}break;case"remove":if(!t){delete n[a.name];return i}l={};$.each(t.split(/\s/),(function(e,t){l[t]=i[t];delete i[t];if(t==="required"){$(a).removeAttr("aria-required")}}));return l}}o=$.validator.normalizeRules($.extend({},$.validator.classRules(a),$.validator.attributeRules(a),$.validator.dataRules(a),$.validator.staticRules(a)),a);if(o.required){r=o.required;delete o.required;o=$.extend({required:r},o);$(a).not("[data-no-jquery-aria-required]").attr("aria-required","true")}if(o.remote){r=o.remote;delete o.remote;o=$.extend(o,{remote:r})}return o}});$.extend($.expr[":"],{blank:function(e){return!$.trim(""+$(e).val())},filled:function(e){return!!$.trim(""+$(e).val())},unchecked:function(e){return!$(e).prop("checked")}});$.validator=function(e,t){this.settings=$.extend(true,{},$.validator.defaults,e);this.currentForm=t;this.init()};$.validator.format=function(e,t){if(arguments.length===1){return function(){var t=$.makeArray(arguments);t.unshift(e);return $.validator.format.apply(this,t)}}if(arguments.length>2&&t.constructor!==Array){t=$.makeArray(arguments).slice(1)}if(t.constructor!==Array){t=[t]}$.each(t,(function(t,a){e=e.replace(new RegExp("\\{"+t+"\\}","g"),(function(){return a}))}));return e};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(e){this.lastActive=e;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(e)).hide()}},onfocusout:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))){this.element(e)}},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)===""){return}else if(e.name in this.submitted||e===this.lastElement){this.element(e)}},onclick:function(e){if(e.name in this.submitted){this.element(e)}else if(e.parentNode.name in this.submitted){this.element(e.parentNode)}},highlight:function(e,t,a){if(e.type==="radio"){this.findByName(e.name).addClass(t).removeClass(a)}else{$(e).addClass(t).removeClass(a)}},unhighlight:function(e,t,a){if(e.type==="radio"){this.findByName(e.name).removeClass(t).addClass(a)}else{$(e).removeClass(t).addClass(a)}}},setDefaults:function(e){$.extend($.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=this.groups={},t;$.each(this.settings.groups,(function(t,a){if(typeof a==="string"){a=a.split(/\s/)}$.each(a,(function(a,s){e[s]=t}))}));t=this.settings.rules;$.each(t,(function(e,a){t[e]=$.validator.normalizeRule(a)}));function a(e){if(t){var t=$.data(this[0].form,"validator"),a="on"+e.type.replace(/^validate/,""),s=t.settings;if(s[a]&&!this.is(s.ignore)){s[a].call(t,this[0],e)}}}$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",a);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}$(this.currentForm).find("[required], [data-rule-required], .required").not("[data-no-jquery-aria-required]").attr("aria-required","true")},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++){this.check(t[e])}return this.valid()},element:function(e){var t=this.clean(e),a=this.validationTargetFor(t),s=true;this.lastElement=a;if(a===undefined){delete this.invalid[t.name]}else{this.prepareElement(a);this.currentElements=$(a);s=this.check(a)!==false;if(s){delete this.invalid[a.name]}else{this.invalid[a.name]=true}}$(e).attr("aria-invalid",!s);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return s},showErrors:function(e){if(e){$.extend(this.errorMap,e);this.errorList=[];for(var t in e){this.errorList.push({message:e[t],element:this.findByName(t)[0]})}this.successList=$.grep(this.successList,(function(t){return!(t.name in e)}))}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},resetElement:function(e){this.errorList=this.errorList.filter((t=>t.element!==e));delete this.errorMap[e.name];delete this.submitted[e.name];this.settings.unhighlight(e)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,a;for(a in e){t++}return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var e=this.lastActive;return e&&$.grep(this.errorList,(function(t){return t.element.name===e.name})).length===1&&e},elements:function(){var e=this,t={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter((function(){if(!this.name&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in t||!e.objectLength($(this).rules())){return false}t[this.name]=true;return true}))},clean:function(e){return $(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(e){var t,a=$(e),s=a.attr("type");if(s==="radio"||s==="checkbox"){return $("input[name='"+a.attr("name")+"']:checked").val()}t=a.val();if(typeof t==="string"){return t.replace(/\r/g,"")}return t},check:function(e){e=this.validationTargetFor(this.clean(e));var t=$(e).rules(),a=$.map(t,(function(e,t){return t})).length,s=false,n=this.elementValue(e),i,o,r;for(o in t){r={method:o,parameters:t[o]};try{i=$.validator.methods[o].call(this,n,e,r.parameters);if(i==="dependency-mismatch"&&a===1){s=true;continue}s=false;if(i==="pending"){this.toHide=this.toHide.not(this.errorsFor(e));return}if(!i){this.formatAndAdd(e,r);return false}}catch(t){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t)}throw t}}if(s){return}if(this.objectLength(t)){this.successList.push(e)}return true},customDataMessage:function(e,t){return $(e).data("msg"+t[0].toUpperCase()+t.substring(1).toLowerCase())||$(e).data("msg")},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||undefined,$.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var a=this.defaultMessage(e,t.method),s=/\$?\{(\d+)\}/g;if(typeof a==="function"){a=a.call(this,t.parameters,e)}else if(s.test(a)){a=$.validator.format(a.replace(s,"{$1}"),t.parameters)}this.errorList.push({message:a,element:e,method:t.method});this.errorMap[e.name]=a;this.submitted[e.name]=a},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){var e,t,a;for(e=0;this.errorList[e];e++){a=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(a.element,a.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,t=this.validElements();t[e];e++){this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map((function(){return this.element}))},showLabel:function(e,t){var a=this.errorsFor(e);if(a.length){a.removeClass(this.settings.validClass).addClass(this.settings.errorClass);a.html(t)}else{a=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(t||"");if(this.settings.wrapper){a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(a).length){if(this.settings.errorPlacement){this.settings.errorPlacement(a,$(e))}else{a.insertAfter(e)}}}if(!t&&this.settings.success){a.text("");if(typeof this.settings.success==="string"){a.addClass(this.settings.success)}else{this.settings.success(a,e)}}this.toShow=this.toShow.add(a)},errorsFor:function(e){var t=this.idOrName(e);return this.errors().filter((function(){return $(this).attr("for")===t}))},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){if(this.checkable(e)){e=this.findByName(e.name).not(this.settings.ignore)[0]}return e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return $(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return $("option:selected",t).length;case"input":if(this.checkable(t)){return this.findByName(t.name).filter(":checked").length}}return e.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):true},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!$(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!$.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=true}},stopRequest:function(e,t){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[e.name];if(t&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false}else if(!t&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(e){return $.data(e,"previousValue")||$.data(e,"previousValue",{old:null,valid:true,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(e,t){if(e.constructor===String){this.classRuleSettings[e]=t}else{$.extend(this.classRuleSettings,e)}},classRules:function(e){var t={},a=$(e).attr("class");if(a){$.each(a.split(" "),(function(){if(this in $.validator.classRuleSettings){$.extend(t,$.validator.classRuleSettings[this])}}))}return t},attributeRules:function(e){var t={},a=$(e),s=e.getAttribute("type"),n,i;for(n in $.validator.methods){if(n==="required"){i=e.getAttribute(n);if(i===""){i=true}i=!!i}else{i=a.attr(n)}if(/min|max/.test(n)&&(s===null||/number|range|text/.test(s))){i=Number(i)}if(i||i===0){t[n]=i}else if(s===n&&s!=="range"){t[n]=true}}if(t.maxlength&&/-1|2147483647|524288/.test(t.maxlength)){delete t.maxlength}return t},dataRules:function(e){var t,a,s={},n=$(e);for(t in $.validator.methods){a=n.data("rule"+t[0].toUpperCase()+t.substring(1).toLowerCase());if(a!==undefined){s[t]=a}}return s},staticRules:function(e){var t={},a=$.data(e.form,"validator");if(a.settings.rules){t=$.validator.normalizeRule(a.settings.rules[e.name])||{}}return t},normalizeRules:function(e,t){$.each(e,(function(a,s){if(s===false){delete e[a];return}if(s.param||s.depends){var n=true;switch(typeof s.depends){case"string":n=!!$(s.depends,t.form).length;break;case"function":n=s.depends.call(t,t);break}if(n){e[a]=s.param!==undefined?s.param:true}else{delete e[a]}}}));$.each(e,(function(a,s){e[a]=$.isFunction(s)?s(t):s}));$.each(["minlength","maxlength"],(function(){if(e[this]){e[this]=Number(e[this])}}));$.each(["rangelength","range"],(function(){var t;if(e[this]){if($.isArray(e[this])){e[this]=[Number(e[this][0]),Number(e[this][1])]}else if(typeof e[this]==="string"){t=e[this].split(/[\s,]+/);e[this]=[Number(t[0]),Number(t[1])]}}}));if($.validator.autoCreateRanges){if(e.min&&e.max){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength&&e.maxlength){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}return e},normalizeRule:function(e){if(typeof e==="string"){var t={};$.each(e.split(/\s/),(function(){t[this]=true}));e=t}return e},addMethod:function(e,t,a){$.validator.methods[e]=t;$.validator.messages[e]=a!==undefined?a:$.validator.messages[e];if(t.length<3){$.validator.addClassRules(e,$.validator.normalizeRule(e))}},methods:{required:function(e,t,a){if(!this.depend(a,t)){return"dependency-mismatch"}if(t.nodeName.toLowerCase()==="select"){var s=$(t).val();if(t.hasAttribute("data-has-default-value")){return false}return s&&s.length>0}if(this.checkable(t)){return this.getLength(e,t)>0}return $.trim(e).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(e)){return false}var a=0,s=0,n=false,i,o;e=e.replace(/\D/g,"");if(e.length<13||e.length>19){return false}for(i=e.length-1;i>=0;i--){o=e.charAt(i);s=parseInt(o,10);if(n){if((s*=2)>9){s-=9}}a+=s;n=!n}return a%10===0},minlength:function(e,t,a){var s=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||s>=a},maxlength:function(e,t,a){var s=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||s<=a},rangelength:function(e,t,a){var s=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||s>=a[0]&&s<=a[1]},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||e<=a},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},equalTo:function(e,t,a){var s=$(a);if(this.settings.onfocusout){s.unbind(".validate-equalTo").bind("blur.validate-equalTo",(function(){$(t).valid()}))}return e===s.val()},remote:function(e,t,a){if(this.optional(t)){return"dependency-mismatch"}var s=this.previousValue(t),n,i;if(!this.settings.messages[t.name]){this.settings.messages[t.name]={}}s.originalMessage=this.settings.messages[t.name].remote;this.settings.messages[t.name].remote=s.message;a=typeof a==="string"&&{url:a}||a;if(s.old===e){return s.valid}s.old=e;n=this;this.startRequest(t);i={};i[t.name]=e;$.ajax($.extend(true,{url:a,mode:"abort",port:"validate"+t.name,dataType:"json",data:i,context:n.currentForm,success:function(i){var o=i===true||i==="true",r,l,c;if(i===null&&a?.data?.action!==undefined){window.Rollbar.info("EE Validation: limit has been met!",{action:a?.data?.action})}n.settings.messages[t.name].remote=s.originalMessage;if(o){c=n.formSubmitted;n.prepareElement(t);n.formSubmitted=c;n.successList.push(t);delete n.invalid[t.name];n.showErrors()}else{r={};l=i||n.defaultMessage(t,"remote");r[t.name]=s.message=$.isFunction(l)?l(e):l;n.invalid[t.name]=true;n.showErrors(r)}s.valid=o;n.stopRequest(t,o)}},a));return"pending"}}});$.format=function e(){throw"$.format has been deprecated. Please use $.validator.format instead."}})(jQuery);(function($){var e={},t;if($.ajaxPrefilter){$.ajaxPrefilter((function(t,_,a){var s=t.port;if(t.mode==="abort"){if(e[s]){e[s].abort()}e[s]=a}}))}else{t=$.ajax;$.ajax=function(a){var s=("mode"in a?a:$.ajaxSettings).mode,n=("port"in a?a:$.ajaxSettings).port;if(s==="abort"){if(e[n]){e[n].abort()}e[n]=t.apply(this,arguments);return e[n]}return t.apply(this,arguments)}}})(jQuery);(function($){$.extend($.fn,{validateDelegate:function(e,t,a){return this.bind(t,(function(t){var s=$(t.target);if(s.is(e)){return a.apply(s,arguments)}}))}})})(jQuery)},68183:function(e,t){var a,s,n;(function(i,o){if(true){!(s=[],a=o,n=typeof a==="function"?a.apply(t,s):a,n!==undefined&&(e.exports=n))}else{}})(this,(function(){var e={};function t(t){var a=e[t];if(!a){var s="var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/\\(?=[^\*]*\*!)/g,"\t").split("\\").join("\\\\").split("\t").join("\\").replace(/'(?=[^\*]*\*!)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/!\*=raw *(.+?);* *\*!/g,"',$1,'").replace(/!\*=html *(.+?);* *\*!/g,"',window.BambooHR.Utils.sanitizeHtml($1),'").replace(/!\*= *(.+?);* *\*!/g,"',window.microTemplate.encodeHtml($1),'").split("!*").join("');").split("*!").join("\np.push('")+"');}return p.join('');";a=new Function("obj","microTemplate",s);e[t]=a}return a}function a(e){let s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof e==="function"){return e(s,a)}return t(e)(s,a)}a.encodeHtml=function(e){if(/[<>'"&]/.test(e)){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return e};a.decodeHtml=function(e){var t=document.createElement("div");t.innerHTML=String(e);var a=t.childNodes[0];return a?a.nodeValue:""};a.escapeQuotes=function(e){return String(e).replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")};a.compiler=t;return a}))},51341:(e,t,a)=>{"use strict";var s=a(82543);var n=a.n(s);var i=a(51154);var o=a.n(i);var $=a(26570);var r=n().localeData(),l=r._calendar.nextWeek,c=r._longDateFormat.LL;if(!window.BambooHR.env.dev){n().suppressDeprecationWarnings=true}function d(e){return!!(e&&e.constructor&&e.call&&e.apply)}function u(e){var t,a=l,s=c;if(d(a)){a=a.apply(this,arguments)}if(d(s)){s=s.apply(this,arguments)}t=s.replace(/M+/,"MMM");if(this.isSame(e,"year")){t=t.replace(/[^MD]+Y+[^MD]+/,"")}return a.replace(/^[^d]*d+/,t)}n().locale(r._abbr,{calendar:$.extend(r._calendar,{lastWeek:u,nextWeek:u,sameElse:u})});$("[ba-date]").observe((function(){var e=$(this),t=e.text().trim(),a=e.attr("ba-date"),s=e.attr("ba-date-format-type"),i=e.attr("ba-date-tz"),o=e.data("ba-date")||n().utc(t),r;o=i&&i.toLowerCase()=="utc"?o.utc():o.local();if(a&&s){Object.keys(n().convert).some((function(e){if(e.toLowerCase()===s.toLowerCase()){a=n().convert[e](a);return true}}))}r=a?o.format(a):o.calendar();e.text(r).data("ba-date",o).addClass("ba-date-loaded")}));n().fn.isWeekend=function(){return this.isoWeekday()>=6};n().convert={};(function(){var e={jQuery:{dd:"DD",d:"D",oo:"DDDD",o:"DDD",DD:"dddd",D:"ddd",mm:"MM",m:"M",MMM:"MMM",MM:"MMMM",M:"MMM",yyyy:"YYYY",yy:"YYYY",y:"YY","@":"X","!":"[!]"},PHP:{d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:function(){return"["+this.format("Do").replace(/\d*/g,"")+"]"},w:"d",z:function(){return this.format("DDD")-1},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:function(){return this.daysInMonth()},L:function(){return this.isLeapYear()?1:0},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B:function(){var e=this.clone().utc(),t=(e.hours()+1)%24+e.minutes()/60+e.seconds()/3600;return Math.floor(t*1e3/24)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"[u]",e:"[e]",I:function(){return this.isDST()?1:0},O:"ZZ",P:"Z",T:"[T]",Z:function(){return parseInt(this.format("ZZ"),10)*36},c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"}};Object.keys(e).forEach((function(t){var a=new RegExp(Object.keys(e[t]).join("|"),"g");n().convert[t]=function(s){var n=this;return(s||"").replace(a,(function(a){return typeof e[t][a]==="function"?e[t][a].call(n):e[t][a]}))}}))})();n().defaultFormat=n().convert.jQuery(window.GLOBAL_DATEPICKER_MASK)||"MM/DD/YYYY";function h(e){switch(e){case"DD MMM YYYY":return"DD MMM";case"YYYY-MM-DD":return"MM-DD";case"DD/MM/YYYY":return"DD/MM";case"MM/DD/YYYY":default:return"MM/DD"}}n().shortFormat=h(n().defaultFormat);n().$=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;e=$(e).first();const a=e.datepicker("option","dateFormat");const s=a?n().convert.jQuery(a):n().defaultFormat;return n()(e.val(),s,t)};t["Z"]=n()},28294:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var $=a(26570);function s(e,t,s){return Promise.all([new Promise(((t,a)=>{$.get(e).then(t,a)})),a.e(8509).then(a.bind(a,35272))]).then((e=>{let[a,n]=e;const{bambooHRPdfViewer:i}=n;if(window.PDFViewer){window.PDFViewer._initialize(a,t,s)}else{window.PDFViewer=new i(a,t,s)}}))}},76046:(e,t,a)=>{"use strict";var s=a(14186);var n=a.n(s);var i=a(20982);var o=a.n(i)},14186:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var jQuery=__webpack_require__(26570);var moment=__webpack_require__(82543);var $=__webpack_require__(26570);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"sort-descending",cssDesc:"sort-ascending",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};var sortWrapper;function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}this.benchmark=benchmark;function log(e){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(e)}else{alert(e)}}function buildParserCache(e,t){if(e.config.debug){var a=""}if(e.tBodies.length==0)return;var s=e.tBodies[0].rows;if(s[0]){var n=[],i=s[0].cells,o=i.length;for(var r=0;r<o;r++){var l=false;if($.metadata&&$(t[r]).metadata()&&$(t[r]).metadata().sorter){l=getParserById($(t[r]).metadata().sorter)}else if(e.config.headers[r]&&e.config.headers[r].sorter){l=getParserById(e.config.headers[r].sorter)}if(!l){l=detectParserForColumn(e,s,-1,r)}if(e.config.debug){a+="column:"+r+" parser:"+l.id+"\n"}n.push(l)}}if(e.config.debug){log(a)}return n}function detectParserForColumn(e,t,a,s){var n=parsers.length,i=false,o=false,r=true;while(o==""&&r){a++;if(t[a]){i=getNodeFromRowAndCellIndex(t,a,s);o=trimAndGetNodeText(e.config,i);if(e.config.debug){log("Checking if value was empty on row:"+a)}}else{r=false}}for(var l=1;l<n;l++){if(parsers[l].is(o,e,i)){return parsers[l]}}return parsers[0]}function getNodeFromRowAndCellIndex(e,t,a){return e[t].cells[a]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){var t=parsers.length;for(var a=0;a<t;a++){if(parsers[a].id.toLowerCase()==e.toLowerCase()){return parsers[a]}}return false}function buildCache(e){if(e.config.debug){var t=new Date}var a=e.tBodies[0]&&e.tBodies[0].rows.length||0,s=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,n=e.config.parsers,i={row:[],normalized:[]};for(var o=0;o<a;++o){var r=$(e.tBodies[0].rows[o]),l=[];if(r.hasClass(e.config.cssChildRow)){i.row[i.row.length-1]=i.row[i.row.length-1].add(r);continue}i.row.push(r);for(var c=0;c<s;++c){l.push(n[c].format(getElementText(e.config,r[0].cells[c]),e,r[0].cells[c]))}l.push(i.normalized.length);i.normalized.push(l);l=null}if(e.config.debug){benchmark("Building cache for "+a+" rows:",t)}return i}function getElementText(e,t){var a="";if(!t)return"";if(!e.supportsTextContent)e.supportsTextContent=t.textContent||false;if(e.textExtraction=="simple"){if(e.supportsTextContent){a=t.textContent}else{if(t.childNodes[0]&&t.childNodes[0].hasChildNodes()){a=t.childNodes[0].innerHTML}else{a=t.innerHTML}}}else{if(typeof e.textExtraction=="function"){a=e.textExtraction(t)}else{a=$(t).text()}}return a}function appendToTable(e,t){if(e.config.debug){var a=new Date}var s=t,n=s.row,i=s.normalized,o=i.length,r=i[0].length-1,l=$(e.tBodies[0]),c=[];for(var d=0;d<o;d++){var u=i[d][r];c.push(n[u]);if(!e.config.appender){var h=n[u].length;for(var p=0;p<h;p++){l[0].appendChild(n[u][p])}}}if(e.config.appender){e.config.appender(e,c)}c=null;if(e.config.debug){benchmark("Rebuilt table:",a)}applyWidget(e);setTimeout((function(){$(e).trigger("sortEnd")}),0)}function buildHeaders(e){if(e.config.debug){var t=new Date}var a=$.metadata?true:false;var s=computeTableHeaderCellIndexes(e);var n=$(e.config.selectorHeaders,e).each((function(t){this.column=s[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(e.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(e,t))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(e,t))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(e,t);if(!this.sortDisabled){var a=$(this).addClass(e.config.cssHeader);if(e.config.onRenderHeader)e.config.onRenderHeader.apply(a)}e.config.headerList[t]=this}));if(e.config.debug){benchmark("Built headers:",t);log(n)}return n}function computeTableHeaderCellIndexes(e){var t=[];var a={};var s=e.getElementsByTagName("THEAD")[0];var n=s.getElementsByTagName("TR");for(var i=0;i<n.length;i++){var o=n[i].cells;for(var r=0;r<o.length;r++){var l=o[r];var c=l.parentNode.rowIndex;var d=c+"-"+l.cellIndex;var u=l.rowSpan||1;var h=l.colSpan||1;var p;if(typeof t[c]=="undefined"){t[c]=[]}for(var m=0;m<t[c].length+1;m++){if(typeof t[c][m]=="undefined"){p=m;break}}a[d]=p;for(var m=c;m<c+u;m++){if(typeof t[m]=="undefined"){t[m]=[]}var f=t[m];for(var g=p;g<p+h;g++){f[g]="x"}}}}return a}function checkCellColSpan(e,t,a){var s=[],n=e.tHead.rows,i=n[a].cells;for(var o=0;o<i.length;o++){var r=i[o];if(r.colSpan>1){s=s.concat(checkCellColSpan(e,headerArr,a++))}else{if(e.tHead.length==1||r.rowSpan>1||!n[a+1]){s.push(r)}}}return s}function checkHeaderMetadata(e){if($.metadata&&$(e).metadata().sorter===false){return true}return false}function checkHeaderOptions(e,t){if(e.config.headers[t]&&e.config.headers[t].sorter===false){return true}return false}function checkHeaderOptionsSortingLocked(e,t){if(e.config.headers[t]&&e.config.headers[t].lockedOrder)return e.config.headers[t].lockedOrder;return false}function applyWidget(e){var t=e.config.widgets;var a=t.length;for(var s=0;s<a;s++){getWidgetById(t[s]).format(e)}}function getWidgetById(e){var t=widgets.length;for(var a=0;a<t;a++){if(widgets[a].id.toLowerCase()==e.toLowerCase()){return widgets[a]}}}function formatSortingOrder(e){if(typeof e!="Number"){return e.toLowerCase()=="desc"?1:0}else{return e==1?1:0}}function isValueInArray(e,t){var a=t.length;for(var s=0;s<a;s++){if(t[s][0]==e){return true}}return false}function setHeadersCss(e,t,a,s){t.removeClass(s[0]).removeClass(s[1]);var n=[];t.each((function(e){if(!this.sortDisabled){n[this.column]=$(this)}}));var i=a.length;for(var o=0;o<i;o++){if(n[a[o][0]]!==undefined){n[a[o][0]].addClass(s[a[o][1]])}}}function fixColumnWidth(e,t){var a=e.config;if(a.widthFixed){var s=$("<colgroup>");$("tr:first td",e.tBodies[0]).each((function(){s.append($("<col>").css("width",$(this).width()))}));$(e).prepend(s)}}function updateHeaderSortCount(e,t){var a=e.config,s=t.length;for(var n=0;n<s;n++){var i=t[n],o=a.headerList[i[0]];o.count=i[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date}var dynamicExp="sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];if(table.config.parsers[c]==undefined){return cache}var s=table.config.parsers[c].type=="text"?order==0?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):order==0?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c);var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date)}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(e,t,a){var s="a["+a+"]",n="b["+a+"]";if(e=="text"&&t=="asc"){return"("+s+" == "+n+" ? 0 : ("+s+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : ("+s+" < "+n+") ? -1 : 1 )));"}else if(e=="text"&&t=="desc"){return"("+s+" == "+n+" ? 0 : ("+s+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+s+") ? -1 : 1 )));"}else if(e=="numeric"&&t=="asc"){return"("+s+" === null && "+n+" === null) ? 0 :("+s+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : "+s+" - "+n+"));"}else if(e=="numeric"&&t=="desc"){return"("+s+" === null && "+n+" === null) ? 0 :("+s+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+s+"));"}}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){if(table.config.sortLocaleCompare)return e.localeCompare(t);return e<t?-1:e>t?1:0}function sortTextDesc(e,t){if(table.config.sortLocaleCompare)return t.localeCompare(e);return t<e?-1:t>e?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}this.construct=function(e){return this.each((function(){if(!this.tHead||!this.tBodies||this.hasInitialized===true)return;var t,a,s,n,i,o=0,r;this.config={};this.hasInitialized=true;i=$.extend(this.config,$.tablesorter.defaults,e);t=$(this);$.data(this,"tablesorter",i);s=buildHeaders(this);this.config.parsers=buildParserCache(this,s);n=buildCache(this);var l=[i.cssDesc,i.cssAsc];fixColumnWidth(this);s.click((function(e){var a=t[0].tBodies[0]&&t[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&a>0){t.trigger("sortStart");var o=$(this);var r=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[i.sortMultiSortKey]){i.sortList=[];i.sortList.push([r,this.order]);var c=i.sortList.slice(0);if(i.sortForce!=null){var d=i.sortForce;for(var u=0;u<d.length;u++){if(d[u][0]!=r){i.sortList.push(d[u])}}}}else{if(isValueInArray(r,i.sortList)){for(var u=0;u<i.sortList.length;u++){var h=i.sortList[u],p=i.headerList[h[0]];if(h[0]==r){p.count=h[1];p.count++;h[1]=p.count%2}}}else{i.sortList.push([r,this.order])}var c=i.sortList.slice(0)}setTimeout((function(){setHeadersCss(t[0],s,c,l);appendToTable(t[0],multisort(t[0],i.sortList,n))}),1);e.preventDefault();return true}})).mousedown((function(){if(i.cancelSelection){this.onselectstart=function(){return false};return false}}));t.bind("update",(function(e,t){var a=this;setTimeout((function(){a.config.parsers=buildParserCache(a,s);n=buildCache(a);if(t&&t.resort){updateHeaderSortCount(a,a.config.sortList);appendToTable(a,multisort(a,a.config.sortList,n))}}),1)})).bind("updateCell",(function(e,t){var a=this.config;var s=[t.parentNode.rowIndex-1,t.cellIndex];n.normalized[s[0]][s[1]]=a.parsers[s[1]].format(getElementText(a,t),t)})).bind("sorton",(function(e,t){$(this).trigger("sortStart");i.sortList=t;var a=i.sortList;updateHeaderSortCount(this,a);setHeadersCss(this,s,a,l);appendToTable(this,multisort(this,a,n))})).bind("appendCache",(function(){appendToTable(this,n)})).bind("applyWidgetId",(function(e,t){getWidgetById(t).format(this)})).bind("applyWidgets",(function(){applyWidget(this)}));if($.metadata&&$(this).metadata()&&$(this).metadata().sortlist){i.sortList=$(this).metadata().sortlist}if(i.sortList.length>0||i.sortForce!=null&&i.sortForce.length>0){var c=i.sortList.slice(0);if(i.sortForce!=null){var d=i.sortForce;for(var u=0;u<d.length;u++){if(!isValueInArray(d[u][0],i.sortList)){i.sortList.push(d[u])}}}t.trigger("sorton",[i.sortList]);setHeadersCss(this,s,c,l)}applyWidget(this)}))};this.addParser=function(e){var t=parsers.length,a=true;for(var s=0;s<t;s++){if(parsers[s].id.toLowerCase()==e.id.toLowerCase()){a=false}}if(a){parsers.push(e)}};this.addWidget=function(e){widgets.push(e)};this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t};this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t};this.isDigit=function(e,t){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))};this.clearTableBody=function(e){function t(){while(this.firstChild)this.removeChild(this.firstChild)}t.apply(e.tBodies[0])}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(e){return true},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(e,t){var a=t.config;return $.tablesorter.isDigit(e,a)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"});ts.addParser({id:"currency",is:function(e){return/^[£$€?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[£$€]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){var t=e.split("."),a="",s=t.length;for(var n=0;n<s;n++){var i=t[n];if(i.length==2){a+="0"+i}else{a+=i}}return $.tablesorter.formatFloat(a)},type:"numeric"});ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(e!=""?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"date",is:function(e){return moment(new Date(e)).isValid()},format:function(e){return $.tablesorter.formatFloat(moment(new Date(e||0)).unix())},type:"numeric"});ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var a=t.config;e=e.replace(/\-/g,"/");if(a.dateFormat=="us"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else if(a.dateFormat=="uk"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else if(a.dateFormat=="dd/mm/yy"||a.dateFormat=="dd-mm-yy"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(e){return false},format:function(e,t,a){var s=t.config,n=!s.parserMetadataName?"sortValue":s.parserMetadataName;return $(a).metadata()[n]},type:"numeric"});ts.addWidget({id:"UpdatebaIconforIE",is:function(e){return false},format:function(e){if(IS_IE_OR_EDGE){let t=e.getElementsByTagName("use");if(t.length){$.each(t,(function(e,t){if(t.href&&t.href.baseVal){t.href.baseVal=t.href.baseVal}}))}}}});ts.addWidget({id:"zebra",format:function(e){if(e.config.debug){var t=new Date}var a,s=-1,n;$("tr:visible",e.tBodies[0]).each((function(t){a=$(this);if(!a.hasClass(e.config.cssChildRow))s++;n=s%2==0;a.removeClass(e.config.widgetZebra.css[n?0:1]).addClass(e.config.widgetZebra.css[n?1:0])}));if(e.config.debug){$.tablesorter.benchmark("Applying Zebra widget",t)}}})})(jQuery);window.TSextractHiddenInput=function(e){var t=$(e);var a=t.children('input[type="hidden"]');return a.val()||t.text()};window.TSextractDataAttr=function(e){var t=$(e);return t.attr("data-sort-value")||t.text()}},20982:(e,t,a)=>{var jQuery=a(26570);(function($){$.extend({tablesorterPager:new function(){function e(e){var t=$(e.cssPageDisplay,e.container).val(e.page+1+e.seperator+e.totalPages).trigger("change");d(e)}function t(e,t){var s=e.config;s.size=t;s.totalPages=Math.ceil(s.totalRows/s.size);s.pagerPositionSet=false;r(e);a(e)}function a(e){var t=e.config;var a;if(!t.pagerPositionSet&&t.positionFixed){t=e.config;a=$(e);if(a.offset){t.container.css({top:a.offset().top+a.height()+"px"})}t.pagerPositionSet=true}}function s(e){var t=e.config;t.page=0;r(e)}function n(e){var t=e.config;t.page=t.totalPages-1;r(e)}function i(e){var t=e.config;t.page++;if(t.page>=t.totalPages-1){t.page=t.totalPages-1}r(e)}function o(e){var t=e.config;t.page--;if(t.page<=0){t.page=0}r(e)}function r(e){var t=e.config;if(t.page<0||t.page>t.totalPages-1){t.page=0}l(e,t.rowsCopy)}function l(t,s){var i=t.config;var o=s.length;var r=i.page*i.size;var l=r+i.size;if(l>s.length){l=s.length}var c=$(t.tBodies[0]);$.tablesorter.clearTableBody(t);for(var d=r;d<l;d++){var u=s[d];var o=u.length;for(var h=0;h<o;h++){c[0].appendChild(u[h])}}a(t,c);$(t).trigger("applyWidgets");if(i.page>=i.totalPages){n(t)}$(".prev,.next",i.container).removeClass("inactive");if(i.page==0){$(".prev",i.container).addClass("inactive")}if(i.page==i.totalPages-1){$(".next",i.container).addClass("inactive")}e(i)}function c(e){var t=$(".pagedisplay",e.container).val();var a=e.page;$("a.pagenumber",e.container).removeClass("selected");$('a.pagenumber[data-page-number="'+a+'"]',e.container).addClass("selected");var s=parseInt(t.substring(t.indexOf("/")+1));var n=e.size;var i=a*n;var o=e.totalRows;$(".pagedesc",e.container).html(i+1+" - "+(i+n>o?o:i+n)+" of "+o)}function d(e){var t=$(".pagedisplay",e.container).val();if(t){var a=parseInt(t.substring(t.indexOf("/")+1));$(".pages",e.container).remove();if(a>1){$(".prev",e.container).before('<span class="pages">&nbsp;&nbsp;</span>');for(var s=0;s<a;s++){var n=$('<a href="#" class="pagenumber" data-page-number="'+s+'">'+(s+1)+"</a>");$(".pages",e.container).append(n);$(".pages",e.container).append("&nbsp;&nbsp;")}}else{$(".prev, .next, .pipe",e.container).hide()}c(e);$(".pagedisplay",e.container).change((function(){c(e)}))}}this.appendFunc=function(e,t){var a=e.config;a.rowsCopy=t;a.totalRows=t.length;a.totalPages=Math.ceil(a.totalRows/a.size);l(e,t)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssPageNumber:".pagenumber",dataPageNumber:"data-page-number",seperator:"/",positionFixed:true,appender:this.appendFunc};this.construct=function(e){return this.each((function(){let a=$.extend(this.config,$.tablesorterPager.defaults,e);a.size=parseInt($(".pagesize",d).val());var c=this,d=a.container;$(this).trigger("appendCache");$(a.cssFirst,d).click((function(){s(c);return false}));$(a.cssNext,d).click((function(){i(c);return false}));$(a.cssPrev,d).click((function(){o(c);return false}));$(a.cssLast,d).click((function(){n(c);return false}));$(d).on("click",a.cssPageNumber,(function(){c.config.page=parseInt($(this).attr(a.dataPageNumber));r(c);return false}));$(a.cssPageSize,d).change((function(){t(c,parseInt($(this).val()));return false}));$(c).bind("removeRow",(function(e,t){let a;for(a in c.config.rowsCopy){if($(t).is(c.config.rowsCopy[a])){c.config.rowsCopy.splice(a,1)}}$(t).remove();c.config.totalRows=c.config.rowsCopy.length;c.config.totalPages=Math.ceil(c.config.totalRows/c.config.size);l(c,c.config.rowsCopy)}));$.tablesorterPager.config=a}))}}});$.fn.extend({tablesorterPager:$.tablesorterPager.construct})})(jQuery)},59592:(e,t,a)=>{"use strict";a.d(t,{f:()=>g});var s=a(76725);var n=a(84479);var i=a(21198);var o=a(89100);var $=a(26570);const r=()=>{const e=new URL(window.location.href);let t;let a;let s;if((0,o.canUseLocalStorage)()){t=localStorage.getItem("__message__");a=localStorage.getItem("__messageType__");s=parseInt(localStorage.getItem("__messageTimeout__")||null);localStorage.removeItem("__message__");localStorage.removeItem("__messageType__");localStorage.removeItem("__messageTimeout__")}let n=e.searchParams.get("__message__")||t;if(n){const t=e.searchParams.get("__messageType__")||a;const o=parseInt(e.searchParams.get("__messageTimeout__")||s);e.searchParams.delete("__message__");e.searchParams.delete("__messageType__");e.searchParams.delete("__messageTimeout__");window.history.replaceState({},"",e.href);window.setTimeout((()=>{n=(0,i.sanitize)(n,{ALLOWED_ATTR:["class","href"],FORBID_TAGS:["style"]});window.setMessage(n,t);if(!isNaN(o)){window.sessionMessageTimeout=window.setTimeout((()=>{window.closeMessage()}),o)}}),0)}$(document).on("click",".messageCloseWrapper",(function(e){e.preventDefault();window.closeMessage()}))};var l=a(23321);var c=a.n(l);var d=a(77512);var u=a(59155);const h=()=>{const e=document.getElementById("sessionMessage");if(e){(0,d.s)(c().createElement(u.BasicSlidedown,{ref:e=>{window.bambooAlert=e},showOnMount:false}),e);window.closeMessage=window.bambooAlert.hideAlert;window.setMessage=function(){const t=(0,i.getMaxZIndex)();if(e.style.zIndex!==`${t}`){e.style.zIndex=t+10}window.bambooAlert.setAlert(...arguments)}}};const p=e=>{if(e&&e.text){window.setTimeout((()=>window.setMessage(e.text,e.type)),0)}};const m=(0,n.createLogger)("Alerts.mod");const f="See Alerts.mod/index.js for more info.";window.setMessage=()=>m.warn(`setMessage was called before it was initialized. ${f}`);window.closeMessage=()=>m.warn(`closeMessage was called before it was initialized. ${f}`);document.addEventListener("DOMContentLoaded",(()=>{const e=(0,s.V)("#sessionMessageJSON",true);h();p(e);r()}));function g(){window.setMessage(...arguments)}function v(){window.closeMessage(...arguments)}},48853:(e,t,a)=>{"use strict";a.d(t,{Z:()=>x});var s=a(73641);var n=a(56445);var i=a(21198);var o=a(38592);const r=22;function l(){const e=(0,o.getRelativePosition)(this.anchor,undefined,this.settings.correctBodyPosition);const t=this.balloonElement.getBoundingClientRect();const a=(0,i.isElementInViewport)(this.anchor);const r=!(0,s.isEmpty)(this._positionLock);const l=r?this._positionLock.position:this.settings.position;const u=l==="top"||l==="bottom";const h=u?c:d;const p=h.call(this,l,e,t,a,this._positionLock,r);if(!r){this._positionLock=Object.assign({},p);this.anchor.setAttribute("balloon-position",p.position);this.balloonElement.setAttribute("position",p.position);const e=u?"left":"top";if(!(0,n.isEnabled)("encore")){this.balloonElement.querySelector(".js-balloon-tail").style[e]=p.tail+"px"}Object.assign(this.balloonElement.style,{top:p.top+"px",left:p.left+"px"})}if(p.top!==this._positionLock.top||p.left!==this._positionLock.left){this._positionLock.top=p.top;this._positionLock.left=p.left;Object.assign(this.balloonElement.style,{top:p.top+"px",left:p.left+"px"})}}function c(e,t,a,n,i,o){let{tailOnAnchor:l,flipTailOnAnchor:c,tailOnBalloon:d,flipTailOnBalloon:h,minTailOnBalloon:p,invertOnCollision:m}=this.settings;c=o?i.flipTailOnAnchor:c;h=o?i.flipTailOnBalloon:h;const f=t.top-a.height-this.settings.push;const g=t.bottom+this.settings.push;const v=f<window.pageYOffset;const y=g+a.height>window.innerHeight+window.pageYOffset;const b=u(t.width,l,c);const w=u(a.width,d,h);let S=o?i.tail:(0,s.clamp)(w,p,a.width-p);let C=t.left+b-S;let x=o?i.inverted:false;if(!o&&n){const n=C-(r+window.pageXOffset);const i=window.innerWidth+window.pageXOffset-r-(C+a.width);if(n<0||i<0){if(m){x=true;c=!c;h=!h;const e=u(t.width,l,c);const n=u(a.width,d,h);S=(0,s.clamp)(n,p,a.width-p);C=t.left+e-S}else{const e=Math.min(i,Math.abs(n));S=(0,s.clamp)(S-e,p,a.width-p);C=t.left+b-S}}if(e==="top"&&v&&!y){e="bottom"}if(e==="bottom"&&y&&!v){e="top"}}return{position:e,inverted:x,top:e==="top"?f:g,left:C,tail:S,flipTailOnAnchor:c,flipTailOnBalloon:h}}function d(e,t,a,n,i,o){let{tailOnAnchor:l,flipTailOnAnchor:c,tailOnBalloon:d,flipTailOnBalloon:h,minTailOnBalloon:p,invertOnCollision:m}=this.settings;c=o?i.flipTailOnAnchor:c;h=o?i.flipTailOnBalloon:h;const f=t.left-a.width-this.settings.push;const g=t.right+this.settings.push;const v=f<window.pageXOffset;const y=g+a.width>window.innerWidth+window.pageXOffset;const b=u(t.height,l,c);const w=u(a.height,d,h);let S=o?i.tail:(0,s.clamp)(w,p,a.height-p);let C=t.top+b-S;let x=o?i.inverted:false;if(!o&&n){const n=C-(r+window.pageYOffset);const i=window.innerHeight+window.pageYOffset-r-(C+a.height);if(n<0||i<0){if(m){x=true;c=!c;h=!h;const e=u(t.height,l,c);const n=u(a.height,d,h);S=(0,s.clamp)(n,p,a.height-p);C=t.top+e-S}else{const e=Math.min(i,Math.abs(n));S=(0,s.clamp)(S-e,p,a.height-p);C=t.top+b-S}}if(e==="left"&&v&&!y){e="right"}if(e==="right"&&y&&!v){e="left"}}return{position:e,inverted:x,top:C,left:e==="left"?f:g,tail:S,flipTailOnAnchor:c,flipTailOnBalloon:h}}function u(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=0;if(!isNaN(t)){s=Number(t)}else if(t.indexOf("px")>0){s=parseInt(t)}else if(/^[0-9]+$/.test(t)){s=Number(t)}else if(t.indexOf("%")>0){const a=parseInt(t);s=e*(a/100)}if(a){s=e-s}return s}var h='<div class="Balloon js-balloon">\n\n\t\x3c!-- Close Icon --\x3e\n\t<div class="Balloon__closeX js-balloon-close-x">\n\t\t<ba-icon class="Balloon__closeSVG js-balloon-close-icon" name="fab-x-12x12" />\n\t</div>\n\n\t\x3c!-- Border --\x3e\n\t<div class="Balloon__border"></div>\n\n\t\x3c!-- "Tail" --\x3e\n\t<div class="Balloon__tail js-balloon-tail"></div>\n\n\t\x3c!-- Content gets placed here --\x3e\n\t<div class="Balloon__content js-balloon-content"></div>\n\n</div>\n';var p='<div class="Balloon js-balloon">\n\n\t\x3c!-- Border --\x3e\n\t<div class="Balloon__border"></div>\n\n\t\x3c!-- Content gets placed here --\x3e\n\t<div class="Balloon__content js-balloon-content">\n\t\t\x3c!-- Close Icon --\x3e\n\t\t<button class=\'fab-FloatingIconButton fab-FloatingIconButton--small fab-FloatingIconButton--secondary Balloon__closeX js-balloon-close-x\'>\n\t\t\t<ba-icon class="Balloon__closeSVG js-balloon-close-icon" name="fab-x-12x12" />\n\t\t</button>\n\t</div>\n\n</div>\n';var m=a(7581);let f=[];let g=false;function v(){let e=f.filter((e=>e.showing));if(e.length&&!g){y()}else if(!e.length&&g){b()}}function y(){window.addEventListener("click",w);g=true}function b(){window.removeEventListener("click",w);g=false}function w(e){x.each((t=>{if(document.body.contains(e.target)&&!t.destroyed&&!t.balloonElement.contains(e.target)&&!t.anchor.contains(e.target)&&!t.settings.persistent){t.hide()}}))}function S(e){if(e.destroyed){throw new Error("This balloon has already been destroyed.")}}function C(e){const t=e.nodeType&&e.nodeType===1?e:document.querySelector(e);if(!t){throw new TypeError("A DOM element, or valid selector must be used as the anchor for a Balloon")}return t}class x{static get className(){return"Balloon"}constructor(e,t){this.anchor=e;this.settings=(0,s.extend)({afterCreation:s.noop,afterDestroy:s.noop,closeX:false,correctBodyPosition:true,delay:0,fadeIn:200,fadeOut:200,html:null,invertOnCollision:false,onClose:s.noop,onHide:s.noop,onShow:s.noop,persistent:false,position:"top",push:0,showImmediately:false,state:{},suppressed:false,tail:false,tailSize:0,tailBackground:null,tailBorder:null,tailOnAnchor:"50%",flipTailOnAnchor:false,tailOnBalloon:"50%",minTailOnBalloon:0,flipTailOnBalloon:false,template:null,themeClass:"Balloon",toggleOnClick:true,triggerEvent:"click"},t);this.eventCallbacks={afterCreation:this.settings.afterCreation,afterDestroy:this.settings.afterDestroy,close:[this.settings.onClose],hide:[this.settings.onHide],show:[this.settings.onShow]};this._boundClickEventHandler=this._clickEventHandler.bind(this);this._boundMouseEnterEventHandler=this._mouseEnterEventHandler.bind(this);this._boundMouseLeaveEventHandler=this._mouseLeaveEventHandler.bind(this);this.create()}create(){f.push(this);this.state=this.settings.state;this.balloonElement=null;this.created=false;this.destroyed=false;this.showing=false;this._showTimer=null;this._positionLock={};this._createBalloon();if(this.settings.showImmediately){this.show()}this._setAnchorElementEvents();return this}show(){S(this);if(this.showing){return this}if(!this.created){this._setupCloseButton();if(!(0,n.isEnabled)("encore")){this._setTailStyles()}document.body.appendChild(this.balloonElement);this.created=true;this.eventCallbacks.afterCreation(this);this.anchor.dispatchEvent(new CustomEvent("ba:balloonAfterCreation",{bubbles:true}))}if(!this.destroyed){this.balloonElement.style.display="block";Object.assign(this.balloonElement.style,{transitionDuration:this.settings.fadeIn+"ms",transitionDelay:this.settings.delay+"ms",zIndex:(0,i.getMaxZIndex)()+10,opacity:"1"});this.showing=true;this._position();this.eventCallbacks.show.forEach((e=>e(this)));this.anchor.dispatchEvent(new CustomEvent("ba:balloonShow",{bubbles:true}));v()}return this}hide(){S(this);if(!this.showing){return this}const e=window.getComputedStyle(this.balloonElement).opacity;if(this.settings.fadeOut&&e!=="0"){Object.assign(this.balloonElement.style,{opacity:"0",transitionDuration:this.settings.fadeOut+"ms",transitionDelay:"",zIndex:"auto"})}else{Object.assign(this.balloonElement.style,{opacity:"0",display:""});this._unPosition()}this.showing=false;this.eventCallbacks.hide.forEach((e=>e(this)));this.anchor.dispatchEvent(new CustomEvent("ba:balloonHide",{bubbles:true}));v();return this}toggleBalloon(){if(this.showing){this.hide()}else{this.show()}return this}position(){window.Rollbar.info("The deprecated Balloon position() method was called.");return this}resetPositionLock(){this._positionLock={};return this}destroy(){S(this);if(this.created&&!this.destroyed){this.destroyed=true;this.balloonElement.parentNode.removeChild(this.balloonElement);this.balloonElement=null;this.eventCallbacks.afterDestroy(this);this.anchor.dispatchEvent(new CustomEvent("ba:balloonAfterDestroy",{bubbles:true}))}this._removeAnchorElementEvents();f=f.filter((e=>e!==this));v()}suppress(){this.hide();this.settings.suppressed=true;return this}release(){this.settings.suppressed=false;return this}onShow(e){this._addEventCallback("show",e);return this}offShow(e){this._removeEventCallback("show",e);return this}onHide(e){this._addEventCallback("hide",e);return this}offHide(e){this._removeEventCallback("hide",e);return this}onClose(e){this._addEventCallback("close",e);return this}offClose(e){this._removeEventCallback("close",e);return this}setAnchor(e){this._removeAnchorElementEvents();this.anchor=C(e);this._setAnchorElementEvents();return this}setTailColors(e){if(typeof e==="string"){this.settings.tailBackground=e;this.settings.tailBorder=e}else if(typeof e==="object"){this.settings.tailBackground=e.tailBackground||this.settings.tailBackground;this.settings.tailBorder=e.tailBorder||this.settings.tailBorder}if(!(0,n.isEnabled)("encore")){this._setTailStyles()}return this}_position(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;S(this);if(this.created&&this.showing){if(e){this._positionLock={}}l.call(this);window.requestAnimationFrame((()=>{if(!this.destroyed){this._position(false)}}))}}_unPosition(){this.balloonElement.style.top="";this.balloonElement.style.left=""}_setAnchorElementEvents(){if(this.settings.triggerEvent==="none"){return}if(this.settings.triggerEvent==="hover"){this.anchor.addEventListener("mouseenter",this._boundMouseEnterEventHandler);this.anchor.addEventListener("mouseleave",this._boundMouseLeaveEventHandler)}else{this.anchor.addEventListener("click",this._boundClickEventHandler)}}_removeAnchorElementEvents(){if(this.settings.triggerEvent==="none"){return}if(this.settings.triggerEvent==="hover"){this.anchor.removeEventListener("mouseenter",this._boundMouseEnterEventHandler);this.anchor.removeEventListener("mouseleave",this._boundMouseLeaveEventHandler)}else{this.anchor.removeEventListener("click",this._boundClickEventHandler)}}_mouseEnterEventHandler(){if(!this.settings.suppressed){this.show()}}_mouseLeaveEventHandler(){this.hide()}_clickEventHandler(){if(this.settings.suppressed){return}if(this.settings.toggleOnClick){this.toggleBalloon()}else{this.show()}}_createBalloon(){this.balloonElement=(0,i.fragFromHtml)((0,n.ifFeature)("encore",p,h)).querySelector(".js-balloon");let e="";let t;if(this.settings.html){e=this.settings.html}else if(this.settings.template){t=m.Z[this.settings.template.name];e=t(this.settings.template.data)}else{throw new Error("HTML, or a template must be used as content.")}this.balloonElement.style.transitionDuration=this.settings.fadeIn+"ms";this.balloonElement.addEventListener("transitionend",(e=>{if(e.target===this.balloonElement&&!this.showing){this.balloonElement.style.display="";this._unPosition()}}));this.balloonElement.classList.add(this.settings.themeClass);this.balloonContentElement=this.balloonElement.querySelector(".js-balloon-content");this.balloonContentElement.appendChild((0,i.fragFromHtml)(e))}_setupCloseButton(){let e=this.balloonElement.querySelector(".js-balloon-close-x");if(this.settings.closeX){e.addEventListener("click",(()=>{this.hide();this.eventCallbacks.close.forEach((e=>e(this)))}))}else{e.style.display="none"}}_setTailStyles(){let e=this.balloonElement.querySelector(".js-balloon-tail");let t={};let a=Math.pow(this.settings.tailSize,2);let s=t.width=Math.floor(Math.sqrt(a+a));t.height=t.width=s+1+"px";t.display=this.settings.tail?"":"none";if(this.settings.tailBackground){t.backgroundColor=this.settings.tailBackground}if(this.settings.tailBorder){t.borderColor=this.settings.tailBorder}Object.assign(e.style,t)}_addEventCallback(e,t){if((0,s.isFunction)(t)){this.eventCallbacks[e].push(t)}}_removeEventCallback(e,t){this.eventCallbacks[e]=this.eventCallbacks[e].filter((e=>e!==t))}static create(e,t){const a=C(e);return new this(a,t)}static each(e){var t=this;f.forEach((function(a){if(a instanceof t){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++){n[i-1]=arguments[i]}e(a,...n)}}))}static hasInstance(e){return f.some((t=>t instanceof this&&e===t.anchor))}static getInstance(e){return f.slice().reverse().find((t=>t instanceof this&&(t.balloonElement.contains(e)||t.anchor.contains(e))))}}},7581:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var s=a(73641);function n(e){return Object.keys(e).map((t=>`${(0,s.kebabCase)(t)}: ${e[t]}`)).join("; ")}var i={convertObjectIntoInlineStylesString:n};var o=a(98580);var r=a.n(o);const l={content:null,contentClass:null,contentCssOverride:{},popoverClass:null,title:null,titleClass:null,titleCssOverride:{},rawContent:false};function c(e){if(!e.content){throw new Error('Content is required to make a "standard" popover')}e=(0,s.extend)({},l,e);e.titleCssOverride=n(e.titleCssOverride);e.contentCssOverride=n(e.contentCssOverride);return window.microTemplate(r(),e)}var d=a(52075);var u=a.n(d);const h={title:null,content:null,textAlign:"left"};function p(e){if(!e.content){throw new Error('Content is required to make a "standard" tooltip')}e=(0,s.extend)({},h,e);return window.microTemplate(u(),e)}var m={"popover-standard":c,"tooltip-standard":p}},76793:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var s=a(51341);var n=a(73641);var i=a.n(n);const o={saturday:"bhr-grid-start-saturday",sunday:"bhr-grid-start-sunday",monday:"bhr-grid-start-monday"};let r=s.Z.locale();s.Z.defineLocale(o.saturday,{parentLocale:r,week:{dow:6}});s.Z.defineLocale(o.sunday,{parentLocale:r,week:{dow:0}});s.Z.defineLocale(o.monday,{parentLocale:r,week:{dow:1}});s.Z.locale(r);const l={trail:true,groupByWeek:true,view:"month",startOfWeek:null,showWeekends:true,smartWeekView:true,smartMonthView:false};class c{static get className(){return"CalendarGrid"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=(0,n.extend)({},l,e);this._now=(0,s.Z)().startOf("day");this._setLocaleOnMomentDate(this._now);this._rangeStart=null;this._rangeEnd=null;this._marker=this._now.clone();this._setupMarker();this._setRange()}grid(){let e=this.constructor.buildRange(this._rangeStart,this._rangeEnd);if(!this._options.showWeekends){e=e.filter((e=>[0,6].indexOf(e.day())===-1))}if(this._options.groupByWeek){e=this.constructor.groupRangeByWeek(e)}return e}isTodayInRange(){return this.constructor.isBetweenInclusive(this._now,this._rangeStart,this._rangeEnd)}momentRange(){return{start:this._rangeStart.clone(),end:this._rangeEnd.clone()}}formattedRange(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:s.Z.defaultFormat;return{start:this._rangeStart.format(e),end:this._rangeEnd.format(e)}}setView(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.view;this._options.view=e;if(this._options.view==="month"){this._marker.endOf("week")}if(this._options.view==="1week"||this._options.view==="2weeks"){if(this._options.smartWeekView&&this.constructor.isBetweenInclusive(this._now,this._rangeStart,this._rangeEnd)){this._marker=this._now.clone().startOf("week")}else{this._marker.startOf("week")}}return this.jumpTo(this._marker)}today(){return this.jumpTo(this._now)}jumpTo(e){e=e.clone();this._setLocaleOnMomentDate(e);this._marker=e;this._setupMarker();this._setRange();return this}next(){switch(this._options.view){case"month":this._marker.add("1","month");break;case"2weeks":this._marker.add("2","weeks");break;case"1week":this._marker.add("1","week");break}this._setRange();return this}prev(){switch(this._options.view){case"month":this._marker.subtract("1","month");break;case"2weeks":this._marker.subtract("2","weeks");break;case"1week":this._marker.subtract("1","weeks");break}this._setRange();return this}toggleWeekends(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!this._options.showWeekends;this._options.showWeekends=!!e;return this}clone(){return(0,n.cloneDeep)(this)}_setupMarker(){if(!this._marker){this._marker=this._now.clone()}switch(this._options.view){case"month":if(this._options.smartMonthView){this._marker.endOf("week")}this._marker.startOf("month");break;case"2weeks":case"1week":this._marker.startOf("week");break}}_setRange(){switch(this._options.view){case"month":this._rangeStart=this._marker.clone();this._rangeEnd=this._marker.clone().endOf("month");if(this._options.trail){this._rangeStart.startOf("week");this._rangeEnd.endOf("week")}break;case"2weeks":this._rangeStart=this._marker.clone().startOf("week");this._rangeEnd=this._rangeStart.clone().add("13","days");break;case"1week":this._rangeStart=this._marker.clone().startOf("week");this._rangeEnd=this._rangeStart.clone().add("6","days");break}}_setLocaleOnMomentDate(e){if(this._options.startOfWeek){let t=o[this._options.startOfWeek.toLowerCase()];if(t){e.locale(t)}}}static buildRange(e,t){const[a,n,i]=e.toArray();const[o,r,l]=t.toArray();const c=[];const d=s.Z.utc([a,n,i]);const u=s.Z.utc([o,r,l]);while(d.isSameOrBefore(u,"day")){const[e,t,a]=d.toArray();c.push((0,s.Z)([e,t,a]));d.add(1,"d")}return c}static groupRangeByWeek(e){let t=(0,n.groupBy)(e,(e=>e.week()));return Object.keys(t).reduce(((e,a)=>[...e,t[a]]),[]).sort(((e,t)=>e[0].diff(t[0])))}static isBetweenInclusive(e,t,a){return e.isBetween(t,a,null,"[]")}}},54706:(e,t,a)=>{"use strict";a.d(t,{R:()=>Z});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(77512);var l=a(37803);var c=a(21198);var d=a(71141);var u=a(38592);var $=a(26570);var moment=a(82543);(function($,moment){const e=(0,d.isEnabled)("jade");var t={isInRange:function(e,t,a,s){if(t&&e.isBefore(t,s)||a&&e.isAfter(a,s)){return false}return true},isEqual:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},kebabToCamel:function(e){return e.split("-").reduce((function(e,t){if(!t.length){return e}return!e.length?t:e+t[0].toUpperCase()+t.substr(1)}),"")},createYearDropdown:function(e,t,a){var s="<select>";var n=[];var i;var o=moment(e);if(a){o=o.month(a.month());if(e.isAfter(o,"month")){o=o.add(1,"years")}}while(o.isSameOrBefore(t,"month")){i=['value="'+o.year()+'"'];if(a&&o.year()===a.year()){i.push("selected")}n.push("<option "+i.join(" ")+">"+o.year()+"</option>");o=o.add(1,"years")}s+=n.join("");s+="</select>";return $(s)},createMonthDropdown:function(e,t,a){var s=moment.monthsShort();var n="<select>";var i=[];var o;var r=moment(a).startOf("year");var l=moment(a).endOf("year");for(var c=0;c<s.length;c++){r=r.month(c);if(r.isBefore(e,"month")||r.isAfter(l,"month")||r.isAfter(t,"month")){continue}o=['value="'+c+'"'];if(c===a.month()){o.push("selected")}i.push("<option "+o.join(" ")+">"+s[c]+"</option>")}n+=i.join("");n+="</select>";return $(n)},debounce:function(e,t){return function(){var a=arguments;var s;if(s){window.clearTimeout(s)}setTimeout((function(){e.apply(null,a)}),t)}},isWeekend:function(e){const t=e.day();return t===0||t===6},waitForRender(){return new Promise((e=>{window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e()}))}))}))}};function a(){this.eventHandlers={}}a.prototype={on:function(e,t){if(!this.eventHandlers[e]){this.eventHandlers[e]=[]}this.eventHandlers[e].push(t)},off:function(e,t){var a=this.eventHandlers[e];if(!a||!a.length){return}var s=a.indexOf(t);if(s>-1){a.splice(s,1)}},trigger:function(e){var t=this.eventHandlers[e];if(!t||!t.length){return}var a=Array.prototype.slice.call(arguments,1);t.forEach(function(e){e.apply(this,a)}.bind(this))}};$.fn.calendarPicker=function(e){return this.each((function(){var t=$(this);if(t.data("calendarPicker")||this.__calendarPicker){return}var a=new p(this,e);t.data("calendarPicker",a);this.__calendarPicker=a}))};var s={DATE:"date",DATE_RANGE:"date-range",MONTH:"month",MONTH_RANGE:"month-range"};var n={SINGLE:"single",RANGE:"range"};var i={START:"start",END:"end"};var o={DAY:"day",MONTH:"month"};var r="YYYY-MM-DD";var l=["format","max","min","start","end","future-only","now-and-future-only","past-only","now-and-past-only","toggle-on-focus","quick-nav"];var c="CalendarPicker__input--focus";var h={dualGrid:false,max:moment().add(50,"years"),min:moment().subtract(100,"years"),noFacade:false,period:o.DAY,quickNav:"auto",selectionMode:n.SINGLE,toggleOnFocus:false,disableWeekends:false,disableDays:[]};function p(e,t){this.$anchor=$(e).addClass("CalendarPicker");this.toggleButtons=[];this.isMobileDevice=(0,u.isWidthBelowSupportedMinWidth)();this._wireOptions(t);if(!this.options.noFacade){this._wireHiddenInputs()}if(this.options.toggleButton){this._addToggleButtons()}this._wireInternalEvents();this._wireExternalEvents();this._originalStart=this.options.start;this._originalEnd=this.options.end;this._popoverVisible=false;this.setRange(this._originalStart,this._originalEnd);this.enableDisableButtons()}p.prototype.setOptions=function(e){this._wireOptions(e);this._originalStart=this.options.start;this._originalEnd=this.options.end;if(this.gridManager){this.gridManager.setOptions(this._getGridManagerOptions())}this._updateGridManager();this.setRange(this._originalStart,this._originalEnd);this.enableDisableButtons()};p.prototype.enableDisableButtons=function(){const{disabled:e=false}=this.options;if(this.$start){this.$start.siblings("button").attr("disabled",e)}if(this.$end){this.$end.siblings("button").attr("disabled",e)}};p.prototype._wireOptions=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.options=this.options||{};this.options=$.extend(true,{},h,this.options,e,{});this.options=$.extend(true,{},this.options,this._getOptionsFromPresets(this.$anchor),this._getOptionsFromAttributes(this.$anchor));this.options.format=this.options.format||moment.defaultFormat;if(this.options.min){this.options.min=this._normalizeToTick(this.options.min)}if(this.options.max){this.options.max=this._normalizeToTick(this.options.max)}this._setInputs(this.options.startInput,this.options.endInput);if(this.options.noFacade){this.options.start=this._getTickFromInput(this.$start);if(n.RANGE===this.options.selectionMode){this.options.end=this._getTickFromInput(this.$end)}}return e};p.prototype._getOptionsFromPresets=function(e){var t={};var a=e.attr("calendar-picker");if(s.DATE_RANGE===a||s.MONTH_RANGE===a){t.selectionMode=n.RANGE;t.dualGrid=true}if(s.DATE_RANGE===a){t.period=o.DAY}else if(s.MONTH_RANGE===a||s.MONTH===a){t.period=o.MONTH;t.format="MMM YYYY"}return t};p.prototype._getOptionsFromAttributes=function(e){var a={};var s=e.attr("calendar-picker-options");l.forEach((function(s){var n=null;var i=null;var o=false;if(e[0].hasAttribute(s)){n=e[0].getAttribute(s);i=t.kebabToCamel(s);o=n==="true"||n==="false";if(n&&!o){a[i]=n}else if(n&&o){a[i]=n==="true"}else{a[i]=true}}}));if(s){s=s.replace(/\'/g,'"');a=$.extend(true,{},a,JSON.parse(s))}if(a.futureOnly){a.min=moment().add(1,this.options.period)}if(a.nowAndFutureOnly){a.min=moment()}if(a.pastOnly){a.max=moment().subtract(1,this.options.period)}if(a.nowAndPastOnly){a.max=moment()}return a};p.prototype._setInputs=function(e,t){if(n.RANGE===this.options.selectionMode){this.$start=$(e);this.$end=$(t);if(!this.$start.length&&this.$anchor.find("[range-start]").length){this.$start=this.$anchor.find("[range-start]")}if(!this.$end.length&&this.$anchor.find("[range-end]").length){this.$end=this.$anchor.find("[range-end]")}else{throw new Error("Could not find end input for CalendarPicker")}}else if(this.$anchor.is(":input")||this.$anchor.is("ba-select")){this.$start=this.$anchor}if(!this.$start||!this.$start.length){throw new Error("Could not find input for CalendarPicker")}this._getInputs().addClass("CalendarPicker__input")};p.prototype._getInputs=function(){var e=$().add(this.$start);if(n.RANGE===this.options.selectionMode){e=e.add(this.$end)}return e};p.prototype._wireHiddenInputs=function(){var e="__cpFacade";var t,a;t=this.$start.attr("name");this.$hiddenStart=$('<input type="hidden">').attr("name",this.$start.attr("name")).insertAfter(this.$start);this.$start.attr("name",t+e);if(n.RANGE===this.options.selectionMode){a=this.$end.attr("name");this.$hiddenEnd=$('<input type="hidden">').attr("name",a).insertAfter(this.$end);this.$end.attr("name",a+e)}};p.prototype._addToggleButtons=function(){var e=this.options.toggleButton;var t=typeof e==="boolean"?$('<button type="button">'):$(e);t.addClass("CalendarPicker__toggleButton js-CalendarPicker__toggleButton").attr("tabindex","-1").attr("data-no-jquery-aria-required",true).attr("aria-label",$.__("Open Calendar Picker"));this._addToggleButton(this.$start,t);if(n.RANGE===this.options.selectionMode){this._addToggleButton(this.$end,t)}};p.prototype._addToggleButton=function(t,a){if(!e){t.wrap('<div class="CalendarPicker__inputWrapper js-CalendarPicker__inputWrapper">')}const s=a.clone();this.toggleButtons=[...this.toggleButtons,s[0]];s.appendTo(t.parent()).on("click.calendarPicker",function(e){if(t.is(":disabled")){return}if(!this.options.toggleOnFocus){this._activatePopover(t).then((()=>t.focus()))}else{t.focus()}}.bind(this))};p.prototype._wireExternalEvents=function(){this.events=new a;if(this.options.events){Object.keys(this.options.events).forEach(function(e){this.events.on(e,this.options.events[e])}.bind(this))}};p.prototype._wireInternalEvents=function(){var e=$().add(this.$start);if(n.RANGE===this.options.selectionMode){e=e.add(this.$end)}e.on("input.calendarPicker",this._handleInput.bind(this));e.on("focus.calendarPicker",function(e){var t=$(e.currentTarget);if(this._hidePopoverTimeout){window.clearTimeout(this._hidePopoverTimeout);delete this._hidePopoverTimeout}if(this.options.toggleOnFocus){this._activatePopover(t)}else{this._setSelectingFromInput(t);if(this.$popover&&this.$popover.is(":visible")){this._positionPopover(this._popoverVisible)}}}.bind(this)).on("keydown.calendarPicker",function(e){if(e.which===27||e.which===9){this._hidePopover()}}.bind(this));$(window).on("resize.calendarPicker, scroll.calendarPicker",function(){if(this.$popover&&this.$popover.is(":visible")){this._positionPopover()}}.bind(this));$(window).on("resize",function(){if(this.$popover&&(0,u.isWidthBelowSupportedMinWidth)()){this.isMobileDevice=true;this.$popover.css({position:"absolute",left:`${this._horizontalPopoverPosition().left}px`,top:`${this.$anchor.offset().top+this.$anchor[0].getBoundingClientRect().height}px`,transform:""})}else if(this.$popover){this.isMobileDevice=false;this.$popover.css({position:"fixed",left:`0`,top:`0`});this._positionPopover()}}.bind(this))};p.prototype._documentClickHandler=function(e){const t=e.target;const a=this.$popover&&this.$popover[0];const s=this.toggleButtons.some((e=>e===t||$.contains(e,t)));const n=a&&$.contains(a,t);const i=this.$start&&this.$start[0]===t||this.$end&&this.$end[0]===t;const o=$.contains(document,t);if(i||s||n||!o){return}this._hidePopover()};p.prototype._handleInput=function(e){var t=$(e.currentTarget);var a=this._getTickFromInput(t);var s=t.is(this.$start)?a:this.start;var n=t.is(this.$end)?a:this.end;if(a&&a.isValid()){this._setRange(s,n)}this._validateRange(s,n)};p.prototype._normalizeToTick=function(e,t){if(!e){return null}var a=moment.isMoment(e)?e:moment(e,this.options.format,true);if(!a.isValid()&&typeof e==="string"){a=moment(e,moment.ISO_8601,true).startOf("day")}if(!a.isValid()&&!t){console.error("An invalid date was supplied to CalendarPicker");a=null}return a};p.prototype._createPopover=function(t){this.$popover=$('<div class="CalendarPicker__popover js-CalendarPicker__popover">');this.$popover.css({left:0,position:"fixed",top:0,visibility:"hidden","z-index":1e4});this.$caret=$('<div class="CalendarPicker__caret">').appendTo(this.$popover);if(e){this.$caret[0].innerHTML=`\n\t\t\t\t<svg width="26" height="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 15">\n\t\t\t\t\t<path d="M 0 12 L 12 0 L 24 12 Z" fill="currentColor" stroke="none"/>\n\t\t\t\t\t<path d="M 1 15 L 12 4 L 23 15 Z" stroke="none"/>\n\t\t\t\t\t<path d="M 1 15 L 12 4.5 L 23 15" fill="none"/>\n\t\t\t\t</svg>\n\t\t\t`}this.gridManager=this._createGridManager();this.gridManager.$element.appendTo(this.$popover);if(this.isMobileDevice){this.$popover.css({position:"absolute",left:`${t[0].getBoundingClientRect().left}px`,top:`${t.offset().top+t[0].getBoundingClientRect().height}px`})}this.$popover.appendTo(document.body);this._positionPopover()};p.prototype._activatePopover=function(e){if(!this.$popover){this._createPopover(e)}this._setSelectingFromInput(e);if(!this._popoverVisible){return this._showPopover()}else{return t.waitForRender().then((()=>this._positionPopover()))}};p.prototype._showPopover=function(){this.events.trigger("onBeforeShow",this);this.$popover.show();this._getCurrentlySelectingInput().addClass(c);this._boundDocumentClickHandler=this._documentClickHandler.bind(this);$(document).on("click.calendarPicker",this._boundDocumentClickHandler);return t.waitForRender().then((()=>{this._positionPopover();this._popoverVisible=true;this.$popover.css("visibility","visible");this.events.trigger("onAfterShow",this)}))};p.prototype._hidePopover=function(){this._hidePopoverTimeout=setTimeout(this._hidePopoverImmediately.bind(this),150)};p.prototype._hidePopoverImmediately=function(){this.events.trigger("onBeforeHide");if(this.$popover){this.$popover.css("visibility","hidden").hide()}this._popoverVisible=false;this.$start.removeClass(c);if(n.RANGE===this.options.selectionMode){this.$end.removeClass(c)}$(document).off("click.calendarPicker",this._boundDocumentClickHandler);this.events.trigger("onAfterHide")};p.prototype._getPopoverOffsets=function(){const e=this.$start[0].getBoundingClientRect();return{fromDateOffset:e,lastDateOffset:this.options.selectionMode==="range"?this.$end[0].getBoundingClientRect():e}};p.prototype._positionPopover=function(e){if(this.isMobileDevice){return}var t={};const{horizontalAnchor:a,left:s}=this._horizontalPopoverPosition();const{verticalAnchor:n,top:i}=this._verticalPopoverPosition();t.left=s;t.top=i;this.events.trigger("onBeforePosition",this.$popover,t);this.$popover.attr("horizontal-anchor",a).attr("vertical-anchor",n).css({transform:"translate3d("+Math.ceil(t.left)+"px, "+Math.ceil(t.top)+"px, 0)"});this._positionCaret(e);this.events.trigger("onAfterPosition",this.$popover,t)};p.prototype._horizontalPopoverPosition=function(){let e,t;let a=this.$popover.outerWidth(true);const{fromDateOffset:s,lastDateOffset:n}=this._getPopoverOffsets();let i=window.innerWidth-s.left;if(i<a&&s.right>a){t=n.right-a;e="right"}else{t=s.left;e="left"}return{left:t,horizontalAnchor:e}};p.prototype._verticalPopoverPosition=function(){let e=this.$popover.outerHeight(true);const{fromDateOffset:t,lastDateOffset:a}=this._getPopoverOffsets();let s=i.END===this.selecting?a:t;let n,o;let r=window.innerHeight-s.bottom;if(r<e&&s.top>e){o=s.top-e;n="bottom";this.$popover.addClass("CalendarPicker__popover--topAnchored");this.$caret.addClass("CalendarPicker__caret--topAnchored")}else{o=s.bottom;n="top";this.$popover.removeClass("CalendarPicker__popover--topAnchored");this.$caret.removeClass("CalendarPicker__caret--topAnchored")}return{top:o,verticalAnchor:n}};p.prototype._positionCaret=function(e){var t=i.END===this.selecting?this.$end:this.$start;var a=t.offset();var s=this.$popover.offset();var n=15;var o=this.$caret.outerWidth()/2;var r=a.left;if(this.$popover.attr("horizontal-anchor")==="left"||i.START===this.selecting){r+=n}else{r+=t.outerWidth()-n}var l=r-s.left-o;if(e){this.$caret.animate({left:l})}else{this.$caret.css({left:l})}};p.prototype._getGridManagerOptions=function(){return{autoSync:false,dualGrid:this.options.dualGrid,min:this.options.min,max:this.options.max,quickNav:this.options.quickNav,selectionMode:this.options.selectionMode,disableWeekends:this.options.disableWeekends,disableDays:this.options.disableDays}};p.prototype._createGridManager=function(){var e=this._getGridManagerOptions();var t;if(o.MONTH===this.options.period){t=new y(e)}else{t=new b(e)}t.events.on("select",this._selectHandler.bind(this));t.events.on("periodChange",function(){this._positionPopover();this.events.trigger("onPeriodChange",this)}.bind(this));t.events.on("render",function(){this.events.trigger("onRender",this)}.bind(this));return t};p.prototype._selectHandler=function(e,t,a){this._setRange(t,a);if(this.selecting===e){e=null}this._setSelecting(e)};p.prototype._updateGridManager=function(){var e=this._getPeriodTick();if(!this.gridManager){return}if(o.DAY===this.options.period){this.gridManager.setMonth(e.month(),e.year())}else if(o.MONTH===this.options.period){this.gridManager.setYear(e.year())}this.gridManager.updateSelection(this.selecting,this.start,this.end);this.gridManager.render()};p.prototype._setSelecting=function(e){var t=this._getSelectingInput(this.selecting);this.selecting=e;this._updateInputFocusClasses();if(!this.selecting){t.blur();this._hidePopoverImmediately();return}if(i.START===this.selecting){if(n.RANGE===this.options.selectionMode){this.$end.blur()}if(!this.$start.val().trim()&&n.RANGE===this.options.selectionMode&&!this.$start.is(":focus")){this.$start.focus()}else{this._hidePopoverImmediately()}}else if(n.RANGE===this.options.selectionMode&&i.END===this.selecting){this.$start.blur();if(!this.$end.val().trim()&&n.RANGE===this.options.selectionMode&&!this.$end.is(":focus")){this.$end.focus()}else{this._hidePopoverImmediately()}}};p.prototype._setSelectingFromInput=function(e){this.selecting=n.RANGE===this.options.selectionMode&&e.is(this.$end)?i.END:i.START;this._updateInputFocusClasses();this._updateGridManager()};p.prototype._updateInputFocusClasses=function(){var e;this._getInputs().removeClass(c);if(this._popoverVisible){e=this._getCurrentlySelectingInput();e.addClass(c)}};p.prototype._getSelectingInput=function(e){return n.RANGE===this.options.selectionMode&&i.END===e?this.$end:this.$start};p.prototype._getCurrentlySelectingInput=function(){return this._getSelectingInput(this.selecting)};p.prototype._updateInput=function(e,t,a){var s=e==="end"?this.$end:this.$start;var n=null;var i=s.val();if(!this.options.noFacade){n=e==="end"?this.$hiddenEnd:this.$hiddenStart;n.val(t?moment(t).format(r):"")}if(t){s.val(t.format(this.options.format))}else if(s.val().trim()){s.val("")}if(!a&&s.val()!==i){s.trigger("change")}};p.prototype.setRange=function(e,t){e=this._normalizeToTick(e);t=this._normalizeToTick(t);var a=this._validateRange(e,t);if(a.length){console.error("Invalid range specified",a)}this._setRange(e,t,true)};p.prototype._setRange=function(e,t,a){if(e&&e.isSame(this.start)&&t&&t.isSame(this.end)){return}if(n.RANGE===this.options.selectionMode){if(i.START===this.selecting&&t&&t.isBefore(e)){t=null;this._flashInput(this.$end)}else if(i.END===this.selecting&&e&&e.isAfter(t)){e=null;this._flashInput(this.$start)}}if(this.start!==e){e=e?moment(e).startOf(this.options.period):e;this.start=e;this._updateInput(i.START,this.start,a)}if(n.RANGE===this.options.selectionMode&&this.end!==t){t=t?moment(t).endOf(this.options.period):t;this.end=t;this._updateInput(i.END,this.end,a)}if(!a){this.events.trigger("select",this.start,this.end);this.$anchor.trigger("calendarPicker:rangeSet",this.getValue())}this._updateGridManager()};p.prototype._getTickFromInput=function(e){return this._normalizeToTick(e.val(),true)};p.prototype._getRangeFromInputs=function(){var e={start:this._getTickFromInput(this.$start)};if(n.RANGE===this.options.selectionMode){e.end=this._getTickFromInput(this.$end)}return e};p.prototype._validateRange=function(e,t){var a=[];if(e&&!e.isValid()||t&&!t.isValid()){a.push({code:"INVALID_ARGUMENT",message:"An invalid argument was supplied."})}if(e&&!this._isInRange(e)||t&&!this._isInRange(t)){a.push({code:"OUT_OF_BOUNDS",message:"An argument is outside of the min/max bounds"})}return a};p.prototype._getPeriodTick=function(){var e=this.options.max;var t=this.options.min;var a=moment();var s;var n=o.DAY===this.options.period?"month":"year";var r=false;var l=this.start&&this.start.isSame(this.end,n);if(this.start&&(i.START===this.selecting||l||!this.end)){s=this.start}else if(this.end&&(i.END===this.selecting&&!l||!this.start)){s=this.end;r=true}if(!s){if(this._isInRange(a)){s=a}else if(t&&t.isAfter(a)){s=t}else if(e&&e.isBefore(a)){s=e;r=true}else{s=a}}s=moment(s).startOf(n);if(this.options.dualGrid&&r){s=moment(s).subtract(1,n)}return s};p.prototype._isInRange=function(e){return t.isInRange(e,this.options.min,this.options.max,this.options.period)};p.prototype.validate=function(){var e=this._getRangeFromInputs();var t=this._validateRange(e.start,e.end);return t};p.prototype.validateInput=function(e){const{disableWeekends:a,disableDays:s}=this.options;var i=[];var o=$(e);if(n.RANGE===this.options.selectionMode&&!$.contains(this.$anchor.get(0),o.get(0))||n.RANGE!==this.options.selectionMode&&!this.$anchor.is(o)){throw new Error("The input supplied for validation isn't part of the Calendar Picker")}var r=this._normalizeToTick(o.val(),true);if(r){if(!r.isValid()){i.push({code:"INVALID_ARGUMENT",message:"This input contains an invalid value"})}if(!this._isInRange(r)){i.push({code:"OUT_OF_BOUNDS",message:"This input is outside of the min/max bounds"})}if(a&&t.isWeekend(r)){i.push({code:"NO_WEEKENDS",message:"This input cannot select a day on a weekend."})}if(s.indexOf(r.format("YYYY-MM-DD"))>-1){i.push({code:"DISABLED_DATE",message:"This input cannot select a disabled date."})}}return i};p.prototype.isValid=function(e){var t=e?this.validateInput(e):this.validate();return!t.length};p.prototype.isDirty=function(){var e=this._getRangeFromInputs();return e.start!==this._originalStart||e.end!==this._originalEnd};p.prototype._flashInput=function(e){var t=e[0].style.color;var a=e.css("backgroundColor");e.css({backgroundColor:"#FDFFD7"});setTimeout((function(){e.animate({backgroundColor:a},{complete:function(){e.css({backgroundColor:t})},duration:200})}),200)};p.prototype.getValue=function(e){e=e||r;if(n.RANGE===this.options.selectionMode){return{start:this.start?this.start.format(e):undefined,end:this.end?this.end.format(e):undefined}}return this.start?this.start.format(e):undefined};p.prototype.getFormattedValue=function(){return this.getValue(this.options.format)};function m(e,t){this.rows=e;this.columns=t;this.selecting=i.START;this.selectionMode=n.SINGLE;this.displayingTick=moment();this.data=[];this.events=new a;this.$element=$('<div class="CalendarGrid">')}m.prototype.setOptions=function(e){this.options={...this.options,...e};this.render()};m.prototype._wireEvents=function(){this.$element.off(".calendarGrid");this.$element.on("hover.calendarGrid","[data-cell-value]:not([data-cell-disabled])",function(e){var t=this._getTickFromCell(e.currentTarget);if(!t){return}this.events.trigger("cellHover",t);if(n.SINGLE!==this.selectionMode){this.highlightToTick(t)}}.bind(this));this.$element.on("click.calendarGrid","[data-cell-value]:not([data-cell-disabled])",function(e){var t=this._getTickFromCell(e.currentTarget);var a=this.selecting;e.stopPropagation();e.preventDefault();if(n.RANGE===this.selectionMode){this._setRangeBoundary(t,this.selecting)}else{this.start=t}if(n.RANGE===this.selectionMode){a=i.START===this.selecting?"end":"start"}this.selecting=a;this.events.trigger("cellSelect",a,this.start,this.end);this.render()}.bind(this));this.$element.on("selectstart",(function(e){e.preventDefault()}))};m.prototype._setRangeBoundary=function(e,t){if(i.START===this.selecting){this.start=e}else if(i.END===this.selecting){this.end=e}};m.prototype._getTickFromCell=function(e){if(e.hasAttribute("data-cell-value")){return moment(e.getAttribute("data-cell-value"))}};m.prototype._getCellFromTick=function(e){var t=e.toISOString();return this.$element.find('[data-cell-value="'+t+'"]')};m.prototype._isInRange=function(e){if(!this.start||!this.end){return false}return this.start.isSameOrBefore(e)&&this.end.isSameOrAfter(e)};m.prototype.highlightToTick=function(e){if(i.START===this.selecting&&this.start&&this.end&&this.end.isAfter(e)){this._getCellFromTick(this.start).removeClass("CalendarGrid__cell--selected")}else if(i.END===this.selecting&&this.end&&this.start&&this.start.isBefore(e)){this._getCellFromTick(this.end).removeClass("CalendarGrid__cell--selected")}else if(this.start&&this.end){this.resetHighlight();return}this.$element.find("[data-cell-value]").each(function(t,a){var s=this._getTickFromCell(a);var n=this.end&&this.end.isSameOrAfter(e)&&this.end.isSameOrAfter(s)&&s.isSameOrAfter(e);n=n&&i.START===this.selecting;var o=this.start&&this.start.isSameOrBefore(s)&&this.start.isSameOrBefore(s)&&s.isSameOrBefore(e);o=o&&i.END===this.selecting;var r=n||o;if(r){$(a).addClass("CalendarGrid__cell--inRange")}else{$(a).removeClass("CalendarGrid__cell--inRange")}this._toggleEdgeClasses(a,r)}.bind(this))};m.prototype._toggleEdgeClasses=function(e,t){var a=$(e);var s=a.prev();var n=a.next();if(!t){a.removeClass("CalendarGrid__cell--inRangeLeading CalendarGrid__cell--inRangeTrailing");return}if(!s.length||s.is("[data-cell-empty]")){a.addClass("CalendarGrid__cell--inRangeLeading")}else if(!n.length||n.is("[date-cell-empty]")){a.addClass("CalendarGrid__cell--inRangeTrailing")}};m.prototype.resetHighlight=function(){if(typeof this.onResetHighlight==="function"&&this.onResetHighlight()===false){return}this.$element.find("[data-cell-value]").each(function(e,t){var a=this._getTickFromCell(t);var s=this._isInRange(a);$(t).toggleClass("CalendarGrid__cell--inRange",s);this._toggleEdgeClasses(t,s);if(this.start&&this.start.isSame(a)||this.end&&this.end.isSame(a)){$(t).addClass("CalendarGrid__cell--selected")}}.bind(this))};m.prototype._getCellClasses=function(e){var t=e.tick;var a=["CalendarGrid__cell","CalendarGrid__cell--withValue"];if(this.start&&this.start.isSame(t)||this.end&&this.end.isSame(t)){a.push("CalendarGrid__cell--selected")}var s=n.RANGE===this.selectionMode;s=s&&this.start&&this.start.isSameOrBefore(t);s=s&&this.end&&this.end.isSameOrAfter(t);if(s){a.push("CalendarGrid__cell--inRange")}if(e.isNow){a.push("CalendarGrid__cell--now")}if(e.isDisabled){a.push("CalendarGrid__cell--disabled")}return a.join(" ")};m.prototype._adjustRowsForData=function(e){while(e*this.columns<this.data.length){e++}return e};m.prototype.render=function(){if(!this.rows){throw new Error("The number of rows must be specified to render a CalendarGrid")}if(!this.columns){throw new Error("The number of columns must be specified to render a CalendarGrid")}var e;var t=this._adjustRowsForData(this.rows);var a=0;var s="";s+='<div class="CalendarGrid__body">';for(var n=0;n<t;n++){s+='<div class="CalendarGrid__row">';for(var i=0;i<this.columns;i++){e=this.data[a];a++;if(!e||!e.tick){s+='<div class="CalendarGrid__cell CalendarGrid__cell--empty" data-cell-empty></div>';continue}s+='<div class="'+this._getCellClasses(e)+'" data-cell-value="'+e.tick.toISOString()+'"'+(e.isDisabled?"data-cell-disabled":"")+">";s+=e.text;s+="</div>"}s+="</div>"}s+="</div>";this.$element.html(s);this._wireEvents();return this.$element};function f(){var e;var t=moment().year();if(typeof arguments[0]==="object"){e=arguments[0]}else if(typeof arguments[1]==="object"){e=arguments[1]}else if(typeof arguments[0]==="number"){t=arguments[0]}m.call(this,3,4);this.options=$.extend(true,{},e);this.displayingTick=moment().startOf("year").year(t);this.data=this._generateGridData()}f.prototype=Object.create(m.prototype);f.prototype._getDisplayTick=function(e){e=typeof e==="number"?e:moment().year();return moment().startOf("year").year(e)};f.prototype.setYear=function(e){if(typeof e!=="number"){throw new Error("Invalid year argument")}this.displayingTick=this._getDisplayTick(e);this.data=this._generateGridData()};f.prototype._generateGridData=function(){var e=moment(this.displayingTick);var t=moment(this.displayingTick).endOf("year");var a=moment();var s=this.options.min;var n=this.options.max;var i=[];var o=e;while(o.isBefore(t)){i.push({isDisabled:s&&s.isAfter(o,"month")||n&&n.isBefore(o,"month"),isNow:a.isSame(o,"month"),text:o.format("MMM"),tick:o});o=moment(o).add(1,"months")}return i};function g(){var e=typeof arguments[0]==="number"?arguments[0]:moment().month();var t=typeof arguments[1]==="number"?arguments[1]:moment().year();var a=arguments.length===3&&typeof arguments[2]==="object"?arguments[2]:arguments[0];m.call(this,4,7);this.options=$.extend(true,{},a);this.setMonth(e,t);this.data=this._generateGridData()}g.prototype=Object.create(m.prototype);g.prototype._getDisplayingTick=function(e,t){t=typeof t==="number"?t:moment().year();e=typeof e==="number"?e:moment().month();return moment(new Date(t,e))};g.prototype.setMonth=function(e,t){if(typeof e!=="number"){throw new Error("Invalid year argument")}this.displayingTick=this._getDisplayingTick(e,t);this.data=this._generateGridData()};g.prototype._generateGridData=function(){var e=moment(this.displayingTick).startOf("month");var a=moment(this.displayingTick).endOf("month");var s=moment();const{min:n,max:i,disableWeekends:o,disableDays:r}=this.options;var l=new Array(e.weekday());var c=e;while(c.isBefore(a)){const e=n&&n.isAfter(c,"day");const a=i&&i.isBefore(c,"day");const d=o&&t.isWeekend(c);const u=r.indexOf(c.format("YYYY-MM-DD"))>-1;l.push({isDisabled:e||a||d||u,isNow:s.isSame(c,"day"),text:c.format("D"),tick:c});c=moment(c).add(1,"days")}return l};g.prototype.renderDaysOfWeek=function(){var e=moment().startOf("week");var t=moment().endOf("week");var a=e;var s="";s+='<div class="CalendarGrid__daysOfWeek">';while(a<t){s+='<div class="CalendarGrid__dayOfWeek">'+a.format("dd").substr(0)+"</div>";a.add(1,"days")}s+="</div>";return $(s)};g.prototype.render=function(){var e=m.prototype.render.call(this);var t=$('<div class="CalendarGrid__header">');t.append(this.renderDaysOfWeek);e.prepend(t);return e};function v(e){this.options=$.extend(true,{},this._getDefaultOptions(),e);this.events=new a;this._previousViewState={};this.$element=$('<div class="CalendarGridManager">')}v.prototype.setOptions=function(e){this.options=$.extend(true,{},this._getDefaultOptions(),this.options,e);var t={min:e.min,max:e.max,disableWeekends:this.options.disableWeekends,disableDays:this.options.disableDays};if(this.firstGrid){this.firstGrid.setOptions(t)}if(this.lastGrid){this.lastGrid.setOptions(t)}this.render()};v.prototype.getMin=function(e){e=e||this.options;let t=moment(e.min);if(t.isAfter(this.start)){t=this.start}return t};v.prototype.getMax=function(e){e=e||this.options;let t=moment(e.max);if(t.isBefore(this.end)&&e.selectionMode===n.RANGE){t=this.end}else if(t.isBefore(this.start)){t=this.start}return t};v.prototype._getDefaultOptions=function(){return{autoSync:true,display:"month",dualGrid:false,end:null,max:moment().add(20,"years"),min:moment().subtract(100,"years"),selectionMode:n.SINGLE,start:moment(),disableWeekends:false,disableDays:[]}};v.prototype._wireGrids=function(){this.firstGrid.selectionMode=this.options.selectionMode;if(this.options.dualGrid){this.lastGrid.selectionMode=this.options.selectionMode}};v.prototype._wireEvents=function(){this.$element.off(".calendarGridManager");this.$element.on("mouseleave.calendarGridManager",function(){this.firstGrid.resetHighlight();if(this.lastGrid){this.lastGrid.resetHighlight()}}.bind(this));this.$element.on("click.calendarGridManager","[data-prev-button]",function(){if(this._isPreviousDisabled()){return}this.previous();this.render();this.events.trigger("periodChange")}.bind(this));this.$element.on("click.calendarGridManager","[data-next-button]",function(){if(this._isNextDisabled()){return}this.next();this.render();this.events.trigger("periodChange")}.bind(this));this.$element.on("selectstart",(function(e){e.preventDefault()}));e.call(this);function e(){this.firstGrid.events.off("cellSelect",this._boundSelectHandler);if(this.options.dualGrid){this.lastGrid.events.off("cellSelect",this._boundSelectHandler)}this._boundSelectHandler=this._selectHandler.bind(this);this.firstGrid.events.on("cellSelect",this._boundSelectHandler);if(this.options.dualGrid){this.lastGrid.events.on("cellSelect",this._boundSelectHandler);this.firstGrid.events.off("cellHover",this._boundHoverHandler);this.lastGrid.events.off("cellHover",this._boundHoverHandler);this._boundHoverHandler=this._hoverHandler.bind(this);this.firstGrid.events.on("cellHover",this._boundHoverHandler);this.lastGrid.events.on("cellHover",this._boundHoverHandler)}}};v.prototype._selectHandler=function(e,t,a){this.events.trigger("select",e,t,a);if(this.options.autoSync){this.updateSelection(e,t,a);this.render()}};v.prototype._needsRender=function(){var e={displayTick:this.displayTick,end:this.end,selecting:this.selecting,start:this.start};return!t.isEqual(this._previousViewState,e)};v.prototype._isDisplayTickChanged=function(){return this._previousState.displayTick!==this.displayTick};v.prototype._hoverHandler=function(e){this.firstGrid.highlightToTick(e);this.lastGrid.highlightToTick(e)};v.prototype._getGridHeaderContent=function(e){return'<div class="CalendarGridManager__gridTitle">'+e.displayingTick.format(this.titleFormat)+"</div>"};v.prototype._isNextDisabled=function(){return false};v.prototype._isPreviousDisabled=function(){return false};v.prototype._renderGrid=function(e,t){var a=[""];var s=["CalendarGridManager__previousButton"];var n=["CalendarGridManager__nextButton"];var i=null;var o="";if(t==="previous"){a.push("CalendarGridManager__gridHeader--paddedRight")}else if(t==="next"){a.push("CalendarGridManager__gridHeader--paddedLeft")}if(this._isPreviousDisabled()){s.push("CalendarGridManager__previousButton--disabled")}if(this._isNextDisabled()){n.push("CalendarGridManager__nextButton--disabled")}o+='<div class="CalendarGridManager__grid">';o+='\t<div class="CalendarGridManager__gridHeader'+a.join(" ")+'">';if(t==="both"||t==="previous"){o+='\t<div class="'+s.join(" ")+'" data-prev-button></div>'}o+='\t\t<div class="CalendarGridManager__gridHeaderContent js-CalendarGridManager__gridHeaderContent"></div>';if(t==="both"||t==="next"){o+='\t<div class="'+n.join(" ")+'" data-next-button></div>'}o+="\t</div>";o+="</div>";i=$(o).append(e.render());i.find(".CalendarGridManager__gridHeaderContent").append(this._getGridHeaderContent(e));return i};v.prototype.updateSelection=function(e,t,a){this.start=t;this.end=a;this.selecting=e;this.firstGrid.start=this.start;this.firstGrid.end=this.end;this.firstGrid.selecting=this.selecting;if(this.options.dualGrid){this.lastGrid.start=this.start;this.lastGrid.end=this.end;this.lastGrid.selecting=this.selecting}};v.prototype.next=function(){throw new Error("This method should be implemented by a child class")};v.prototype.previous=function(){throw new Error("This method should be implemented by a child class")};v.prototype.render=function(){if(!this._needsRender()){return}this._previousViewState={displayTick:this.displayTick,end:this.end,selecting:this.selecting,start:this.start};this.$element.empty();var e=$('<div class="CalendarGridManager__grids">').appendTo(this.$element);var t=this._renderGrid(this.firstGrid,this.options.dualGrid?"previous":"both");t.appendTo(e);var a;if(this.options.dualGrid){a=this._renderGrid(this.lastGrid,"next");a.appendTo(e)}this._wireEvents();this.events.trigger("render");return this.$element};function y(){var e=typeof arguments[0]==="number"?arguments[0]:moment().year();var t=arguments.length===2?arguments[1]:arguments[0];v.call(this,t);this.titleFormat="YYYY";var a={min:t.min,max:t.max};this.firstGrid=this.lastGrid=new f(e,a);if(this.options.dualGrid){this.lastGrid=new f(e,a)}this._wireGrids();this.setYear(e)}y.prototype=Object.create(v.prototype);y.prototype._getDisplayTick=function(e){e=typeof e==="number"?e:moment().year();return moment().startOf("year").year(e)};y.prototype._isPreviousDisabled=function(){return moment(this.firstGrid.displayingTick).isSameOrBefore(this.getMin(),"year")};y.prototype._isNextDisabled=function(){return moment(this.lastGrid.displayingTick).isSameOrAfter(this.getMax(),"year")};y.prototype._getGridHeaderContent=function(e){var a;var s=false;var n=e.displayingTick;var i=this.getMax();var o=this.getMin();if(this.options.quickNav==="disabled"||this.options.quickNav==="auto"&&this.options.dualGrid){return v.prototype._getGridHeaderContent.call(this,e)}if(n.isAfter(i,"year")){i.add(1,"year");s=true}if(n.isBefore(o,"year")){o.subtract(1,"year");s=true}var a=t.createYearDropdown(o,i,n);a.prop("disabled",s);a.on("change",function(t){var a=parseInt($(t.target).val(),10);if(e!==this.firstGrid&&e===this.lastGrid){a--}this.setYear(a);this.render();this.events.trigger("periodChange")}.bind(this));return a.addClass("CalendarGridManager__gridHeaderDropdown")};y.prototype.setYear=function(e){this.displayTick=this._getDisplayTick(e);this.firstGrid.setYear(e);var t=moment(this.displayTick).add(1,"years");if(this.options.dualGrid){this.lastGrid.setYear(t.year())}};y.prototype.previous=function(){var e=moment(this.displayTick).subtract(1,"year");this.setYear(e.year())};y.prototype.next=function(){var e=moment(this.displayTick).add(1,"year");this.setYear(e.year())};function b(){var e=typeof arguments[0]==="number"?arguments[0]:moment().month();var t=typeof arguments[1]==="number"?arguments[1]:moment().year();var a=arguments.length===3&&typeof arguments[2]==="object"?arguments[2]:arguments[0];var s={min:a.min,max:a.max,disableWeekends:a.disableWeekends,disableDays:a.disableDays};v.call(this,a);this.titleFormat="MMMM YYYY";this.firstGrid=this.lastGrid=new g(e,t,s);if(this.options.dualGrid){this.lastGrid=new g(e,t,s)}this._wireGrids();this.setMonth(e,t)}b.prototype=Object.create(v.prototype);b.prototype._getDisplayTick=function(e,t){t=typeof t==="number"?t:moment().year();e=typeof e==="number"?e:moment().month();return moment(new Date(t,e))};b.prototype._isPreviousDisabled=function(){return moment(this.firstGrid.displayingTick).isSameOrBefore(this.getMin(),"month")};b.prototype._isNextDisabled=function(){return moment(this.lastGrid.displayingTick).isSameOrAfter(this.getMax(),"month")};b.prototype._getGridHeaderContent=function(e){var a,s;var n=false;var i=e.displayingTick;var o=this.getMax();var r=this.getMin();if(this.options.quickNav==="disabled"||this.options.quickNav==="auto"&&this.options.dualGrid){return v.prototype._getGridHeaderContent.call(this,e)}if(i.isAfter(o,"month")){o=o.add(1,"months");n=true}if(i.isBefore(r,"month")){r=r.subtract(1,"months");n=true}s=t.createYearDropdown(r,o,i);s.prop("disabled",n);s.on("change",function(t){var a=parseInt($(t.target).val(),10);var s=i.month();if(e!==this.firstGrid&&e===this.lastGrid){s=i.subtract(1,"months").month()}this.setMonth(s,a);this.render();this.events.trigger("periodChange")}.bind(this));a=t.createMonthDropdown(r,o,i);a.prop("disabled",n);a.on("change",function(t){var a=parseInt($(t.target).val(),10);var s=moment().month(a).year(i.year());if(e!==this.firstGrid&&e===this.lastGrid){s.subtract(1,"months")}this.setMonth(s.month(),s.year());this.render();this.events.trigger("periodChange")}.bind(this));return $().add(a).add(s).addClass("CalendarGridManager__gridHeaderDropdown")};b.prototype.setMonth=function(e,t){this.displayTick=this._getDisplayTick(e,t);this.firstGrid.setMonth(this.displayTick.month(),this.displayTick.year());var a=moment(this.displayTick).add(1,"months");if(this.options.dualGrid){this.lastGrid.setMonth(a.month(),a.year())}};b.prototype.previous=function(){var e=moment(this.displayTick).subtract(1,"months");this.setMonth(e.month(),e.year())};b.prototype.next=function(){var e=moment(this.displayTick).add(1,"months");this.setMonth(e.month(),e.year())};return p})($,moment);var h=a(34914);function p(e){let{dateString:t,name:a}=e;const n=new Date(`${t}T00:00:00`);return(0,s.Z)("input",{name:a,type:"hidden",value:(0,h.isValid)(n)?(0,h.format)(n,window.dateFnsDefaultFormat):""})}var m=a(88604);function f(e){if(typeof e!=="string"&&typeof e!=="number"||!e){return""}const t=/\d\d\d\d-\d\d-\d\d/g;return e.toString().match(t)?e.toString():(0,h.formatISO)((0,h.parse)(e.toString(),window.dateFnsDefaultFormat,new Date),{representation:"date"})}function g(e){switch(e){case"future-only":return(0,h.formatISO)((0,h.add)(new Date,{days:1}),{representation:"date"});case"past-only":return(0,h.formatISO)((0,h.sub)(new Date,{days:1}),{representation:"date"});default:return(0,h.formatISO)(new Date,{representation:"date"})}}function v(e){const t={"future-only":"minDate","now-and-future-only":"minDate","now-and-past-only":"maxDate","past-only":"maxDate"};return t[e]}function y(e){const t={"calendar-picker":true,"dual-grid":true,"toggle-on-focus":true,type:true,"quick-nav":true};const a={end:"endValue",max:"maxDate",min:"minDate",start:"startValue"};if(t[e]){return}if(a[e]){return a[e]}if(e==="data-width"){return"width"}if(e==="no-facade"){return"noFacade"}return e}function b(e){const t={};const a=e.getAttributeNames();a.forEach((a=>{let s=v(a);if(s){t[s]=g(a)}s=y(a);if(s==="noFacade"){t[s]=true;return}if(s){t[s]=e.getAttribute(a)}}));return t}function w(e){const{name:t,value:a="",noFacade:r,...l}=e;const[c,d]=(0,n.useState)(f(a));return i().createElement(i().Fragment,null,i().createElement(o.DatePicker,(0,m.Z)({},l,{onChange:e=>{let{value:t}=e;d(t)},value:c})),r?(0,s.Z)(p,{dateString:c,name:t}):"")}var S=a(26570);var C=a(82543);const x=window.location.href.includes("/self_onboarding/");let T="btn btnIcon";let E='<img src="/images/color-branded-icons/calendar-input-icon.svg" class="branded-icon"></span>';if((0,d.isEnabled)("jade")){T="fab-TextInput__button fab-TextInput__button--right";E=(0,l.renderToStaticMarkup)((0,s.Z)("span",{className:"fab-TextInput__buttonIcon"},void 0,(0,s.Z)(o.Icon,{name:"fab-calendar-15x16"})))}const k={toggleButton:`\n\t\t<button type="button" class="${T}">\n\t\t\t${E}\n\t\t</button>\n\t`,events:{onRender:L,onAfterShow:L}};S((function(){Z(S("[calendar-picker]"));S("[calendar-picker]").observe((function(){Z(this)}))}));function Z(e){if(x){q(e)}else{O(e)}}function F(e){return!e.is("[no-mask]")}function I(e,t){var a=t||window.GLOBAL_DATE_MASK||"mm/dd/yyyy";if(e.inputmask){e.inputmask({alias:a,oncomplete(){e.trigger("inputmask:complete");e.one("blur",(()=>{e.trigger("change")}))},onincomplete(){e.trigger("inputmask:incomplete")},isComplete(e,t){const s=C.convert.jQuery(a);return C(e.join(""),s,true).isValid()}}).trigger("masked")}}function N(e){if(!e.attr("placeholder")&&(0,d.isEnabled)("jade")){e.attr("placeholder",e.inputmask("getemptymask"))}e.data("placeholderTrigger","focus")}function A(e){let t=null;switch(e.attr("calendar-picker")){case"month":case"month-range":t="MMM YYYY";break}return t}function M(e,t){var a=e.find("[range-start]");var s=e.find("[range-end]");if(F(e)){I(a,t.customFormat);I(s,t.customFormat)}e.calendarPicker(t);N(a);N(s);P(a);P(s)}function D(e,t){if(F(e)){I(e,t.customFormat)}e.calendarPicker(t);N(e);setTimeout((()=>{P(e)}))}function P(e){var t=e.closest("[bhrvalidate-initiated]");if(!t.length){return}e.rules("add",{validateCalendarPicker:true})}function L(e){const{$popover:t}=e;const a=t.find("select");if(!t.is(":visible")){return}e.$popover.css({zIndex:(0,c.getMaxZIndex)()});a.attr("data-disable-search","true").chosen()}function O(e){S(e).each((function(e,t){const a=S(t);R(a)}))}function R(e){const t={...k,customFormat:A(e),noFacade:e[0].hasAttribute("no-facade")&&e[0].getAttribute("no-facade")!=="false"};switch(e.attr("calendar-picker")){case"date-range":case"month-range":M(e,t);break;default:D(e,t);break}}function B(e,t){const a=e.parent(".dateFieldWrapper")[0];if(a){(0,r.s)(i().createElement(w,t),a);setTimeout((()=>{P(e)}))}}function j(e,t){M(e,t)}function H(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){switch(e){case"date-range":case"month-range":return M;default:return D}}switch(e){case"date-range":return j;case"month":return D;case"month-range":return M;default:return B}}function q(e){S(e).each((function(e,t){const a=S(t);if(a.parents(".repeatPrototype")[0]){return}if(a[0].hasAttribute("render-jQuery-date-picker")){R(a)}const s=b(t);const n=H(a.attr("calendar-picker"));n(a,{customFormat:A(a),...s})}))}},8575:(e,t,a)=>{"use strict";a.d(t,{m:()=>n});class s{static get className(){return"Cancelable"}constructor(){this.instance=null}on(e){this.cancel();this.instance=e;e.promise.then((()=>{this.instance=null}));return e}cancel(){if(this.instance){this.instance.cancel();this.instance=null}}}function n(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}return{promise:e,request:a.reduce(((e,t)=>e.concat(t)),[]),cancel:function(){this.request.forEach((e=>e.abort()))}}}t["Z"]=s},13686:(e,t,a)=>{"use strict";a.d(t,{TH:()=>x,vz:()=>N,K_:()=>R,xm:()=>z,Ob:()=>K,YE:()=>ue,ub:()=>we,VB:()=>xe,Gm:()=>De,wW:()=>rt,i0:()=>st,Xb:()=>pt,BL:()=>dt});var s=a(44119);var n=a(3268);var i=a(38264);var o=a(54300);var r=a(30102);var l=a(6054);var c=a(73641);var d=a(65843);const u=e=>({bubbles:true,detail:e});function h(e,t){return e.dispatchEvent(t)}function p(e,t,a){let s=a[t];let n=new CustomEvent(d._D,u(e));h(s,n)}function m(e,t,a){let s=a[t];let n=new CustomEvent(d.xN,u(e));h(s,n)}function f(e,t,a){let s=a[t];let n=new CustomEvent(d.wQ,u(e));h(s,n)}function g(e,t,a){let s=a[t];let n=new CustomEvent(d.Zl,u(e));h(s,n)}var v=a(71141);var y=a(8346);class b{static get className(){return"BaseChart"}constructor(){this._setupResizeEventListener()}draw(e){console.error("BaseChart.draw() Must be implemented via the extending class")}resize(){console.error("BaseChart.resize() Must be implemented via the extending class")}getSettings(){return this._settings}hasAxis(){let e=this.getSettings();if(typeof e.container.axis==="undefined"){return false}return typeof e.container.axis.hasAxis!=="undefined"&&e.container.axis.hasAxis}_createRoot(){let{height:e,flexHeight:t,margin:a}=this.getSettings().container;let s=e+a.top+a.bottom;let n=this._getContainerWidth()+a.left+a.right;this._svg=(0,y.Ys)(this._selector).append("div").attr("class",this._buildClassList("Container")).style("height",(e=>{if(!t){return`${s}px`}return`auto`})).append("svg").attr("class",this._buildClassList()).style("width",`${n}px`).style("height",`${s}px`).attr("transform",`translate(${a.left}, ${a.top})`);this._g=this._svg.append("g")}_validateRequirements(){let{chartClass:e}=this.getSettings();if(!e){console.error(`${this._CLASS_NAME} requires 'chartClass' settings object to be populated`)}}_buildClassList(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=`${this._CLASS_NAME}${e}`;let a=this.getSettings();if(a.chartClass!==""){t+=` ${a.chartClass}${e}`}return t}_getClassList(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let{chartClass:t}=this.getSettings();return`.${t}${e}`}_setupResizeEventListener(){window.addEventListener("resize",(()=>{this._updateSVGWidth();this.resize()}))}_getContainerWidth(){const e=this.getSettings();let t=e.container.width;if(t==="auto"&&this._selector){t=this._selector.clientWidth}return t}_getSVGDimensionsObject(){let e=this._svg.node();let t=e.getBBox();return t}_updateSVGWidth(){const e=this._svg.node();if(!e){return}const t=this._getContainerWidth();(0,y.Ys)(e).style("width",`${t}px`)}_animateElements(e,t){if(this.getSettings().animate){return t(e)}return e}_dynamicallyAdjustSVGHeight(){let e=this._svg.node();if(!e){return}let t=this._getSVGDimensionsObject();let a=15;let s=t.y+t.height+a;let n=0;this._animateElements((0,y.Ys)(e),(t=>t.transition().duration(500).style("height",`${s}px`).on("start",(()=>{n++})).on("end",(()=>{if(--n===0&&document.contains&&document.contains(e)){this._dynamicallyAdjustAxisHeight()}})))).style("height",`${s}px`)}_dynamicallyAdjustAxisHeight(){if(this.hasAxis()){const e=this._svg.node();(0,y.Ys)(this._getClassList("__xAxis")).selectAll("line").transition().delay(1e3).filter((function(){return document.contains(e)})).attr("y2",(()=>{const e=this._getSVGDimensionsObject();return e.height}))}}_convertValueLengthToPixelSpace(e){this._svg.append("g").attr("translate","transition(10000, 0").attr("class","text-to-pixel-group").append("text").text(e);let t=(0,y.Ys)(".text-to-pixel-group");let a=t.select("text").node().getComputedTextLength();t.remove();return a}}var moment=a(82543);const w="AreaChart";const S={chartClass:"",container:{height:200,width:400,margin:{top:10,right:10,bottom:30,left:0}},xAxisTickCount:l.Z.every(1),xAxisTickFormat:moment.shortFormat,yAxisLabelWidth:40,yAxisMin:null,yAxisMax:null,pathStrokeWidth:2,drawEndDot:false};const C=(0,v.isEnabled)("jade");class x extends b{static get className(){return"AreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:S;super();(0,s.Z)(this,"_minYDrawnValue",0);this._selector=e;this._CLASS_NAME=w;this._settings=(0,c.defaultsDeep)({},t,S);this._validateRequirements();this._createRoot()}draw(e){const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;const s=t.map((e=>e.points.map((e=>e.x)))).reduce(((e,t)=>e.concat(t)));const i=t.map((e=>e.points.map((e=>e.y)))).reduce(((e,t)=>e.concat(t)));const o=this._settings;const r=o.yAxisMin===null?Math.floor((0,n.VV)(i)/10)*10:o.yAxisMin;const l=o.yAxisMax===null?Math.ceil((0,n.Fp)(i)/10)*10:o.yAxisMax;this._minYDrawnValue=r;this._xScale=this._getXScale(s);this._yScale=this._getYScale(r,l);this._drawAreas();this._drawXAxis(s);this._drawXAxisExtraInfo();this._drawYAxis()}_getXScale(e){const{container:{margin:t},yAxisLabelWidth:a}=this._settings;return(0,o.Xf)().domain((0,n.We)(e,(e=>new Date(e)))).range([a,this._getContainerWidth()-t.right])}_getYScale(e,t){const{container:{height:a,margin:s}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([a,s.top])}_getYScaleText(e){const{yAxisUseWholeValue:t}=this._settings;return`${e}${t?"":"%"}`}_getColor(e,t){const a=this._settings;if(a.colors){e.color=a.colors[t]}return e.color?e.color:""}_drawAreas(){this._drawAreaGroups();this._drawLineGroups()}_removeTrailingNullPoints(e){const t=e.reduce(((e,t,a)=>t&&t.y?a:e),0);return e.filter(((e,a)=>a<=t))}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>{const a=this._getColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const s=t.merge(a);const n=(0,r.SO)().x((e=>this._xScale(new Date(e.x)))).y0((()=>this._minYDrawnValue?this._yScale(this._minYDrawnValue):this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`${C?"AreaChart--themeFill":"baseFillColor"} ${this._buildClassList("__area")}`).style("fill",((e,t)=>this._getColor(e,t)));s.select(this._getClassList("__area")).attr("d",(e=>n(this._removeTrailingNullPoints(e.points))));t.exit().remove()}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(this._areas);const s=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>{const a=this._getColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const n=a.merge(s);const i=(0,r.jv)().x((e=>this._xScale(new Date(e.x)))).y((e=>this._yScale(e.y)));s.append("path").attr("class",`${C?"AreaChart--themeStroke":"baseStrokeColor"} ${this._buildClassList("__line")}`).style("fill","none").style("stroke",((e,t)=>this._getColor(e,t))).style("stroke-width",t.pathStrokeWidth+"px");if(t.drawEndDot){const e=e=>{let{x:t,y:a}=e;return{x:this._xScale(new Date(t)),y:this._yScale(a)}};const t=t=>t&&t.points?e(this._removeTrailingNullPoints(t.points).pop()):{x:this._xScale(0),y:this._yScale(0)};s.append("circle").attr("class",`${C?"AreaChart--themeFill":"baseFillColor"} ${this._buildClassList("__endDot")}`).attr("fill",this._getColor.bind(this)).attr("pointer-events","none").attr("r",4).attr("cx",(e=>t(e).x)).attr("cy",(e=>t(e).y))}n.select(this._getClassList("__line")).attr("d",(e=>i(this._removeTrailingNullPoints(e.points))));a.exit().remove()}_drawXAxis(e){const{container:{height:t},xAxisTickCount:a,xAxisTickFormat:s}=this._settings;const o=this._svg;this._xScale.domain((0,n.We)(e.map((e=>this._resetTimeValues(e))),(e=>this._resetTimeValues(e))));const r=(0,i.axisBottom)(this._xScale).ticks(a).tickFormat((e=>moment(e).format(s)));const l=o.select(this._getClassList("__xAxis")).empty();if(l){o.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(0, ${t})`).call(r)}else{o.select(this._getClassList("__xAxis")).call(r)}}_drawXAxisExtraInfo(){if(this._xAxisExtraInfo){const e=this._svg;const t=e.selectAll(this._getClassList("__xAxisExtraInfo")).data(this._xAxisExtraInfo);const a=t.enter().append("g").attr("class",this._buildClassList("__xAxisExtraInfo")).on("mouseover",f);const s=t.merge(a);t.exit().remove();this._drawXAxisExtraInfoLine(a,s);this._drawXAxisExtraInfoCircle(a,s);this._drawXAxisExtraInfoIcon(a,s)}}_drawXAxisExtraInfoLine(e,t){const{container:{height:a,margin:s}}=this._settings;const n=a+s.bottom-33;const i=n+14;e.append("line").attr("class",this._buildClassList("__xAxisExtraInfoLine"));t.select(this._getClassList("__xAxisExtraInfoLine")).attr("x1",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("x2",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("y1",n).attr("y2",i).style("stroke","#d8d8d8").style("stroke-width","1px")}_drawXAxisExtraInfoCircle(e,t){const{container:{height:a,margin:s}}=this._settings;e.append("circle").attr("class",this._buildClassList("__xAxisExtraInfoCircle"));t.select(this._getClassList("__xAxisExtraInfoCircle")).attr("cx",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("cy",a+s.bottom-10).attr("r",10).style("fill","#fff").style("stroke","#d8d8d8").style("stroke-width","1px")}_drawXAxisExtraInfoIcon(e,t){const{container:{height:a,margin:s}}=this._settings;e.append("svg").attr("class",this._buildClassList("__xAxisExtraInfoIcon"));t.select(this._getClassList("__xAxisExtraInfoIcon")).attr("height",12).attr("width",12).attr("x",(e=>this._xScale(this._resetTimeValues(e.x))-6)).attr("y",a+s.bottom-16).style("fill","#b1b1b1").append("svg:use").attr("xlink:href",(e=>this._getIcon(e.event)))}_getIcon(e){const t={launch:"#fab-star-13x12",email:"#fab-envelope-12x10"};return t[e]}_drawYAxis(){const{container:{margin:e,width:t},yAxisLabelWidth:a}=this._settings;const s=this._svg;const n=(0,i.axisLeft)(this._yScale).ticks(5).tickFormat((e=>this._getYScaleText(e)));const o=s.select(this._getClassList("__yAxis")).empty();if(o){s.append("g").attr("transform",`translate(${a})`).attr("class",this._buildClassList("__yAxis")).call(n)}else{s.select(this._getClassList("__yAxis")).call(n)}s.select(this._getClassList("__yAxis")).selectAll("line").attr("x2",(()=>t-a-e.right)).attr("style",((e,t,a)=>{if(t===0){return"stroke-dasharray: 0"}}))}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}}var T=a(16307);var E=a(46133);const k={bars:{classNameModifier:"",mouseEvents:{}},barTitles:{classNameModifier:"",padding:7,height:17,uppercase:true},barSubtitles:{show:false,height:14},barValues:{show:true,suffix:""},barTooltips:{className:""},className:"",height:310,paddingTop:57,responsive:true,width:658,useTransitions:false};const Z="ba-BarChart";const F=2;const I="#E8E8E8";class N{static get className(){return"BarChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:k;this._selector=e;this._options=(0,c.defaultsDeep)({},t,k);this._maxBarHeight=this._options.height-this._options.barTitles.height-this._options.barTitles.padding-this._options.paddingTop;if(this._options.barSubtitles.show){this._maxBarHeight-=this._options.barSubtitles.height}this._svg=this._createSvg();this._configure()}_createSvg(){let e=(0,y.Ys)(this._selector).classed(Z,true).classed(this._options.className,this._options.className);e.selectAll("*").remove();let t=e.append("div").classed(`${Z}__container`,true).classed(`${this._options.className}__container`,this._options.className);let a=t.append("svg").classed(`${Z}__svg`,true).classed(`${this._options.className}__svg`,this._options.className).attr("viewBox","0 0 "+this._options.width+" "+this._options.height);if(this._options.responsive){t.classed("container",true).attr("style","display:inline-block;position:relative;width:100%;padding-bottom:47.11%;vertical-align:top;overflow:hidden;");a.classed("responsive",true).attr("style","display:inline-block;position:absolute;left:0;top:0;").attr("preserveAspectRatio","xMinYMin meet")}else{a.style("height",this._options.height+"px").style("width",this._options.width+"px")}this._addDefs(a);return a}_addDefs(e,t){const a=(0,v.isEnabled)("jade")?"BarChart--fillThemeColor":"baseFillColor";let s=t?t.replace("#",""):"";let n=e.append("defs").append("pattern").attr("height",6).attr("id","diagonalHatchPattern"+s).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(-45)").attr("width",6);let i=n.append("rect").attr("height","100%").attr("fill","rgb(255, 255, 255)").attr("fill-opacity","0.6").attr("width","100%");let o=n.append("rect").attr("height",3).attr("width",6);if(t){i.attr("fill",t);o.attr("fill",t)}else{i.attr("class",a);o.attr("class",a)}}_configure(){const e=(0,v.isEnabled)("jade")?"BarChart--fillThemeColor":"baseFillColor";const t=(0,v.isEnabled)("jade")?"Lato":"Source Sans Pro";this._barsArea=this._svg.append("g").attr("class",`${Z}__barsArea ${e}`).classed(`${this._options.className}__barsArea`,this._options.className).attr("transform",`translate(0, ${this._options.paddingTop})`).attr("opacity",.8);this._valuesArea=this._svg.append("g").attr("class",`${Z}__valuesArea ${e}`).classed(`${this._options.className}__valuesArea`,this._options.className).attr("transform",`translate(0, ${this._options.paddingTop})`).attr("font-family",t).attr("font-size","13").attr("text-anchor","middle");let a=this._options.height-this._options.barTitles.height;if(this._options.barSubtitles.show){a-=this._options.barSubtitles.height}this._titlesArea=this._svg.append("g").classed(`${Z}__titlesArea`,true).classed(`${this._options.className}__titlesArea`,this._options.className).attr("transform","translate(0, "+a+")").attr("font-family",t).attr("font-size","13").attr("fill","#777").attr("text-anchor","middle");if(this._options.barTitles.uppercase){this._titlesArea.style("text-transform","uppercase")}if(this._options.barSubtitles.show){this._subtitlesArea=this._svg.append("g").classed(`${Z}__subtitlesArea`,true).classed(`${this._options.className}__subtitlesArea`,this._options.className).attr("transform","translate(0, "+(this._options.height-this._options.barSubtitles.height)+")").attr("font-family",t).attr("font-size","10px").attr("fill","#777").attr("text-anchor","middle")}this._groupLabels=this._svg.append("g").classed(`${Z}__groupLabelsArea`,true).classed(`${this._options.className}__groupLabelsArea`,this._options.className).attr("transform","translate(0, "+16+")").attr("font-family",t).attr("font-size","19");this._groupDividers=this._svg.append("g").classed(`${Z}__groupDividersArea`,true).classed(`${this._options.className}__groupDividersArea`,this._options.className).attr("stroke","#d7d7d7").attr("stroke-width",1).attr("opacity",.9)}draw(e){let t=(0,o.ti)().range([0,this._options.width]).round(true).paddingInner(.42).domain(e.map(((e,t)=>t)));let a=(0,o.BY)().rangeRound([this._maxBarHeight-F,0]).domain([0,(0,n.Fp)(e,(e=>Array.isArray(e)?(0,n.Fp)(e,(e=>Number(e.value))):Number(e.value)))]);const s=e.reduce(((t,a,s)=>{if(s===0||e[s-1].groupName!==a.groupName){t.push(Object.assign(a,{originalIndex:s}))}return t}),[]);const i=this._svg.transition().delay(1e3).duration(600).ease(T.cC);this._drawBars(e,t,a,i);if(this._options.barValues.show){this._drawBarValues(e,t,a,i)}const r=e=>{let t=Array.isArray(e)?e[e.length-1].displayType:e.displayType;let a;if(Array.isArray(e)){a=e[e.length-1].titleColor||e[e.length-1].color}else{a=e.titleColor||e.color}return t==="unselected"?I:a};const l=this._titlesArea.selectAll(`.${Z}__title`).data(e);const c=l.enter().append("text").classed(`${Z}__title`,true).classed(`${this._options.className}__title`,this._options.className).attr("y",14).merge(l).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).text((e=>Array.isArray(e)?e[e.length-1].title:e.title)).attr("fill",r);if(this._options.barTitles.classNameModifier){c.classed(`${this._options.className}__title--${this._options.barTitles.classNameModifier}`,(e=>Array.isArray(e)?e[e.length-1].modifyTitle:e.modifyTitle))}l.exit().remove();if(this._options.barSubtitles.show){const a=this._subtitlesArea.selectAll(`.${Z}__subtitle`).data(e);a.enter().append("text").merge(a).classed(`${Z}__subtitle`,true).classed(`${this._options.className}__subtitle`,this._options.className).attr("y",8).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).filter((e=>Array.isArray(e)?e[e.length-1].subtitle&&e[e.length-1].subtitle.length:e.subtitle&&e.subtitle.length)).text((e=>Array.isArray(e)?e[e.length-1].subtitle:e.subtitle)).attr("fill",r)}const d=this._groupLabels.selectAll(`.${Z}__groupLabel`).data(s);d.enter().append("text").classed(`${Z}__groupLabel`,true).classed(`${this._options.className}__groupLabel`,this._options.className).attr("y",0).merge(d).attr("x",(e=>t(e.originalIndex))).text((e=>e.groupName));d.exit().remove();const u=this._groupDividers.selectAll(`.${Z}__groupDivider`).data(s);u.enter().append("line").classed(`${Z}__groupDivider`,true).classed(`${this._options.className}__groupDivider`,this._options.className).attr("y1",0).attr("y2",this._options.height).merge(u).attr("visibility",(e=>e.originalIndex===0?"hidden":"visible")).attr("x1",(e=>Math.round(t(e.originalIndex)-(t.step()-t.bandwidth())/2))).attr("x2",(e=>Math.round(t(e.originalIndex)-(t.step()-t.bandwidth())/2)));u.exit().remove();BambooHR.Components.Tooltip.init()}_drawBars(e,t,a,s){let n=e=>this._maxBarHeight-a(e.value);let i=e=>a(e.value);let o=this._barsArea.selectAll(`.${Z}__barGroup`).data(e);let r=o.enter().append("g").classed(`${Z}__barGroup`,true).classed(`${this._options.className}__barGroup`,this._options.className).attr("data-index",((e,t)=>t));r=o.merge(r).selectAll(`.${Z}__bar`).data((e=>Array.isArray(e)?e:[e])).enter().append("rect").classed(`${Z}__bar js-${Z}__bar`,true).classed(`${this._options.className}__bar`,this._options.className).attr("height",n).attr("width",t.bandwidth()).attr("x",(function(){return t(this.parentNode.getAttribute("data-index"))})).attr("y",i).attr("rx","2").attr("ry","2").attr("data-tip-class",this._options.barTooltips.className).attr("data-tip-z-index","auto").attr("data-tip-content",(e=>e.tooltip)).attr("data-tip-lead",(e=>e.tooltipLead)).on("mouseenter",this._options.bars.mouseEvents.mouseenter||function(){(0,y.Ys)(this).style("opacity",.85)}).on("mouseleave",this._options.bars.mouseEvents.mouseleave||function(){(0,y.Ys)(this).style("opacity",1)}).on("click",(function(e){this.dispatchEvent(new CustomEvent("ba:barClick",{bubbles:true,detail:{data:e}}))}));if(this._options.useTransitions){r.attr("height",0).attr("y",this._maxBarHeight);r.transition(s).attr("height",n).attr("y",i)}if(this._options.bars.classNameModifier){r.classed(`${this._options.className}__bar--${this._options.bars.classNameModifier}`,(e=>e.modifyBar))}r.attr("fill",(e=>{if(e.displayType==="unselected"){return I}else if(e.displayType==="partial"){if(e.color){const t=e.color?e.color.replace("#",""):"";const a="#diagonalHatchPattern"+t;if(this._svg.select(a).empty()){this._addDefs(this._svg,e.color)}return`url(${a})`}return"url(#diagonalHatchPattern)"}return e.color}));r.exit().remove()}_drawBarValues(e,t,a,s){let{suffix:n}=this._options.barValues;let i=e=>a(e.value)-5;let o=this._valuesArea.selectAll(`.${Z}__valueGroup`).data(e);let r=o.enter().append("g").classed(`${Z}__valueGroup`,true).classed(`${this._options.className}__valueGroup`,this._options.className).attr("data-index",((e,t)=>t));r=o.merge(r).selectAll(`.${Z}__value`).data((e=>Array.isArray(e)?e:[e])).enter().append("text").classed(`${Z}__value`,true).classed(`${this._options.className}__value`,this._options.className).attr("x",(function(){return t(this.parentNode.getAttribute("data-index"))+t.bandwidth()/2})).attr("y",i);if(this._options.useTransitions){r.attr("y",this._maxBarHeight);r.transition(s).attr("y",i).tween("text",(function(e){var t=(0,E.sX)(0,e.value);var a=(0,y.Ys)(this);return function(e){var s=Math.ceil(t(e)*100)/100;a.text(n?s+n:s)}}))}else{r.text((e=>n?e.value+n:e.value))}r.attr("fill",(e=>e.displayType==="unselected"?I:e.color));r.exit().remove()}}var A=a(34387);const M="BarChartSingle";const D=1140;const P=993;const L={chartClass:"",title:{fill:["#777","#777"],icon:{name:"",width:"",height:"",fill:""}},defaultFill:"#ddd",container:{height:52,width:993},bar:{height:46,width:993,leftMargin:10,radius:3}};let O=0;class R{static get className(){return"BarChartSingle"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:L;(0,s.Z)(this,"titlePosition",((e,t)=>{let a;let s=e.title.width+e.title.icon.width+e.bar.leftMargin+10;if(s<t(e.bar.width)){a=e.bar.leftMargin;O=0}else{a=t(e.bar.width)+e.bar.leftMargin;O=1}return"translate("+a+", "+e.bar.height/2+")"}));(0,s.Z)(this,"makeRect",((e,t)=>{let a=t(e.bar.width||1);let s=e.bar.height;let n=e.bar.radius||3;return`\n\t\t\tM 0, 0\n\t\t\th ${a-n}\n\t\t\ta ${n}, ${n} 0 0 1 ${n}, ${n}\n\t\t\tv ${s-2*n}\n\t\t\ta ${n}, ${n} 0 0 1 -${n}, ${n}\n\t\t\th ${n-a}\n\t\t\tz\n\t\t`}));(0,s.Z)(this,"resize",(()=>{let e=document.querySelector(".ReportBody").offsetWidth;let t=document.querySelector(".NotHiredChartSetLegend").offsetWidth;if((0,c.inRange)(e,P,D)){this._options.container.width=e-t;var a=document.querySelectorAll(".BarChartSingle");for(var s=a.length;s--;){a[s].style.width=e-t+"px"}let n=(0,o.BY)().range([0,this._options.container.width]).domain([0,100]);this._updateBars([this._options],n)}}));this._selector=e;this._options=(0,c.defaultsDeep)({},t,L);this._createDom();const a=(0,c.throttle)(this.resize,20);window.addEventListener("resize",a)}_createDom(){let e=(0,y.Ys)(this._selector).append("div").attr("class",`${M} ${this._options.chartClass}`).style("height",`${this._options.container.height}px`).style("width",`${this._options.container.width}px`);this._svg=e.append("svg").attr("class",`${M}__bar`).attr("viewBox",`0 0 ${this._options.container.width} ${this._options.container.height}`).attr("preserveAspectRatio","xMaxYMin meet").style("height",`${this._options.container.height}px`).style("width",`${this._options.container.widthp}px`)}draw(e){let t=(0,o.BY)().range([0,e.container.width]).domain([0,100]);this._drawBars([e],t)}_updateBars(e,t){let a=this._svg.select("g").data(e);a.select("path").attr("d",(e=>this.makeRect(e,t)));a.select("g").attr("transform",(e=>this.titlePosition(e,t)))}_drawBars(e,t){let a=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("fill",(e=>e.defaultFill));a.append("path").attr("d",(e=>this.makeRect(e,t))).on("mouseenter",((e,t,a)=>{if(e.hasOwnProperty("popover")){this._onPathEnter(a[t].parentNode,e.popover)}}));let s=a.append("g").attr("transform",(e=>this.titlePosition(e,t))).attr("fill",(e=>e.title.fill[O])).attr("height",(e=>e.bar.height)).attr("width",(e=>e.title.width+e.title.icon.width+e.bar.leftMargin));let n=s.append("svg").attr("width",(e=>e.title.icon.width)).attr("height",(e=>e.title.icon.height)).attr("viewBox","0 0 18 18").attr("x",0).attr("y",(e=>-e.title.icon.height/2)).attr("xmlns:xlink","http://www.w3.org/1999/xlink");n.append("use").attr("xlink:href",(e=>e.title.icon.name));s.append("text").text((e=>e.title.text)).attr("x",(e=>e.title.icon.width+e.bar.leftMargin/2)).attr("y","0").attr("dy","0.7ex")}_onPathEnter(e,t){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",this._options.bar.height);if(!A.Z.hasInstance(e)){A.Z.create(e,{template:{name:"popover-standard",data:{title:t.title,content:t.content,rawContent:true,popoverClass:`${M}__popover ${this._options.chartClass}__popover`,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600","font-size":"18px"},contentCssOverride:{"text-align":"center"}}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:2,delay:75})}}}var B=a(38592);const j="BarChartStacked";const H=1140;const q=993;const W={color:"#ddd",container:{height:62,width:993},bars:[{title:{fontFamily:"BhrHeaderFont, 'Trebuchet MS'",fontSize:"14px",fill:["#fff",(0,B.getBrandColor)()]},bar:{height:62,leftMargin:15}},{fill:"rgba(0, 0, 0, 0.2)",title:{fontFamily:"BhrHeaderFont, 'Trebuchet MS'",fontSize:"14px",fill:["#fff",(0,B.getBrandColor)()]},bar:{height:23,leftMargin:15}}]};let U=0;class z{static get className(){return"BarChartStacked"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:W;(0,s.Z)(this,"titlePosition",((e,t,a,s)=>{let n=e.bar;let i=e.bar.height/3-1;if(t>0){n=a[0].__data__.bar;i=n.height-e.bar.height/2}let o;let r=e.title.width+n.icon.width+n.leftMargin+20;if(r<s(n.width)){o=n.leftMargin;U=0}else{o=s(n.width)+n.leftMargin;U=1}return"translate("+o+", "+i+")"}));(0,s.Z)(this,"makeRect",((e,t,a,s)=>{let n=e.bar.height;let i=e.bar.radius||3;let o;if(t===0){o=s(e.bar.width||1)}else{let t=s(a[0].__data__.bar.width||1);s.range([0,t]);o=s(e.bar.width);if(o<=9){o=9}}return`\n\t\t\tM 0, ${e.bar.y}\n\t\t\th ${o-i}\n\t\t\ta ${i}, ${i} 0 0 1 ${i}, ${i}\n\t\t\tv ${n-2*i}\n\t\t\ta ${i}, ${i} 0 0 1 -${i}, ${i}\n\t\t\th ${i-o}\n\t\t\tz\n\t\t`}));(0,s.Z)(this,"resize",(()=>{let e=document.querySelector(".ReportBody").offsetWidth;let t=document.querySelector(".ActiveStatusChartSetLegend").offsetWidth;if((0,c.inRange)(e,q,H)){this._options.container.width=e-t;var a=document.querySelectorAll(".BarChartStacked");for(var s=a.length;s--;){a[s].style.width=e-t+"px"}let n=(0,o.BY)().range([0,this._options.container.width]).domain([0,100]);this._updateBars(this._options.bars,n)}}));this._selector=e;this._options=(0,c.defaultsDeep)({},t,W);this._createDom(this._options);const a=(0,c.throttle)(this.resize,20);window.addEventListener("resize",a)}_createDom(e){let t=(0,y.Ys)(this._selector).append("div").attr("class",`${j}`).style("height",`${this._options.container.height}px`);this._svg=t.append("svg").attr("class",`${j}__bar`).attr("viewBox",`0 0 ${this._options.container.width} ${this._options.container.height}`).style("height",`${this._options.container.height}px`).style("width",`${this._options.container.width}px`)}draw(e){let t=(0,o.BY)().range([0,e.container.width]).domain([0,100]);this._drawBars(e.bars,t)}_updateBars(e,t){let a=this._svg.selectAll(".bar").data(e);a.select("path").attr("d",((e,a,s)=>this.makeRect(e,a,s,t)));a.select("g").attr("transform",((e,a,s)=>{t.range([0,this._options.container.width]);return this.titlePosition(e,a,s,t)})).attr("fill",(e=>e.title.fill[U]));a.select("text").styles({fill:e=>e.title.fill[U]})}_drawBars(e,t){let a=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("class","bar").attr("fill",(e=>e.fill));a.append("path").attr("d",((e,a,s)=>this.makeRect(e,a,s,t))).on("mouseenter",((e,t,a)=>{this._onPathEnter(a[t].parentNode,e)}));let s=a.append("g").attr("transform",((e,a,s)=>{t.range([0,this._options.container.width]);return this.titlePosition(e,a,s,t)})).attr("fill",(e=>e.title.fill[U])).attr("height",(e=>e.bar.height)).attr("width",(e=>e.title.width+e.bar.icon.width+e.bar.leftMargin));let n=s.append("svg").attr("width",(e=>e.bar.icon.width)).attr("height",(e=>e.bar.icon.height)).attr("viewBox","0 0 18 18").attr("x",0).attr("y",(e=>-e.bar.icon.height/2)).attr("xmlns:xlink","http://www.w3.org/1999/xlink");n.append("use").attr("xlink:href",(e=>e.bar.icon.name));s.append("text").text((e=>e.title.text)).attr("x",(e=>e.bar.icon.width+5)).attr("y",0).attr("dy","0.7ex").styles({"font-size":(e,t)=>this._options.bars[t].bar.fontSize,fill:e=>e.title.fill[U]})}_onPathEnter(e,t){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",t.bar.height);if(!A.Z.hasInstance(e)){A.Z.create(e,{template:{name:"popover-standard",data:{title:t.popover.title,content:t.popover.content,rawContent:true,popoverClass:`${j}__popover ${this._options.chartClass}__popover`,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600","font-size":"18px"},contentCssOverride:{"text-align":"center"}}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:2,delay:75})}}}var V=a(82543);const Y="DetailedMultiLineAreaChart";const G={chartClass:"",container:{height:433,width:560,margin:{top:27,right:20,bottom:10,left:20}},xAxisTickCount:l.Z.every(1),xAxisTickFormat:"MMM YYYY",yAxisLabel:null,yAxisLabelXOffset:0,yAxisMin:-100,yAxisMax:100,pathStrokeWidth:3};class K extends b{static get className(){return"DetailedMultiLineAreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:G;let a=arguments.length>2?arguments[2]:undefined;let n=arguments.length>3?arguments[3]:undefined;super();(0,s.Z)(this,"_minYDrawnValue",0);(0,s.Z)(this,"_destroyPopover",void 0);(0,s.Z)(this,"_data",void 0);this._selector=e;this._CLASS_NAME=Y;this._settings=(0,c.defaultsDeep)({},t,G);this._onMouseOver=a;this._onFocus=n;this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;this._allXPoints=t.map((e=>e.points.map((e=>e.x)))).reduce(((e,t)=>e.concat(t))).slice(0,this._areas[0].points.length).map((e=>this._resetTimeValues(e)));const{yAxisMin:s,yAxisMax:n}=this._settings;this._minYDrawnValue=s;this._xScale=this._getXScale(this._allXPoints);this._yScale=this._getYScale(s,n);this._svg.style("overflow","visible");this._drawYAxis();this._drawXAxis();this._drawAreas()}_getXScale(e){const{container:{margin:t}}=this._settings;return(0,o.BY)().domain([0,e.length-1]).range([t.left,this._getContainerWidth()-t.right])}_getYScale(e,t){const{container:{height:a,margin:s}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([a-s.bottom,s.top])}_drawAreas(){this._drawAreaGroups();this._drawDivider();this._drawLineGroups();this._drawMouseOverAreas()}_drawDivider(){const e=this._svg.selectAll(this._getClassList("dividerLine")).data([this._allXPoints]);const t=e.enter().append("line").attr("class",this._buildClassList("dividerLine")).attr("y1",this._yScale(0)).attr("y2",this._yScale(0)).style("stroke","white").style("stroke-width",3);const a=e.merge(t);a.attr("x1",(e=>this._xScale(0))).attr("x2",(e=>this._xScale(e.length-1)));e.exit().remove()}_drawXAxis(){const{container:{height:e},xAxisTickFormat:t}=this._settings;const a=this._svg;const s=this._allXPoints;this._xScale.domain([0,this._allXPoints.length-1]);const n=(0,i.axisBottom)(this._xScale).tickValues([0,1,2,3]).tickFormat((e=>V(s[e]).format(t)));const o=a.select(this._getClassList("__xAxis")).empty();if(o){a.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(0, ${e})`).call(n)}else{a.select(this._getClassList("__xAxis")).call(n)}a.select(this._getClassList("__xAxis")).attr("font-family",`'Lato', sans-serif`);a.select(this._getClassList("__xAxis")).select(".domain").remove();a.select(this._getClassList("__xAxis")).selectAll(".tick line").remove();a.select(this._getClassList("__xAxis")).selectAll(".tick text").attr("class","yAxisLabel__label")}_drawYAxis(){const{container:{margin:e,width:t},yAxisLabel:a,yAxisLabelXOffset:s}=this._settings;const n=this._svg;const o=(0,i.axisLeft)(this._yScale);const r=n.select(this._getClassList("__yAxis")).empty();if(r){n.append("g").attr("class",this._buildClassList("__yAxis")).call(o)}else{n.select(this._getClassList("__yAxis")).call(o)}n.select(this._getClassList("__yAxis")).attr("font-family",`'Lato', sans-serif`);if(a){n.select(this._getClassList("__yAxis")).append("text").text(a).attr("class","yAxisLabel").attr("x",s)}n.select(this._getClassList("__yAxis")).selectAll("line").attr("x2",t).attr("stroke-dasharray","3 5").style("stroke","#adadad");n.select(this._getClassList("__yAxis")).select(".domain").remove();n.select(this._getClassList("__yAxis")).selectAll(".tick text").attr("class","yAxisLabel");const l=n.select(this._getClassList("__yAxis")).selectAll(".tick");const c=(l.size()+1)/2;const d=n.select(this._getClassList("__yAxis")).select(`.tick:nth-child(${c})`);d.select("line").remove();d.append("line").attr("x2",e.left).style("stroke","#e0e0e0");d.append("line").attr("x1",t-e.right).attr("x2",t).style("stroke","#e0e0e0")}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>`area-${t}`));const s=t.merge(a);const n=(0,r.SO)().x(((e,t)=>this._xScale(t))).y0((e=>this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`AreaChart--themeFill ${this._buildClassList("__area")}`).style("fill",((e,t)=>this._getAreaColor(t)));s.select(this._getClassList("__area")).attr("d",(e=>n(e.points)));t.exit().remove()}_getAreaColor(e){const{colors:t}=this._settings;switch(e){case 0:return t.likes.promoters;case 1:return t.likes.neutrals;case 2:return t.likes.detractors;case 3:return t.dislikes.detractors;case 4:return t.dislikes.neutrals;case 5:return t.dislikes.promoters;default:return""}}_drawMouseOverAreas(){const e=this._svg;const t=e.selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data([this._areas[0],this._areas[3]]);const a=t.enter().append("g").attr("class",`${this._buildClassList("__hoverAreaGroup")}`).attr("id",((e,t)=>`hover${t}`));const s=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const n=a.selectAll(this._getClassList("__hoverArea")).data((e=>e.points));const i=n.enter().append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent");const o=n.merge(i);o.attr("d",((e,t)=>{const a=this._areas.find((t=>t.points.includes(e)));const n=this._areas.indexOf(a)===0;const i=[];const o=a.points[t-1]?this._xScale(t-1):null;const r=this._xScale(t);const l=a.points[t+1]?this._xScale(t+1):null;if(o!==null){i.push((r+o)/2)}i.push(r);if(l!==null){i.push((l+r)/2)}const c=[];const d=a.points[t-1]?this._yScale(a.points[t-1].y):null;const u=this._yScale(e.y);const h=a.points[t+1]?this._yScale(a.points[t+1].y):null;if(d!==null){if(u>d){c.push((u+d)/2)}else{c.push((d+u)/2)}}c.push(u);if(h!==null){if(h>u){c.push((h+u)/2)}else{c.push((u+h)/2)}}return s(i.map(((e,t)=>({x:e,y:c[t]}))))})).on("mouseover",(t=>{const a=this._areas.find((e=>e.points.includes(t)));const s=this._areas.indexOf(a)===0;const n=a.points.indexOf(t);const i=this._areas.indexOf(a);const o=Math.abs(this._areas[i+1].points[n].y);const r=Math.abs(this._areas[i+2].points[n].y);const l=Math.abs(t.y);this._addHoverGroup(t,a);const c=this._svg.select("#primaryHoverPoint");this._destroyPopover=this._onMouseOver({detail:{data:{count:l,isPositive:s,promoters:Math.abs(s?l-o:r),neutrals:Math.abs(o-r),detractors:Math.abs(s?r:l-o)}},target:c.node()});e.select(`${this._getClassList("__xAxis")} .tick:nth-child(${n+1}) text`).classed("focusedAreaLabel",true).style("font-weight","bold").style("fill","#555")})).on("mouseleave",(t=>{this._removeHoverGroup(t);this._destroyPopover();e.select(".focusedAreaLabel").classed("focusedAreaLabel",false).style("font-weight","normal").style("fill","#686868")}));n.exit().remove();t.exit().remove()}_addHoverGroup(e,t){const a=this._svg;const s=t.points.indexOf(e);const n=this._areas.indexOf(t);const i=this._areas[n+1].points[s];const o=this._areas[n+2].points[s];const l=this._areas.indexOf(t)===0;const{colors:c}=this._settings;const d=(0,r.jv)().x((e=>this._xScale(s))).y((e=>this._yScale(e.y)));const u=a.append("g").attr("id","hoverGroup").style("pointer-events","none");u.append("path").style("fill","none").style("stroke","black").style("stroke-width","2px").style("opacity","0.15").attr("d",d([{x:e.x,y:0},{x:e.x,y:e.y}]));u.append("circle").attr("id","primaryHoverPoint").attr("r",6).attr("cx",this._xScale(s)).attr("cy",this._yScale(e.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint);u.append("circle").attr("r",3).attr("cx",this._xScale(s)).attr("cy",this._yScale(e.y)).style("fill","#fff");u.append("circle").attr("r",3).attr("cx",this._xScale(s)).attr("cy",this._yScale(i.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint);u.append("circle").attr("r",3).attr("cx",this._xScale(s)).attr("cy",this._yScale(o.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint)}_removeHoverGroup(){this._svg.select(`#hoverGroup`).remove()}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data([this._areas[1],this._areas[2],this._areas[4],this._areas[5],this._areas[0],this._areas[3]]);const s=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>`line-${t}`));const n=a.merge(s);const i=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((e=>this._yScale(e.y)));s.append("path").attr("class",this._buildClassList("__line")).style("fill","none").style("stroke",((e,t)=>this._getLineColors(t))).style("stroke-width",((e,a)=>{if(a===4||a===5){return`${t.pathStrokeWidth}px`}return"1px"}));this._addLineGroupCircles();n.select(this._getClassList("__line")).attr("d",(e=>i(e.points)));a.exit().remove()}_addLineGroupCircles(){const e=this._svg;const{colors:t}=this._settings;const a=this._areas[0];const s=a.points[0];const n=a.points.find(((e,t,a)=>t===a.length-1));const i=this._areas[3];const o=i.points[0];const r=i.points.find(((e,t,a)=>t===a.length-1));const l=e.select("#line-0");const c=l.selectAll("circle").data([s,n]);const d=c.enter().append("circle").attr("r",4).style("fill",t.likes.line);const u=c.merge(d);u.attr("cx",((e,t)=>this._xScale(t===0?t:a.points.length-1))).attr("cy",(e=>this._yScale(e.y)));c.exit().remove();const h=e.select("#line-3");const p=h.selectAll("circle").data([o,r]);const m=p.enter().append("circle").attr("r",4).style("fill",t.dislikes.line);const f=p.merge(m);f.attr("cx",((e,t)=>this._xScale(t===0?t:i.points.length-1))).attr("cy",(e=>this._yScale(e.y)));p.exit().remove()}_getLineColors(e){const{colors:t}=this._settings;switch(e){case 4:return t.likes.line;case 5:return t.dislikes.line;default:return"rgba(255, 255, 255, 0.4)"}}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}resize(){(0,y.Ys)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}}var X=a(80298);class J{static get className(){return"EventRegistry"}constructor(){this.eventHandlers={}}on(e,t){if(!this.eventHandlers[e]){this.eventHandlers[e]=[]}this.eventHandlers[e].push(t)}off(e,t){const a=this.eventHandlers[e];if(!a||!a.length){return}const s=a.indexOf(t);if(s>-1){a.splice(s,1)}}trigger(e){const t=Array.prototype.slice.call(arguments,1);const a=this.eventHandlers[e];if(!a||!a.length){return}a.forEach((e=>{e(...t)}))}}var Q=J;var ee=a(78144);function te(e,t,a,s){let n=ae(e,t,a,s)||se(e,t,a,s);if(n){return{startAngle:n.endAngle,endAngle:n.endAngle}}return null}function ae(e,t,a,s){var n=t.length;while(--e>=0){var i=s(a[e]);for(var o=0;o<n;++o){if(s(t[o])===i){return t[o]}}}}function se(e,t,a,s){var n=a.length;var i=t.length;while(++e<n){var o=s(a[e]);for(var r=0;r<i;++r){if(s(t[r])===o){return t[r]}}}}const ne="BhrDonut";const ie={chartClass:"",icon:{visible:true},size:260,valueLabel:{visible:true},useRelativeSizes:{label:true,percentage:true,percentageSign:true}};const oe={placeholderLabelFontSize:.063,valueFontSize:.194,valueLabelFontSize:.067,valuePercentageSignFontSize:.109};const re={placeholderLabelFontSize:13};const le=750;function ce(e,t){return t}class de extends Q{static get className(){return"Donut"}constructor(e,t){super();this._options=(0,c.defaultsDeep)({},t,ie);this._size=this._options.size;this._radius=this._size*.5;this._setUpDom(e)}_setUpDom(e){const t=this._options.size;const a=t*.125;const s=a*.3;const n=t/2;const i=n-a*1.5;const o=(0,y.Ys)(e).append("div").attr("class",`${ne} ${this._options.chartClass}`).styles({height:`${t}px`,width:`${t}px`});const l=o.append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("width","100%").attr("height","100%").attr("style","box-sizing: border-box;").attr("viewBox",`0 0 ${t} ${t}`);this._donutGroup=l.append("g").attr("transform",`translate(${n}, ${n})`);this._donutPathGroup=this._donutGroup.append("g");this._chartArc=(0,r.Nb)().innerRadius(i).outerRadius(n-a/2);this._chartArcOver=(0,r.Nb)().innerRadius(i).outerRadius(n);this._donutGroup.append("circle").attr("r",i+s/2).attr("style","stroke-opacity: 0.1; fill: none; stroke: #000000; pointer-events: none;").style("stroke-width",s);this._setUpContentDom(o,i)}_setUpContentDom(e,t){let a=Math.sqrt(Math.pow(t,2)*2);let s=e.append("div").attr("class",`${ne}__container ${this._options.chartClass}__container`).attr("style",(0,ee.j6)(`\n\t\t\t\t\theight: ${a}px;\n\t\t\t\t\tmargin-left: ${-a/2}px;\n\t\t\t\t\tmargin-top: ${-a/2}px;\n\t\t\t\t\twidth: ${a}px\n\t\t\t\t`));this._setUpPlaceholderDom(s);this._setUpValueDom(s)}_setUpPlaceholderDom(e){this._placeholderContainer=e.append("div").attr("class",`${ne}__content ${this._options.chartClass}__content`);if(this._options.icon.visible){this._placeholderIcon=this._placeholderContainer.append("svg").attr("class",`${ne}__icon ${this._options.chartClass}__icon js-BhrPercentDonutChart-icon-svg`).attr("xmlns:xlink","http://www.w3.org/1999/xlink");this._placeholderIcon.append("use")}this._placeholderTitle=this._placeholderContainer.append("div").attr("class",`${ne}__title ${this._options.chartClass}__title`);this._placeholderLabel=this._placeholderContainer.append("div").attr("class",`${ne}__label ${this._options.chartClass}__label`)}_setUpValueDom(e){this._value=e.append("div").attr("class",`${ne}__value ${this._options.chartClass}__value`);this._valuePercentage=this._value.append("span");this._valuePercentageSign=this._value.append("span").text("%");if(this._options.valueLabel.visible){this._valueLabel=this._value.append("div").attr("class",`${ne}__valueLabel ${this._options.chartClass}__valueLabel`)}}_getIconObject(e){const t=/-(\d+)x(\d+)$/;let a=e;let s;let n,i;if(typeof e!=="string"||e.trim()===""){throw new Error("Icon name is missing a value")}s=t.exec(e);if(s){i=Number(s[1]);n=Number(s[2]);if((0,c.startsWith)(e,"fab-")){a=window.Res.get("",null,false)+"#"+e}}else if(e.indexOf("#")!==0){throw new Error(`${e} is an invalid icon name. Icon names must end with dimensions. Example: "-1x1".`)}return{height:n,path:a,width:i}}draw(e){const t=typeof e.icon==="string"?this._getIconObject(e.icon):e.icon;this._sizes=this._getSizes();this._trigger=false;this._drawPaths(e.data);if(this._options.useRelativeSizes.label){this._placeholderLabel.style("font-size",this._sizes.placeholderLabelFontSize+"px").style("line-height",this._sizes.placeholderLabelFontSize+2+"px")}if(!this._options.hidePlaceholderLabel){this._placeholderLabel.text(e.name)}if(t&&this._options.icon.visible){this._placeholderIcon.attr("height",(t.height||0)+"px").attr("width",(t.width||0)+"px");this._placeholderIcon.select("use").attr("xlink:href",t.path)}else if(this._options.hidePlaceholderTitle){this._placeholderTitle.text("")}else{this._placeholderTitle.text(e.totalCount)}}_drawPaths(e){const t=(0,r.ve)().padAngle(.015).value((e=>e.count)).sort(null);const a=this._donutPathGroup.selectAll("path");const s=a.data();const i=t(e.filter((e=>!!e.count)));const o=(0,n.Sm)(e,(e=>e.count));let l=a.data(i,ce);let c,d,u;c=l.enter().append("path").each((function(e,t){this._current=te(t,s,i,ce)||e}));d=c.merge(l).attr("id",(e=>e.data.id)).attr("fill",(e=>e.data.color));this._addSlideTransition(d,o);u=l.exit().datum((function(e,t){return te(t,i,s,ce)||e}));this._addSlideTransition(u,o).remove()}_getSizes(){return Object.keys(oe).reduce(((e,t)=>{let a=Math.round(oe[t]*this._options.size);let s=re[t]||0;e[t]=Math.max(a,s);return e}),{})}_addSlideTransition(e,t){const a=this;const s=function(e){const t=(0,E.sX)(this._current,e);this._current=t(0);return function(e){var s=t(e);return a._chartArc(s)}};return e.on("mouseenter",null).on("mouseleave",null).transition().duration(le).attrTween("d",s).on("end",(function(){(0,y.Ys)(this).on("mouseenter",(function(e){a._onPathEnter((0,y.Ys)(this),e,t)})).on("mouseleave",(function(e){a._onPathLeave((0,y.Ys)(this),e,t)}))}))}_onPathEnter(e,t,a){let s=this._getSizes();this._trigger=true;setTimeout((()=>{if(this._trigger){e.node().dispatchEvent(new CustomEvent("ba:donutSliceEnter",{bubbles:true,detail:t.data}));this.trigger("sliceEnter",t.data,e.node());this._value.styles({color:t.data.color,display:"block"});this._valuePercentage.text(Math.round(t.data.count/a*100));if(this._options.useRelativeSizes.percentage){this._valuePercentage.style("font-size",s.valueFontSize+"px")}if(this._options.useRelativeSizes.percentageSign){this._valuePercentageSign.style("font-size",s.valuePercentageSignFontSize+"px")}if(this._options.valueLabel.visible){this._valueLabel.text(t.data.label).styles({color:t.data.color,"font-size":s.valueLabelFontSize+"px"})}this._placeholderContainer.style("display","none");e.transition().duration(150).ease(T.sq).attr("d",this._chartArcOver)}}),150)}_onPathLeave(e,t,a){this._trigger=false;setTimeout((()=>{e.node().dispatchEvent(new CustomEvent("ba:donutSliceLeave",{bubbles:true,detail:t.data}));this.trigger("sliceLeave",t.data,e.node());if(!this._trigger){this._value.style("display","none");this._placeholderContainer.style("display","block")}e.transition().duration(150).ease(T.sq).attr("d",this._chartArc)}),150)}}var ue=de;var he=a(60042);var pe=a.n(he);var $=a(26570);const me=(0,v.isEnabled)("ElfDeepLinking");const fe="BhrLegend";const ge={chartClass:"",showCounts:true,truncate:true,onClick:null};class ve{static get className(){return"Legend"}constructor(e,t){this._options=(0,c.defaultsDeep)({},t,ge);this._setUpDom(e)}_setUpDom(e){const t=(0,y.Ys)(e).append("div").attr("class",pe()(`${fe}`,{[`${this._options.chartClass}`]:this._options.chartClass}));this._legendList=t.append("ul").attr("class",pe()(`${fe}__legendList`,{[`${this._options.chartClass}__legendList`]:this._options.chartClass,[`${fe}__legendList--columnLayout`]:this._options.columnLayout}));this._total=t.append("div").attr("class",pe()(`${fe}__total`,{[`${this._options.chartClass}__total`]:this._options.chartClass}));this._total.append("span").style("flex-grow",1).text($.__("Total"));this._totalCount=this._total.append("span")}draw(e){let t,a;const s=(0,n.Sm)(e,(e=>e.count));const i=e.slice();t=this._legendList.selectAll(".js-BhrPercentDonutChart-legendItem").data(i);t.exit().remove();a=t.enter().append("li").attr("class",pe()({[`${fe}__legendItem`]:true,[`${this._options.chartClass}__legendItem`]:this._options.chartClass,"js-BhrPercentDonutChart-legendItem":true}));if(this._options.onClick){a.attr("style","cursor: pointer").on("click",this._options.onClick)}a.append("span").attr("class",pe()({[`${fe}__swatch`]:true,[`${this._options.chartClass}__swatch`]:this._options.chartClass,"js-BhrPercentDonutChart-swatch":true}));const o=this._options.truncate?"truncate":"";a.append("span").attr("class",pe()({[`${fe}__legendText`]:true,[`${this._options.chartClass}__legendText`]:this._options.chartClass,"js-BhrPercentDonutChart-legendText":true,[`${o}`]:o}));t=a.merge(t);t.filter((function(e){return e.isTotal})).styles({"border-top":"1px solid #d8d8d8","padding-top":"8px"});t.select(".js-BhrPercentDonutChart-legendText").attr("id",(e=>e.id)).style("font-weight",(e=>e.color===null?"600":"normal")).text((e=>e.label)).filter((e=>e.subLabel)).append("span").attr("class",pe()(`${fe}__legendSubLabel`,{[`${this._options.chartClass}__legendSubLabel`]:this._options.chartClass})).text((e=>e.subLabel)).style("font-weight","normal");t.select(".js-BhrPercentDonutChart-swatch").style("background-color",(e=>e.color));if(this._options.showCounts){this._total.style("display","flex");this._totalCount.text(s);this._drawLegendItemCounts(t)}else{this._total.style("display","none")}}_drawLegendItemCounts(e){const t=e.selectAll(".js-BhrPercentDonutChart-legendCount").data((e=>[e]));t.enter().append("span").attr("class",pe()(`${fe}__legendCount`,{[`${this._options.chartClass}__legendCount`]:this._options.chartClass,"js-BhrPercentDonutChart-legendCount":true})).merge(t).text((e=>{if(!e.hasOwnProperty("countDetailLink")||e.countDetailLink===null){return e.count}return null})).filter((e=>e.hasOwnProperty("countDetailLink")&&e.countDetailLink!==null)).append("a").attr("href",me&&this._options.onClick?null:e=>e.countDetailLink).text((e=>e.count));t.exit().remove()}sliceEnter(e){this._legendList.selectAll(".js-BhrPercentDonutChart-legendText").filter((t=>t.id===e)).style("font-weight","600")}sliceLeave(e){this._legendList.selectAll(".js-BhrPercentDonutChart-legendText").filter((t=>t.id===e)).style("font-weight","normal")}}var _e=a(26570);const ye="DonutPercentageChart";const be={chartClass:"",color:["#8aba00","#e8454d","#f96422","#7092eb","#d05489","#3bab38","#ffcb15","#11b9aa","#9a6dc8","#1b8ab4","#6a6a6a"],getColor:null,donut:{},groupedPopoverTemplate:"",legend:{},maxVisibleItems:7,preserveOrder:true,boldLegendOnSliceHover:false};class we extends Q{static get className(){return"DonutPercentageChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:be;let a;super();this._options=(0,c.defaultsDeep)({},t,be);a=_e("<div>").attr("class",`${ye} ${this._options.chartClass}`);this.element=typeof e==="string"?document.querySelector(e):e;a.appendTo(this.element);this._donut=new ue(a[0],this._options.donut);this._donut.on("sliceEnter",this._sliceEnterHandler.bind(this));this._donut.on("sliceLeave",this._sliceLeaveHandler.bind(this));this._legend=new ve(a[0],this._options.legend)}draw(e){const t=this._createInternalModel(e);this._donut.draw(t.visible);this._legend.draw(t.visible.data)}_createInternalModel(e){let{maxVisibleItems:t}=this._options;let a,s;let i=e.data;e=(0,c.cloneDeep)(e);if(e.data.length>this._options.maxVisibleItems){t--}if(!this._options.preserveOrder){i=i.sort(((e,t)=>t.count-e.count))}a=i.slice(t);s=i.slice(0,t);if(a.length){s.push({label:_e.__("Other"),count:(0,n.Sm)(a,(e=>e.count)),items:a})}e.data=s.map(((e,t)=>{e.color=this._options.color[t];if(typeof this._options.getColor==="function"){e.color=this._options.getColor(e.label)}e.id=(0,c.uniqueId)("donut-percentage-item-");return e}));return{visible:e}}_sliceEnterHandler(e,t){this.trigger("sliceEnter",...arguments);if(this._options.boldLegendOnSliceHover){this._legend.sliceEnter(t.id)}if(!e.items){return}if(this._options.groupedPopoverTemplate){this._groupedPopover=A.Z.create(t,{closeX:false,html:microTemplate(this._options.groupedPopoverTemplate,{data:e})}).show()}}_sliceLeaveHandler(e,t){this.trigger("sliceLeave",...arguments);if(this._options.boldLegendOnSliceHover){this._legend.sliceLeave(t.id)}if(this._groupedPopover){this._groupedPopover.destroy();this._groupedPopover=null}}}const Se="GroupedSliceChart";const Ce={bar:{margin:20,width:60,height:162,minCount:3},chartClass:"",colors:["#8db812","#5b9fb2","#f19d11","#db6021"],height:200,reverseCellOrder:true,showEmptyBar:true,width:330};class xe{static get className(){return"GroupedSliceChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Ce;this._selector=e;this._options=(0,c.defaultsDeep)({},t,Ce);this._svg=this._createSvg()}_createSvg(){let e=(0,y.Ys)(this._selector).append("div");let t=e.append("svg").attr("viewBox",`0 0 ${this._options.width} ${this._options.height}`);t.style("height",`${this._options.height}px`).style("width",`${this._options.width}px`);return t}draw(e){let t=[];if(e.hasData){let a=this._options.reverseCellOrder?r.cY:r.$K;let s=(0,r.kn)().keys(e.keys).order(a);t=s(e.values)}let a=(0,o.BY)().range([this._options.bar.height,0]).domain([0,1]);let s=(0,o.ti)().range([0,this._options.width]).round(true).paddingInner(.445).paddingOuter(.2225).domain(e.values.map(((e,t)=>t)));let n=(0,o.PK)(this._options.colors);this._drawTitles(e.values,s);if(this._options.showEmptyBar){this._drawEmptyBars(e.values,s)}this._drawAxis(s);if(e.hasData){this._drawBars(t,s,a,n)}this._drawLabels(e.values,s)}_drawTitles(e,t){const a=this._svg.append("g").selectAll("text").data(e);a.enter().append("text").attr("class",`${Se}__title ${this._options.chartClass}__title`).merge(a).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).attr("text-anchor","middle").attr("y",this._options.bar.margin/2).text((e=>this._setText(e,e.title)))}_setText(e,t){let a="";if(e.isEmpty){a=this._options.showEmptyBar?t:""}else{a=t}return a}_drawEmptyBars(e,t){const a=this._svg.selectAll(`${Se}__emptyBar ${this._options.chartClass}__emptyBar`).data(e);a.enter().filter((e=>e.isEmpty)).append("rect").attr("transform",`translate(0, ${this._options.bar.margin})`).attr("class",`${Se}__emptyBar ${this._options.chartClass}__emptyBar`).attr("x",(e=>t(e.xPosition))).attr("width",(()=>t.bandwidth())).attr("y",0).attr("height",this._options.bar.height-2)}_drawAxis(e){let t=(0,i.axisTop)().tickSize(0).tickValues([]).scale(e);for(var a=1;a<4;a++){this._svg.append("g").attr("class",`${Se}__axis ${this._options.chartClass}__axis`).attr("transform",`translate(0,${Math.round(this._options.bar.margin+this._options.bar.height/4*a)-2})`).call(t)}}_drawBars(e,t,a,s){let n=this;const i=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("transform",`translate(0, ${this._options.bar.margin})`).attr("class",`${Se}__stackedBar ${this._options.chartClass}__stackedBar`).attr("fill",(e=>s(e.key)));const o=i.selectAll("rect").data((e=>e));o.enter().append("rect").merge(o).attr("x",((e,a)=>t(a))).attr("width",(()=>t.bandwidth())).attr("y",(e=>e.data.isEmpty?0:a(e[1]))).attr("height",(e=>{let t=a(e[0])-a(e[1])-2;t=t>0?t:0;return e.data.isEmpty?0:t})).attr("class",`${Se}__cell ${this._options.chartClass}__cell`).on("mouseenter",(function(e){if(!A.Z.hasInstance(this)){let t=this.parentNode.getAttribute("fill");A.Z.create(this,{html:`<div class="${Se}__percentage ${n._options.chartClass}__percentage" style="color: ${t}">${Math.round((e[1]-e[0])*100)}%</div>`,position:"left",triggerEvent:"hover",showImmediately:true,closeX:false,push:-14,tailSize:8})}}))}_drawLabels(e,t){const a=this._svg.append("g").selectAll("text").data(e);a.enter().append("text").attr("class",`${Se}__label ${this._options.chartClass}__label`).merge(a).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).attr("text-anchor","middle").attr("y",this._options.height-this._options.bar.margin/2+6).text((e=>this._setText(e,e.label)))}}function Te(e){const{bars:t}=e;const a=this.getSettings();const{container:s}=a;const{top:i,right:r,left:l}=s.margin;const{spacing:c}=a.labelText;const{spacing:d}=a.valueText;const{padding:u,height:h,colors:v,cursor:y="default"}=a.bar;const b=25;const w=(0,n.Fp)(t.map((e=>parseInt(e.value))));const S=this._convertValueLengthToPixelSpace(w);const C=this._getContainerWidth()-l-r;const x=C-S-b;const T=(0,o.BY)().domain([0,w]).range([0,x]);const E=(0,o.PK)().domain(t).range(v);const k=this._svg.selectAll(`g${this._getClassList("Group")}`).data(t);const Z=k.enter().append("g").attr("class",this._buildClassList("Group")).attr("transform",(function(e,t){const a=i;const s=t*(h+u)+u;return`translate(${a}, ${s})`}));k.select(this._getClassList("__bar")).transition().duration(1e3).attr("width",(e=>T(e.value)));k.select(this._getClassList("__label")).transition().duration(1e3).style("opacity",0).transition().duration(500).style("opacity",1).text((e=>e.title));k.select(this._getClassList("__value")).transition().duration(1e3).style("opacity",0).attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,T(e.value))})).transition().duration(500).style("opacity",1).text((e=>e.value));k.exit().transition().duration(1e3).style("opacity",0).remove();Z.append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",y).attr("fill",(e=>E(e))).attr("height",h).attr("width",(e=>T(e.value))).attr("transform",`translate(0, 0)`).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);Z.append("text").attr("class",this._buildClassList("__label")).attr("y",h-h-c).attr("x",0).attr("dy",".65em").style("fill",(e=>this._settings.labelText.color)).text((e=>e.title));Z.append("text").attr("class",this._buildClassList("__value")).attr("y",h/2).attr("dx",d).attr("dy",".35em").attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,T(e.value))})).style("fill",(e=>this._settings.valueText.color)).text((e=>{if(typeof this._settings.bar.formatTextFunction==="function"){return this._settings.bar.formatTextFunction(e.value)}return e.value}))}function Ee(e,t){if(e&&t.length>e){return`${t.substring(0,e-3)}...`}return t}function ke(e){const{bars:t}=e;const a=this.getSettings();const{container:s}=a;const{top:i,right:r,left:l}=s.margin;const{width:c,fill:d}=a.labelText;const{spacing:u,valueEdgePadding:h}=a.valueText;const{padding:v,height:y,colors:b,cursor:w="default"}=a.bar;const S=(0,n.Fp)(t.map((e=>parseInt(e.value))));const C=this._convertValueLengthToPixelSpace(S);const x=this._getContainerWidth()-l-r;const T=x-C;const E=T-h-a.labelText.width;const k=(0,o.BY)().domain([0,S]).range([0,E-r]);const Z=(0,o.PK)().domain(t).range(b);const F=this._svg.selectAll(`g${this._getClassList("__chartContainer")}`).data(t);const I=F.enter().append("g").attr("class",this._buildClassList("__chartContainer")).attr("transform",((e,t)=>{const s=i+a.labelText.width;const n=t*(y+v)+v;return`translate(${s}, ${n})`}));const N=this._g.selectAll(this._getClassList("__label")).data(t);F.select(this._getClassList("__bar")).transition().duration(1e3).attr("width",(e=>k(e.value)));F.select(this._getClassList("__value")).transition().duration(1e3).style("opacity",0).attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,k(e.value))})).transition().duration(500).style("opacity",1).text((e=>e.value));N.transition().duration(1e3).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ee(a,t)}));F.exit().transition().duration(1e3).style("opacity",0).remove();N.exit().transition().duration(1e3).style("opacity",0).remove();I.append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",w).attr("fill",(e=>Z(e))).attr("width",(e=>k(e.value))).attr("height",y).attr("transform","translate(0, 0)").on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);I.append("text").attr("class",this._buildClassList("__value")).attr("y",y/2).attr("dx",u).attr("dy",".35em").attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,k(e.value))})).style("fill",(e=>Z(e))).text((e=>{if(typeof this._settings.bar.formatTextFunction==="function"){return this._settings.bar.formatTextFunction(e.value)}return e.value}));N.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){return t*(y+v)+v})).attr("x",0).attr("dx",u).attr("dy","0.9em").attr("fill",d).attr("width",c).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ee(a,t)}))}function Ze(e){const t=this.getSettings();const{container:a}=t;const{showAxis:s,label:l,labelLength:d}=a.axis;const{top:u,right:h,bottom:v,left:b}=a.margin;const{width:w,fill:S,labelPosition:C}=t.labelText;const{spacing:x,showTotalValueType:T,color:E,valueEdgePadding:k,showZero:Z}=t.valueText;const{padding:F,height:I,colors:N,cursor:A="default"}=t.bar;const M=this._getContainerWidth()-b-h;const D=a.height-u-v;const P=t=>{const a=[];(0,c.map)(t,(function(t,s){e.barKeys.forEach((e=>{if(e==s){a.push(+t)}}))}));return a};const L=function(e){switch(T){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":return""}};const O=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const R=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const B=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const j=function(e){switch(T){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",E).text(te);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,s)=>{t.append("tspan").style("fill",J(s)).text((()=>{if(a===0){if(Z===true&&s===0){return 0}return""}else if(e.values.length-1===s&&e.values[s-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",J(e)).text(te)}break}case"none":case"default":break}};const H=e.bars.map((e=>P(e.value)));const q=B(H);const W=e.bars.map((e=>{e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const U=W.map((e=>{const t=P(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const z=W.map((e=>{const t=P(e);const a=(0,c.sum)(t);return a}));const V=(0,n.Fp)(z);const Y=L(q);const G=this._convertValueLengthToPixelSpace(Y);const K=(0,r.kn)().keys(e.barKeys).offset(r.HL);const X=K(W);let J=(0,o.PK)().domain(W).range(N);const Q=M-w-G-k;const ee=(0,o.BY)().domain([0,V]).rangeRound([0,Q]).nice().clamp(true);let te=function(e){switch(T){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":return""}};if(this.hasAxis()){const e=D+u+v;const t=(0,i.axisTop)().scale(ee);t.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const s=(0,y.Ys)(a[t]);s.style("opacity",1);if(t==0){s.attr("dx",d);return l}return e}));const a=this._g.select(this._getClassList("__xAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${w+1}, 0)`).call(t).call(R).call(O);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).transition().duration(500).call(t).call(R).call(O)}}const ae=this._g.selectAll(this._getClassList("__series")).data(X);const se=ae.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>J(t))).attr("class",(e=>this._buildClassList("__series")));const ne=se.merge(ae);const ie=ne.selectAll(this._getClassList("__bar")).data((e=>e));const oe=this._g.selectAll(this._getClassList("__label")).data(e.bars);const re=this._g.selectAll(this._getClassList("__value")).data(U);ie.exit().transition().duration(500).style("opacity",0).remove();oe.exit().transition().duration(500).style("opacity",0).remove();re.exit().transition().duration(500).style("opacity",0).remove();let le=0;ie.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t){return ee(e[0])+1})).attr("width",(function(e){const t=ee(e[1])-ee(e[0])-1;return t<0?0:t})).on("start",(()=>{le++})).on("end",(()=>{if(--le===0){this._dynamicallyAdjustSVGHeight()}}));oe.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ee(a,t)}));re.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t,a){return ee(e.total)+w+1})).each(j);ie.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",A).attr("transform",`translate(${w}, 0)`).attr("shape-rendering","crispEdges").attr("height",I).attr("y",(function(e,t){return t*(I+F)+F})).attr("x",(function(e,t){return ee(e[0])+1})).attr("width",(function(e){const t=ee(e[1])-ee(e[0])-1;return t<0?0:t})).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);oe.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(C==="top"){return t*(I+F)+5}return t*(I+F)+F})).attr("x",0).attr("dx",x).attr("dy","1.3em").attr("fill",S).attr("width",w).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ee(a,t)}));re.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",I/2).attr("dx",x).attr("dy","1.3em").attr("y",(function(e,t){return t*(I+F)+F})).attr("x",(function(e,t,a){return ee(e.total)+w+1})).each(j)}function Fe(e){const t=this.getSettings();const{container:a,emptyCheckCallback:s,emptyLabelCallback:i}=t;const{bottom:l=0,left:d=0,right:u=0,top:h=0}=a.margin;const{colors:v,cursor:y="default",height:b,iconPath:w="/images/bicons/notes-speech-bubble.png",padding:S,summaryBarHeight:C=25}=t.bar;const x=this._getContainerWidth()-d-u;const T=a.height-h-l;const E=s(e);const k=t=>{const a=[];(0,c.map)(t,(function(t,s){e.barKeys.forEach((e=>{if(e==s){a.push(+t)}}))}));return a};const Z=e=>e.reduce(((e,t)=>e+t),0);const F=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const I=e.bars.map((e=>k(e.value)));const N=F(I);const A=e.bars.map(((e,t)=>{e.value.summary=e.summary;return e.value}));const M=Z(N);const D=(0,r.kn)().keys(e.barKeys).offset(r.HL);const P=D(A);const L=(0,o.PK)().domain(A).range(v);const O=A.map((e=>{const t=k(e);const a=(0,c.sum)(t);return a}));const R=(0,n.Fp)(O);const B=(0,o.BY)().domain([0,R]).rangeRound([0,x]);const j=e=>{const t=B(e[1])-B(e[0])-1;return t<0?0:t};const H=(e,t)=>{const{data:{summary:{displayText:a}}}=e;let s=0;if(a&&e[0]===0){s=C/2}const n=t*(b+S)+S+b/2+6-s;return n};const q=(e,t)=>{if(E[t]){return 15}return(B(e[1])-B(e[0]))/2+B(e[0])-6};const W=(e,t)=>{if(E[t]){const t=e[1]-e[0];return i(t)}const a=Math.round((e[1]-e[0]||0)/M*100);return a&&a>5?`${a}%`:""};const U=(e,t)=>{if(e.summary&&e.summary.displayText){const t=e.summary.value;return t?B(t)-1:5}return 0};const z=e=>{if(e.summary&&e.summary.displayText){return e.summary.displayText}};const V=this._g.selectAll(this._getClassList("__series")).data(P);const Y=V.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>L(t))).attr("class",(e=>this._buildClassList("__series")));const G=Y.merge(V);const K=G.selectAll(this._getClassList("__bar")).data((e=>e));const X=G.selectAll(this._getClassList("__insideLabel")).data((e=>e));const J=this._g.selectAll(this._getClassList("__summaryBar")).data(e.bars);const Q=this._g.selectAll(this._getClassList("__summaryLabel")).data(e.bars);K.exit().transition().duration(750).style("opacity",0).remove();X.exit().transition().duration(750).style("opacity",0).remove();J.exit().transition().duration(750).style("opacity",0).remove();Q.exit().transition().duration(750).style("opacity",0).remove();let ee=0;K.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(750).attr("x",(function(e,t){return B(e[0])+1})).attr("width",j).on("start",(()=>{ee++})).on("end",(()=>{if(--ee===0){this._dynamicallyAdjustSVGHeight()}}));X.transition().duration(750).attr("y",(function(e,t){return H(e,t)})).attr("x",q).text(W);J.data(e.bars).transition().delay((function(e,t){return t*50})).duration(750).attr("x",1).attr("width",U).on("start",(()=>{ee++})).on("end",(()=>{if(--ee===0){this._dynamicallyAdjustSVGHeight()}}));Q.transition().delay((function(e,t){return t*50})).duration(750).text(z);K.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",y).attr("shape-rendering","crispEdges").attr("height",b).attr("y",(function(e,t){return t*(b+S)+S})).attr("x",(function(e,t){return B(e[0])+1})).attr("width",j).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);X.enter().append("text").attr("class",this._buildClassList("__insideLabel")).attr("cursor",y).attr("y",H).attr("x",q).style("fill","#fff").style("pointer-events","none").text(W);J.enter().append("rect").attr("class",this._buildClassList("__summaryBar")).attr("fill","rgba(0,0,0,0.2)").attr("cursor",y).attr("shape-rendering","crispEdges").attr("height",C).attr("y",(function(e,t){return t*(b+S)+S+(b-C)})).attr("x",1).style("pointer-events","none").attr("width",U);J.enter().append("svg:image").attr("class",this._buildClassList("__summaryIcon")).attr("x",15).attr("y",(function(e,t){return t*(b+S)+S+(b-C)+5})).attr("height",(e=>{if(e.summary&&e.summary.icon){return e.summary.icon.height}})).attr("width",(e=>{if(e.summary&&e.summary.icon){return e.summary.icon.width}})).attr("xlink:href",(e=>{if(e.summary&&e.summary.displayText){return w}}));Q.enter().append("text").attr("class",this._buildClassList("__summaryLabel")).attr("cursor",y).attr("y",(function(e,t){return t*(b+S)+S+(b-C)})).attr("x",40).attr("dy","1.3em").attr("fill","rgba(255, 255, 255, 0.7)").style("pointer-events","none").text(z)}function Ie(e){if(!e.barKeys.includes("total")){e.barKeys.push("total")}const t=this.getSettings();const{container:a}=t;const{showAxis:s,label:l,labelLength:d}=a.axis;const{top:u,right:h,bottom:v,left:b}=a.margin;const{width:w,fill:S,labelPosition:C}=t.labelText;const{spacing:x,showTotalValueType:T,color:E,valueEdgePadding:k,showZero:Z}=t.valueText;const{padding:F,height:I,colors:N,totalColor:A,cursor:M="default"}=t.bar;const D=this._getContainerWidth()-b-h;const P=a.height-u-v;const L=e=>e=+e||0;const O=t=>{const a=[];(0,c.map)(t,(function(t,s){e.barKeys.forEach((e=>{if(e==s){a.push(+t)}}))}));return a};const R=function(e){switch(T){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":default:return""}};const B=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const j=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const H=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const q=function(e){switch(T){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",E).text(se);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,s)=>{t.append("tspan").style("fill",ee(s)).text((()=>{if(a===0){if(Z===true&&s===0){return 0}return""}if(e.values.length-1===s&&e.values[s-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",ee(e)).text(se)}break}case"none":case"default":default:break}};const W=e.bars.map((e=>O(e.value)));const U=H(W);const z=e.bars.map((e=>{if(!e.popoverValue){e.popoverValue={...e.value}}if(!e.segmented){const t=O(e.value);const a=(0,c.sum)(t);e.value={};e.value.total=a}e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const V=z.map((e=>{const t=O(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const Y=z.map((e=>{const t=O(e);const a=(0,c.sum)(t);return a}));const G=(0,n.Fp)(Y);const K=R(U);const X=this._convertValueLengthToPixelSpace(K);const J=(0,r.kn)().keys(e.barKeys).offset(r.HL);const Q=J(z);let ee=(0,o.PK)().domain(z).range(N);const te=D-w-X-k;const ae=(0,o.BY)().domain([0,G]).rangeRound([0,te]).nice().clamp(true);let se=function(e){switch(T){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":default:return""}};if(this.hasAxis()){const e=P+u+v;const t=(0,i.axisTop)().scale(ae);t.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const s=(0,y.Ys)(a[t]);s.style("opacity",1);if(t==0){s.attr("dx",d);return l}return e}));const a=this._g.select(this._getClassList("__xAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${w+1}, 0)`).call(t).call(j).call(B);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{this._animateElements((0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1),(e=>e.transition().duration(500).call(t).call(j).call(B)))}}const ne=this._g.selectAll(this._getClassList("__series")).data(Q);const ie=ne.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>{if(e.key==="total"){return A}return ee(t)})).attr("class",(e=>this._buildClassList("__series")));const oe=ie.merge(ne);const re=oe.selectAll(this._getClassList("__bar")).data((e=>e));const le=this._g.selectAll(this._getClassList("__label")).data(e.bars);const ce=this._g.selectAll(this._getClassList("__value")).data(V);this._animateElements(re,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));this._animateElements(le,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));this._animateElements(ce,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));let de=0;this._animateElements(re.data((e=>e)),(e=>e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t){return ae(e[0])+1})).attr("width",(function(e){const t=ae(L(e[1]))-ae(L(e[0]))-1;return t<0?0:t})).on("start",(()=>{de++})).on("end",(()=>{if(--de===0){this._dynamicallyAdjustSVGHeight()}}))));this._animateElements(le,(e=>e.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ee(a,t)}))));this._animateElements(ce,(e=>e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t,a){return ae(e.total)+w+1})).each(q)));re.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",M).attr("transform",`translate(${w}, 0)`).attr("shape-rendering","crispEdges").attr("height",I).attr("y",(function(e,t){return t*(I+F)+F})).attr("x",(function(e,t){return ae(e[0])+1})).attr("width",(function(e){const t=ae(L(e[1]))-ae(L(e[0]))-1;return t<0?0:t})).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);le.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(C==="top"){return t*(I+F)+5}return t*(I+F)+F})).attr("x",0).attr("dx",x).attr("dy","1.3em").attr("fill",S).attr("width",w).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ee(a,t)}));ce.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",I/2).attr("dx",x).attr("dy","1.3em").attr("y",(function(e,t){return t*(I+F)+F})).attr("x",(function(e,t,a){return ae(e.total)+w+1})).each(q)}function Ne(e){if(!e.barKeys.includes("total")){e.barKeys.push("total")}const t=this.getSettings();const{container:a}=t;const{label:s,labelLength:l}=a.axis;const{top:d,right:u,bottom:h,left:v}=a.margin;const{width:b,fill:w,labelPosition:S}=t.labelText;const{spacing:C,showTotalValueType:x,color:T,valueEdgePadding:E,showZero:k}=t.valueText;const{padding:Z,height:F,colors:I,totalColor:N,totalColorSecondary:A,cursor:M="default"}=t.bar;const D=this._getContainerWidth()-v-u;const P=a.height-d-h;const L=e=>e=+e||0;const O=t=>{const a=[];(0,c.map)(t,(function(t,s){e.barKeys.forEach((e=>{if(e==s){a.push(+t)}}))}));return a};const R=function(e){switch(x){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":default:return""}};const B=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const j=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const H=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const q=function(e){switch(x){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",T).text(de);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,s)=>{t.append("tspan").style("fill",ie(s)).text((()=>{if(a===0){if(k===true&&s===0){return 0}return""}if(e.values.length-1===s&&e.values[s-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",ie(e)).text(de)}break}case"none":case"default":default:break}};const W=e?.bars[0]?.value?.length||0;const U=[];e.bars.forEach((e=>{e.value.forEach(((t,a)=>{const s={...e,value:{...t,index:a}};U.push(s)}))}));const z=U.map((e=>O(e.value)));const V=H(z);const Y=U.map((e=>{if(!e.popoverValue){e.popoverValue={...e.value}}if(!e.segmented){const t=O(e.value);const a=(0,c.sum)(t);e.value={};e.value.total=a}e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const G=Y.map((e=>{const t=O(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const K=Y.map((e=>{const t=O(e);const a=(0,c.sum)(t);return a}));const X=(0,n.Fp)(K);const J=R(V);const Q=this._convertValueLengthToPixelSpace(J);const ee=(0,r.kn)().keys(e.barKeys).offset(r.HL);const te=ee(Y);const ae=te.filter((e=>e.key!=="total")).map((e=>e.map((e=>{e.id=(0,c.uniqueId)();return e}))));const se=[];let ne=0;while(Y.length>ne){const e=ne;ae.forEach((t=>{se.push(t[e].id)}));ne++}const ie=(0,o.PK)().domain(Y).range(I);const oe=(0,o.PK)().domain(se).range(I);const re=(e,t)=>{if(e.data.total||e.id===undefined){return t%2===0?N:A}return oe(e.id)};const le=D-b-Q-E;const ce=(0,o.BY)().domain([0,X]).rangeRound([0,le]).nice().clamp(true);let de=function(e){switch(x){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":default:return""}};if(this.hasAxis()){const e=(0,i.axisTop)().scale(ce);e.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const n=(0,y.Ys)(a[t]);n.style("opacity",1);if(t==0){n.attr("dx",l);return s}return e}));const t=this._g.select(this._getClassList("__xAxis")).empty();if(t){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${b+1}, 0)`).call(e).call(j).call(B);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).transition().duration(500).call(e).call(j).call(B)}}const ue=this._g.selectAll(this._getClassList("__series")).data(te);const he=ue.enter().append("g").attr("id",(e=>e.key)).attr("class",(()=>this._buildClassList("__series")));const pe=he.merge(ue);const me=pe.selectAll(this._getClassList("__bar")).data((e=>e));const fe=this._g.selectAll(this._getClassList("__label")).data(e.bars);const ge=this._g.selectAll(this._getClassList("__value")).data(G);me.exit().transition().duration(500).style("opacity",0).remove();fe.exit().transition().duration(500).style("opacity",0).remove();ge.exit().transition().duration(500).style("opacity",0).remove();let ve=0;me.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e){return ce(e[0])+1})).attr("width",(function(e){const t=ce(L(e[1]))-ce(L(e[0]))-1;return t<0?0:t})).attr("fill",re).on("start",(()=>{ve++})).on("end",(()=>{if(--ve===0){this._dynamicallyAdjustSVGHeight()}}));fe.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ee(a,t)}));ge.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e){return ce(e.total)+b+1})).each(q);me.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",M).attr("transform",`translate(${b}, 0)`).attr("shape-rendering","crispEdges").attr("height",F).attr("y",(function(e,t){return t*(F+Z)+Z})).attr("x",(function(e){return ce(e[0])+1})).attr("width",(function(e){const t=ce(L(e[1]))-ce(L(e[0]))-1;return t<0?0:t})).attr("fill",re).on("click",p).on("mouseenter",m).on("mouseleave",g).on("mouseover",f);fe.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(S==="top"){return t*(F+Z)+5}return(t*(F+Z)+Z)*W})).attr("x",0).attr("dx",C).attr("dy","1.3em").attr("fill",w).attr("width",b).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ee(a,t)}));ge.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",F/2).attr("dx",C).attr("dy","1.3em").attr("y",(function(e,t){return t*(F+Z)+Z})).attr("x",(function(e){return ce(e.total)+b+1})).each(q)}const Ae="HorizontalBarChart";const Me={chartClass:"",needsAxis:false,container:{flexHeight:false,height:210,width:70,margin:{top:0,right:0,bottom:10,left:0}},labelText:{color:"#777",spacing:12,alignmentLeft:false},valueText:{color:"#777",spacing:4,showZero:false},bar:{colors:["#ccc"],height:16,padding:28,formatTextFunction:null},animate:!window.navigator.webdriver};class De extends b{static get className(){return"HorizontalBarChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Me;super();this._selector=e;this._CLASS_NAME=Ae;this._settings=(0,c.defaultsDeep)({},t,Me);this._validateRequirements();this._createRoot()}draw(e){this._data=e;if(e.type==="hybrid"){Ie.call(this,e)}if(e.type==="double"){Ne.call(this,e)}if(e.type==="stacked"){Ze.call(this,e)}if(e.type==="stacked-summary"){Fe.call(this,e)}if(e.type==="simple"){if(this.getSettings().labelText.alignmentLeft){ke.call(this,e)}else{Te.call(this,e)}}this._dynamicallyAdjustSVGHeight()}resize(){this.draw(this._data)}}const Pe=e=>e<=-40;const Le=e=>e>-40&&e<=0;const Oe=e=>e>0;const Re=(e,t)=>{if(Pe(e)||Le(e)){return(0,E.LX)(t,Ke)}if(Oe(e)){return(0,E.LX)(t,Ve)}};const Be=e=>{if(Pe(e)){return Ge}if(Le(e)){return Ye}if(Oe(e)){return Ve}};const $e=(e,t)=>(0,E.LX)(t,Be(e));function je(e){const t=(0,E.sX)(this._current,e);this._current=t(0);return function(e){return Je(t(e))}}const He=e=>function(t){const a=(0,E.sX)(t.endAngle,e);return function(e){t.endAngle=a(e);return Xe(t)}};const{PI:qe}=Math;const We=-.8*qe;const Ue=.8*qe;const ze="warning";const Ve="#8db812";const Ye="#f19d11";const Ge="#db6021";const Ke="#555";let Xe;let Je;function Qe(){const e=this.getSettings();const{radius:t,width:a,color:s}=e.mainBar;const{color:n}=e.backgroundBar;const{text:i}=e.secondaryText;const{text:o}=e.ternaryText;Xe=(0,r.Nb)().innerRadius(t).outerRadius(t-a).startAngle(We);this._arcContainer=this._svg.append("g").attr("class","arc-info").attr("transform","translate(166, 170)");this._arcContainer.append("path").datum({endAngle:Ue}).attr("d",Xe).attr("fill",n).attr("class",this._buildClassList("__backgroundRing")).attr("transform","translate(20, 20)");this._arcContainer.append("path").attr("fill",s).attr("class",this._buildClassList("__primaryRing")).attr("transform","translate(20, 20)").on("mouseover",f);if(e.showInnerBar){const e=t-30;const a=t-40;const s=(0,r.Nb)().innerRadius(e).outerRadius(a).startAngle(We);this._arcContainer.append("path").datum({endAngle:Ue}).attr("d",s).attr("fill",n).attr("class",this._buildClassList("__backgroundRing")).attr("transform","translate(20, 20)")}this._innerInfoContainer=this._svg.append("g").attr("class","inner-info").attr("transform","translate(166, 170)");this._innerInfoContainer.append("text").attr("class",`${this._buildClassList("__secondaryText")} baseFillColor`).attr("text-anchor","middle").attr("x",20).attr("y",30).text(i);this._innerInfoContainer.append("line").attr("class",this._buildClassList("__zeroMarkLine")).attr("x1",20).attr("y1",-160).attr("x2",20).attr("y2",-117).attr("stroke-width",1).attr("stroke","white");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__zeroMarkNumber")).attr("text-anchor","middle").attr("x",20).attr("y",-108).attr("dy",".5rem").text("0");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__rangeNumber")).attr("text-anchor","middle").attr("x",-50).attr("y",150).attr("dy",".5rem").text("-100");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__rangeNumber")).attr("text-anchor","middle").attr("x",90).attr("y",150).attr("dy",".5rem").text("+100")}function et(e){const t=this.getSettings();const a=this._svg;const{radius:s}=t.mainBar;const{colors:n}=t.innerBar;const{text:i}=t.ternaryText;const{value:l}=e.mainBar;const{innerBar:c}=e;const d=-100;const u=100;const h=(0,o.BY)().range([We,Ue]).domain([d,u]).clamp(true);const m=h(l);const g=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__primaryText`).data([e]);const b=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__ternaryText`).data([e]);const w=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__icon`).data([e]);g.exit().remove();b.exit().remove();w.exit().remove();this._animateElements(g,(e=>e.transition().duration(1500).styleTween("fill",(function(e){return Re(l,this.style.fill)})).tween("text",(function(e){const t=this;const a=+t.textContent;const s=+e.mainBar.value;const n=(0,E.uL)(a,s);return function(e){t.textContent=n(e)}}))));this._animateElements(b,(e=>e.transition().duration(1e3))).attr("x",(e=>{if(e.ternaryIconTheme===ze){return 34}return 20})).text((e=>`${e.ternaryValue} ${i} (${e.ternaryPercent})`));this._animateElements(w,(e=>e.transition().duration(1e3))).style("opacity",(e=>{if(e.ternaryIconTheme===ze){return 1}return 0}));g.enter().append("text").attr("class",this._buildClassList("__primaryText")).attr("text-anchor","middle").attr("x",20).attr("y",-10).style("fill",(e=>{if(Oe(e.mainBar.value)){return Ve}return Ke})).text((e=>e.mainBar.value));b.enter().append("text").attr("class",(()=>`${this._buildClassList("__ternaryText")} ${this._buildClassList("__ternaryText--link")}`)).attr("text-anchor","middle").attr("x",(e=>{if(e.ternaryIconTheme=="warning"){return 34}return 20})).attr("y",57).text((e=>`${e.ternaryValue} ${i} (${e.ternaryPercent})`)).on("click",p).on("mouseover",f);w.enter().append("svg:image").attr("class",this._buildClassList("__icon")).attr("x",(0,v.isEnabled)("enpsSentimentScoreTrend")?-75:-50).attr("y",40).attr("width",20).attr("height",24).style("opacity",(e=>{if(e.ternaryIconTheme=="warning"){return 1}return 0})).attr("xlink:href",`/images/bicons/warning-icon-lrg.png`);const S=a.select(this._getClassList("__primaryRing")).each((e=>{this._currentEndAngle=e?e.endAngle:We})).datum({endAngle:t.animate?this._currentEndAngle:m,data:e}).attr("d",Xe);const C=e=>{if(t.showInnerBar){const t=s-30;const a=s-40;const i=(0,o.PK)().domain([1,2,3]).range(n);Je=(0,r.Nb)().outerRadius(t).innerRadius(a);const l=(0,r.ve)().startAngle(-.8*qe).endAngle(e.endAngle).sort(null).value((e=>e.value));const d=this._arcContainer.selectAll(`.${this._CLASS_NAME}__innerSlice`).data(l(c),(function(e){return e.data.label}));const u=d.enter().append("path").attr("class",this._buildClassList("__innerSlice")).attr("transform","translate(20,20)").on("mouseover",f).each((function(e){this._current=e}));this._animateElements(d,(e=>e.transition().ease(T.m2).duration(500).attrTween("d",je)));d.exit().remove();d.merge(u).attr("fill",(function(e){return i(e.data.order)})).attr("d",Je)}};const x=this._animateElements(S,(e=>e.transition().ease(T.m2).duration(500).attrTween("fill",(function(e){const t=(0,y.Ys)(this);const a=t.style("fill");return $e(l,a)})).attrTween("d",He(m)).on("end",C)));if(!t.animate){C(x.attr("fill",Be(l)).datum())}}const tt="RadialProgressChart";const at={chartClass:"",showInnerBar:false,innerBar:{colors:[]},animate:!window.navigator.webdriver};class st extends b{static get className(){return"RadialProgressChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:at;super();this._selector=e;this._CLASS_NAME=tt;this._settings=(0,c.defaultsDeep)({},t,at);this._validateRequirements();this._createRoot();Qe.call(this)}draw(e){et.call(this,e);this._dynamicallyAdjustSVGHeight()}}var nt=a(1765);const it="LineChart";const ot={chartClass:"",container:{height:100,margin:{bottom:0,left:0,right:0,top:0},width:214},drawDotsAlongLines:true,fadedLineOpacity:.2,hasSelectableColumns:false,lineToBringToFrontId:null,numberOfYAxisTicks:4,onSelectableAreaClick:null,pathStrokeWidth:4,partialValueColor:"#afafaf",partialValueLightColor:"#c0c0c0",pointColorClassName:"LineChart--strokeThemeColor",pointLightColorClassName:"LineChart--strokeLightThemeColor",pointLightColorEnabled:true,pointRadius:5,pointStrokeWidth:3,pointSubtitles:{height:16,formatter:null},pointTitles:{height:18,formatter:null},yAxisLabelWidth:0,yDomainRangeMax:10,animate:!window.navigator.webdriver};class rt extends b{static get className(){return"LineChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ot;super();this._selector=e;this._CLASS_NAME=it;this._settings=(0,c.defaultsDeep)({},t,ot);this._barVerticalOffset=this._settings.container.height-this._settings.pointTitles.height-this._settings.pointSubtitles.height;this._xTitlesVerticalOffset=this._barVerticalOffset+1;this._xSubtitlesVerticalOffset=this._xTitlesVerticalOffset+this._settings.pointTitles.height;this._minPointVerticalOffset=this._barVerticalOffset-16;this._validateRequirements();this._createRoot();this._configure()}updateSettings(e){this._settings=(0,c.defaultsDeep)({},e,ot)}draw(e){this._data=e;const t=e.lines?e.lines:this._prepLinesData(e);const a=e.xAxisTitles?e.xAxisTitles:this._prepTitlesData(e,"title");this._xAxisTitlesData=this._settings.pointTitles.formatter?this._settings.pointTitles.formatter(a):a;const s=e.xAxisSecondaryTitles?e.xAxisSecondaryTitles:this._prepTitlesData(e,"subtitle");const i=this._settings.pointSubtitles.formatter?this._settings.pointSubtitles.formatter(s):s;const o=t.map((e=>e.points.map((e=>e?.y)))).reduce(((e,t)=>e.concat(t)));const r=(0,n.VV)(o);const l=(0,n.Fp)(o);const c=Math.floor(r/10)*10;const d=Math.ceil(l/10)*10;this._xScale=this._getXScale();this._xScaleUsingX=(t,a)=>this._xScale(e.xAxisPositionMap&&t?.x?e.xAxisPositionMap.get(t.x):a);const u=this._settings.yDomainMin||c;const h=this._settings.yDomainMax||d;this._yScale=this._getYScale(u,h);this._minY=u;if(this._settings.hasSelectableColumns)this._drawSelectableAreas();this._drawLines(t);this._drawXAxisTitles();this._drawXAxisSecondaryTitles(i);this._drawYAxis();this._drawLegend(e.legend)}resize(){const e=this._svg;e.style("width",null);const t=e.node().parentNode.clientWidth;e.style("width",`${t}px`);if(!this.hasAxis()){e.select(this._getClassList("__divider")).attr("x2",t)}this.draw(this._data)}_animateElements(e,t){if(this._settings.animate){return e.transition().duration(t)}return e}_configure(){if(!this.hasAxis()){this._bar=this._svg.append("line").style("stroke","#AFAFAF").style("shape-rendering","crispEdges").attr("class",this._buildClassList("__divider")).attr("x1",0).attr("x2",this._getContainerWidth()).attr("y1",this._barVerticalOffset).attr("y2",this._barVerticalOffset)}this._xTitles=this._svg.append("g").style("font-size","12px").style("fill","#adadad").attr("class",this._buildClassList("__titles")).attr("text-anchor","middle").attr("transform",`translate(0, ${this._xTitlesVerticalOffset})`);this._xSubtitles=this._svg.append("g").style("font-size","10px").style("fill","#AFAFAF").attr("class",this._buildClassList("__subtitles")).attr("text-anchor","middle").attr("transform",`translate(0, ${this._xSubtitlesVerticalOffset})`);if(this._settings.legend){const e=(0,y.Ys)(this._selector).append("div").attr("class",this._buildClassList("__legend"));const t={onClick:this._handleLegendClick,...this._settings.legend};this._legend=new ve(e.node(),t)}}_handleLegendClick(e){const t=!e.active;const a=t?"none":"initial";const s=`#tag${e.color.slice(1)}_${e.keyOrder}`;const n=(0,y.Ys)(s);this._animateElements(n,100).style("display",a);e.active=t}_prepLinesData(e){if(Array.isArray(e)){return[{points:e}]}if(!Array.isArray(e)&&typeof e==="object"&&e.points){return[e]}}_prepTitlesData(e,t){if(Array.isArray(e)){return e.map((e=>e[t]))}if(!Array.isArray(e)&&typeof e==="object"&&e.points){return e.points.map((e=>e[t]))}}_getXScale(){const e=this._xAxisTitlesData;return(0,o.ti)().domain(e.map(((e,t)=>t))).range([this._settings?.yAxisLabelWidth??0,this._getContainerWidth()]).round(true).paddingOuter(.4).paddingInner(1)}_getYScale(e,t){return(0,o.BY)().domain([e,t]).range([this._minPointVerticalOffset,this._settings.yDomainRangeMax])}_getLineColor(e,t){let{color:a,displayType:s,alternateColors:n}=e;const i=this._settings;if(i.colors){a=i.colors[t]}if(s==="default"||s===undefined)return a?a:"";if(s==="faded")return n?n.faded:"";return""}_getAlternatePointStyles(e){const{alternatePointStyleKeys:t,alternatePointStyles:a}=this._settings;const s=t?.find((t=>e[t]));return a&&a[s]}_getPointFill(e){const{alternatePointStyle:t,alternatePointStyleKey:a}=this._settings;const s=e[a]&&t?.pointFill||this._getAlternatePointStyles(e)?.pointFill||"";return s}_getPointRadius(e){const{alternateLineStyle:t,alternateLineStyleKey:a,alternatePointStyle:s,alternatePointStyleKey:n,pointRadius:i}=this._settings;const o=e&&e[a]&&t?.pointRadius;const r=e&&e[n]&&s?.pointRadius||this._getAlternatePointStyles(e)?.pointRadius;const l=o||r||i;return l}_getPointStrokeWidth(e){const{alternatePointStyle:t,alternatePointStyleKey:a,pointStrokeWidth:s}=this._settings;const n=e[a]&&(t.pointStrokeWidth||this._getAlternatePointStyles(e)?.pointStrokeWidth||s);return n}_drawLines(e){const t=this._drawLineGroups(e);this._drawCircleGroups(t)}_drawLineGroups(e){const t=this._svg;const a=this._settings;const s=t.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(e,(e=>e.id));const n=s.enter().append("g").attr("class",this._buildClassList("__lineGroup")).attr("id",((e,t)=>{if(e.id)return e.id;const a=this._getLineColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const i=s.merge(n);const o=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((()=>this._yScale(this._minY)));const l=(0,r.jv)().defined(((e,t)=>e!==undefined&&e!==null)).x(this._xScaleUsingX).y(((e,t)=>this._yScale(e.y)));n.append("path").attr("class",`${"LineChart--strokeThemeColor"} ${this._buildClassList("__line")}`).style("fill","none").attr("pointer-events","none").style("stroke",((e,t)=>this._getLineColor(e,t))).style("stroke-width",`${a.pathStrokeWidth}px`).attr("d",(e=>o(e.points)));const c=i.select(this._getClassList("__line")).style("stroke",((e,t)=>this._getLineColor(e,t)));this._animateElements(c,300).attr("d",(e=>l(e.points)));i.raise();if(a.lineToBringToFrontId!==null){t.select(`${this._getClassList("__lineGroup")}[id="${a.lineToBringToFrontId}"]`).raise()}s.exit().remove();return{lineGroupUpdate:s,lineGroupEnter:n}}_drawCircleGroups(e){let{lineGroupEnter:t,lineGroupUpdate:a}=e;const s=this._settings;const n=t.append("g").attr("class",`${s.pointColorClassName} ${this._buildClassList("__circleGroup")}`).attr("fill",((e,t)=>this._getLineColor(e,t)||"#fff")).style("stroke",((e,t)=>this._getLineColor(e,t))).style("stroke-width",`${s.pointStrokeWidth}px`);const i=a.select(this._getClassList("__circleGroup"));const o=i.merge(n);o.style("stroke",((e,t)=>this._getLineColor(e,t))).style("fill",((e,t)=>this._getLineColor(e,t)));this._drawCircles(o)}_drawCircles(e){const t=this._settings;const a=e.selectAll(this._getClassList("__innerCircleGroup")).data((e=>e.points));const s=a.enter().append("g").attr("class",this._buildClassList("__innerCircleGroup"));s.append("circle").attr("r",((e,a,s)=>{if(t.drawDotsAlongLines)return this._getPointRadius(e);if(a===s.length-1)return this._getPointRadius(e);return 0})).attr("data-tip-z-index","auto").attr("class",this._buildClassList("__circle")).attr("pointer-events",t.hasSelectableColumns?"none":"visiblePainted").attr("cx",this._xScaleUsingX).attr("cy",(e=>this._yScale(this._minY)));s.append("circle").attr("r",(e=>{if(e?.displayType!=="hollow")return 0;return 3})).attr("data-tip-z-index","auto").attr("class",this._buildClassList("__innerCircle")).attr("fill","#fff").attr("stroke","none").attr("stroke-width",0).attr("pointer-events",t.hasSelectableColumns?"none":"visiblePainted").attr("cx",this._xScaleUsingX).attr("cy",(e=>this._yScale(this._minY)));const n=a.merge(s);n.select(this._getClassList("__circle")).on("mouseenter",(function e(a){const s=(0,y.Ys)(this);if(a?.displayType==="partial"){s.style("stroke",t.partialValueLightColor)}else if(t.pointLightColorEnabled){s.classed(t.pointLightColorClassName,true);s.classed(t.pointColorClassName,false)}})).on("mouseleave",(function e(a){const s=(0,y.Ys)(this);if(a?.displayType==="partial"){s.style("stroke",t.partialValueColor)}else if(t.pointLightColorEnabled){s.classed(t.pointLightColorClassName,false);s.classed(t.pointColorClassName,true)}})).on("mouseover",f).filter((e=>e?.displayType==="partial")).style("stroke",t.partialValueColor);const i=n.select(this._getClassList("__circle")).attr("r",((e,a,s)=>{if(t.drawDotsAlongLines)return this._getPointRadius(e);if(a===s.length-1)return this._getPointRadius(e);return 0}));this._animateElements(i,300).attr("visibility",(e=>!e?"hidden":"")).attr("cx",this._xScaleUsingX).attr("cy",(e=>e?this._yScale(e.y):this._yScale(this._minY)));const o=n.select(this._getClassList("__innerCircle")).attr("r",(e=>{if(e?.displayType!=="hollow")return 0;return 3}));this._animateElements(o,300).attr("cx",this._xScaleUsingX).attr("cy",(e=>e?this._yScale(e.y):this._yScale(this._minY)));a.exit().remove()}_drawXAxisTitles(){if(this._xAxisTitlesData){const{_data:{xAxisSelectedTitle:e}}=this;this._xTitles.selectAll(this._getClassList("__title")).remove();const t=this._xTitles.selectAll(this._getClassList("__title")).data(this._xAxisTitlesData);t.enter().append("text").attr("class",((_,t)=>{if(t===e){return`${this._buildClassList("__title")} ${this._buildClassList("__title--selected")}`}return this._buildClassList("__title")})).attr("y",16).merge(t).attr("x",((e,t)=>this._xScale(t)+this._xScale.bandwidth()/2)).text((e=>e))}}_drawXAxisSecondaryTitles(e){if(e){const{_data:{xAxisSelectedTitle:t}}=this;this._xSubtitles.selectAll(this._getClassList("__subtitle")).remove();const a=this._xSubtitles.selectAll(this._getClassList("__subtitle")).data(e);a.enter().append("text").attr("class",((_,e)=>{if(e===t){return`${this._buildClassList("__subtitle")} ${this._buildClassList("__subtitle--selected")}`}return this._buildClassList("__subtitle")})).attr("y",12).merge(a).attr("x",((e,t)=>this._xScale(t)+this._xScale.bandwidth()/2)).text((e=>e))}}_drawYAxis(){if(this.hasAxis()){const e=this._settings;const t=(0,i.axisLeft)().scale(this._yScale);t.tickSizeOuter(0).ticks(e.numberOfYAxisTicks).tickFormat(((e,t,a)=>{const s=(0,y.Ys)(a[t]);s.style("opacity",1);return e}));const a=this._g.select(this._getClassList("__yAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__yAxis")).call(t);this._g.attr("transform",`translate(${e.yAxisLabelWidth}, 0)`);(0,y.Ys)(this._getClassList("__yAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__yAxis")).attr("opacity",1).call(t)}(0,y.Ys)(this._getClassList("__yAxis")).selectAll("line").attr("x2",(()=>this._svg.node().parentNode.clientWidth-e.yAxisLabelWidth)).attr("style",((e,t,a)=>{if(t===0){return"stroke-dasharray: 0"}})).attr("pointer-events","none")}}_drawLegend(e){if(e&&this._settings.legend){if(this._settings.colors){e.forEach(((e,t)=>{e.color=this._settings.colors[t]}))}this._legend.draw(e)}}_drawHoverCircles(e){const t=this._svg;const{lineToBringToFrontId:a=null}=this._settings;const{xAxisPositionMap:s,xAxisTitles:n}=this._data;const i=t.selectAll(this._getClassList("__hoverAreaGroup")).filter(((t,a)=>a===e));const o=new Map;if(s){const e=Array.from(s.values());Array.from(s.keys()).forEach(((t,a)=>{o.set(e[a],t)}))}this._data.lines.forEach((t=>{const s=o.get(e);const n=s?t.points.find((e=>e&&e.x===s)):t.points[e];let r=false;if(a&&a===t.id){r=true}if(n&&(s===undefined||s===n.x)){i.append("circle").attr("class",`${this._buildClassList("__hoverCircle")} ${r&&"front"}`).attr("fill",this._getLineColor(t,e)).attr("pointer-events","none").attr("r",4).attr("cx",this._xScaleUsingX({x:s},e)).attr("cy",this._yScale(n.y))}}));if(a){t.select(`${this._getClassList(`__hoverCircle`)}.front`).raise()}}_removeHoverCircles(){const e=this._svg;e.selectAll(this._getClassList("__hoverCircle")).remove()}_drawSelectableAreas(){const e=this._svg;const t=e.select(this._getClassList("__hoverAreaContainer"));if(!t.size()){e.append("g").attr("class",this._buildClassList("__hoverAreaContainer")).lower()}const a=e.select(this._getClassList("__hoverAreaContainer")).selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data(this._xAxisTitlesData.map(((e,t)=>t)));const s=a.enter().append("g").attr("class",this._buildClassList("__hoverAreaGroup")).style("cursor","pointer").attr("id",((e,t)=>`hover-${t}`));s.append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent").attr("d",((e,t)=>this._getDForHoverArea(t))).on("mouseover",(t=>{this._drawHoverCircles(t);this._hoverArea=t;e.selectAll(this._getClassList("__hoverArea")).filter(((e,a)=>a===t)).style("fill",nt.colors.gray1)})).on("mouseleave",(t=>{e.selectAll(this._getClassList("__hoverArea")).filter(((e,a)=>a===t)).style("fill","transparent");this._hoverArea=undefined;this._removeHoverCircles()})).on("click",(e=>{const{onSelectableAreaClick:t}=this._settings;if(t)t(e)}));this._removeHoverCircles();if(this._hoverArea){this._drawHoverCircles(this._hoverArea)}const n=a.merge(s);n.select(this._getClassList("__hoverArea")).attr("d",((e,t)=>this._getDForHoverArea(t)));a.exit().remove()}_getDForHoverArea(e){const t=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const a=e=>t(e.map((e=>({x:e,y:0}))));if(e===0){const e=this._settings?.yAxisLabelWidth??0;const t=this._xScale(0)-e;const s=[e,this._xScale(0)+t];return a(s)}const s=this._xScale(e)-this._xScale(e-1);const n=[this._xScale(e)-s/2,this._xScale(e)+s/2];return a(n)}}const lt="SliceChart";const ct={chartClass:"",colors:["#8db812","#5b9fb2","#f19d11","#db6021"],container:{height:57,width:887},slice:{height:17,hoverMargin:4,width:700}};class dt{static get className(){return"SliceChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ct;this._selector=e;this._options=(0,c.defaultsDeep)({},t,ct)}_createDom(e){const t=(0,y.Ys)(this._selector).append("div","hr").attr("class",`${lt} ${this._options.chartClass}`).style("height",`${this._options.container.height}px`);if(e.title){this._title=t.append("div").attr("class",`${lt}__title ${this._options.chartClass}__title`).text(e.title).append("span").attr("class",`${lt}__subtitle ${this._options.chartClass}__subtitle`).text(`(${e.count})`)}this._svg=t.append("svg").attr("class",`${lt}__bar ${this._options.chartClass}__bar`).attr("viewBox",`0 0 ${this._options.slice.width} ${this._options.slice.height+this._options.slice.hoverMargin}`).style("height",`${this._options.slice.height+this._options.slice.hoverMargin}px`).style("width",`${this._options.slice.width}px`)}draw(e){this._createDom(e);const t=this;t.totals=e.totals;const a=(0,r.kn)().keys(e.keys).order(r.cY);const s=a([e.values]);const n=(0,o.BY)().range([this._options.slice.height+this._options.slice.hoverMargin,0]).domain([0,1]);const i=(0,o.BY)().range([0,this._options.slice.width]).domain([0,1]);this.barColors=(0,o.PK)(this._options.colors);if(typeof this._options.getColor==="function"){this.barColors=this._options.getColor}this._drawBars(s,i,t)}_drawBars(e,t,a){const s=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("fill",(e=>this.barColors(e.key)));const n=s.selectAll("rect").data((e=>e));n.enter().append("rect").merge(n).attr("x",(e=>t(e[0]))).attr("width",(e=>{const a=t(e[1])-t(e[0])-2;return a>0?a:0})).attr("y",this._options.slice.hoverMargin/2).attr("height",this._options.slice.height).attr("class",`${lt}__cell ${this._options.chartClass}__cell`).on("mouseenter",(function(e){a._onPathEnter(this,e,(0,y.Ys)(this.parentNode).datum(),a?.totals)})).on("mouseleave",(function(e){a._onPathExit(this)}))}_onPathEnter(e,t,a,s){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",this._options.slice.height+this._options.slice.hoverMargin);if(typeof this._options.getHoveredValue==="function"){this._options.getHoveredValue(a.key)}if(!A.Z.hasInstance(e)){A.Z.create(e,{template:{name:"popover-standard",data:{title:this._options?.popover?.title?this._options.popover.title(a):`${Math.round((t[1]-t[0])*100)}%`,content:this._options?.popover?.content?this._options?.popover.content(a,s):a.key,popoverClass:`${lt}__popover ${this._options.chartClass}__popover `,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600"},contentCssOverride:{"text-align":"center"},rawContent:this._options?.popover?.rawContent?this._options.popover.rawContent:false}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:6,delay:75})}}_onPathExit(e){if(typeof this._options.getHoveredValue==="function"){this._options.getHoveredValue("")}(0,y.Ys)(e).transition().duration(150).attr("y",this._options.slice.hoverMargin/2).attr("height",this._options.slice.height)}}const ut="SimpleMultiLineAreaChart";const ht={chartClass:"",container:{height:180,width:"auto",margin:{top:0,right:0,bottom:0,left:0}},yAxisMin:null,yAxisMax:null,pathStrokeWidth:3};class pt extends b{static get className(){return"SimpleMultiLineAreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ht;let a=arguments.length>2?arguments[2]:undefined;let n=arguments.length>3?arguments[3]:undefined;super();(0,s.Z)(this,"_minYDrawnValue",0);(0,s.Z)(this,"_destroyPopover",void 0);(0,s.Z)(this,"_data",void 0);this._selector=e;this._CLASS_NAME=ut;this._settings=(0,c.defaultsDeep)({},t,ht);this._onMouseOver=a;this._onFocus=n;this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;const s=t[0].points.length;const i=t[0].points.map((e=>e.y));const o=t[1].points.map((e=>e.y));const r=this._settings;const l=r.yAxisMin===null?Math.floor((0,n.VV)(o)):r.yAxisMin;const c=r.yAxisMax===null?Math.ceil((0,n.Fp)(i)):r.yAxisMax;this._minYDrawnValue=l;this._xScale=this._getXScale(s);this._yScale=this._getYScale(l,c);this._svg.style("overflow","visible");this._svg.select("defs").remove();this._defs=this._svg.append("defs");this._addLinearGradients();this._drawAreas()}_getXScale(e){const{container:{margin:t}}=this._settings;return(0,o.BY)().domain([0,e-1]).range([t.left,this._getContainerWidth()-t.right])}_getYScale(e,t){const a=Math.max(Math.abs(e),t);const s=a+a*.1;e=s*-1;t=s;const{container:{height:n,margin:i}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([n,i.top])}_addLinearGradients(){const e=this._defs.append("linearGradient").attr("id","likesGradient").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");e.append("stop").attr("offset","0%").attr("style",`stop-color: ${this._settings.colors.likes.gradientStart}`);e.append("stop").attr("offset","100%").attr("style",`stop-color: ${this._settings.colors.likes.gradientEnd}`);const t=this._defs.append("linearGradient").attr("id","dislikesGradient").attr("x1","0%").attr("x2","0%").attr("y1","100%").attr("y2","0%");t.append("stop").attr("offset","0%").attr("style",`stop-color: ${this._settings.colors.dislikes.gradientStart}`);t.append("stop").attr("offset","100%").attr("style",`stop-color: ${this._settings.colors.dislikes.gradientEnd}`)}_drawAreas(){this._drawAreaGroups();this._drawDivider();this._drawLineGroups();this._drawMouseOverAreas();this._addLastPointLabels()}_drawDivider(){const e=this._svg;const t=e.selectAll(this._getClassList("dividerLine")).data([this._areas[0].points]);const a=t.enter().append("line").attr("class",this._buildClassList("dividerLine")).attr("y1",this._yScale(0)).attr("y2",this._yScale(0)).style("stroke","white").style("stroke-width",3);const s=t.merge(a);s.attr("x1",(e=>this._xScale(0))).attr("x2",(e=>this._xScale(e.length-1)));t.exit().remove()}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>{const{colors:a}=this._settings;const s=t===0?a.likes.area:a.dislikes.area;return s?`tag${s.slice(1)}_${t}`:""}));const s=t.merge(a);const n=(0,r.SO)().x(((e,t)=>this._xScale(t))).y0((e=>this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`AreaChart--themeFill ${this._buildClassList("__area")}`).style("fill",((e,t)=>t===0?"url(#likesGradient)":"url(#dislikesGradient)"));s.select(this._getClassList("__area")).attr("d",(e=>n(e.points)));t.exit().remove()}_drawMouseOverAreas(){const e=this._svg;const t=e.selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__hoverAreaGroup")}`).attr("id",((e,t)=>`hover${t}`));const s=t.merge(a);const n=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const i=s.selectAll(this._getClassList("__hoverArea")).data((e=>e.points));const o=i.enter().append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent");const l=i.merge(o);l.attr("d",((e,t)=>{const a=this._areas.find((t=>t.points.includes(e)));const s=[];const i=a.points[t-1]?this._xScale(t-1):null;const o=this._xScale(t);const r=a.points[t+1]?this._xScale(t+1):null;if(i!==null){s.push((o+i)/2)}s.push(o);if(r!==null){s.push((r+o)/2)}const l=[];const c=a.points[t-1]?this._yScale(a.points[t-1].y):null;const d=this._yScale(e.y);const u=a.points[t+1]?this._yScale(a.points[t+1].y):null;if(c!==null){if(d>c){l.push((d+c)/2)}else{l.push((c+d)/2)}}l.push(d);if(u!==null){if(u>d){l.push((u+d)/2)}else{l.push((d+u)/2)}}return n(s.map(((e,t)=>({x:e,y:l[t]}))))})).on("mouseover",(e=>{const t=this._areas.find((t=>t.points.includes(e)));const a=this._areas.indexOf(t)===0;const s=this._addHoverPoint(e,t.points.indexOf(e),a);this._destroyPopover=this._onMouseOver({date:e.x,count:e.y,target:s.node(),isPositive:a})})).on("mouseleave",(e=>{this._removeHoverPoint(e);this._destroyPopover()}));i.exit().remove();t.exit().remove()}_addHoverPoint(e,t,a){return this._svg.append("circle").style("pointer-events","none").attr("id","hoverPoint").attr("cx",this._xScale(t)).attr("cy",this._yScale(e.y)).attr("r",4).style("fill",a?this._settings.colors.likes.line:this._settings.colors.dislikes.line)}_removeHoverPoint(){this._svg.select("#hoverPoint").remove("circle")}_getCurrentPeriod(e){return e.find(((t,a)=>a===e.length-1))}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(this._areas);const s=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>{const{colors:a}=this._settings;const s=t===0?a.likes.line:a.dislikes.line;return s?`tag${s.slice(1)}_${t}`:""}));const n=a.merge(s);const i=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((e=>this._yScale(e.y)));s.append("path").attr("class",`AreaChart--themeStroke ${this._buildClassList("__line")}`).style("fill","none").style("stroke",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line})).style("stroke-width",`${t.pathStrokeWidth}px`);s.append("circle").attr("class",`${this._buildClassList("__circle0")}`).attr("cx",(e=>this._xScale(0))).attr("cy",(e=>this._yScale(e.points[0].y))).attr("r",4).style("fill",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line}));s.append("circle").attr("class",`${this._buildClassList("__circle1")}`).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y))).attr("r",6).style("fill",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line}));s.append("circle").attr("class",`${this._buildClassList("__circle1--fill")}`).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y))).attr("r",3).style("fill","#fff");n.select(this._getClassList("__line")).attr("d",(e=>i(e.points)));n.select(this._getClassList("__circle0")).attr("cx",(e=>this._xScale(0))).attr("cy",(e=>this._yScale(e.points[0].y)));n.select(this._getClassList("__circle1")).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y)));n.select(this._getClassList("__circle1--fill")).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y)));a.exit().remove()}_getAreaIndex(e){return this._areas.indexOf(e)}_addLastPointLabels(){const e=this._svg;const{colors:t}=this._settings;const a=e.selectAll(this._getClassList("__floatingLabel")).data(this._areas);const s=a.enter().append("text").attr("class",`${this._buildClassList("__floatingLabel")}`).style("font-size","13px").style("line-height","16px").style("text-anchor","middle");const n=a.merge(s);n.text(((e,t)=>this._getCurrentPeriod(e.points).y*(t===0?1:-1))).style("fill",((e,a)=>a===0?t.likes.floatingLabel:t.dislikes.floatingLabel)).attr("x",(e=>this._xScale(e.points.length-1))).attr("y",((e,t)=>this._yScale(this._getCurrentPeriod(e.points).y)+(t===0?-11:22)));a.exit().remove()}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}resize(){(0,y.Ys)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}destroy(){(0,y.Ys)(this._selector).select("div").remove()}}},24692:(e,t,a)=>{"use strict";a.d(t,{KN:()=>r,SR:()=>o,es:()=>d,hw:()=>c,ui:()=>l});var s=a(8346);var n=a(34387);var i=a(69835);function o(e){const t=(0,s.Ys)(e.target).node().getBBox();(0,s.Ys)(e.target).attr("height",(e=>t.height+4)).attr("y",(e=>t.y-2))}function r(e){const t=(0,s.Ys)(e.target).node().getBBox();(0,s.Ys)(e.target).attr("height",(e=>t.height-4)).attr("y",(e=>t.y+2))}function l(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let i;const o=(0,s.Jz)(e.target)[0];const r=e.target.getAttribute("x")||e.target.getAttribute("cx");const{push:l=15}=a;i=r?o-r:o;n.Z.create(e.target,{showImmediately:true,closeX:false,push:l,tailSize:9,triggerEvent:"hover",onShow(e){e.balloonElement.style.pointerEvents="none";window.addEventListener("scroll",(function t(){if(!e.destroyed){e.hide()}window.removeEventListener("scroll",t,true)}),true)},onHide(e){if(e&&!e.destroyed){e.destroy()}},tailOnAnchor:i,html:t})}function c(e,t,a){const s={};const{push:i=15}=s;let o;n.Z.create(t,{showImmediately:true,closeX:false,push:i,position:a,tailSize:9,triggerEvent:"hover",onShow(e){o=e;e.balloonElement.style.pointerEvents="none";window.addEventListener("scroll",(function t(){if(!e.destroyed){e.hide()}window.removeEventListener("scroll",t,true)}),true)},onHide(e){if(e&&!e.destroyed){e.destroy()}},html:e});return()=>{if(o&&!o.destroyed){o.destroy()}}}function d(e,t){i.Z.create(e,t)}},65843:(e,t,a)=>{"use strict";a.d(t,{Zl:()=>l,_D:()=>i,wQ:()=>r,xN:()=>o});const s="ba";const n=e=>`${s}:${e}`;const i=n("chartMouseClick");const o=n("chartMouseEnter");const r=n("chartMouseOver");const l=n("chartMouseLeave")},99220:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(73641);var n=a.n(s);var $=a(26570);class i{static get className(){return"Confetti"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.target=$(e);this.canvas=null;this.context=null;this.drawInterval=0;this.setRelative=true;this.offsetX=0;this.offsetY=0;this.offsetWidth=0;this.offsetHeight=0;this.numParticles=30;this.particles=[];this.angle=0;this.tiltAngle=0;if(!(0,s.isNil)(t)){for(var a in t){this[a]=t[a]}}$(window).resize(this.setDimensions.bind(this));this.initialize();if(this.easterEgg&&this.panda){this.panda.onload=this.start.bind(this);this.panda.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAF7UlEQVRIDY2WS2iVRxTHz82NMdFgKxqbCPGNxEJRExdKqyQLQcxWEjEES1UE2027kCyq6EKK7cZFKzQKqQ9KjRYFqeQhRBBUsBof0MYnNkajsZqo0TzuY/r/zb1f+t1Ybf5wvpk5c87/zOs7M2YhOOeioWZGVX1ZkkiGMtSgD5uQKqOqvgzu7KCXjkgkknj27Nl7kydP/kz6lZJ8SZ/kF/X9DLEEn4TESQCDgTQhm6T6a1Svlrwv6Ze09Pb2NqjveRBDOu9kgULlR9I1Pn36tOTChQvW3d1ts2bNsoqKCotGoz/I+Quc3gb5f59IJD5va2uze/fuWVFRkS1dutSmTJnSIZ8q+V8PYhHUL5/KDyR/nT9/npkMSeJpiVVXV8cHBwfV7XZLvpb8KmlOC3V0u7FZu3YtfrGQ/xCcQqekUHofk33xS6zym0ePHtVplMOSnPz8fBORTZs2zS5duuQaGxvd6tWrs+7evWv379+3J0+ewGEFBQVWXFxsc+bMsVOnTiWrqqoiZWVlkZ6eHsvNzbX+/n5WbliSU1hY+J1mvZWY2aqwX8z6k9OnT8OVjcOtW7dMfSwxugiEy5cvTyxatMgRRAPzK3Xz5k3X1NRkV65ciZw9e9Yba6usq6uLmdns2bM9Z2trq9XW1n4MFzH94dqxYwck0aEhVlhrHI/bpEmTbOLEiX6v1q1bZ+vXr7eFCxdGWQEGFAYBmOHVq1ft0KFDdvjwYb+/r1698lzYDg8PU0S1clmaRMIfLDRy/vHOnTvs7/D06dPduHHjqLvjx487Eag7hWQy6f5Lgv7Xr197H3zhgEv1GNxCveqpmGr4f0/lAknXmTNnMEzOnTvXafmkSkGn1QcM2qNLBoNNAHzhgAtOoUuyIB049b9L4fdG5bHHjx9jHL9+nZPvPBmkY0V4AHDABadwLB3Uxwovdbn22C1btix54sQJH0d7PdZ4b9gFvnDBCbdQHgRnyowKbGlvb7cJEyYkKisrvSIrK4uBmWbhhfrbMNoOXwAXnHALW/gIKSI5zdD+9OrkOv1Sfl3/b0/l806ElxxOuIkhpxmp2IR3bo1+Bzdz5syEEkMGoRKGUwp0LS0t7tq1axkHKDBkkPRhgy0+YcAJNzGENeHA2zs6OpxGFYMEDAwMuH379rEkGXLy5Enfz4wQgG60Hb5wADjhJoawncCpjTArJgVqVBbszZEjR2zTpk3+kuCimD9/PvZWX19vIvRJhERCHR3ABlsEXzgAnHCn02yx1/kesxz9+JadnbolX7x4YQ0NDb6rr6/POjs7jTQIpk6dOjI42pCiA9hgiw+AAy4ANzGEHD7BjAdIkYw+gJbEV3HQqTQleN/esGGDjR8/3qdCUit1dAAbbIMJBBz0wU0MYZCPhwy+1P3pVqxYEZeBms7t37/f75uIR/Zv7969LhaLuaNHj7q6ujov1NHRJ7IMHzgAnHATQ/gqHdaf6iVahnhpaWny3LlzdDpdZ+7AgQNu1apVXg4ePOhIAkr2btu2bSNBqKOjD5vAHl84AJxwE0PNsmC2/qqRopkLW8sU075g70H95cuXQXOkVEJwyGhgO9ofzvRjoJmg8onw8fusskwS27lzp1O2iT9/zhPpX/DrMCu9n7zywYMHDgHo6At+L6/UBw644BRiEj9blamzpUpwSWxU3e3atYuljF28eDEjYZB/dem7PXv2uM2bN3uhji7Izfjz3+ILB1xpbEzPNnVJ0ADqDILXqt6vx57TazNRU1MTI+XpWRQQZNzP4bsaG2zxwRcOuCS14RjU/f5SATII3l8fqvmtTmMlyV0HxbhT9WJMlJSU2Lx58yJ6HnlfHni3b992N27cMO1jtLy8PKIsZYsXL7a8vLzfxLNVieaPgJs4ICMwirCB6hVSfapypbJOkd7cpl/CHj586B9x2PMo1CvDZyY9Y3n8dStQq7p+UtmGTZiTNngjMEoZ+s2XYzLdJjUtkZRKeEUUSPIkgKzDk/NPyWXJ7/L7W+UbPOjGBEYaDGJMDmkjfPB9l88/4YuLNj6XJrEAAAAASUVORK5CYII="}else{this.start()}}initialize(){this.canvas=document.createElement("canvas");if(this.cssClass){this.canvas.classList.add(this.cssClass)}if(this.setRelative){this.target.css("position","relative")}this.target.prepend(this.canvas);$(this.canvas).css("position","absolute");$(this.canvas).css("top",this.offsetY);$(this.canvas).css("left",this.offsetX);this.setDimensions();this.context=this.canvas.getContext("2d");for(var e=0;e<this.numParticles;e++){this.particles.push(this.getNewParticle())}if((window.ENV==="dev"||window.SESSION_USER.companyId.match(/28448|2218|20/))&&this.easterEgg){this.panda=new Image;for(let e=0;e<this.numParticles/5;e++){this.particles.push({...this.getNewParticle(),isPanda:true})}}}setDimensions(){this.canvas.width=this.target.outerWidth()+this.offsetWidth-1;this.canvas.height=this.target.outerHeight()+this.offsetHeight-1}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e=0;e<this.particles.length;e++){const t=this.particles[e];if(t.isPanda){this.context.drawImage(this.panda,t.xPos,t.yPos)}else{this.context.beginPath();this.context.lineWidth=t.size*.3;this.context.strokeStyle=t.color;this.context.moveTo(t.xPos+t.tilt+t.size*.25,t.yPos);this.context.lineTo(t.xPos+t.tilt,t.yPos+t.tilt*.5+t.size*.1);this.context.stroke()}}this.update()}getNewParticle(){return{xPos:Math.random()*this.canvas.width,yPos:Math.random()*this.canvas.height,size:this.randomFromTo(5,30),density:Math.random()*this.numParticles+10,color:`rgba(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, 0.7)`,tilt:Math.floor(Math.random()*10)-10,tiltAngleIncremental:Math.random()*.04+.03,tiltAngle:0}}randomFromTo(e,t){return Math.floor(Math.random()*(t-e+1)+e)}update(){this.angle+=.01;this.tiltAngle+=.1;for(let e=0;e<this.particles.length;e++){const t=this.particles[e];t.tiltAngle+=t.tiltAngleIncremental;t.yPos+=(Math.cos(this.angle+t.density)+1+t.size*.5)*.15;t.xPos+=Math.sin(this.angle)*.5;t.tilt=Math.sin(t.tiltAngle-e/3)*15;if(t.xPos>this.canvas.width+15||t.xPos<-15||t.yPos>this.canvas.height+15){t.tilt=Math.floor(Math.random()*10)-10;if(e%5>0||e%2==0){t.xPos=Math.random()*this.canvas.width;t.yPos=-10}else{t.yPos=Math.random()*this.canvas.height;if(Math.sin(this.angle)>0){t.xPos=-5}else{t.xPos=this.canvas.width+5}}}}}start(){this.drawInterval=setInterval(this.draw.bind(this),20)}stop(){clearTimeout(this.drawInterval);if(!(0,s.isNil)(this.context)){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}}}},17876:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>Ye,$m:()=>Ie});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(38592);var r=a(67572);var l=a(6795);var c=a(71141);var d=a(77512);var u=a(76725);var h=a(55482);var $=a(26570);const p=40;const m=".HoursPerWeekField__container";const f=".HoursPerWeekField__defaultContainer";const g=".HoursPerWeekField__defaultText";const v="#hoursPerWeekField";const y=".HoursPerWeekField__helpButton";const b='input[name="hoursPerWeek"]';const w=".HoursPerWeekField__inputContainer";const S=`.HoursPerWeekField__popoverButton`;const C="#payScheduleHoursPerWeekMap";const x=".js-paySchedule";const T=`${x} ba-option[selected]`;const E=".js-payType";const k=`${E} ba-option[selected]`;function Z(){document.body.style.top="";const e=M();const t=D();let a=$.__n(`This employee's pay schedule has a default of %2$s salaried hour per week.`,`This employee's pay schedule has a default of %2$s salaried hours per week.`,e,t);let s=$.__(`Edit This Employee's Salaried Hours`);let n="update-compensation-modal-hours-per-week-edit-button";if(X()){a=$.__("This employee is using custom salary hours. We will use this value instead of the pay schedule default.");s=$.__(`Use Pay Schedule Default Instead`);n="update-compensation-modal-hours-per-week-use-default-button"}const i=BambooHR.Components.Popover.create(y,{content:`\n\t\t\t<div class="hoursPerWeekPopoverText">${a}</div>\n\t\t\t<button class="fab-TextButton fab-Link HoursPerWeekField__popoverButton" data-bi-id="${n}" type="button">${s}</button>\n\t\t`,title:$.__("Salaried Hours Per Week"),click:true,persistent:false,contentCssOverride:{maxWidth:"240px"}});i.onShow((()=>{const e=document.querySelector(S);e.removeEventListener("click",H);e.addEventListener("click",H);e.focus()}));return i}function F(){const e=N();if(e){e.destroy()}}function I(e){const t=A();const a=(0,h.J)(t,undefined,e);const s=(0,h.j)(a);J(s)}function N(){return BambooHR.Components.Popover.selectPopovers(y)[0]}function A(){return document.querySelector(b).value||""}function M(){const e=P();const t=L();return e?.[t]||p}function D(){return(0,h.j)(M())}function P(){return(0,u.V)(C,true)}function L(){return document.querySelector(T)?.getAttribute("value")}function O(){return document.querySelector(k)?.getAttribute("value")}function R(){return document.querySelector(T)?.getAttribute("data-syncing-pay-schedule")==="true"}function B(){I(2)}function j(){F();const e=Z();setTimeout((()=>{if(!e.showing){e.show()}}),0)}function H(){F();if(X()){te();G()}else{if(!A()){J(D())}ae();Y();document.querySelector(b).focus()}}function q(){J("");se()}function W(){J("");se()}function U(){return!!(0,u.V)(v,true)}function z(e){const t=document.querySelector(e);if(t){t.classList.add("hidden")}}function V(){z(m);G()}function Y(){z(f)}function G(){J("");document.querySelector(b).dataset.validationAllowEmpty=true;z(w)}function K(){if(U()){const e=document.querySelector(x);if(e){e.addEventListener("change",q)}const t=document.querySelector(E);if(t){t.addEventListener("change",W)}const a=document.querySelector(b);if(a){a.addEventListener("change",B)}document.querySelector(y).addEventListener("click",j);se()}}function X(){const e=document.querySelector(w);return e&&!e.classList.contains("hidden")}function J(e){document.querySelector(b).value=e}function Q(e){const t=document.querySelector(e);if(t){t.classList.remove("hidden")}}function ee(){Q(m);if(A()){ae();Y()}else{te();G()}}function te(){document.querySelector(g).innerText=$.__("%1$s hours per week",D());Q(f)}function ae(){document.querySelector(b).dataset.validationAllowEmpty=false;Q(w)}function se(){const e=R();const t=O()==="Salary";if(e&&t){ee()}else{V()}}var ne=a(88604);var ie=a(59155);var oe=a(40905);var re=a(17522);var le=a(34914);var ce=a(56445);var de=a(26570);const ue=e=>{let{updateFormData:t,rowDisplayType:a,selectedBoxDefault:o=""}=e;const[r,l]=(0,n.useState)(o);const c=document.querySelector("#historyEdit");const d=c.querySelector("input[name=ymd]")?.value;const u=window.Employee?.preferredName;function h(e){l(e);if(e==="update"){t(true)}else{t(false)}}(0,n.useEffect)((()=>{if(a&&!r){const e=new Date(d);const s=e?(0,le.isToday)(e):false;if(a==="past"||a==="future"||a==="current"&&s){l("correction");t(false)}else{l("update");t(true)}}}),[]);return(0,s.Z)(ie.SelectableBoxGroup,{type:"radio"},void 0,i().createElement(ie.Flex,(0,ne.Z)({columnGap:"15px",flexDirection:"row"},(0,ce.ifFeature)("encore",{},{margin:"24px 0 18px 0"})),i().createElement(ie.SelectableBox,(0,ne.Z)({},(0,ce.ifFeature)("encore",{},{boxWidth:"240px"}),{description:de.__("You’re adding a new entry in %1$s’s Compensation history.",u,{note:"You’re adding a new entry in Julie’s Compensation history."}),icon:(0,ce.ifFeature)("encore","rectangle-history-circle-plus-solid",(0,s.Z)(oe.Z,{})),inputId:"update",isChecked:r==="update",key:"update",name:"update",onChange:e=>h(e),title:de.__("This is an update"),value:"update"})),i().createElement(ie.SelectableBox,(0,ne.Z)({},(0,ce.ifFeature)("encore",{},{boxWidth:"240px"}),{description:de.__("You’re fixing a mistaken entry in %1$s’s Compensation history.",u,{note:"You’re fixing a mistaken entry in Julie’s Compensation history."}),icon:(0,ce.ifFeature)("encore","broom-wide-solid",(0,s.Z)(re.Z,{})),inputId:"correction",isChecked:r==="correction",key:"correction",name:"correction",onChange:e=>h(e),title:de.__("This is a correction"),value:"correction"}))))};var he=a(26570);const pe=(0,c.isEnabled)("zeroWage");const me={initializeForm(e){const t=he(".js-payType ba-option:selected");const a=he(".payRateGroup .percentChange");const s=t.val();this.selectedPayType=s?s.toLowerCase():"";this.initialPayType=s?s.toLowerCase():"";this.initialPayRate=he(".payRateGroup .js-rate").val();this.initialPaidPer=he(".payRateGroup .js-paidPer ba-option:selected").text().toLowerCase();this.initialCurrencyType=he(".payRateGroup .js-currency-picker-type").val();if(this.initialCurrencyType===undefined){this.initialCurrencyType=he(".payRateGroup .currencyType").val()}setTimeout((()=>{if(e){we(e)}if(!e||e==="updateCompensation"){const e=this.selectedPayType==="hourly";Fe(e);We(true);if(Me()){je();De();Pe();He();if(pe){$e();Ee()}}}if(e==="updateCompensation"){K()}if(this.initialPayType==="hourly"&&a.length){a.addClass("nextLine")}const t=he(".js-defaultCurrency").val();const s=he(".currencyChange-message");if(this.initialCurrencyType!==t){ze(s)}}))},formChangeHandler(e){const t=e.target.name;if(t==="payType"){this.selectedPayType=`${e.target.value}`.toLowerCase()}const a=this.selectedPayType==="hourly";Fe(a);if(t==="rate[0]"){this.updatePercentChange()}setTimeout((()=>{we("updateCompensation");if(Me()){if(t==="payScheduleId"){De();Pe()}else if(t==="paidPer"){De()}else if(t==="payType"){Pe()}He()}else{Be(he(".js-paidPer"));Be(he(".js-payType"))}Le();if(t==="overtimeRate[0]"){We(true)}if(t==="rate[1]"){const e=he(".js-defaultCurrency").val();const t=he(".currencyChange-message");const a=he(".payRateGroup .currencyType").val();if(a!==e){ze(t)}else{Ve(t)}}if(t==="rate[0]"&&pe){Ee()}this.checkShouldShowPercentChange()}))},setupForm(e){let t;let a;let s;const n=he(".payRateGroup .percentChange");if(e==="updateCompensation"){t="input.js-payRate";a='input[name="ymd"]';s='input[name="endYmd"]'}else if(e==="requestChangeApproval"||e==="approvalPreviewForm"){t="input.js-rate";a="input.js-startDate";s="input.js-endDate"}fe(t);fe(a);fe(s);if(e==="updateCompensation"){ke(t,"required","requiredWhenVisible")}if(e==="requestChangeApproval"&&n.length){ze(n)}},displayUpdateOrCorrectSection(e,t,a){const n=document.querySelector("div#compensation-update-or-correct-section");if(n&&e){(0,d.s)((0,s.Z)(ue,{updateFormData:t,rowDisplayType:e,selectedBoxDefault:a}),n)}},addFormNote(){setTimeout((()=>{je()}))},handlePayScheduleChange(e){if(e!==undefined){e.stopPropagation()}De();Pe();setTimeout((()=>{He()}))},handlePaidPerChange(){setTimeout((()=>{if(Me()){De();He()}}));this.checkShouldShowPercentChange()},handlePayTypeChange(e){we(e);if(!e||e==="updateCompensation"||e==="requestChangeApproval"){setTimeout((()=>{if(Me()){Pe();He()}}));this.checkShouldShowPercentChange()}},handlePayRateChange(){this.updatePercentChange()},handleCurrencyChange(){this.checkShouldShowPercentChange()},paidPerAndPayTypeValid(){return qe()},handleOvertimeRateChange(){setTimeout((()=>{We()}))},checkShouldShowPercentChange(){const e=he(".payRateGroup .percentChange");const t=he(".js-payType ba-option:selected").val();if(!e.length){return}if(this.initialPayType===(t?t.toLowerCase():"")&&this.initialPaidPer===he(".js-paidPer ba-option:selected").text().toLowerCase()&&(this.initialCurrencyType===he(".payRateGroup .js-currency-picker-type").val()||this.initialCurrencyType===he(".payRateGroup .currencyType").val())){ze(e);return}Ve(e)},updatePercentChange(){if(!he(".payRateGroup .percentChange").length){return}const e=he(".js-rate");const t=he(".percentChange-percent");const a=he(".percentChange-text-noChange");const s=he(".percentChange-text-increase");const n=he(".percentChange-text-decrease");const i=he(".percentChange-icon-increase");const o=he(".percentChange-icon-decrease");const l=(0,r.w)((0,r.l)(e.val()));const c=(0,r.w)((0,r.l)(this.initialPayRate));const d=l-c;const u=d/c*100;const h=Math.abs(Math.round(u*100)/100);t.text(`${h}%`);if(u===0){ze(a);Ve(s);Ve(n);Ve(i);Ve(o);return}if(u>0){ze(s);ze(i);Ve(a);Ve(n);Ve(o);return}ze(n);ze(o);Ve(s);Ve(i);Ve(a)}};function fe(e){he(e).attr("data-lpignore",true)}function ge(e){if(e==="requestChangeApproval"||e==="approvalPreviewForm"){return he(".CustomApprovalForm")}return he("#historyEdit")}function ve(e){const t=ge(e);return{$payTypeSelectElement:t.find("ba-select.js-payType")}}function _e(e){const t=ge(e);let a;let s;let n;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("input.js-rate");s=a.siblings("button.js-currency-picker-button");n=a.closest(".fieldRow")}else{a=t.find("input.js-payRate");s=a.siblings("button.CurrencyPicker__button");n=a.closest(".fieldGroup")}return{$payRateInputElement:a,$payRateButtonElement:s,$payRateElement:n}}function ye(e){const t=ge(e);let a;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("input.js-rate").closest(".fieldBox").find(".fab-FormNote")}else{a=t.find(".compensation-per")}return{$paidPerTextElement:a}}function be(e){const t=ge(e);let a;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("ba-select.js-paidPer")}else{a=t.find('ba-select[name="paidPer"]')}return{$paidPerSelectElement:a,$paidPerElement:a.closest(".fieldBox")}}function we(e){Te(e);xe(e);Ce(e);Se(e)}function Se(e){const{$payTypeSelectElement:t}=ve(e);const{$paidPerSelectElement:a,$paidPerElement:s}=be(e);(0,l.iI)(t,s,a)}function Ce(e){const{$payTypeSelectElement:t}=ve(e);const{$paidPerTextElement:a}=ye(e);(0,l.UU)(t,a)}function xe(e){const{$payTypeSelectElement:t}=ve(e);const{$payRateInputElement:a,$payRateButtonElement:s,$payRateElement:n}=_e(e);(0,l.os)(t,n,a,s)}function Te(e){const{$payTypeSelectElement:t}=ve(e);(0,l.rl)(t)}function Ee(){const e=he(".js-payRate");const t=he(".js-overtimeStatus");const a=he(".js-overtimeStatusFormNote");if(!t.length||!e.length){return}const s=(0,r.w)(e.val());if(s===0){t.val("Exempt").disable();a.show()}else{t.enable();a.hide()}}function ke(e,t,a){const s=he(e);if(s.hasClass(t)){s.removeClass(t);s.addClass(a)}}function Ze(e){const t=he('.js-paidPer, ba-select[name="paidPer"]');const a=t.attr("name");const s=he(`select[name="${a}"]`).val();const n=he(".js-hourlyOvertimeNote");if(!(0,o.hasTrax)()||s!=="Hour"){if(n){n.remove()}return false}const i=e.data("cursymbol")||"$";const l=(0,r.w)((0,r.l)(e.val(),i));const c=(Number(l)*2).toFixed(2);const d=(Number(l)*1.5).toFixed(2);const u=e.data("currencysymbolposition")==0?`${i}${d}`:`${d}${i}`;const h=e.data("currencysymbolposition")==0?`${i}${c}`:`${c}${i}`;const p=he.__("Overtime rate is %1 (1.5x), double-time rate is %2",u,h);if(n.length>0){n.html(`<span class="js-hourlyOvertimeNote fab-FormNote">${p}</span>`)}else{he(".js-overtimeStatus, .js-exemptStatus").closest(".fieldBox").append(`<span class="js-hourlyOvertimeNote fab-FormNote">${p}</span>`)}}function Fe(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const t=he(".js-overtimeRate");const a=he('select[name="exempt"]').val();Ie(t,a,e);if(a==="Non-exempt"){if(!e){t.find(".currency-field.js-overtimeRate").setTraxRequired(Me())}}}function Ie(e,t,a){let s=he(".js-payRate");if(s.length===0){s=he(".js-rate")}if(t==="Non-exempt"){if(!(0,o.hasTrax)()){e.show()}else if(a&&s.data("currencysymbolposition")==0){Ze(s);Ne(e)}else{const t=he(".js-hourlyOvertimeNote");if(t.length>0){t.remove()}e.show()}}else{Ne(e)}}function Ne(e){e.hide();e.val("").find("input.currency-field").val("")}function Ae(){const e=he(".js-paySchedule");const t=e.find("ba-option[selected]");return t.attr("data-syncing-pay-schedule")==="true"}function Me(){const e=he(".js-paySchedule");const t=e.find("ba-option[selected]");return t.attr("data-syncing-pay-schedule")==="true"}function De(){const e=he(".js-paidPer");const t=e.attr("name");const a=he(`select[name="${t}"]`).val();const s=Ae();if(s){Oe(e);if(a==="Piece"){e.attr("placeholder",a);e.attr("error",true)}else{Re(e)}}else if(!s){Be(e);Re(e)}else if(a!==""){Re(e)}}function Pe(){const e=he(".js-payType");const t=e.attr("name");const a=he(`select[name="${t}"]`).val();const s=Ae();if(s){Oe(e);if(a==="Contract"){e.attr("placeholder",a);e.closest(".fieldBox").find("label").addClass("fab-Label--error");e.attr("error",true)}else{Re(e)}}else if(!s){Be(e);Re(e)}else if(a!==""){Re(e)}}function Le(){const e=Me();const t=he(".js-payType ba-option:selected").attr("value");const a=Me(e)&&t!=="Commission";he(".js-rate").setTraxRequired(a);he(".js-payRate__label").toggleClass("fab-Label--required",e)}function Oe(e){const t=e.find("ba-option");e.children().remove();const a=t.map(((e,t)=>{if(he(t).attr("data-invalid-payroll-option")==="true"){he(t).attr("hidden",true)}return t}));e.append(a)}function Re(e){e.removeAttr("error");e.closest(".fieldBox").find("label").removeClass("fab-Label--error")}function Be(e){const t=e.find("ba-option");const a=e.find("ba-option[selected]");e.children().remove();const s=t.map(((e,t)=>{if(he(t).attr("data-invalid-payroll-option")==="true"){he(t).removeAttr("hidden");if(a.length>1){he(t).removeAttr("selected")}}return t}));e.append(s)}function $e(){const e=he(".js-overtimeStatus").closest(".fieldBox");const t=he(`<span class="fab-FormNote js-overtimeStatusFormNote">${he.__("Non-exempt requires a Pay Rate higher than $0.00")}</span>`);e.append(t)}function je(){const e=he(".js-paySchedule");const t=he('<div id="js-pay-schedule-note" style="position: absolute; left: 224px; width: 230px; display: none;"></div>');const a=he.__("This pay schedule isn’t compatible with a couple other fields.");const s=he.__("Make sure to also update the fields highlighted in red.");t.append(`<div class="fab-FormNote CompensationForm__warningNote js-pay-schedule-warning-note">${a}</div>`);t.append(`<div class="fab-FormNote">${s}</div>`);e.parent().append(t)}function He(){const e=he(".js-payType");const t=he(".js-paidPer");if(e.attr("error")||t.attr("error")){he("#js-pay-schedule-note").show()}else{he("#js-pay-schedule-note").hide()}}function qe(){const e=he(".js-payType");const t=he(".js-paidPer");if(e.attr("error")||t.attr("error")){return false}return true}function We(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!(0,o.hasTrax)()){return false}const t=he(".js-overtimeRate");const a=e?he(".overtimeRate"):t;a.blur();const s=(0,r.w)(a.val());const n=he(".js-double-overtime-note");const i=n.length>0;const l=Ue(s);const c=he.__("The double time rate is $%1.",l);if(i){n.text(c);n.toggle(s!==0)}else if(s!==0){const a=`<span class="fab-FormNote js-double-overtime-note">${c}</span>`;if(e){t.append(a)}else{t.closest(".fieldDiv").append(a)}}}function Ue(e){return(Number(e)/1.5*2).toFixed(2)}function ze(e){e.removeClass("hidden")}function Ve(e){e.addClass("hidden")}var Ye=me},2063:(e,t,a)=>{"use strict";var s=a(17842);var n=a.n(s);var i=a(78144);var $=a(26570);const o={updateTaxTypeInitialOptions(e,t){if(o.checkIfPayrollCustomer()){const a=t||document.querySelector('[name="employeeStatusHistoryItemId"]').value;s.ajax.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/${a}/${e}`).then((e=>{this.updateBaSelect($(".js-employeeTaxTypeFieldSelect"),e.data.options)}))}},init(){o.hideShowTaxTypeField();o.toggleInactiveNote()},formChangeHandler(e){const t=e.target;if(t.name==="employmentStatusId"){if(o.checkIfPayrollCustomer()){o.employmentStatusChangeHandler(e)}}const a=$(t).closest("form");const s=$("ba-select.js-employmentStatusSelect").val();const n=a.find(`.js-employmentStatusSelect ba-option[value='${s}']`);const i=n&&n[0]&&n[0].hasAttribute("data-terminatedoption");a.toggleClass("EmploymentStatusForm--terminated",i===true);const r=$("ba-select.js-terminationTypeSelect").val();const l=a.find(`.js-terminationTypeSelect ba-option[value='${r}']`);const c=i&&l&&l[0]&&l[0].hasAttribute("data-regrettableoption");a.toggleClass("EmploymentStatusForm--voluntaryTermination",c===true);this.toggleInactiveNote()},employmentStatusChangeHandler(e,t,a,s){const n=t||document.querySelector('[name="employeeStatusHistoryItemId"]').value;const i=e.target.value?e.target.value:"0";this.getAllowableEmployeeTaxTypes(n,i,a).then((e=>{let{result:t,forceNewSelection:a,warningType:n}=e;this.updateBaSelect($(".js-employeeTaxTypeFieldSelect"),t.data.options,a);this.addTaxTypePromptWarnings(n);if(s&&typeof s==="function"){s()}}))},getAllowableEmployeeTaxTypes(e,t,a){if(e&&t){return s.ajax.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/${e}/${t}`).then((e=>{const t=e.data.options.map((e=>e.optionValue));const s=parseInt($(a||'select[name="taxEmployeeTypeId"]').val());const n=t.indexOf(s)===-1;const i=n?"updatedTaxType":"verifyTaxType";return{result:e,valueOptions:t,currentSelectionValue:s,forceNewSelection:n,warningType:i}}))}console.warn(`Tried to request tax types with invalid parameters. historyItemId ${e} employmentStatusId ${t}`);return Promise.reject("Missing Required Parameters")},addTaxTypePromptWarnings(e){$(".js-employeeTaxTypeFieldSelect").siblings(".TaxTypeWarningTextWrapper").remove();$(".js-employeeTaxTypeFieldSelect").after('<div class="TaxTypeWarningTextWrapper"></div>');const t=this.createTaxTypePromptText(e);this.addInfoStylesToTaxTypeSelect();$(".TaxTypeWarningTextWrapper").append(t)},createTaxTypePromptText(e){if(!e){return`<div></div>`}const t=e==="updatedTaxType"?$.__("We updated the Employee Tax Type to a value that matches the Employment Status."):$.__("Based on the Employment Status, the Employee Tax Type may need to be updated.");return`<div class="TaxTypeWarningText">\n\t\t\t\t<div class="TaxTypeWarningText__text">\n\t\t\t\t\t${t}\n\t\t\t\t</div>\n\t\t\t\t<div class="TaxTypeWarningText__doubleCheck">\n\t\t\t\t\t${$.__("Double-check and make sure it looks right.")}\n\t\t\t\t</div>\n\t\t\t</div>`},addInfoStylesToTaxTypeSelect(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const t={...{taxTypeSelector:".js-employeeTaxTypeFieldSelect",fieldRowSelector:".fieldRow.EmploymentStatusForm__employeeTaxTypeFieldRow",rowClass:"EmploymentStatusForm__employeeTaxTypeFieldRow--info",labelSelector:".fab-Label",selectFacadeClass:"fab-SelectToggle__innerFacade--infoCondition",infoIconClass:"iconWrapper"},...e};const a=$(t.taxTypeSelector);const s=a.closest(t.fieldRowSelector);const n=s.find(t.labelSelector);setTimeout((()=>{s.addClass(t.rowClass);a.find(".fab-SelectToggle__innerFacade").addClass(t.selectFacadeClass);if(n.length&&!n.find(`.${t.infoIconClass}`).length){n.prepend(`<ba-icon class="${t.infoIconClass}" name="fab-info-circle-13x13"></ba-icon>`)}}),100)},updateBaSelect(e,t,a){const s=e.find("select").length?parseInt(e.find("select").val()):parseInt($('select[name="taxEmployeeTypeId"]').val());e.empty();t.forEach((t=>{const{optionValue:n,optionText:i,selected:o}=t;let r=o;if(!a){if(s===n){r=true}else{r=false}}let l;if(r){l=`<ba-option value="${n}" selected>${i}</ba-option>`}else{l=`<ba-option value="${n}">${i}</ba-option>`}e.append(l)}))},toggleInactiveNote(){const e=window.Employee&&window.Employee.preferredName?(0,i.Jk)(window.Employee.preferredName):"";const t="EmploymentStatusModal__statusSelectWrapper";const a=`${t}--inactive`;const s="js-employmentStatusInactiveNote";const n=$("ba-select.js-employmentStatusSelect");const o=n.parent();const r=n.find(`ba-option[value='${n.val()}']`);const l=!!(r&&r[0]&&r[0].hasAttribute("data-inactiveoption"));o.addClass(t).toggleClass(a,l);if(o.find(`.${s}`).length===0){const t=$(`<div class="${s} EmploymentStatusForm__inactiveStatusNote">`).text($.__("%1 will not be able to access their BambooHR account past the effective date while in this employment status.",e));o.append(t)}},getTaxTypeField(){return $(".js-employeeTaxTypeFieldSelect")},checkIfPayrollCustomer(){const e=o.getTaxTypeField();return e.length>0&&e.is(":visible")},hideShowTaxTypeField(){const e=o.getTaxTypeField();if(e.length>0){const t=e.data("usBasedAddress");const a=e.data("usBasedLocation");const s=e.closest(".fieldBox");if(!t||!a){s.addClass("hidden")}else{s.removeClass("hidden")}}}};t["Z"]=o},16123:(e,t,a)=>{"use strict";var $=a(26570);function s(e){n(e)}function n(e){window.BambooHR.Modal.setState({isOpen:true,alternativeAction:null,primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},icon:"fab-money-circle-54x54",iconColor:"danger",headline:$.__("Before including this employee in payroll you need to correct the following information."),dangerousContent:microTemplate($("#includeInPayrollErrorModalTemplate").html(),{errors:e}),primaryActionText:$.__("OK, Got It"),title:$.__("Oops, that won't work...")})}t["Z"]={open:s}},6795:(e,t,a)=>{"use strict";a.d(t,{UU:()=>k,iI:()=>x,os:()=>T,rl:()=>E});var $=a(26570);const s="data-initial-value";const n="data-initial-value-is-set";const i="data-temporary-value";const o="data-temporary-value-is-set";function r(e){const t=e.data("cursymbol")||window.GLOBAL_CURRENCY_SYMBOL||"$";const a=e.data("currencysymbolposition")||0;const s=e.data("decimal-char")||window.GLOBAL_DECIMAL_CHAR||".";const n=e.data("thousands-separator")||window.GLOBAL_THOUSANDS_SEPARATOR||",";const i=$("<input />");i.attr("value","0");if(i.formatCurrency){i.formatCurrency({decimal:s,position:a,symbol:t,thousands:n});return i.attr("value")}return"$0.00"}function l(e){return e.attr(s)}function c(e){return e.attr(i)}function d(e){return e.attr("value")}function u(e){return e.find("ba-option[selected]").attr("value")}function h(e){return e.attr(n)==="true"}function p(e){return e.attr(o)==="true"}function m(e){e.removeAttr(i);e.removeAttr(o)}function f(e,t){e.attr(s,t);e.attr(n,"true")}function g(e,t){e.attr(i,t);e.attr(o,"true")}function v(e,t){e.attr("value",t)}function y(e,t){e.find("ba-option[selected]").removeAttr("selected");e.find(`ba-option[value="${t}"]`).attr("selected","true")}function b(e){if(!h(e)){f(e,d(e))}}function w(e){if(!h(e)){f(e,u(e))}}function S(e){if(p(e)){e.attr("value",c(e));m(e)}}function C(e){if(p(e)){y(e,c(e));m(e)}}function x(e,t,a){w(e);w(a);const s=u(e);a.find('ba-option[value="Hour"]').prop("hidden",true);if(!s){t.removeClass("hidden");a.attr("disabled","true");C(a);const e=u(a);if(e==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else if(s==="Salary"){t.removeClass("hidden");a.removeAttr("disabled");C(a);const s=u(a);const n=l(e);const i=l(a);if(n==="Salary"&&i==="Hour"){a.find('ba-option[value="Hour"]').prop("hidden",false)}else if(s==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else if(s==="Hourly"){t.addClass("hidden");a.removeAttr("disabled");const e=u(a);if(!p(a)){g(a,e)}a.find('ba-option[value="Hour"]').prop("hidden",false);y(a,"Hour")}else if(s==="Commission"){t.addClass("hidden");a.removeAttr("disabled");a.find('ba-option[value="Hour"]').prop("hidden",false);const s=u(a);if(!p(a)){g(a,s)}const n=l(e);const i=l(a);if(n==="Commission"){y(a,i)}else{y(a,"Hour")}}else if(s==="Contract"){t.removeClass("hidden");a.removeAttr("disabled");C(a);const s=u(a);const n=l(e);const i=l(a);if(n==="Contract"&&i==="Hour"){a.find('ba-option[value="Hour"]').prop("hidden",false)}else if(s==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else{t.addClass("hidden");a.removeAttr("disabled");C(a);const e=u(a);if(e==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}}function T(e,t,a,s){w(e);b(a);const n=u(e);if(!n){t.removeClass("hidden");a.prop("disabled",true);s.prop("disabled",true);S(a)}else if(n==="Commission"){t.addClass("hidden");a.prop("disabled",false);s.prop("disabled",false);const n=d(a);if(!p(a)){g(a,n)}const i=l(e);const o=l(a);if(i==="Commission"){v(a,o)}else{const e=r(a);v(a,e)}}else{t.removeClass("hidden");a.prop("disabled",false);s.prop("disabled",false);S(a)}}function E(e){w(e);const t=l(e);const a=u(e);if(t==="Contract"){e.find('ba-option[value="Contract"]').prop("hidden",false)}else{e.find('ba-option[value="Contract"]').prop("hidden",true);if(a==="Contract"){e.find("ba-option[selected]").removeAttr("selected")}}}function k(e,t){const a=u(e);if(!a||a==="Salary"||a==="Contract"){t.text($.__("per"));t.removeClass("hidden")}else if(a==="Hourly"){t.text($.__("per hour"));t.removeClass("hidden")}else{t.addClass("hidden")}}},51247:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>D});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);var r=a(67648);var $=a(26570);var l={_additionalSignersUri:"/ajax/employees/files/update_additional_signers.php?id=",_selectors:{additionalSigners:".js-additional-signers",templates:".js-esignature-template-list"},init(){this.$=BambooHR.Utils.setupWrappers(this._selectors);this._attachHandlers()},primaryActionFunction(){window.BambooHR.Modal.setState({isProcessing:true},true);this.send(this.employeeId).then((e=>{let{success:t}=e;if(t){window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true)}}))},openModal(e){const t=`/ajax/employees/files/send_signature_request.php?employeeId=${e}`;window.BambooHR.Modal.setState({isLoading:true,isOpen:true});this.employeeId=e;o().get(t).then((e=>{let{data:t}=e;if(t){const{html:e}=t;window.BambooHR.Modal.setState({content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:e}}),isLoading:false,title:$.__("Request Signature"),primaryAction:null,primaryActionText:$.__("Send Request")},true);this.init()}}))},send(e){return $.post("/ajax/employees/files/send_signature_request.php?employeeId="+e,$(".js-send-signature-request-form").serialize(),(function(e){setMessage(e.error,e.success===true?"success":"error");if(e.success===true){SimpleModal.closeModal()}SimpleModal.Footer.Buttons.stopProcessing()}),"json")},_attachHandlers(){document.querySelector(this._selectors.templates).addEventListener("ba:selectChange",(e=>{let{detail:t}=e;const{value:a}=t;if(a){r.Z.fetchDisclaimer(a);this.$.additionalSigners.load(`${this._additionalSignersUri}${a}`);window.BambooHR.Modal.setState({primaryAction:()=>this.primaryActionFunction()},true)}else{r.Z.hideDisclaimer();this.$.additionalSigners.html("");window.BambooHR.Modal.setState({primaryAction:null},true)}}))}};var c=l;var d={};d.SendSignatureRequest=c;var u=d;var h=a(51341);var p=a(38592);var m=a(28672);var f=a(76309);var g=a.n(f);var v=a(26570);function y(e){const t=v.getJSON(`/employees/ajax/rehire/${e}`);t.then((function(t){t.employeeId=e;t.terminationDate=(0,h.Z)(t.terminationDate);b(t)}))}function b(e){const{employeeName:t,employeeId:a}=e;const n=(0,m.Z)(g(),{model:e,generateOptions:C,getCanAddAttributes:w,getSpecialClasses:S});function i(){x(a)}window.BambooHR.Modal.setState({isOpen:true,content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:n}}),title:v.__("Rehire Employee"),onOpen(){const t=v(".js-rehire-modal-form");t.find(".js-effectiveDate").attr("data-mindate",e.terminationDate.toISOString());t.bhrValidate();window.BambooHR.VirtualPageView.modal("rehireEmployee");const a=document.querySelector(".js-employmentStatusSelect");if(a){a.addEventListener("change",i)}},onClose(){const e=document.querySelector(".js-employmentStatusSelect");if(e){e.removeEventListener("change",i)}},primaryActionText:v.__("Save"),primaryAction(){const t=v(".js-rehire-modal-form");if(!t.valid()){return}const s={...(0,p.getFormData)(".js-rehire-modal-form"),employeeId:a};const n=o().prepareData(s,o().prepareDataTypes.FORM_DATA);o().post("/employees/ajax/rehire",n).then((t=>{let{data:a}=t;if(a.status!=="OK"){let t=v.__("Whoops... There was a problem rehiring %1%2%3!","<strong>",e.employeeName,"</strong>");if(a.syncErrors!==""){t=a.syncErrors}window.setMessage(t,"error");return}window.BambooHR.Modal.setState({isOpen:false});window.location.reload();window.setMessage(v.__("Success!"),"success")}))},icon:"fab-badge-id-32x28",headerType:"text",headline:t})}function w(e){if(e.meta&&e.meta.insertable){return"can-add=true"}return null}function S(e,t){t=t||[];if(e.meta&&e.meta.insertable){t.push("insertable-list")}return t.join(" ")}function C(e,t){let a;if(!e.options){return}a=`\n\t\t!* field.options.forEach(function(option) { *!\n\t\t\t<ba-option value="!*= option.value *!" !*= (option.value === field.value) ? 'selected' : '' *!>\n\t\t\t\t!*= option.content *!\n\t\t\t</ba-option>\n\t\t!* }); *!\n\t`;return(0,m.Z)(a,{field:e,required:t})}function x(e){const t=document.querySelector('[name="employmentStatusId"]').value;if(!t){return}o().get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/0/${t}?employeeId=${e}`).then((e=>{const t=v('[name="taxEmployeeTypeId"]');const a=t.find("select").length?parseInt(t.find("select").val()):parseInt(v('select[name="taxEmployeeTypeId"]').val());t.empty();e.data.options.forEach((e=>{const{optionValue:s,optionText:n,selected:i}=e;let o=i;if(a===s){o=true}else{o=false}t.append(`<ba-option value="${s}" ${o?"selected":""}>${n}</ba-option>`)}))}))}var T={open:y};var E=a(2063);var k=a(17876);var Z={};Z.RehireModal=T;Z.EmploymentStatusModal=E.Z;Z.CompensationForm=k.ZP;var F=Z;var I=a(16123);var N={};N.IncludeInPayrollErrorModal=I.Z;var A=N;var M={};M.Files=u;M.Job=F;M.Payroll=A;var D=M},96064:(e,t,a)=>{"use strict";a.d(t,{N:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(17842);var r=a.n(o);var l=a(78144);var c=a(37194);var d=a.n(c);var $=a(26570);function u(e){let{firstName:t,email:a,userId:n}=e;window.BambooHR.Modal.setState({content:(0,s.Z)("div",{className:"PasswordResetModal__message"},void 0,(0,s.Z)(c.Message,{params:[a||$.__("the user")],text:$._("An email with a link to reset their password will be sent to **{1}**")})),headline:$.__("Reset password for %1$s?",t),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isHeadless:true,isOpen:true,primaryActionText:$.__("Reset Password"),primaryAction(){window.BambooHR.Modal.setState({isProcessing:true},true);h({firstName:t,userId:n}).then((()=>{window.BambooHR.Modal.setState({isOpen:false})})).catch((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))}})}function h(e){let{firstName:t,userId:a}=e;const s=$.__("There was an error resetting the password. Please try again.");const n=r().prepareData({id:a,action:"password"},r().prepareDataTypes.FORM_DATA);return new Promise(((e,a)=>{r().post("/settings/permissions/edit.php",n).then((n=>{const i=n.data;if(i.success){setMessage($.__("Password reset email was sent to %1$s",(0,l.H$)(t)),"success");e(i)}else{const e=(0,l.H$)(i.message)||s;console.error(i);setMessage(e,"error");a(i)}})).catch((function(){console.error(...arguments);setMessage(s,"error");a(...arguments)}))}))}},88536:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});function s(e){return`/employees/employee.php?id=${e}`}const n=e=>{if(e.image){e.avatarUrl=e.image}if(e&&e.avatarUrl){return e.avatarUrl}if(e&&e.name){let t=e.name.match(/\b(\w)/g);if(t){t=t.join("");return`/employees/photos/initials.php?initials=${t}`}}}},67648:(e,t,a)=>{"use strict";var s=a(17842);var n=a.n(s);function i(e){if(e){const t=document.getElementById("js-saves-to-folder");const a=`/esignatures/template_save_location/${e}`;n().get(a).then((e=>{const{savesToEmployeeFileSectionName:a}=e.data;if(a){t.classList.remove("hidden");document.getElementById("js-saves-to-folder-name").innerText=a}else{t.classList.add("hidden")}}),(()=>window.errorFallBack()))}}function o(){document.getElementById("js-saves-to-folder").classList.remove("hidden")}function r(){document.getElementById("js-saves-to-folder").classList.add("hidden")}t["Z"]={fetchDisclaimer:i,showDisclaimer:o,hideDisclaimer:r}},41810:(e,t,a)=>{"use strict";a.d(t,{Iw:()=>S,TZ:()=>C,ZP:()=>w});var s=a(73641);var n=a.n(s);var i=a(38592);var o=a(71141);var r=a(48434);var l=a.n(r);var $=a(26570);const c=new WeakMap;const d=new WeakMap;const u={uploadDialogTmpl:l(),uploadDialogTmplData:{jadeEnabled:(0,o.isEnabled)("jade")},uploadDialogClasses:"",uploadDialogTitle:$.__("Upload Files"),uploaderId:"multiUpload",uploadLinkHTML:`\n\t\t\t<a class="attach-link">\n\t\t\t\t<span class="btn js-chooseFile">${$.__("Choose File(s)")}</span>\n\t\t\t\t<span style="display:none">+ ${$.__("Add a file")}</span>\n\t\t\t</a>\n\t\t`,uploadJadeLinkHTML:`<span class="attach-link">\n\t\t\t\t\t\t\t\t\t<button class="fab-Button fab-Button--secondary fab-TextButton--noSpace" type="button js-chooseFile">`+$.__("Choose File(s)")+` </button>\n\t\t\t\t\t\t\t\t\t<button class="fab-TextButton fab-link" type="button"\n\t\t\t\t\t\t\t\t\t        style="display: none;"> + `+$.__("Add a file")+` </button>\n\t\t\t\t\t\t\t\t</span>`,fileHiddenInput:e=>{let{name:t,type:a,size:s,image:n,fid:i}=e;return`\n\t\t\t<input\n\t\t\t\ttype="hidden"\n\t\t\t\tname="attachId[]"\n\t\t\t\tdata-name="${t}"\n\t\t\t\tdata-type="${a}"\n\t\t\t\tdata-size="${s}"\n\t\t\t\tdata-image="${n}"\n\t\t\t\tvalue="${i}"\n\t\t\t/>\n\t\t`}};let h=false;let p;const m="#uploadFilesDialog";function f(){c.get(this).triggerHandler(...arguments);return this}function g(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(h){window.BambooHR.Modal.setState({sheetProps:e},true)}else{window.BambooHR.Modal.setState(e,t)}}function v(e){const t=this;const a=$(".attach-wrapper",e);const{uploadLinkHTML:s,uploadJadeLinkHTML:n,fileHiddenInput:i,uploaderId:r}=b.call(this);const l=()=>{let e=y.call(t);g({isOpen:false});f.call(t,"attach",[e])};let c={linkHTML:s,success(s,n){$(".noFile",e).hide();let o=a.closest("form");o.append(i(s));f.call(t,"upload",[s,n]);SimpleModal.Footer.Buttons.Primary.enable()},removeFile(a){let s=a.attr("id").replace("file-","");if(a.hasClass("uploadDone")){$(`:input[name^="attachId"][value="${s}"], ba-select[name^="attachId"][value="${s}"]`).remove()}if(S(e)){SimpleModal.Footer.Buttons.Primary.disable()}f.call(t,"remove");return true},onRemove(){if(S(e)){SimpleModal.Footer.Buttons.Primary.disable()}},createFileWrapper(t,a){$(".noFile",e).hide();if($(".files > *",e).length===0){$(".attach-link span, .uploadDesc",e).toggle();C(e,false)}return $.fileUploader.createFileWrapper(t,a)},setDragOverValues(e){},setDragOffValues(){},uploaderId:r};if((0,o.isEnabled)("jade")){c={linkHTML:n,success(s,n){$(".noFile",e).hide();let o=a.closest("form");o.append(i(s));f.call(t,"upload",[s,n]);x.call(t,true,l)},removeFile(a){let s=a.attr("id").replace("file-","");if(a.hasClass("uploadDone")){$(`:input[name^="attachId"][value="${s}"], ba-select[name^="attachId"][value="${s}"]`).remove()}if(S(e)){x.call(t,false,null)}f.call(t,"remove");return true},onRemove(){if(S(e)){x.call(t,false,null)}},createFileWrapper(t,a){$(".noFile",e).hide();if($(".files > *",e).length===0){$(".attach-link button, .uploadDesc",e).toggle();C(e,false)}return $.fileUploader.createFileWrapper(t,a)},setDragOverValues(e){},setDragOffValues(){},uploaderId:r}}a.closest(m).fileUploader(c);$(".uploadDesc",m).show();$('input[name^="attachId"]',m).remove()}function y(){if((0,o.isEnabled)("jade")){return $(':input[name^="attachId"], ba-select[name^="attachId"]',m).toArray().map(((e,t)=>{const a=e.getAttribute("data-name");return{data:{isComplete:null},fileId:e.getAttribute("value"),id:e.getAttribute("value"),image:e.getAttribute("data-image"),info:{icon:e.getAttribute("data-image"),text:(0,i.getExtFromFileName)(e.getAttribute("data-name")).toUpperCase()},key:a+"-"+t,name:a,type:e.getAttribute("data-type"),value:e.getAttribute("value"),size:e.getAttribute("data-size")}}))}return $(':input[name^="attachId"], ba-select[name^="attachId"]',p).toArray().map((e=>({name:e.getAttribute("data-name"),type:e.getAttribute("data-type"),value:e.getAttribute("value"),size:e.getAttribute("data-size"),image:e.getAttribute("data-image")})))}function b(e){let t=d.get(this);if(e){return t[e]}return t}class w{static get className(){return"FileManager"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};d.set(this,(0,s.defaults)(e,u));c.set(this,$("<div />"))}on(e){if((0,s.isString)(e)){e+=".FileManager"}for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}c.get(this).on(e,...a);return this}openUploadModal(){const e=this;const{uploadDialogTmpl:t,uploadDialogTmplData:a,uploadDialogClasses:s,uploadDialogTitle:n}=b.call(e);(0,i.when)(t,a).done(((t,a)=>{if((0,o.isEnabled)("jade")){h=window.BambooHR.Modal.isOpen();const s={dangerousContent:microTemplate(t,a),onClose:()=>{g({isOpen:false})},onOpen:()=>{let t=$(m).find(".multiUpload");v.call(e,t)},primaryAction:null,primaryActionText:$.__("Attach"),isOpen:true,title:n};g(s);x(false)}else{p=SimpleModal.openModal({html:microTemplate(t,a),title:n,classes:"uploadFilesModal "+s,footer:{buttons:{primary:{disabled:true,text:$.__("Attach"),action(){let t=y.call(e);SimpleModal.closeModal();f.call(e,"attach",[t])}},cancel:{action(){f.call(e,"cancel");SimpleModal.closeModal()}}}},callbacks:{close:{before(){f.call(e,"close:before")},after(){f.call(e,"close")}},open:{before(){f.call(e,"open:before")},after(){let t=p.find(".multiUpload");v.call(e,t);f.call(e,"open")}}}})}}));return this}}function S(e){if($(".files > *",e).length===0){$(".noFile",e).show();if(!$(".attach-link .js-chooseFile",e).is(":visible")){$(".attach-link > *, .uploadDesc",e).toggle();C(e)}return true}return false}function C(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(t){$(".attach-wrapper",e).addClass("centerThis");$(".FileUploadActions",e).addClass("centerContent")}else{$(".attach-wrapper",e).removeClass("centerThis");$(".FileUploadActions",e).removeClass("centerContent")}}function x(e,t){if(e){g({primaryAction:t},true)}else{g({primaryAction:null},true)}}},1513:(e,t,a)=>{"use strict";a.d(t,{jN:()=>p});var s=a(51341);var n=a(19273);var i=a(81901);var o=a(71141);var r=a(17842);var l=a.n(r);var c=a(92776);var d=a(45662);var u=a(13369);var $=a(26570);let h=null;$((function(){if(typeof window.registerModalLink==="function"){window.registerModalLink("a.history-modal",$.__("Title"),$.__("Save"),v,{open_callback:b,privacy_link:true},g)}f();setTimeout(m)}));function p(e,t,a,s,n){(0,u.openRegisteredModal)({settings:{cancel_message:$.__("Cancel"),open_callback:function(){},initCompensationModal:function(){if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.initializeForm("updateCompensation")}}},url:e,chosenModalSize:"medium",saveHandler:t,options:{open_callback:b,privacy_link:true},presubmit:g,rowDisplayType:a,historyId:s,secondaryAction:n})}function m(){const e=$("tbody tr:not(.template):not(.empty) td[data-secure-field-type]");if(!e){return}e.each(((e,t)=>{const{dataset:{rowId:a,secureFieldType:s,sensitiveDataVisible:n=false}}=t;$(t).addClass("fab-Table__cellWithButton");const i=$(t).find(".js-historyCellWrapper").text();if(!i||i.length===0){return}$(t).click((function(e){e.stopPropagation();if($(t).attr("data-sensitive-data-visible")==="true"){$(t).attr("data-sensitive-data-visible",false);$(t).find(".js-historyCellWrapper").text(i);$(t).find(".js-showHideButton").text($.__("Show"))}else{l().get(`/employees/get_secure_table_field/${s}`,{id:window.Employee.id,row:a}).then((e=>{if(e.data&&!e.error){$(t).attr("data-sensitive-data-visible",true);$(t).find(".js-historyCellWrapper").text(e.data);$(t).find(".js-showHideButton").text($.__("Hide"))}})).catch((()=>{window.setMessage($.__("There was a problem getting the sensitive data"),"error")}))}}));$(t).attr("data-sensitive-data-visible",n);$(t).append(`<button class="fab-TextButton fab-TextButton--small fab-link showHideButton js-showHideButton" tabIndex="0" type="button">\n\t\t${n?$.__("Hide"):$.__("Show")}\n\t\t</button>`)}))}function f(){let e=$(".js-overtimeRateTableField");if(e.length===0){return}let t=false;$("td.js-overtimeRateTableField .js-historyCellWrapper").each((function(e,a){if(a.innerHTML.trim()!==""){t=true;return false}}));e.toggleClass("hidden",!t)}function g(e){$(e).find(".error").removeClass("error");return true}function v(e){var t=e.type==="contacts"&&["OK","MIXED_OK","REQUEST_OK"].indexOf(e.result)>-1;t=t||e.result==="RELOAD_OK";if(t){window.location.reload();return}if(e.result==="OK"||e.result==="MIXED_OK"){var a=$(".history-table.type-"+e.type.toLowerCase());var s=a.closest("table");var n=a.find(".id-"+e.data.id);var i=e.data;if(e.type==="dependents"&&e.result==="OK"){document.location.reload()}if(!n.length){n=w(s,e.data,e.perms);n.find("a#ctx_new").attr("id","ctx"+e.data.id)}$.each(e.data,(function(e,t){n.find(".field-"+e+" .js-historyCellWrapper").html(t);n.attr("data-effective-date",i.ymd)}));if(typeof i.sortOrder!=="undefined"){$.each(e.data,(function(e,t){n.find(".field-"+e+" .js-historyCellWrapper").html(t);n.attr("data-order",i.sortOrder)}))}if(typeof e.data2!=="undefined"){n=a.find(".id-"+e.data2.id);$.each(e.data2,(function(e,t){n.find(".field-"+e+" p").html(t)}))}window.BambooHR.Modal.setState({isOpen:false});document.dispatchEvent(new CustomEvent("historyModalSaveSuccess",{bubbles:true,detail:{data:e.data}}));if(e.data.stateFilingChange){F()}T();E();if(e.type==="status"){if(typeof window.updateHireDates==="function"){window.updateHireDates()}}x(s);if(e.type!=="dependents"){if(e.result==="OK"){setMessage($.__("Your changes have been saved"),"success","#forMessages",(function(){}))}else{setMessage($.__("Your changes have been saved, some of them will need to be approved."),"success","#forMessages",(function(){}))}}}else if(e.result==="REQUEST_OK"){setMessage($.__("A change request has been submitted for the changes entered."),"success","#forMessages",(function(){}));window.BambooHR.Modal.setState({isOpen:false})}else if(e.result==="DUPLICATE_OK"){setMessage($.__("No new data was entered."),"info","#forMessages",(function(){}));window.BambooHR.Modal.setState({isOpen:false})}else{if(e.data.useErrorMessage!==true&&typeof e.data.fields!="undefined"&&e.data.fields.length>0){setMessage($.__("Whoops... There were some errors with your form. Please fix the highlighted fields."),"error")}else{setMessage(e.data.error,"error")}if(e.data.fields){(0,d.Eq)(e.data.fields,window.modalIdSelector)}}if((0,o.isEnabled)("nonExemptWarningModals")&&e.type.toLowerCase()==="compensation"){y(e.data.exempt)}}function y(e){if(!(e==="Non-exempt"&&h==="Exempt")){return}if(!(0,o.isEnabled)("custom-overtime")){l().get(`/time_tracking/employee/${window.Employee.id}/overtime_modal_data`).then((e=>{if(e.data.isTimeTrackingEnabled){if(e.data.showNoLocationModal){(0,c.qk)("no-location",window.Employee.preferredName,false)}else if(e.data.showNoStateModal){(0,c.qk)("no-state",window.Employee.preferredName,false)}else if(e.data.showNoStateRemoteModal){(0,c.qk)("no-state-remote",window.Employee.preferredName,false)}else if(e.data.showNonOvertimeCountryModal){(0,c.qk)("non-overtime-country",window.Employee.preferredName,false)}}}))}}function b(e){$(".history-modal").removeAttr("modalClicked");$(".check-dropdown").multiselect({noneSelectedText:$.__("-- Select --"),header:false,height:"auto"});window.registerRateChange();let t=window.SimpleModal.getTopModalSelector();t=$(".ReactModal__Content");const a=t.find("form");a.append('<input type="hidden" name="CSRFToken" value="'+CSRF_TOKEN+'">');if(a.has(".CompensationForm")){h=a.find(".js-overtimeStatus").val()}}function w(e,t,a){var n=e.find(".template");var i=n.clone();var o=i.find("a.history-modal").attr("url");var r=typeof t.sortOrder!=="undefined"?"data-order":"data-effective-date";var l=typeof t.sortOrder!=="undefined"?t.sortOrder:(0,s.Z)(t.ymd,"YYYY-MM-DD");i.addClass("id-"+t.id).attr(r,l).removeAttr("style").removeClass("template");e.find("tr.BhrTable__row.empty").hide();if(!a.edit){i.find(".inline-bicon-edit").parent().remove()}if(!a.delete){i.find(".inline-bicon-delete").parent().remove()}i.insertAfter(n);i.find("a.history-modal").attr("url",k(t.id,o));return i}function S(e){var t="data-effective-date";var a=e.find("tbody tr:not(.template):not(.empty)").toArray();var n=a.filter((function(e){var a=e.getAttribute(t);return a&&a.length})).map((function(e){return{element:e,date:(0,s.Z)(e.getAttribute(t),"YYYY-MM-DD")}})).sort((function(e,t){return(0,s.Z)(t.date).diff(e.date)}));var i=a.filter((function(e){var a=e.getAttribute(t);return!a||!a.length})).map((function(e){return{element:e,date:s.Z.invalid()}})).sort((function(e,t){var a=$(e.element).find("td:nth-child(2)").text();var s=$(t.element).find("td:nth-child(2)").text();return a-s}));let o=a.filter((e=>{let t=e.getAttribute("data-order");return t&&t.length})).map((e=>({element:e,order:(0,s.Z)(e.getAttribute("data-order"),"YYYY-MM-DD")}))).sort(((e,t)=>(0,s.Z)(e.order).diff(t.order)));return o?o:n.concat(i)}function C(e){var t="BhrTable__cell--most-recent baseBgColor-before";e.find(".field-ymd").removeClass(t);var a=S(e);var n=(0,s.Z)();var i=a.reduce((function(e,t){return!e||n.isSameOrAfter(t.date)&&n.isBefore(e.date)?t:e}),null);if(i&&n.isAfter(i.date)){$(i.element).find(".field-ymd").addClass(t)}}function x(e){var t=e.find(".template");var a=S(e);a.forEach((function(e){t.after(e.element);t=$(e.element);if(typeof e.date!=="undefined"){t.toggleClass("BhrTable__row--future",(0,s.Z)().isBefore(e.date))}}));C(e);f()}function T(){if(typeof window.updateInfoColumn==="function"){window.updateInfoColumn()}}function E(){$("#employeeGearMenu").load("/ajax/employees/update_gear_menu.php?employeeId="+window.currentlyEditingEmployeeId+" #employeeGearMenu > *",(function(){n.Z.init()}))}function k(e,t){const a=isNaN(window.currentlyEditingEmployeeId)||!window.currentlyEditingEmployeeId?-1:window.currentlyEditingEmployeeId;e=isNaN(e)||!e?-1:e;return`/ajax/dialog/history_popup/${t}/${a}/${e}`}function Z(e,t){var a=e.closest("tr");var s=a.attr("class").split("id-");var n=s[1].split(" ");var i=n[0];if(!i.length||i===null||i===undefined||i==="null"||i==="undefined"){window.setMessage($.__(`Oops! We can't process your request right now, please refresh the page and try again.`),"error");return false}a.addClass("selected");var o=this.href;var r={title:$.__("Delete Row"),msg:$.__("Are you sure you want to delete this row?"),accept:$.__("Yes"),error:$.__("Error"),errormsg:$.__("Sorry.  This row can not be deleted because there is a change request for it that is waiting for approval."),erroraccept:$.__("Ok")};window.BambooHR.Modal.setState({content:r.msg,isOpen:true,primaryAction:function(){if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest()}else{var e="/ajax/dialog/history_popup/"+t+"/"+window.currentlyEditingEmployeeId+"/"+i;$.post(e,{CSRFToken:CSRF_TOKEN,_method:"DELETE"}).then(l,c)}},onClose:function(){a.removeClass("selected")},primaryActionText:r.accept,title:r.title});I(t);function l(e){window.BambooHR.Modal.setState({isOpen:false});let t="";let s="";if(typeof e==="string"){t=e;s=e}else if(e?.result&&e?.data){const{result:a,reload:n,errorMsg:i,data:{stateFilingChange:o}}=e;s=i;if(a==="OK"&&n){t="RELOAD_OK"}else{t=a}if(o){F()}}if(t==="OK"){var n=a.closest("table");var i=a.closest("tbody");a.remove();T();E();C(n);f();if(!i.find("tr:not(.template):not(.empty)").length){i.find("tr.BhrTable__row.empty").show()}}else if(t==="PENDING_CHANGE"){window.setMessage(r.errormsg,"error")}else if(t==="RELOAD_OK"){window.location.reload()}else{window.setMessage(s,"error")}}function c(){window.setMessage($.__("Whoops... we couldn't remove this item for you"))}}function F(){document.dispatchEvent(new CustomEvent("launchStateTaxModal",{bubbles:true,detail:{employeeId:window.Employee.id,employeeName:window.Employee.preferredName,stateTaxPermLevel:window.stateTaxPermLevel}}))}function I(e){switch(e){case"status":i.Z.modal("deleteEmploymentStatus");break;case"compensation":i.Z.modal("deleteCompensation");break;case"job":i.Z.modal("deleteJobInformation");break;case"bonus":i.Z.modal("deleteBonus");break;case"commission":i.Z.modal("deleteCommission");break;case"benefit_class":i.Z.modal("deleteBenefitClass");break;case"earnings":i.Z.modal("deleteEarnings");break;case"visa":i.Z.modal("deleteVisa");break}}t["ZP"]={deleteRow:Z,updateEmployeeInformation:T,updateEmployeeGearMenu:E,openMissingLocationInformation:c.qk}},61093:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(34825);var r=a(17842);var l=a.n(r);var c=a(71141);var d=a(11246);var u=a.n(d);var $=a(26570);const h=(0,c.isEnabled)("jade");const p="/feeds/ical";const m={createFeed:e=>$.post(p,{definition:e}),updateFeed:e=>$.ajax({type:"PUT",url:`${p}/${e}`}),deleteFeed:e=>$.ajax({type:"DELETE",url:`${p}/${e}`})};let f=[];function g(e){return f.filter((t=>t.definition==e))[0]}function v(e){return document.querySelector(`.js-ical-feed[data-ical-definition="${e}"]`)}function y(e){let t=g(e);m.createFeed(e).done((e=>{Object.assign(t,e);C()}))}function b(e){let t=g(e);m.deleteFeed(t.id).done((()=>{t.publicId=null;C()}))}function w(e){let t=g(e);let a=v(e);a.querySelector(".js-ical-modal-input").value="";m.updateFeed(t.id).done((e=>{Object.assign(t,e);C()}))}function S(e,t){let a=new(u())(e,{target:()=>v(t).querySelector(".js-ical-modal-input")});a.on("success",(a=>{a.clearSelection();e.style.display="none";let s=v(t).querySelector(".js-ical-modal-copied");s.style.display="block";window.setTimeout((()=>{e.style.display="block";s.style.display="none"}),1500)}));a.on("error",(t=>{if(window.BambooHR.Components.Tooltip.selectTooltips(e).length){return false}let a=window.BambooHR.Components.Tooltip.create(e,{content:$.__("Press ctrl+c or command+c to copy the link")}).show();window.setTimeout((()=>a.destroy()),3e3)}))}function C(){let e=document.querySelector("#js-ical-modal-feed-template").innerHTML;document.querySelector("#js-ical-modal-feeds").innerHTML=window.microTemplate(e,{feeds:f});x()}function x(){let e=document.querySelectorAll(".js-ical-feed");[].slice.call(e).forEach((e=>{let t=e.getAttribute("data-ical-definition");let a=e.querySelector(".js-ical-modal-create-feed");if(a){a.addEventListener("click",y.bind(null,t))}else{e.querySelector(".js-ical-modal-update-feed").addEventListener("click",w.bind(null,t));e.querySelector(".js-ical-modal-delete-feed").addEventListener("click",b.bind(null,t));let a=e.querySelector(".js-ical-modal-copy");S(a,t);e.querySelector(".js-ical-modal-input").addEventListener("click",(function(){this.blur();this.focus();this.select()}))}}))}function T(){f=JSON.parse(document.querySelector("#js-ical-modal-data").innerHTML);C();o.ZP.setPosition()}function E(){const e=$.__("iCalendar Feeds");const t=$.__("Done");if(h){l().get(p).then((a=>{window.BambooHR.Modal.setState({isOpen:true,content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:a.data}}),onOpen(){setTimeout((()=>{T()}))},primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:t,alternativeAction:null,title:e})}))}else{o.ZP.openModal({method:"get",url:p,title:e,footer:{buttons:{primary:{text:t,action:()=>o.ZP.closeModal()},cancel:{show:false}}},callbacks:{open:{after:T}}})}}t["Z"]={open:E}},77342:(e,t,a)=>{"use strict";var s=a(68893);var n=a(51341);var i=a(8236);var o=a(73641);let r=window.Inputmask;let l=n.Z.localeData();let c=l.monthsShort();i.Z.on("languageChanged",(e=>{l=n.Z.localeData();c=l.monthsShort()}));r.extendDefaults({showMaskOnHover:false,colorMask:true});function d(e){return(0,o.deburr)(String(e).trim().toLowerCase())}function u(e){e=d(e);return c.filter((t=>d(t).substring(0,e.length)===e)).length>0}function h(e,t,a){if(Array.isArray(e)){e=e.join("")}return[e.slice(0,a),t,e.slice(a)].join("")}r.extendAliases({"mm/dd/yy":{mask:"m/d/99",placeholder:"mm/dd/yy"},"dd/mm/yy":{mask:"d/m/99",placeholder:"dd/mm/yy"},"yy-mm-dd":{mask:"99-m-d",placeholder:"yy-mm-dd"},"dd MMM YYYY":{mask:"d M{+} y",placeholder:"ddyyyyyyyyyyy",greedy:false,separator:" ",skipOptionalPartCharacter:" ",keepStatic:true,isComplete(e,t){return(0,n.Z)(e.join(""),"DD MMM YYYY",true).isValid()},definitions:{M:{cardinality:1,placeholder:"mon",validator(e,t,a){if(e===" "){return false}let s=h(t.buffer,e,a);let n=s.slice("dd ".length,-" yyyy".length);if(n.length==4){n=n.replace(/mon$/,"")}return u(n)}}}},"MMM YYYY":{mask:"M{+} y",placeholder:"yyyyyyyyyyy",greedy:false,separator:" ",skipOptionalPartCharacter:" ",keepStatic:true,isComplete(e,t){return(0,n.Z)(e.join(""),"MMM YYYY",true).isValid()},definitions:{M:{cardinality:1,placeholder:"mon",validator(e,t,a){if(e===" "){return false}let s=h(t.buffer,e,a);let n=s.slice(0,-" yyyy".length);if(n.length==4){n=n.replace(/mon$/,"")}return u(n)}}}}});var p=window.Inputmask;delete window.Inputmask},66147:(e,t,a)=>{"use strict";var s=a(17842);var n=a.n(s);var $=a(26570);const i=window.BambooHR.Modal;function o(e,t,a,s,o){let l=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};const c=$.isNumeric(e)||$.isNumeric(t["location[listValueId]"])?"Update":"Add";a=typeof a==="undefined"||a==="undefined"?true:a;const d={locationId:e,action:c,listValueId:t["location[listValueId]"],showEditRadioButtons:a};if(l&&l.zenpayroll){d.zenpayroll=l.zenpayroll}let u="post";let h="/location";if(c==="Update"){u="put";h+=`/${e||`lv/${t["location[listValueId]"]}`}`}const p=l.hasOwnProperty("isSheet")&&l.isSheet;const m=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(e){i.setState({sheetProps:t},a)}else{i.setState(t,a)}};const f=function(){if(typeof o==="function"){o(d)}};const g=function(){const e=$("#location_form");const a=e.find("input[type=text]:eq(0)");a.attr("onfocus","this.value = this.value").focus();if(t&&typeof t!=="undefined"){$.each(t,(function(t,a){if(t.indexOf("location")>-1&&a&&a!==""){const s=e.find(`:input[name="${t}"], ba-select[name="${t}"]`);s.val(a);if(s.prop("tagName")==="SELECT"){s.trigger("liszt:updated")}else{s.siblings("label").hide()}}}))}$(".zen_phone").mask("(999)999-9999");e.initializeElements();e.bhrValidate();function s(){if($("#remoteLocation").is(":checked")){$(".js-remote-toggle").hide()}else{$(".js-remote-toggle").show();e.initializeElements()}}s();$("#remoteLocation").change((function(){s()}));r()};const v=function(){m(p,{isProcessing:true});const e=$("#location_form");if(!e.valid()){m(p,{isProcessing:false});return}const t={};$.each(e.serializeArray(),(function(_,e){if(t.hasOwnProperty(e.name)){t[e.name]=$.makeArray(t[e.name]);t[e.name].push(e.value)}else{t[e.name]=e.value}}));$.ajax({url:h,type:u,method:u,dataType:"json",data:t,success(e){if(typeof s==="function"){m(p,{isOpen:false});s(e)}window.closeMessage()},error(e){if(e.responseText){window.setMessage(e.responseText,"error");m(p,{isProcessing:false})}else{window.errorFallBack()}}})};n().get("/ajax/dialog/location.php",d).then((e=>{if(typeof e.data==="object"){i.setState({...p?{sheetProps:{isOpen:false}}:{isOpen:false}},p);window.setMessage(e.data.error||window.DEFAULT_ERROR_MESSAGE,"error");return}const t={biId:`employee-field-${c==="Update"?$.__("save"):$.__("add")}-location`,dangerousContent:e.data,isOpen:true,isProcessing:false,onClose:f,onOpen:g,primaryAction:v,primaryActionText:c==="Update"?$.__("Save"):$.__("Add"),title:c==="Update"?$.__("Edit Location"):$.__("Add a New Location")};if(p){i.setState({sheetProps:{...t,type:"mediumSheet"}},true)}else{i.setState({...t})}}))}function r(){const e=$(".js-remote-checkbox");const t=e.find("input#remoteLocation");if(t.is(":disabled")){window.BambooHR.Popover.create(e[0],{closeX:false,html:`<div style="max-width: 320px; padding: 8px 12px; background-color: #646464; font-size: 12px; color: #ffffff; text-align: left; line-height: 1.2">${$.__("This location is used by at least one job opening, and job openings require an address.")} ${$.__("You cannot change this location to remote until you adjust the location on the job opening(s).")}</div>`,push:12,tailBackground:"#646464",tailOnAnchor:8,tailOnBalloon:20,triggerEvent:"hover"})}}t["Z"]={showModal:o}},28672:(e,t,a)=>{"use strict";var s=a(68183);var n=a.n(s);var i=a(78144);n().encodeHtml=i.H$;n().decodeHtml=i.kB;t["Z"]=n()},93755:(e,t,a)=>{"use strict";a.d(t,{G:()=>o,z:()=>r});var s=a(44119);var n=a(73641);var $=a(26570);class i{static get className(){return"BaseAPI"}constructor(e){(0,s.Z)(this,"Ajax",void 0);this.Ajax=e}}class o extends i{static get className(){return"EditEmailAPI"}constructor(e){super(e);(0,s.Z)(this,"DEFAULT_CURRENT_END_POINT","current");(0,s.Z)(this,"DEFAULT_PREVIEW_END_POINT","demo");(0,s.Z)(this,"DEFAULT_GET_DEFAULT_MESSAGE_END_POINT","default");(0,s.Z)(this,"DEFAULT_RESET_END_POINT","reset");(0,s.Z)(this,"DEFAULT_SAVE_END_POINT","create");this.getCurrentEmailTemplate=this.getCurrentEmailTemplate.bind(this);this.getEmailDefaultTemplate=this.getEmailDefaultTemplate.bind(this);this.resetEmailTemplateToDefault=this.resetEmailTemplateToDefault.bind(this);this.saveEmailTemplate=this.saveEmailTemplate.bind(this)}getCurrentEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_CURRENT_END_POINT;return this.Ajax.get(e).then((e=>{if(e.status===200){const{body:t="",defaulted:a=true,subject:s=""}=e.data;return{body:t,defaulted:a,subject:s}}}))}getEmailDefaultTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_GET_DEFAULT_MESSAGE_END_POINT;return this.Ajax.get(e).then((e=>{const{error:t}=e?.data||{};if(t){window.setMessage($.__("An error has occurred getting the default message, please try again"),"error");throw new Error("Reset default failed")}return e.data}))}previewEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_PREVIEW_END_POINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t).then((e=>{const{body:t="",error:a={},subject:s=""}=e.data;return{body:t,error:a,errorCode:a.code,subject:s}})).catch((e=>{window.setMessage($.__("An error has occurred while getting the preview, please try again later"),"error");throw e}))}resetEmailTemplateToDefault(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_RESET_END_POINT;return this.Ajax.put(e)}saveEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_SAVE_END_POINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t)}}class r extends i{static get className(){return"NewHirePacketAPI"}constructor(e){super(e);(0,s.Z)(this,"DEFAULT_CONTACT_MANAGER_ENDPOINT","new_hire_packet/people");(0,s.Z)(this,"DEFAULT_GTKY_FILTER_ENDPOINT","new_hire_packet/gtkyoptions");(0,s.Z)(this,"DEFAULT_TEMPLATE_ENDPOINT","/employees/new_hire_packet.php");(0,s.Z)(this,"DEFAULT_TEMPLATE_DATA_ENDPOINT","/onboarding/nhp/");(0,s.Z)(this,"DEFAULT_ONBOARDING_TASKS_DATA_ENDPOINT","/onboarding/tasks/");(0,s.Z)(this,"DEFAULT_ONBOARDING_TASKS_IMPORT_ENDPOINT","/onboarding/tasks/importable/");this.getContactAndManagerInfo=this.getContactAndManagerInfo.bind(this)}getNewEmployeeInfoForm(e){return this.Ajax.get(`/onboarding/nhp_preview/${e}`).then((e=>e.data)).catch((e=>{window.setMessage("Uh Oh, something went wrong loading the new hire packet new employee info.","error");throw e}))}getOnboardingTasks(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_ONBOARDING_TASKS_DATA_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.get(`${e}${t}`).then((e=>e.data)).catch((e=>{window.setMessage("Uh Oh, something went wrong loading the new hire packet tasks.","error");throw e}))}getEmployeePacketDetails(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_TEMPLATE_DATA_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.get(`${e}${t}`).then((e=>{const{employee:t,newHirePacket:a,payrollFields:s,questionsAndAnswers:n,recipientTypes:i}=e.data;const o={...t};for(const e in o){if(o.hasOwnProperty(e)&&o[e]===null){switch(e){case"id":case"managerId":o[e]=undefined;break;case"payrollSynced":o[e]=false;break;default:o[e]=""}}}return{employee:o,newHirePacket:a,payrollFields:s,questionsAndAnswers:n,recipientTypes:i}})).catch((e=>{window.setMessage("An error occurred getting packet data, please try again","error");throw e}))}getContactAndManagerInfo(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_CONTACT_MANAGER_ENDPOINT;return this.Ajax.get(e).then((e=>{const{data:t}=e;const{employees:a,nhpUserId:s,orderedEmployees:n,orderedUsers:i,users:o}=t;const r=[];const l=[];for(let e=0;e<n.length;e++){r.push({text:a[n[e]],value:`${n[e]}`})}for(let e=0;e<i.length;e++){l.push({text:o[i[e]].name,value:`${i[e]}`})}return{employeeOptions:r,userOptions:l,nhpUserId:s}}))}getTeamContactInfo(e){return this.Ajax.get(`/onboarding/nhp_preview/${e}/team`).then((e=>{const{error:t}=e?.data||{};if(t){window.setMessage($.__("An error has occurred getting the team information, please try again"),"error");throw new Error("Reset default failed")}return e.data})).catch((e=>{window.setMessage($.__("An error occurred getting packet data, please try again"),"error");throw e}))}getGTKYFilterData(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_GTKY_FILTER_ENDPOINT;const t={locations:"location",divisions:"division",departments:"department",employmentStates:"status"};return this.Ajax.get(e).then((e=>{const{data:a}=e;const s=Object.keys(a);return s.map((e=>{const s=t[e]||e;const i=[];const o=a[e];for(let e=0;e<o.length;e++){i.push({parentId:s,text:o[e].value,value:o[e].id})}i.sort(((e,t)=>{if(e.text<t.text){return-1}if(e.text<t.text){return 1}return 0}));return{items:i,name:s,text:(0,n.startCase)(s),value:s}}))}))}getImportableTasks(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_ONBOARDING_TASKS_IMPORT_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;const a=l(t);if(a.length>0){return new Promise(((e,t)=>{t({missingData:a})}))}const{deletedOriginalIds:s=[],excludedIds:n=[],managerId:i,hireDate:o,initialImport:r=true}=t;return this.Ajax.post(e,{deletedOriginalIds:s.join(","),excludedIds:n.join(","),managerId:i,hireDate:o}).then((e=>{const{applicableToEmployee:t,files:a,hasImported:s,notApplicableToEmployee:n,semiApplicableToEmployee:i,users:o}=e.data;const l={...i,...r?{}:n};return{applicableTasks:t,files:a,hasImported:s,notApplicableTasks:l,users:o}})).catch((e=>{window.setMessage($.__("Uh oh, something went wrong. Please try again."),"error");throw e}))}getMissingData(e){return this.Ajax.get(`/onboarding/tasks/${e}/missing_fields`).then((e=>e.data)).catch((e=>{setMessage($.__("An error occurred while getting the template information, please try again later"),"error");throw e}))}getTemplates(e){return this.Ajax.get(e).then((e=>e.data)).catch((()=>{setMessage($.__("An error occurred while getting the template list, please try again later"),"error");return false}))}getTemplateData(e){return this.Ajax.get(e).then((e=>{const t={...e.data};t.contactEmployeeId=t.contactEmployeeId?t.contactEmployeeId:"";return t})).catch((()=>{setMessage($.__("An error occurred while getting the template information, please try again later"),"error");return false}))}saveTemplate(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"post";return this.Ajax[a](e,t).then((e=>({savedNHPTemplate:true,templateData:e.data}))).catch((()=>({savedNHPTemplate:false})))}deleteTemplate(e){return this.Ajax.delete(e).catch((e=>{setMessage($.__("An error occurred while deleting the template, please try again"),"error");throw e}))}savePacket(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_TEMPLATE_DATA_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t).then((e=>({packetSaved:true,response:e}))).catch((e=>{throw e}))}}function l(e){const{managerId:t="",hireDate:a=""}=e;const s=[];if(typeof t==="string"&&t.length<1||t&&Number.isNaN(t)){s.push("managerId")}if(a.length<1){s.push("hireDate")}return s}},75818:(e,t,a)=>{"use strict";a.d(t,{YP:()=>o,mq:()=>i,uw:()=>n});var s=a(37624);function n(e){let t="";const a=e.map((e=>{t=e.type;return`${e?.typeId||e?.id}`}));return{selectedParentId:t,selectedFilters:a}}function i(e){const t={};const a={...e};const{gtkyQuestions:i,gtkyRecipients:o}=a;const{selectedParentId:r="",selectedFilters:l}=n(o);a.nhpTemplateId=a.id;delete a.id;i.map(((e,a)=>{t[a]=e}));(0,s.$x)({gtkyRecipients:e.gtkyRecipients.map((e=>({allEmployees:false,type:e.type,typeId:e.typeId})))});return{newHirePacket:a,gtkyQuestions:t,emailFilter:{selectData:[],selectedName:r,selectedParentId:r,selectedValues:l}}}function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(Array.isArray(e)){return e.map((e=>({text:e.name,value:e.id})))}return[]}},58552:(e,t,a)=>{"use strict";a.d(t,{r:()=>d});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(41201);const r=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({fileCard:()=>({marginRight:"16px",marginBottom:"10px"}),pendingWorkflow:{color:t.gray[1e3],fontWeight:a.fontWeightRegular}})}));const l="esig";var c=a(12142);function d(e){const{files:t=Array(),handleRemove:a,handleToggle:n,view:d="display"}=e;const u=r();function h(e){const{currentSignerUserId:t,esignatureInstanceId:a,esignatureRequired:s,esignatureStatus:n,esignatureTemplateId:i,esignatureWorkflowId:r,esignatureWorkflowInstanceId:c,extension:d,fileDataId:u,fileName:h,fileId:p,isCompletedEsignature:m,isEsignature:f,scanInfo:g}=e;const v=g===null||g==="skipped";const y=f?l:d;const b=(0,o.m1)(d.toLowerCase())?"img":"";return{eSigMetaData:{currentSignerUserId:t,esignatureStatus:n,esignatureInstanceId:a,esignatureTemplateId:i,esignatureWorkflowId:r,workflowInstanceId:c,isCompletedEsignature:m},fdId:u||"",fileId:p||"",mode:b,name:h,required:s===true,safe:v,type:y}}if(t.length>1){t.sort(((e,t)=>e.fileName.localeCompare(t.fileName)))}return(0,s.Z)("div",{className:"FileCardContainer FileCards NewHirePacketFiles"},void 0,t.map(((e,r)=>{if(!e){return null}const p=h(e);const{eSigMetaData:m,fdId:f,fileId:g,mode:v,name:y,required:b,safe:w,type:S}=p;const{esignatureInstanceId:C,esignatureStatus:x,esignatureTemplateId:T,esignatureWorkflowId:E}=m;const k=S===l&&!T&&!E;function Z(){const e=["Completed","InProgress","Pending"];if(S===l){if(e.indexOf(x)>-1&&C){(0,c.openEsignatureSigningModal)(C,true)}}else{(0,o.NC)(f||g,g,y,null,null,true,v)}}let F=null;if(d==="display"){if(C){switch(x){case"InProgress":case"Pending":F="pending";break;case"Completed":F="signed";break;default:F="canceled";break}}else{F="pending"}}const I=k?(0,s.Z)("span",{className:u.pendingWorkflow},void 0,y):y;return(0,s.Z)("div",{className:u.fileCard,"data-file-id":g},`${r}_${g}`,(0,s.Z)(i.FileCard,{fileId:Number.parseInt(g),fileName:I,fileType:S,isSafe:w,onClick:d==="display"&&!k?Z:null,onRemove:d==="attachment"?e=>{const s=t.findIndex((t=>Number.parseInt(t.fileId)==e));if(typeof n==="function"){a({fileId:e,fileIndex:s})}}:null,onToggle:e=>{const a=t.findIndex((t=>Number.parseInt(t.fileId)===e));const s=t[a].esignatureRequired===false?"yes":"no";if(typeof n==="function"){n({fileId:e,fileIndex:a,required:s})}},signatureState:F,toggleState:b,view:d}),F==="pending"?(0,s.Z)("span",{id:`esignature-signing-root-${C}`}):null)})))}},44070:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s,v:()=>n});let s=function(e){e["EMAIL"]="email";e["HIRE_DATE"]="hireDate";e["MANAGER"]="manager";return e}({});let n=function(e){e["NO"]="no";e["YES"]="yes";e["REQUIRED"]="required";return e}({})},2301:(e,t,a)=>{"use strict";a.d(t,{m:()=>y});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(89835);var r=a(51341);var l=a(62484);var c=a(60042);var d=a.n(c);var u=a(59155);var h=a(37194);var p=a(26136);var m=a(56445);var $=a(26570);class f extends n.PureComponent{static get className(){return"FirstDayInformation"}constructor(e){super(e);const{hireDate:t,location:a,otherInstructions:s,selectedArrivalTime:n,selectedContactOptions:i,selectedManagerOptions:o,storeUpdater:r=(()=>0)}=e;this.state={hireDate:t,location:a,otherInstructions:s,selectedArrivalTime:n,selectedContactOptions:i,selectedManagerOptions:o};r(this.state);this._handleChangeLocation=this._handleChangeLocation.bind(this);this._handleChangeInstructions=this._handleChangeInstructions.bind(this);this._handleContactChange=this._handleContactChange.bind(this);this._handleManagerChange=this._handleManagerChange.bind(this);this._handleTimeChange=this._handleTimeChange.bind(this)}_handleUpdateHireDate(e){const{storeUpdater:t=(()=>0),updateHireDate:a}=this.props;const{hireDate:s}=this.state;if(s!==e){if(typeof a==="function"){try{a(e)}catch(e){console.error(e)}}this.setState({hireDate:e},(()=>{t(this.state)}))}}_handleChangeInstructions(e){const{storeUpdater:t=(()=>0)}=this.props;const{value:a=""}=e.target;this.setState({otherInstructions:a},(()=>{t(this.state)}))}_handleChangeLocation(e){const{storeUpdater:t=(()=>0)}=this.props;const{value:a=""}=e.target;this.setState({location:a},(()=>{t(this.state)}))}_handleContactChange(e){const{storeUpdater:t=(()=>0)}=this.props;this.setState({selectedContactOptions:e},(()=>{t(this.state)}))}_handleManagerChange(e){const{storeUpdater:t=(()=>0),updateSelectedManager:a}=this.props;if(typeof a==="function"){try{a(e[0])}catch(e){console.log(e)}}this.setState({selectedManagerOptions:e},(()=>{t(this.state)}))}_handleTimeChange(e){const{storeUpdater:t=(()=>0)}=this.props;this.setState({selectedArrivalTime:e},(()=>{t(this.state)}))}componentDidMount(){const e=document.querySelector(".js-hireDatePickerInput");if(e){e.addEventListener("blur",(e=>{const t=e.target.value;if(!t||t===""){this._handleUpdateHireDate(t)}}))}}render(){const{arrivalTimes:e,contactOptions:t,errorField:a={},infoHighlightFields:s={},managerOptions:n,name:c,templateView:f}=this.props;const{hireDate:g,location:v="",otherInstructions:y="",selectedArrivalTime:b,selectedContactOptions:w,selectedManagerOptions:S}=this.state;const C=d()("fab-Label fab-Label--required",{"fab-Label--error":a.hireDate,"fab-Label--info":s.hireDate});const x=d()("js-hireDatePickerInput fab-TextInput--width5",{"fab-TextInput--error":a.hireDate,"fab-TextInput--info":s.hireDate});const T=d()("fab-Label",{"fab-Label--error":a.manager,"fab-Label--info":s.manager});let E;if(a.manager){E="error"}else if(s.manager){E="info"}return i().createElement(i().Fragment,null,(0,m.ifFeature)("encore",(0,o.Z)(u.StyledBox,{backgroundColor:"neutral-weak",borderRadius:"medium",marginRight:2,padding:1.5},void 0,(0,o.Z)("legend",{className:"fab-FormSection__legend FirstDayInformation__legend"},void 0,(0,o.Z)(u.Flex,{marginTop:"8px",marginRight:"8px"},void 0,(0,o.Z)(u.Icon,{brand:true,name:"fab-map-grid-20x20"})),(0,o.Z)("span",{className:"fab-FormSection__legendText"},void 0,$.__("When, Where, and Other Info"),(0,o.Z)("span",{className:"fab-FormSection__legendNote"},void 0,(0,o.Z)(h.Message,{params:[c],text:$._("Enter information about when {1} should arrive, where to go and who to contact on their first day.")})))),(0,o.Z)("div",{className:"FirstDayInformation--indent"},void 0,(0,o.Z)("div",{className:"fab-FormRow"},void 0,!f&&(0,o.Z)("div",{className:"fab-FormColumn",id:"hireDate"},void 0,(0,o.Z)("label",{className:C,htmlFor:"hireDate"},void 0,$.__("Hire Date (First Day)")),(0,o.Z)(p.Z,{id:"hireDate",cssClasses:{single:x},name:"employees[hireDate]",noFacade:true,onChange:e=>{this._handleUpdateHireDate(e)},required:true,settings:{start:g},type:"date",unsafeProps:{defaultValue:(0,r.Z)(g).format(r.Z.defaultFormat)}})),(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"arrivalTime"},void 0,$.__("Please Arrive by...")),(0,o.Z)(u.Select,{id:"arrivalTime",items:e,name:"newHirePackets[arrivalTime]",onChange:this._handleTimeChange,selectedValues:b,width:5})),(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"location"},void 0,$.__("Location")),(0,o.Z)("div",{className:"fab-InputWrapper"},void 0,(0,o.Z)("input",{className:"fab-TextInput fab-TextInput--width10",id:"location",name:"newHirePackets[location]",onChange:this._handleChangeLocation,placeholder:$.__("Enter Address (Leave blank for remote employee)"),type:"text",value:v||"",width:"10"})))),(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"whoToContact"},void 0,$.__("Who to Contact")),(0,o.Z)(u.Select,{id:"whoToContact",items:t,name:"newHirePackets[contactEmployeeId]",onChange:this._handleContactChange,selectedValues:w,width:6})),!f&&(0,o.Z)("div",{className:"fab-FormColumn",id:"managerSelect"},void 0,(0,o.Z)("label",{className:T,htmlFor:"managerContact"},void 0,$.__("Manager")),(0,o.Z)(u.Select,{condition:E,id:"managerContact",items:n,name:"employeeJobHistoryItems[reportsToEmployeeId]",onChange:this._handleManagerChange,selectedValues:S,width:6}))),(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"otherInstructions"},void 0,$.__("Other Instructions")),(0,o.Z)(l.Z,{className:"fab-Textarea fab-Textarea--width10",id:"otherInstructions",name:"newHirePackets[otherInstructions]",onChange:this._handleChangeInstructions,value:y||""}))))),(0,o.Z)("div",{className:"fab-FormSection"},void 0,(0,o.Z)("legend",{className:"fab-FormSection__legend FirstDayInformation__legend"},void 0,(0,o.Z)(u.Icon,{brand:true,name:"fab-map-grid-20x20"}),(0,o.Z)("span",{className:"fab-FormSection__legendText"},void 0,$.__("When, Where, and Other Info"),(0,o.Z)("span",{className:"fab-FormSection__legendNote"},void 0,(0,o.Z)(h.Message,{params:[c],text:$._("Enter information about when {1} should arrive, where to go and who to contact on their first day.")})))),(0,o.Z)("div",{className:"FirstDayInformation--indent"},void 0,(0,o.Z)("div",{className:"fab-FormRow"},void 0,!f&&(0,o.Z)("div",{className:"fab-FormColumn",id:"hireDate"},void 0,(0,o.Z)("label",{className:C,htmlFor:"hireDate"},void 0,$.__("Hire Date (First Day)")),(0,o.Z)(p.Z,{id:"hireDate",cssClasses:{single:x},name:"employees[hireDate]",noFacade:true,onChange:e=>{this._handleUpdateHireDate(e)},required:true,settings:{start:g},type:"date",unsafeProps:{defaultValue:(0,r.Z)(g).format(r.Z.defaultFormat)}})),(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"arrivalTime"},void 0,$.__("Please Arrive by...")),(0,o.Z)(u.Select,{id:"arrivalTime",items:e,name:"newHirePackets[arrivalTime]",onChange:this._handleTimeChange,selectedValues:b,width:5})),(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"location"},void 0,$.__("Location")),(0,o.Z)("div",{className:"fab-InputWrapper"},void 0,(0,o.Z)("input",{className:"fab-TextInput fab-TextInput--width10",id:"location",name:"newHirePackets[location]",onChange:this._handleChangeLocation,placeholder:$.__("Enter Address (Leave blank for remote employee)"),type:"text",value:v||"",width:"10"})))),(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"whoToContact"},void 0,$.__("Who to Contact")),(0,o.Z)(u.Select,{id:"whoToContact",items:t,name:"newHirePackets[contactEmployeeId]",onChange:this._handleContactChange,selectedValues:w,width:6})),!f&&(0,o.Z)("div",{className:"fab-FormColumn",id:"managerSelect"},void 0,(0,o.Z)("label",{className:T,htmlFor:"managerContact"},void 0,$.__("Manager")),(0,o.Z)(u.Select,{condition:E,id:"managerContact",items:n,name:"employeeJobHistoryItems[reportsToEmployeeId]",onChange:this._handleManagerChange,selectedValues:S,width:6}))),(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"otherInstructions"},void 0,$.__("Other Instructions")),(0,o.Z)(l.Z,{className:"fab-Textarea fab-Textarea--width10",id:"otherInstructions",name:"newHirePackets[otherInstructions]",onChange:this._handleChangeInstructions,value:y||""})))))))}}var g=a(37624);var v=a(74037);function y(e){const{hireDate:t,selectedManagerOptions:a}=e;const{state:o,dispatch:r=(e=>e)}=(0,v.QN)()||{};const{errorFields:l,infoHighlightFields:c}=o||{};(0,n.useEffect)((()=>{if(Array.isArray(a)&&a.length>0){r({payload:{hireDate:t,selectedManagerId:a[0]},type:v.aI.SET_INITIAL})}}),[t,a]);return i().createElement(f,(0,s.Z)({},e,{errorField:l,infoHighlightFields:c,storeUpdater:g.$x,updateHireDate:e=>{r({payload:e,type:v.aI.UPDATE_HIRE_DATE})},updateSelectedManager:e=>{r({payload:e,type:v.aI.UPDATE_MANAGER_ID})}}))}},15256:(e,t,a)=>{"use strict";a.d(t,{_:()=>C});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(89835);var r=a(44119);var l=a(73641);var c=a(59155);var d=a(37194);var $=a(26570);class u extends n.PureComponent{static get className(){return"EmailFilter"}constructor(e){super(e);const{selectData:t=[],selectedName:a="",selectedParentId:s="-1",selectedValues:n=[],storeUpdater:i=(e=>e)}=this.props;let o=(0,l.cloneDeep)(t);o=this.disableRootItems(s,o);this.state={selectData:o,selectedName:a,selectedParentId:s,selectedValues:[...n]};const r=n.map((e=>({allEmployees:false,typeId:e,type:a})));i({gtkyRecipients:r});this._handleSelectChange=this._handleSelectChange.bind(this)}disableRootItems(e,t){let a=false;if(Number.parseInt(e)===-1){return t}const s=(0,l.cloneDeep)(t);for(const t of s){if(t.value===e){a=true}else{t.isDisabled=true}}return a?s:t}getToggleTranslation(e,t){let a=null;switch(e.toLowerCase()){case"department":a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Department","{1} Departments",t)});break;case"location":a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Location","{1} Locations",t)});break;case"division":a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Division","{1} Divisions",t)});break;case"status":a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Status","{1} Statuses",t)});break;default:a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Item Selected","{1} Items Selected",t)});break}return a}_handleSelectChange(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const{selectData:a,storeUpdater:s=(e=>e)}=this.props;const{selectData:n,selectedName:i,selectedParentId:o}=this.state;const r=t.length>0?t[0].parentId:"-1";const l=o===r?n:this.disableRootItems(r,a);let c=i;if(t.length===0){c=""}else if(c===""){const e=a.find((e=>e.value===r));c=e.name||""}this.setState({selectData:l,selectedName:c,selectedParentId:r,selectedValues:e},(()=>{const{selectedName:e,selectedValues:t}=this.state;const a=t.map((t=>({allEmployees:false,typeId:t,type:e})));s({gtkyRecipients:a})}))}render(){const{selectedName:e,selectData:t=[],selectedValues:a=[]}=this.state;return i().createElement(i().Fragment,null,a.map((t=>(0,o.Z)("input",{name:`${e}[]`,type:"hidden",value:t},`${e}_${t}`))),(0,o.Z)(c.Select,{canSelectMultiple:true,items:t,onChange:this._handleSelectChange,placeholder:$.__("All Employees"),renderToggleContent:t=>{const a=t.length;return(0,o.Z)(n.Fragment,{},void 0,a>0?(0,o.Z)("div",{className:"FilterDropdown__toggle"},void 0,(0,o.Z)("span",{},void 0,this.getToggleTranslation(e,a))):null)},selectedValues:a,width:7}))}}var h=a(37624);function p(e){return i().createElement(u,(0,s.Z)({},e,{storeUpdater:h.$x}))}var m=a(56445);var f=a(26570);class g extends n.PureComponent{static get className(){return"GtkyQuestion"}constructor(e){super(e);(0,r.Z)(this,"inputRef",(0,n.createRef)());this.state={...e.questionData,is_required:e.questionData.required?"yes":"no"};this._handleQuestionInputChange=this._handleQuestionInputChange.bind(this);this.focus=this.focus.bind(this)}componentDidMount(){if(this.props.focusInput){this.focus()}}_handleQuestionInputChange(e){const{position:t,onUpdate:a}=this.props;const s=e.target;this.setState({question:s.value},(()=>{const{question:e,is_required:s}=this.state;return a?.(t,e,s)}))}_handleRequiredInputChange(e){const{position:t,onUpdate:a}=this.props;this.setState({is_required:e?"yes":"no",required:e},(()=>{const{is_required:e,question:s}=this.state;return a?.(t,s,e)}))}focus(){const e=this.inputRef.current;if(e){e.focus()}}render(){const{canDelete:e,onDelete:t,onDragEnd:a,onDragOver:s,onDragStart:n,position:r,questionData:l}=this.props;const{id:d}=l;const{is_required:u,sortOrder:h,question:p,required:g}=this.state;return(0,o.Z)("div",{className:"js-cQuestion",draggable:true,id:d?`cqWrapper-${d}`:null,onDragOver:e=>{s(e,d)},onDragStart:e=>{n(e,d)},onDrop:e=>{a(e,d)}},void 0,(0,o.Z)("div",{className:"fab-InputWrapper GTKYQuestion"},void 0,i().createElement("input",{ref:this.inputRef,className:"fab-TextInput fab-TextInput--width10 fab-TextInput--withNub","data-order":h,name:`employeePersonalQuestions[${d}]`,onChange:this._handleQuestionInputChange,placeholder:f.__("Enter Question"),type:"text",value:p}),(0,o.Z)("span",{className:"fab-TextInputNub GTKYQuestion__dragHandle"},void 0,(0,o.Z)("span",{className:"fab-TextInputNub__icon"},void 0,(0,o.Z)(c.Icon,{name:"fab-lines-12x10"}))),(0,o.Z)("div",{className:"GTKYQuestionToggle"},void 0,(0,m.ifFeature)("encore",(0,o.Z)(c.RequiredToggle,{id:d?`q${d}Req`:null,isChecked:u==="yes"||g,name:`employeePersonalQuestionsRequired[${d}]`,onChange:e=>{const{checked:t}=e.target;this._handleRequiredInputChange(t)}}),(0,o.Z)(c.Toggle,{id:d?`q${d}Req`:null,isChecked:u==="yes"||g,name:`employeePersonalQuestionsRequired[${d}]`,onChange:e=>{const{checked:t}=e.target;this._handleRequiredInputChange(t)},type:"required"}))),e&&(0,o.Z)(c.FloatingIconButton,{clickAction:()=>t?.(r),hasBounding:false,icon:"fab-circle-x-16x16",size:"teenie",type:"button"})))}}var v=a(7949);var y=a(26570);function b(e){const{customQuestions:t}=e;const[a,s,n,r]=(0,v.Y)(Object.values(t));if(a[0].id===undefined){s(a.map(((e,t)=>{e.id=t;return e})))}function d(){const e=(0,l.cloneDeep)(a);const t=Math.max(...e.map((e=>+e.id)));const s={archived:"",id:t+1,is_required:"",question:"",sort_order:`${t+1}`};e.push(s);w(e)}function u(e){const t=(0,l.cloneDeep)(a);t.splice(e,1);w(t)}function h(){r.handleDragEnd();e.updateQuestionsHandler(a)}function p(e,t){r.handleDragOver(e,t)}function m(e,t){r.handleDragStart(e,t);e.dataTransfer.setDragImage(e.target,e.nativeEvent.offsetX||0,e.nativeEvent.offsetY||0)}function f(e,t,s){const n=(0,l.cloneDeep)(a);n[e].question=t;n[e].required=s==="yes";n[e].sortOrder=e;w(n)}function b(e,t,a){return(0,o.Z)(g,{canDelete:a>1,focusInput:a>1&&t+1===a&&e.question==="",onDelete:u,onDragEnd:h,onDragOver:p,onDragStart:m,onUpdate:f,position:t,questionData:e},`cqWrapper-${e.id}${e.sort_order}`)}function w(t){s(t);e.updateQuestionsHandler(t)}return i().createElement(i().Fragment,null,(0,o.Z)("div",{className:"fab-FormRow QuestionsList"},void 0,(0,o.Z)("div",{className:"QuestionsList__questions",id:"customQuestionsWrapper"},void 0,(0,o.Z)("p",{className:"QuestionsList__questionsNote"},void 0,y.__("Get to Know You Questions")),a.map(((e,t)=>b(e,t,a.length))))),a.length<9&&(0,o.Z)("div",{className:"fab-FormRow fab-FormRow--tight QuestionsList__addQuestion"},void 0,(0,o.Z)(c.Button,{clickAction:d,outline:true,size:"small",text:y.__("Add Question"),type:"button"})))}var w=a(26570);class S extends n.PureComponent{static get className(){return"TeamIntroduction"}constructor(e){super(e);const{storeUpdater:t}=e;const a=(0,l.cloneDeep)(e.customQuestions);if(Object.keys(a).length<1){const e={archived:"",id:"0",is_required:"",question:"",sort_order:"0"};delete e.is_required;e.required=false;a[0]=e}this.state={currentQuestions:this.getQuestionArray(Object.values(a)),customQuestions:a,sendGetToKnowYouEmail:e.sendGetToKnowYouEmail};if(typeof t==="function"){t({gtkyQuestions:Object.values(a),sendGetToKnowYouEmail:e.sendGetToKnowYouEmail})}this._displayEmailPreview=this._displayEmailPreview.bind(this);this._handleToggleGTKYQuestions=this._handleToggleGTKYQuestions.bind(this);this.updateCurrentQuestions=this.updateCurrentQuestions.bind(this)}_displayEmailPreview(e,t){return this.props.previewNewHireEmail?.(e,t)}_handleToggleGTKYQuestions(){const{storeUpdater:e=(()=>0)}=this.props;const{sendGetToKnowYouEmail:t}=this.state;window.formChanged=true;this.setState({sendGetToKnowYouEmail:t==="yes"||t===true?false:true},(()=>{e({sendGetToKnowYouEmail:this.state.sendGetToKnowYouEmail})}))}getQuestionArray(e){return e.map((e=>e.question))}updateCurrentQuestions(e){const{storeUpdater:t=(()=>0)}=this.props;window.formChanged=true;this.setState({currentQuestions:this.getQuestionArray(e)},(()=>{t({gtkyQuestions:e})}))}render(){const{emailFilterData:e,employeeId:t,employeeName:a}=this.props;const{currentQuestions:s,customQuestions:n,sendGetToKnowYouEmail:r}=this.state;const{selectData:l,selectedName:u,selectedParentId:h,selectedValues:f}=e;return i().createElement(i().Fragment,null,(0,m.ifFeature)("encore",(0,o.Z)(c.StyledBox,{backgroundColor:"neutral-weak",borderRadius:"medium",marginRight:2,marginTop:2,padding:1.5},void 0,(0,o.Z)("legend",{className:"fab-FormSection__legend newHirePacketLegend"},void 0,(0,o.Z)(c.Flex,{marginRight:"8px",marginTop:"8px"},void 0,(0,o.Z)(c.Icon,{brand:true,name:"fab-hi-20x20"})),(0,o.Z)("span",{className:"fab-FormSection__legendText"},void 0,(0,o.Z)(d.Message,{params:[a],text:w._("Introduce {1} to the Team")}),(0,o.Z)("span",{className:"fab-FormSection__legendNote"},void 0,(0,o.Z)(d.Message,{params:[a],text:w._("Add a few Get to Know You questions to help the team get to know {1} a little better.")})))),(0,o.Z)("div",{className:"TeamIntroduction__FormSection--indent"},void 0,(0,o.Z)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,o.Z)("div",{className:"TeamIntroduction__gtky"},void 0,(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-InputWrapper "},void 0,(0,o.Z)("input",{checked:r==="yes"||r===true,className:"fab-Checkbox__input",id:"customQuestions",name:"newHirePackets[sendGetToKnowYouEmail]",onChange:this._handleToggleGTKYQuestions,type:"checkbox"}),(0,o.Z)("label",{className:"fab-Checkbox__label",htmlFor:"customQuestions"},void 0,w.__('Send a "Get to Know You" email on the morning of their first day')))),(r==="yes"||r===true)&&(0,o.Z)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,o.Z)("div",{className:"TeamIntroductionPreviewEmail"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"EmailFilter"},void 0,w.__("Send to")),(0,o.Z)(p,{selectData:l,selectedName:u,selectedParentId:h,selectedValues:f}),(0,o.Z)("span",{className:"TeamIntroductionPreviewEmail__button"},void 0,(0,o.Z)(c.TextButton,{clickAction:()=>{this._displayEmailPreview(t,s)},iconBefore:"fab-envelope-14x12",muted:true,size:"small",type:"button"},void 0,w.__("Preview Email"))))))),(r==="yes"||r===true)&&(0,o.Z)("div",{className:"TeamIntroduction__gtkyWrapper",id:"customQuestionsSection"},void 0,(0,o.Z)(b,{customQuestions:n,updateQuestionsHandler:this.updateCurrentQuestions})))),(0,o.Z)("div",{className:"TeamIntroduction fab-FormSection"},void 0,(0,o.Z)("legend",{className:"fab-FormSection__legend newHirePacketLegend"},void 0,(0,o.Z)(c.Icon,{brand:true,name:"fab-hi-20x20"}),(0,o.Z)("span",{className:"fab-FormSection__legendText"},void 0,(0,o.Z)(d.Message,{params:[a],text:w._("Introduce {1} to the Team")}),(0,o.Z)("span",{className:"fab-FormSection__legendNote"},void 0,(0,o.Z)(d.Message,{params:[a],text:w._("Add a few Get to Know You questions to help the team get to know {1} a little better.")})))),(0,o.Z)("div",{className:"TeamIntroduction__FormSection--indent"},void 0,(0,o.Z)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,o.Z)("div",{className:"TeamIntroduction__gtky"},void 0,(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-InputWrapper "},void 0,(0,o.Z)("input",{checked:r==="yes"||r===true,className:"fab-Checkbox__input",id:"customQuestions",name:"newHirePackets[sendGetToKnowYouEmail]",onChange:this._handleToggleGTKYQuestions,type:"checkbox"}),(0,o.Z)("label",{className:"fab-Checkbox__label",htmlFor:"customQuestions"},void 0,w.__('Send a "Get to Know You" email on the morning of their first day')))),(r==="yes"||r===true)&&(0,o.Z)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,o.Z)("div",{className:"TeamIntroductionPreviewEmail"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"EmailFilter"},void 0,w.__("Send to")),(0,o.Z)(p,{selectData:l,selectedName:u,selectedParentId:h,selectedValues:f}),(0,o.Z)("span",{className:"TeamIntroductionPreviewEmail__button"},void 0,(0,o.Z)(c.TextButton,{clickAction:()=>{this._displayEmailPreview(t,s)},iconBefore:"fab-envelope-14x12",muted:true,size:"small",type:"button"},void 0,w.__("Preview Email"))))))),(r==="yes"||r===true)&&(0,o.Z)("div",{className:"TeamIntroduction__gtkyWrapper",id:"customQuestionsSection"},void 0,(0,o.Z)(b,{customQuestions:n,updateQuestionsHandler:this.updateCurrentQuestions}))))))}}(0,r.Z)(S,"defaultProps",{customQuestions:{}});function C(e){return i().createElement(S,(0,s.Z)({},e,{storeUpdater:h.$x}))}},74037:(e,t,a)=>{"use strict";a.d(t,{aI:()=>i,Xc:()=>f,QN:()=>g});var s=a(89835);var n=a(23321);var i=function(e){e["SET_INITIAL"]="setInitial";e["UPDATE_ERROR_FIELDS"]="updateErrorFields";e["UPDATE_HIGHLIGHTED_FIELDS"]="updateHighlightedField";e["UPDATE_MANAGER_ID"]="updateManager";e["UPDATE_HIRE_DATE"]="updateHireDate";return e}(i||{});var o=a(44070);function r(e){const t={};const a=Object.keys(e);a.forEach((a=>{if(e[a]){t[a]=true}}));return t}function l(e,t){const a={...e};a.errorFields=r(t);return a}function c(e,t){const a={...e};a.infoHighlightFields=r(t);return a}function d(e,t){const a={...e};a.selectedManagerId=parseInt(t);if(t){delete a.infoHighlightFields.manager;delete a.errorFields.manager}return a}function u(e,t){const a={...e};a.hireDate=t;if(!t||t.length===0){a.errorFields[o.Z.HIRE_DATE]=true}return a}function h(e,t){const{payload:a,type:s}=t;const n={...e};switch(s){case i.SET_INITIAL:return{...n,...a};case i.UPDATE_ERROR_FIELDS:return l(n,a);case i.UPDATE_HIGHLIGHTED_FIELDS:return c(n,a);case i.UPDATE_MANAGER_ID:return d(n,a);case i.UPDATE_HIRE_DATE:return u(n,a);default:{throw new Error(`Unhandled action type: ${t.type}`)}}}const p=(0,n.createContext)(undefined);let m=false;function f(e){let{children:t}=e;const a={errorFields:{},hireDate:undefined,infoHighlightFields:{},selectedManagerId:undefined};const[i,o]=(0,n.useReducer)(h,a);return(0,s.Z)(p.Provider,{value:{state:i,dispatch:o}},void 0,t)}function g(){const e=(0,n.useContext)(p);if(m===false&&e===undefined){m=true;console.warn("useNewHirePacketForm must be used within a NewHirePacketFormContext")}return e}},37624:(e,t,a)=>{"use strict";a.d(t,{Vh:()=>T,Xo:()=>I,jZ:()=>A,$$:()=>N,xc:()=>M,vx:()=>x,vS:()=>k,xZ:()=>E,V0:()=>P,Ml:()=>D,qF:()=>L,$x:()=>F});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);var r=a(60658);var l=a(51341);var c=a(393);var d=a(33367);var u=a(38328);var h=a(44119);var p=a(73641);var m=a(45662);class f{static get className(){return"BaseFormData"}constructor(e){(0,h.Z)(this,"selectedArrivalTime",void 0);(0,h.Z)(this,"selectedContactOptions",void 0);(0,h.Z)(this,"id",void 0);(0,h.Z)(this,"location",void 0);(0,h.Z)(this,"name",void 0);(0,h.Z)(this,"otherInstructions",void 0);(0,h.Z)(this,"gtkyQuestions",void 0);(0,h.Z)(this,"gtkyRecipients",void 0);(0,h.Z)(this,"sendGetToKnowYouEmail",void 0);(0,h.Z)(this,"hireDate",void 0);(0,h.Z)(this,"selectedManagerOptions",void 0);const{arriveByTime:t=["08:00:00"],selectedContactOptions:a=null,id:s,location:n="",name:i,otherInstructions:o="",gtkyQuestions:r=[],gtkyRecipients:l=[],sendGetToKnowYouEmail:c=false}=e;this.selectedArrivalTime=t;this.selectedContactOptions=[a];this.id=s;this.location=n;this.name=i;this.otherInstructions=o;this.gtkyQuestions=r;this.gtkyRecipients=l;this.sendGetToKnowYouEmail=c===true||c==="yes";this.selectedManagerOptions=[]}assignQuestionSortOrderByIndex(){return this.gtkyQuestions.map(((e,t)=>{e.sortOrder=t;return e}))}updateData(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!t){(0,m.Zd)()}const a=e.hireDate&&e.hireDate!=this.hireDate;const s=(0,p.cloneDeep)(e);const n=Object.keys(s);for(let e=0;e<n.length;e++){this[n[e]]=s[n[e]]}if(a){document.dispatchEvent(new Event("nhpForm:formUpdate"))}}}class g extends f{static get className(){return"NewHirePacketFormData"}constructor(e){super(e);(0,h.Z)(this,"nhpTemplateId",void 0);(0,h.Z)(this,"employeeId",void 0);(0,h.Z)(this,"files",void 0);(0,h.Z)(this,"homeEmail",void 0);(0,h.Z)(this,"otherTasks",void 0);(0,h.Z)(this,"packetTasks",void 0);(0,h.Z)(this,"hireDate",void 0);(0,h.Z)(this,"selectedManagerOptions",void 0);(0,h.Z)(this,"showPayrollState",void 0);(0,h.Z)(this,"showPayrollFederal",void 0);(0,h.Z)(this,"showPayrollDirectDeposit",void 0);const{employeeId:t,files:a,homeEmail:s,managerId:n,nhpTemplateId:i,otherTasks:o,packetTasks:r,showPayrollState:l,showPayrollFederal:c,showPayrollDirectDeposit:d}=e;this.employeeId=t;this.files=a;this.homeEmail=s;this.selectedManagerOptions=[n];this.nhpTemplateId=i;this.otherTasks=o;this.packetTasks=r;this.showPayrollState=l||false;this.showPayrollFederal=c||false;this.showPayrollDirectDeposit=d||false}_getEmployeeData(){const e=this.hireDate?(0,l.Z)(this.hireDate).format(l.Z.defaultFormat):"";return{id:this.employeeId,hireDate:e,email:this.homeEmail,managerId:this.selectedManagerOptions[0]===""?null:this.selectedManagerOptions[0]}}_getNewHirePacketData(){return{arriveByTime:this.selectedArrivalTime[0],contactEmployeeId:this.selectedContactOptions[0],employeeId:this.employeeId,nhpTemplateId:this.nhpTemplateId,location:this.location,otherInstructions:this.otherInstructions,sendGetToKnowYouEmail:this.sendGetToKnowYouEmail,showPayrollState:this.showPayrollState,showPayrollFederal:this.showPayrollFederal,showPayrollDirectDeposit:this.showPayrollDirectDeposit}}_getNewHirePacketSaveData(){const e=this.assignQuestionSortOrderByIndex();const t=this._getEmployeeData();const a=this._getNewHirePacketData();return{employee:t,newHirePacket:a,questionsAndAnswers:e,recipientTypes:this.gtkyRecipients}}getFormData(){return{newHirePacketData:this._getNewHirePacketSaveData(),newHirePacketTasks:this.packetTasks,notApplicableToEmployee:this.otherTasks}}updateData(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;super.updateData(e,t);const a=e.hireDate&&e.hireDate!=this.hireDate;const s=e.selectedManagerOptions&&e.selectedManagerOptions[0]!=this?.selectedManagerOptions[0];if(!t){(0,m.Zd)()}if(a||s){document.dispatchEvent(new Event("nhpForm:formUpdate"))}}}class v extends f{static get className(){return"NHPTemplateFormData"}getFormData(){const e=this.assignQuestionSortOrderByIndex();return{arriveByTime:this.selectedArrivalTime[0],contactEmployeeId:this.selectedContactOptions[0],id:this.id,location:this.location,name:this.name,otherInstructions:this.otherInstructions,gtkyQuestions:e,gtkyRecipients:this.gtkyRecipients,sendGetToKnowYouEmail:this.sendGetToKnowYouEmail===true||this.sendGetToKnowYouEmail==="yes"}}getPacketFormData(){const e=this.getFormData();const t=this.hireDate?(0,l.Z)(this.hireDate).format("YYYY-MM-DD"):"";return{...e,hireDate:t,managerId:this.selectedManagerOptions[0]}}}let y=function(e){e["PACKET"]="NEW_HIRE_PACKET";e["TEMPLATE"]="NHP_Template";return e}({});function b(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:y.TEMPLATE;let t=arguments.length>1?arguments[1]:undefined;switch(e){case y.PACKET:return new g(t);case y.TEMPLATE:default:return new v(t)}}var $=a(26570);let w=b(y.TEMPLATE,{});let S=[];let C=null;function x(e,t,a){o().get(`/onboarding/nhp/gtky_email_preview/${e}`).then((n=>{if(n){const{data:i,status:o}=n;if(o===200){const{body:n=""}=i;const o=(0,s.Z)(c.Z,{imageAlt:"Image of employee",imageSrc:`/employees/photos/?id=${e}`,isModalHeader:false,theme:"newHire",title:t.fullName},void 0,(0,s.Z)(d.V,{jobTitle:t.jobTitle,location:t.jobLocation}));(0,r.K4)((0,s.Z)(u.c,{body:n,employeeBadgeComponent:o,employeeData:t,getToKnowYouQuestions:a,isOpen:true,primaryAction:r.Mr,showQuestionsPlaceholder:false}))}else{window.setMessage($.__("An error has occurred while getting the preview, please try again later"),"error")}}}));return false}function T(){const e=[];const t="HH:mm:ss";const a=(0,l.Z)("00:00:00",t);const s=a.unix();const n=s+60*60*24;let i=s;while(i<n){const a=l.Z.unix(i,"HH:mm:ss");e.push({text:a.format("LT"),value:a.format(t)});i+=60*15}return e}function E(e){w=b(y.TEMPLATE,e)}function k(e){w=b(y.PACKET,e)}function Z(e){w.updateData(e,true)}function F(e){w.updateData(e)}function I(){return w.getFormData()}function N(){return S}function A(){return C}function M(){document.dispatchEvent(new CustomEvent("SiteFooter:close"))}function D(e){S=e}function P(e){C=e}function L(){document.dispatchEvent(new CustomEvent("SiteFooter:open"))}},19307:(e,t,a)=>{"use strict";a.d(t,{k:()=>g});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(4408);var r=a(70729);var l=a(91002);var c=a(79099);var d=a(74189);var u=a(65197);var h=a(65431);var p=a(84417);const m=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({contactInfo:{marginTop:"20px",display:"flex",flexGrow:1,lineHeight:a.fabricLineHeight("small")},contactImgWrapper:{marginRight:"20px"},contactImg:{borderRadius:"100%",width:"86px",height:"86px"},contactHead:{fontSize:a.fabricFontSize("biggie"),lineHeight:a.fabricLineHeight("biggie"),fontWeight:a.fontWeightMedium},contactSub:{fontSize:a.fabricFontSize("small"),lineHeight:a.fabricLineHeight("small"),color:t.gray[700]},contactPronoun:{fontSize:a.fabricFontSize("small"),color:t.gray[700]},socials:{marginTop:"10px",display:"flex",alignItems:"center","& a":{fill:t.grey[500],marginRight:"10px","&:hover":{fill:t.primary.main}}}})}));const f={Aol:(0,s.Z)(o.Z,{}),Facebook:(0,s.Z)(r.Z,{}),Instagram:(0,s.Z)(l.Z,{}),LinkedIn:(0,s.Z)(c.Z,{}),Pinterest:(0,s.Z)(d.Z,{}),Skype:(0,s.Z)(u.Z,{}),Twitter:(0,s.Z)(h.Z,{})};function g(e){const{employee:t={}}=e;const{email:a,extension:n,firstName:i,lastName:o,phone:r,position:l,profileImageSrc:c,pronounsLabel:d,socials:u}=t;const h=m();return(0,s.Z)("div",{className:h.contactInfo},void 0,(0,s.Z)("div",{className:h.contactImgWrapper},void 0,(0,s.Z)("img",{alt:`${i} ${o}`,className:h.contactImg,src:c})),(0,s.Z)("div",{},void 0,(0,s.Z)("p",{className:h.contactHead},void 0,i," ",o,d&&(0,s.Z)("span",{className:h.contactPronoun},void 0," (",d,")")),(0,s.Z)("p",{className:h.contactSub},void 0,l),(0,s.Z)("p",{className:h.contactSub},void 0,r," ",n&&(0,s.Z)("span",{},void 0,"ext. ",n)),a&&(0,s.Z)("a",{href:`mailto:${a}`,rel:"noopener noreferrer",target:"_blank"},void 0,a),(a||u)&&(0,s.Z)("div",{className:h.socials},void 0,a&&(0,s.Z)("a",{href:`mailto:${a}`,rel:"noopener noreferrer",target:"_blank"},void 0,(0,s.Z)(p.Z,{})),u&&u.map((e=>(0,s.Z)("a",{href:e.href,rel:"noopener noreferrer",target:"_blank"},e.type,f[e.type]))))))}},32720:(e,t,a)=>{"use strict";a.d(t,{q:()=>d});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(37194);var r=a(59155);const l=(0,r.makeStyles)((e=>{let{palette:t,typography:a}=e;const s=(0,r.getTheme)("lime1");return(0,r.createStyles)({finishedPage:{margin:"0",paddingTop:"29px","& h2":{fontWeight:a.fontWeightMedium}},headerTitle:{fontWeight:a.fontWeightMedium,textAlign:"center",fontSize:"32px"},headerDesc:{fontSize:a.fabricFontSize("biggie"),textAlign:"center",color:t.grey[700]},headerDivider:{marginTop:"45px",marginBottom:"35px"},divider:{margin:"35px 0",height:"1px",borderColor:t.grey[300]},membersWrapper:{margin:"60px 0"},members:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))"},footer:{background:t.grey[100],margin:"0 -170px",padding:"45px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:"5px 0"}},bamboohrLogo:{fill:s.palette.primary.lighter},footerText:{color:t.grey[800],fontSize:a.fabricFontSize("medium")},footerDisclaimer:{color:t.grey[600],fontSize:a.fabricFontSize("small")}})}));var c=a(19307);var $=a(26570);function d(e){const{employeeName:t,companyName:a,children:n,team:d,isNHPTemplate:u=false}=e;const{manager:h,members:p=[]}=d;const m=l();const f=`${window.location.protocol}//${window.location.hostname}`;return i().createElement(i().Fragment,null,(0,s.Z)(r.Card,{hasBottomGradient:false,size:r.CardSize.FULL},void 0,(0,s.Z)(r.CardContent,{},void 0,(0,s.Z)("div",{className:m.finishedPage},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h1",{className:m.headerTitle},void 0,(0,s.Z)(o.Message,{params:[t],text:$._(`{1}, You're All Ready To Go.`)})),(0,s.Z)("p",{className:m.headerDesc},void 0,(0,s.Z)(o.Message,{params:[a],text:$._(`We're looking forward to having you here at {1}.`)})),(0,s.Z)("hr",{className:m.headerDivider})),n,(p?.length>0||h)&&(0,s.Z)("div",{},void 0,(0,s.Z)("hr",{className:m.divider}),(0,s.Z)("h2",{},void 0,$._("Get to Know the Team")),h&&i().createElement(i().Fragment,null,(0,s.Z)("h4",{},void 0,"Your Manager"),(0,s.Z)(c.k,{employee:h})),p&&p.length>0&&(0,s.Z)("div",{className:m.membersWrapper},void 0,(0,s.Z)("h4",{},void 0,"Your Team"),(0,s.Z)("div",{className:m.members},void 0,p.map((e=>(0,s.Z)(c.k,{employee:e},`${e.firstName}_${e.lastName}`))))))))),!u&&(0,s.Z)("div",{className:m.footer},void 0,(0,s.Z)("div",{className:m.bamboohrLogo},void 0,(0,s.Z)(r.Icon,{name:"fab-bamboohr-logo-255x38"})),(0,s.Z)("h3",{},void 0,(0,s.Z)(o.Message,{params:[a],text:$.__(`{1} uses BambooHR`)})),(0,s.Z)("p",{className:m.footerText},void 0,(0,s.Z)(o.Message,{text:$.__(`You can access your company's HR site at:`)})),(0,s.Z)("a",{href:"#",rel:"noopener noreferrer",target:"_blank"},void 0,f),(0,s.Z)("p",{className:m.footerDisclaimer},void 0,(0,s.Z)(o.Message,{text:$.__(`(You may want to bookmark this baby.)`)}))))}},27460:(e,t,a)=>{"use strict";a.d(t,{I:()=>l});var s=a(89835);var n=a(23321);var i=a(37194);var o=a(59155);const r=(0,o.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,o.createStyles)({headerTitle:{fontWeight:a.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:a.fabricFontSize("biggie"),color:t.grey[700]},divider:{margin:"35px 0"},inputs:{padding:"0 15px",display:"flex",flexDirection:"column"},question:{display:"flex",flexDirection:"column",marginTop:"15px"},questionInput:{maxHeight:"60px",maxWidth:"430px"}})}));var $=a(26570);function l(e){const t=r();const{gtkyQuestions:a=[]}=e;const n=a.map(((e,a)=>(0,s.Z)("div",{className:t.question},e.sortOrder,(0,s.Z)("label",{className:`fab-Label ${e.required?"fab-Label--required":""}`,htmlFor:`question-${a}`},void 0,e.question),(0,s.Z)("textarea",{className:"fab-Textarea fab-Textarea--width10",defaultValue:e.employeeResponse??"",disabled:true,id:`question-${a}`}))));return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h2",{className:t.headerTitle},void 0,(0,s.Z)(i.Message,{text:$._("Get Introduced to The Team")})),(0,s.Z)("p",{className:t.headerDesc},void 0,(0,s.Z)(i.Message,{text:$._(`You're almost done, but first we'd like to get to know a bit more about you so we can introduce you to the rest of the team. `)}),(0,s.Z)(i.Message,{text:$._(`Please answer the following questions and we'll send out a quick introduction email to the people you'll be working with.`)}))),(0,s.Z)("hr",{className:t.divider}),(0,s.Z)("h3",{},void 0,(0,s.Z)(i.Message,{text:$._("Tell us a little about yourself:")})),(0,s.Z)("div",{className:t.inputs},void 0,n))}},3203:(e,t,a)=>{"use strict";a.d(t,{L:()=>h});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(37194);var l=a(26297);var c=a(60042);var d=a.n(c);var $=a(26570);const u=(0,o.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,o.createStyles)({headerTitle:{fontSize:"32px",fontWeight:a.fontWeightRegular},headerDesc:{fontSize:a.fabricFontSize("biggie"),color:t.grey[700]},divider:{margin:"35px 0"},blankStateDivider:{margin:"35px 0 70px"},blankStateOverride:{marginBottom:"88px","& p":{maxWidth:"none"}},employeePhoto:{position:"absolute",right:"70px",marginTop:"33px",zIndex:1},employeePhotoText:{fontSize:a.fabricFontSize("teenie"),fabColor:t.grey[700],lineHeight:"20px"},hidden:{display:"none"}})}));function h(e){const t=u();const{data:a,isNHPT:c,photoRequired:h=false,photoURL:p="",previewMode:m=true,showPhoto:f=true,employeeId:g=-1,showPayrollFederal:v=false,showPayrollState:y=false}=e;let b="/images/photo_person_150x150.png";let w=false;if(!p.includes("initials")){b=p;w=true}(0,n.useEffect)((()=>{$(".employeeForm .required").removeClass("required").addClass("visuallyRequired");$(".employeeForm span.inputIcons").addClass("disabled");$(".employeeForm .bhrToggle--btn").addClass("bhrToggle--btn--disabled");$(".employeeForm .fab-SelectToggle").addClass("fab-SelectToggle--disabled");setTimeout((function(){$(".employeeForm .fab-Label, .AdditionalWithholding .fab-FormField").addClass("fab-Label--disabled")}));$(".employeeForm .BhrTable__header--section").removeClass("BhrTable__header--section");$(".employeeForm").find("input, button, ba-select").addClass("disabled").attr("disabled",true)}));const S=d()(t.employeePhoto,"js-fieldBox",{"required requiredWhenVisible visuallyRequired":h});const C=d()("fab-Label",{"fab-Label--required requiredWhenVisible visuallyRequired":h});function x(){if(m){window.disabledForPermsTest()}}return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h2",{className:t.headerTitle},void 0,(0,s.Z)(r.Message,{text:$._("New Employee Information")})),(0,s.Z)("p",{className:t.headerDesc},void 0,(0,s.Z)(r.Message,{text:$._(`Let's start with the basics. `)}),(0,s.Z)(r.Message,{text:$._(`Please complete the following new employee form and add your profile photo. `)}),(0,s.Z)(r.Message,{text:$._(`This will ensure we have the most up-to-date information. `)}),(0,s.Z)(r.Message,{text:$._(`It will also help us get you up and running quickly with the required paperwork. `)})),(0,s.Z)("hr",{className:t.divider}),c&&(0,s.Z)("div",{className:"NewEmployeeInfoBlankStateWrapper"},void 0,(0,s.Z)("div",{className:t.blankStateOverride},void 0,(0,s.Z)(o.BlankState,{icon:"fab-person-index-card-120x92",subtitle:$.__("You’ll be able to preview this step, along with the actual fields, when sending the actual New Hire Packet."),title:$.__(`Because this is just the template, we can’t show an accurate preview of this step.`)}))),!c&&i().createElement(i().Fragment,null,f&&(0,s.Z)("div",{className:S},void 0,(0,s.Z)("label",{className:C,htmlFor:"photo"},void 0,$.__("Profile Photo")),(0,s.Z)("input",{id:"photo",name:"photo",type:"hidden",value:w===true?1:undefined}),(0,s.Z)("div",{className:"Photo childHover",id:"employeePhoto",onClick:x},void 0,(0,s.Z)("img",{className:"Avatar Photo__image",src:b}),(0,s.Z)("div",{className:"Photo__image-plus phoneHide"},void 0,(0,s.Z)("ba-icon",{name:"fab-circle-plus-34x34"})),(0,s.Z)("div",{className:`Photo__image-overlay ${w?t.hidden:""}`},void 0,(0,s.Z)(r.Message,{text:$._("Add\nPhoto")})))),(0,s.Z)("div",{className:"employeeForm"},void 0,(0,s.Z)(l.F3,{additionalOptions:{employeeId:g,isNHPPacket:true,showPayrollFederal:v,showPayrollState:y},data:a,isAddEmployeeForm:false})))))}},34866:(e,t,a)=>{"use strict";a.d(t,{M:()=>w});var s=a(89835);var n=a(44119);var i=a(23321);var o=a(59155);var r=a(97106);var $=a(26570);const l=(0,o.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,o.createStyles)({footer:{display:"flex",maxWidth:"1348px",alignItems:"center",justifyContent:"center",width:"100%",margin:"auto"},buttonsWrapper:{display:"flex"},brand:{marginLeft:"auto"}})}));function c(e){const{totalPages:t,currentPage:a,nextPageAction:n,previousPageAction:c}=e;const d=l();const u=a<t-1?(0,s.Z)(o.Button,{clickAction:()=>{n(a+1)},size:"biggie",type:"button"},void 0,$.__("Continue")," »"):null;const h=a>0?(0,s.Z)(o.TextButton,{clickAction:()=>{c(a-1)},size:"biggie"},void 0,$.__("Previous Step")):null;const p=99;const m=8;const[f,g]=(0,i.useState)(p);const v=document.querySelector("#fabricModalContent .fab-Card")?.getBoundingClientRect()?.height;(0,i.useEffect)((()=>{const e=document.querySelector("#fabricModalContent .fab-Card")?.getBoundingClientRect();if(e){const t=window.innerHeight-p;const a=e.bottom<t?t-e.bottom+p+m:null;if(f!==a){g(a)}}}),[f,v,a]);const y=a<t-1;return(0,s.Z)("div",{className:"js-PreviewerActionFooter",style:{height:y?f:0}},void 0,y&&(0,s.Z)(o.FullScreenModal.Footer,{},void 0,(0,s.Z)("div",{className:d.footer},void 0,(0,s.Z)("div",{className:d.buttonsWrapper},void 0,u,h),(0,s.Z)("div",{className:d.brand},void 0,(0,s.Z)(r.O,{fabricColorName:"gray9",iconName:"fab-bamboohr-logo-113x18"})))))}var d=a(4289);var u=a(47380);let h=function(e){e["PHONE"]="@media screen and (max-width: 767px)";e["PHONE_PORTRAIT"]="@media screen and (orientation: portrait) and (max-width: 654px)";e["TABLET"]="@media screen and (max-width: 1124px)";e["COMPUTER"]="@media screen and (min-width: 1124px)";return e}({});const p=(0,o.makeStyles)((e=>{let{palette:t,typography:a}=e;const{COMPUTER:s,TABLET:n}=h;return(0,o.createStyles)({navWrapper:{[n]:{height:"0"}},nav:{padding:"15px 20px",width:"100%",maxWidth:"1348px",display:"flex",justifyContent:"space-around",[n]:{display:"flex",justifyContent:"end",maxWidth:"100%",padding:"0",paddingRight:"30px",width:"10%",minWidth:"300px"}},navContainer:{background:t.gray[900],display:"flex",justifyContent:"center",paddingLeft:"3%",[n]:{background:"transparent",justifyContent:"end",position:"relative",height:"auto",minWidth:0,top:"-20px",zIndex:"2","&:before":{top:"20px"}}},navItem:{position:"relative",display:"inline",fontSize:a.fabricFontSize("biggie"),fontWeight:a.fontWeightRegular,color:t.gray[600],marginRight:"85px",[n]:{float:"none",marginLeft:"40px",marginRight:"0",padding:"0",height:"40px",width:"auto"}},navItemActive:{color:t.gray[100],fontWeight:a.fontWeightHeavy,[s]:{"&::before":{position:"absolute",content:'""',width:0,height:0,top:"44px",left:"50%",borderLeft:"20px solid transparent",borderRight:"20px solid transparent",borderTop:`20px solid ${t.gray[900]}`}}},navNumber:{display:"inline-block",borderRadius:"50%",width:"25px",height:"25px",padding:"2px",background:t.gray[600],color:t.gray[900],textAlign:"center",fontSize:a.fabricFontSize("large"),fontWeight:a.fontWeightRegular,[n]:{color:t.gray[900],backgroundColor:t.gray[300],border:`3px solid white`,display:"flex",width:"27px",height:"27px",alignItems:"center",justifyContent:"center"}},navName:{paddingLeft:"10px",display:"inline-block",[n]:{display:"none"}},navNumberActive:{background:t.gray[100],fontWeight:a.fontWeightHeavy,lineHeight:a.fabricLineHeight("large"),[n]:{backgroundColor:t.primary.main,color:"white"}},navSpacer:{flex:2}})}));function m(e){const{pageNames:t,currentPage:a}=e;const n=p();const i=[];t.forEach(((e,o)=>{const r=(0,s.Z)("li",{className:`${n.navItem} ${a===o?n.navItemActive:null}`},e,(0,s.Z)("div",{className:`${n.navNumber} ${a===o?n.navNumberActive:null}`},void 0,o+1),(0,s.Z)("div",{className:n.navName},void 0,e));if(o<t.length-1){i.push(r)}}));return(0,s.Z)("div",{className:`NavigationWrapper ${n.navWrapper}`},void 0,(0,s.Z)("div",{className:`NHPStepsContainer ${n.navContainer}`},void 0,(0,s.Z)("ul",{className:n.nav},void 0,i,(0,s.Z)("li",{className:n.navSpacer}))))}const f=e=>{let{palette:t,typography:a}=e;return(0,o.createStyles)({containerWrapper:{display:"flex",justifyContent:"center","& .fab-Card":{}},logoContainer:{maxWidth:"1328px",width:"100%",display:"flex"},contentSpacer:{paddingLeft:"20px"},container:{maxWidth:"1348px",flex:1},header:{position:"relative",margin:"-32px  -16px 0 -16px",backgroundColor:t.grey[100],zIndex:100},subHeader:{display:"flex",alignItems:"center",borderBottom:`4px solid ${t.primary.main}`,justifyContent:"center",padding:"13px 0"},spacer:{flexGrow:2},baseFooter:{margin:"0 -16px",backgroundColor:"white","&--templatePreviewer":{marginTop:"-25px",position:"relative",zIndex:2}},baseFooterContent:{padding:"0 32px 25px 32px",marginBottom:"-25px",color:t.grey[600],display:"flex",fontSize:a.fabricFontSize("teenie"),"& span":{width:"auto"},"& a":{textDecoration:"none",color:t.grey[600],"&:hover":{color:t.primary.main}}},baseFooterLogo:{width:"auto",marginLeft:"auto",fill:t.grey[700],"&:hover":{cursor:"finger",fill:t.grey[800]}},footerDivider:{margin:"25px 0",height:"1px",borderColor:t.grey[300]},previewerContent:{display:"inline","& #fabricModalContent > div":{backgroundColor:t.grey[100]}}})};var g=a(26570);const v="https://www.bamboohr.com/privacy-policy";const y="https://www.bamboohr.com/terms-of-service";class b extends i.PureComponent{static get className(){return"PreviewerComponent"}constructor(e){super(e);(0,n.Z)(this,"pages",void 0);(0,n.Z)(this,"currentPage",void 0);const{loading:t=true,modalState:a,headerName:s,whenAndWhereComponent:i,newEmployeeInfoComponent:o,getIntroducedComponent:r,tasksComponent:l,finishedComponent:c,showGetIntroduced:d,showTasks:u}=e;this.pages=this._populatePages({whenAndWhereComponent:i,newEmployeeInfoComponent:o,getIntroducedComponent:r,showGetIntroduced:d,tasksComponent:l,showTasks:u,finishedComponent:c});let h=0;this.pages.forEach(((e,t)=>{e.index=t;if(location.hash.includes(e.route)){h=t}}));this.state={loading:t,modalState:a,currentPage:h,headerName:s};this._onRequestClose=this._onRequestClose.bind(this);this._nextPage=this._nextPage.bind(this);this._prevPage=this._prevPage.bind(this);this._changePage=this._changePage.bind(this);this._getPageNames=this._getPageNames.bind(this);this._resetPreview=this._resetPreview.bind(this)}_populatePages(e){const t=[];const{whenAndWhereComponent:a,newEmployeeInfoComponent:s,getIntroducedComponent:n,showGetIntroduced:i,tasksComponent:o,showTasks:r,finishedComponent:l}=e;if(a){t.push({name:g.__("When & Where"),route:"when_and_where"})}if(s){t.push({name:g.__("New Employee Info"),route:"new_employee_info"})}if(n&&i){t.push({name:g.__("Get Introduced"),route:"get_introduced"})}if(o&&r){t.push({name:g.__("Tasks to Complete"),route:"tasks_to_complete"})}if(l){t.push({name:g.__("Finished"),route:"finished"})}return t}_onRequestClose(){this.setState({modalState:false,loading:true,currentPage:0});window.previewUser=null;const{history:e}=this.props;e.replace({hash:"",search:window.location.search})}_resetPreview(){window.ASSUMED_USER=undefined;this.setState({currentPage:0})}_nextPage(){let{currentPage:e}=this.state;this._changePage(++e)}_prevPage(){let{currentPage:e}=this.state;this._changePage(--e)}_changePage(e){if(e>-1&&e<this.pages.length){this.setState({currentPage:e});const{history:t}=this.props;t.push({hash:`preview/${this.pages[e].route}`,search:window.location.search})}}_getPageNames(){return this.pages.map((e=>e.name.replace(/([A-Z])/g," $1").trim()))}componentDidUpdate(e){const{whenAndWhereComponent:t,newEmployeeInfoComponent:a,getIntroducedComponent:s,showGetIntroduced:n,tasksComponent:i,showTasks:o,finishedComponent:r}=this.props;this.pages=this._populatePages({whenAndWhereComponent:t,newEmployeeInfoComponent:a,getIntroducedComponent:s,showGetIntroduced:n,tasksComponent:i,showTasks:o,finishedComponent:r});let l=0;this.pages.forEach(((e,t)=>{e.index=t;if(location.hash.includes(e.route)){l=t}}));const{modalState:c,loading:d}=e;const{modalState:u,loading:h}=this.props;let p=c;let m=d;if(u!==c){p=u}if(h!==d){m=h}window.ASSUMED_USER=p?1:undefined;this.setState({loading:m,modalState:p,currentPage:l})}render(){const{classes:e,isNHPT:t=false,logo:a,whenAndWhereComponent:n,newEmployeeInfoComponent:i,getIntroducedComponent:r,tasksComponent:l,finishedComponent:h,headerAction:p,renderHeader:f}=this.props;const{modalState:g,currentPage:b,loading:w=false}=this.state;const S={closeModal:this._onRequestClose,headerAction:p};const C=f(S);const x=(0,s.Z)(c,{currentPage:b,nextPageAction:this._nextPage,previousPageAction:this._prevPage,totalPages:this.pages.length});return(0,s.Z)(o.FullScreenModal,{isLoading:w,isOpen:g,onCloseComplete:this._resetPreview,onOpenComplete:()=>{window.previewUser=true;window.closeMessage();const e=document.getElementById("fabricModalContent");if(e){e.classList.add("Previewer")}},onRequestClose:this._onRequestClose},void 0,(0,s.Z)("div",{className:e.previewerContent},void 0,(0,s.Z)(o.FullScreenModal.Body,{renderFooter:x,renderHeader:C},void 0,(0,s.Z)(o.FullScreenModal.Constraint,{spacingOverrides:{bottom:o.FullScreenModal.Constraint.Spacing.NONE,left:o.FullScreenModal.Constraint.Spacing.NONE,right:o.FullScreenModal.Constraint.Spacing.NONE}},void 0,(0,s.Z)("div",{className:`LogoWrapper ${e.header}`},void 0,(0,s.Z)("div",{className:e.subHeader},void 0,(0,s.Z)("div",{className:`${e.logoContainer} ${e.contentSpacer}`},void 0,(0,s.Z)("img",{alt:a.alt,className:a.classes,src:a.logoSrc,style:{maxHeight:"60px",maxWidth:"300px",height:"auto",width:`${a.width}px`}}),(0,s.Z)("div",{className:e.spacer},void 0," "))),!location.hash.includes("finished")&&(0,s.Z)(m,{currentPage:b,pageNames:this._getPageNames()})),(0,s.Z)("div",{className:`MainPreviewerBody ${e.containerWrapper}`},void 0,(0,s.Z)("div",{className:e.container},void 0,(0,s.Z)(d.HashRouter,{basename:"/preview",hashType:"noslash"},`${b}_${w}`,(0,s.Z)(u.rs,{},void 0,(0,s.Z)(u.AW,{path:"/when_and_where*"},void 0,(0,s.Z)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,s.Z)(o.CardContent,{},void 0,(0,s.Z)("div",{className:e.contentSpacer},void 0,n)))),(0,s.Z)(u.AW,{path:"/new_employee_info*"},void 0,(0,s.Z)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,s.Z)(o.CardContent,{},void 0,(0,s.Z)("div",{className:e.contentSpacer},void 0,i)))),(0,s.Z)(u.AW,{path:"/get_introduced*"},void 0,(0,s.Z)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,s.Z)(o.CardContent,{},void 0,(0,s.Z)("div",{className:e.contentSpacer},void 0,r)))),(0,s.Z)(u.AW,{path:"/tasks_to_complete*"},void 0,(0,s.Z)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,s.Z)(o.CardContent,{},void 0,(0,s.Z)("div",{className:e.contentSpacer},void 0,l)))),(0,s.Z)(u.AW,{path:"/finished*"},void 0,h),(0,s.Z)(u.AW,{},void 0,(0,s.Z)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,s.Z)(o.CardContent,{},void 0,(0,s.Z)("div",{className:e.contentSpacer},void 0,n)))))))),b===this.pages.length-1&&(0,s.Z)("div",{className:`BasicPreviewerFooter ${e.baseFooter} ${e.baseFooter}${t?"--templatePreviewer":""}`},void 0,(0,s.Z)("hr",{className:e.footerDivider}),(0,s.Z)("div",{className:e.baseFooterContent},void 0,(0,s.Z)("span",{},void 0,(0,s.Z)("a",{href:v,rel:"noopener noreferrer",target:"_blank"},void 0,"Privacy Policy")," · ",(0,s.Z)("a",{href:y,rel:"noopener noreferrer",target:"_blank"},void 0,"Terms of Service")," · ©2008–2020 BambooHR All rights reserved."),(0,s.Z)("div",{className:e.baseFooterLogo},void 0,(0,s.Z)("a",{href:"https://www.bamboohr.com",rel:"noopener external nofollow noreferrer",target:"_blank"},void 0,(0,s.Z)(o.Icon,{name:"fab-bamboohr-logo-115x17"})))))))))}}const w=(0,u.EN)((0,o.withStyles)(f)(b))},56376:(e,t,a)=>{"use strict";a.d(t,{e:()=>l});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);const r=(0,o.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,o.createStyles)({mainHeader:{backgroundColor:t.grey[1e3],padding:"26px 50px",display:"flex",alignItems:"center"},headerIcon:{width:"auto",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},headerTitles:{width:"auto",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"stretch",paddingLeft:"15px"},title:{flexGrow:1,display:"flex",flexDirection:"column","& h1":{color:"white",fontWeight:a.fontWeightSemibold,fontSize:"40px",marginTop:"5px"}},subTitle:{flexGrow:1,fontSize:a.fabricFontSize("small"),display:"flex",flexDirection:"column",color:t.grey[600],"& p":{position:"relative",top:"5px"},"&__email":{}},buttons:{width:"auto",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"}})}));function l(e){const{closeModal:t,name:a="",imageJsx:n,email:o="",subtitle:l,headerAction:c,renderActionButtons:d=(e=>null)}=e;const u=r();const h=()=>{c();t()};return(0,s.Z)("div",{className:"PreviewerHeader"},void 0,(0,s.Z)("div",{className:u.mainHeader},void 0,i().createElement(i().Fragment,null,(0,s.Z)("div",{className:u.headerIcon},void 0,n),(0,s.Z)("div",{className:u.headerTitles},void 0,(0,s.Z)("div",{className:u.subTitle},void 0,(0,s.Z)("p",{},void 0,l)),(0,s.Z)("div",{className:u.title},void 0,(0,s.Z)("h1",{},void 0,a)),o&&(0,s.Z)("div",{className:`${u.subTitle} ${u.subTitle}__email`},void 0,(0,s.Z)("p",{},void 0,o)))),(0,s.Z)("div",{className:u.buttons},void 0,d([t,h]))))}},21845:(e,t,a)=>{"use strict";a.d(t,{h:()=>u});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(37194);var r=a(58552);const l=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({task:{padding:"20px 22px",paddingBottom:"36px",display:"flex"},taskIndex:{display:"flex",paddingTop:"24px"},taskNumber:{paddingLeft:"10px",margin:"0",color:t.grey[600]},taskInfo:{paddingLeft:"20px"},taskTitle:{paddingTop:"22px",margin:"0"},taskDescription:{color:t.grey[700],marginTop:"5px",marginBottom:"10px",fontSize:a.fabricFontSize("small")}})}));function c(e){const t=l();const{task:a,index:n}=e;const{files:o}=a;const c=Object.keys(o).map((e=>o[e]));return(0,s.Z)("div",{className:t.task},void 0,(0,s.Z)("div",{className:t.taskIndex},void 0,(0,s.Z)(i.Checkbox,{checked:a.completed,disabled:true,onChange:null,size:"biggie",value:""}),(0,s.Z)("h4",{className:t.taskNumber},void 0,n+1,".")),(0,s.Z)("div",{className:t.taskInfo},void 0,(0,s.Z)("h3",{className:t.taskTitle},void 0,a.name),(0,s.Z)("p",{className:t.taskDescription},void 0,a.description),c.length>0&&(0,s.Z)(r.r,{files:c,view:"display"})))}var $=a(26570);const d=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({headerTitle:{fontWeight:a.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:a.fabricFontSize("biggie"),color:t.grey[700]},divider:{margin:"35px 0"},blankStateDivider:{margin:"35px 0 70px"},blankStateOverride:{marginBottom:"88px","& p":{maxWidth:"none"}},tasksWrapper:{backgroundColor:t.grey[100],borderRadius:"3px",border:`1px solid ${t.grey[300]}`,padding:"10px"},progress:{display:"flex",alignItems:"center"},progressBarBorder:{height:"15px",backgroundColor:t.grey[300],borderRadius:"10px",width:"100px"},progressBar:{backgroundColor:t.primary.main},progressText:{color:t.grey[600]},taskList:{marginTop:"10px",border:`1px solid ${t.grey[300]}`,borderTop:`3px solid ${t.primary.main}`,backgroundColor:t.background.default,"& > div":{"&:not(:last-child)":{borderBottom:`1px solid ${t.grey[300]}`}}}})}));function u(e){const t=d();const{isNHPT:a,tasks:r}=e;let l=0;const[u,h]=(0,n.useState)(l);(0,n.useEffect)((()=>h(l)));function p(){r.sort(((e,t)=>+e.nhpSortOrder-+t.nhpSortOrder));return r.map(((e,t)=>{if(e.completed)l++;return(0,s.Z)(c,{index:t,task:e},t)}))}return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h2",{className:t.headerTitle},void 0,(0,s.Z)(o.Message,{text:$._("Tasks to Complete")})),(0,s.Z)("p",{className:t.headerDesc},void 0,(0,s.Z)(o.Message,{text:$._(`We want to make sure that you are ready to go on your first day. Please complete the tasks below so we can get you up and running quickly.`)})),(0,s.Z)("hr",{className:t.divider}),a&&(0,s.Z)("div",{className:"TasksBlankStateWrapper"},void 0,(0,s.Z)("div",{className:t.blankStateOverride},void 0,(0,s.Z)(i.BlankState,{icon:"fab-clipboard-outlined-100x120",subtitle:$.__("You’ll be able to preview this step on the actual New Hire Packet after tasks are added."),title:$.__(`Because this is just the template, there aren’t any tasks to preview.`)}))),!a&&(0,s.Z)("div",{className:t.tasksWrapper},void 0,(0,s.Z)("div",{className:t.progress},void 0,(0,s.Z)("div",{className:"ProgressBar ProgressBar--tasklist fl-left"},void 0,(0,s.Z)("div",{className:"ProgressBar__bar ProgressBar__bar--tasklist branded-icon baseColorBg",style:{width:`${u/r.length*100}%`}})),(0,s.Z)("h5",{className:t.progressText},void 0,u," of ",r.length," Completed")),(0,s.Z)("div",{className:t.taskList},void 0,p()))))}},84313:(e,t,a)=>{"use strict";a.d(t,{E:()=>h});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(37194);const r=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({contactContainer:{marginBottom:"30px"},header:{},headerTitle:{fontWeight:a.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:a.fabricFontSize("biggie"),color:t.grey[700]},divider:{margin:"35px 0"},boxContent:{display:"flex","& h2":{fontWeight:a.fontWeightMedium}},leftContent:{flex:"50%"},firstDayList:{listStyle:"none",margin:"0",padding:0,"& li":{display:"flex",fontSize:a.fabricFontSize("biggie"),alignItems:"center",marginTop:"20px",flexWrap:"wrap",flexDirection:"row","& div":{display:"flex","& .spacer":{flex:"row",marginLeft:"10px"}}}},firstDayIcon:{width:"24px",display:"flex",alignItems:"center",justifyContent:"center"},directionsLink:{display:"flex",flexBasis:"100%",marginLeft:"36px","& a":{fill:t.info.main,color:t.info.main,"&:hover":{fill:t.info.dark,color:t.info.dark},"& span":{marginLeft:"5px"}}},firstDayIconLink:{marginRight:"5px"},rightContent:{flex:"50%"},contactInfo:{marginTop:"20px",display:"flex",lineHeight:a.fabricLineHeight("small")},contactImg:{marginRight:"20px"},contactHead:{fontSize:a.fabricFontSize("biggie"),fontWeight:a.fontWeightMedium},contactSub:{fontSize:a.fabricFontSize("small"),color:t.gray[700]},otherInstructions:{fontSize:a.fabricFontSize("large"),lineHeight:a.fabricLineHeight("large"),color:t.gray[700],"& p":{marginTop:"10px"}}})}));var l=a(19307);var c=a(51341);var $=a(26570);function d(e){const t=(0,c.Z)(e,[c.Z.ISO_8601,"hh:mm:ss"]).format("h:mm A");return t==="Invalid date"?null:t}function u(e){let t;const a=c.Z.defaultFormat;if(e){t=(0,c.Z)(e).format(a)}else{return undefined}return t==="Invalid date"?undefined:t}function h(e){const t=r();const{withHeader:a,firstDayDate:n,employeeName:h,companyName:p,contact:m,arriveByTime:f,location:g,otherInstructions:v}=e;const y=u(n);return(0,s.Z)("div",{},void 0,a&&(0,s.Z)("div",{className:t.header},void 0,(0,s.Z)("h2",{className:t.headerTitle},void 0,(0,s.Z)(o.Message,{params:[h],text:$._("Welcome Aboard, {1}!")})),(0,s.Z)("p",{className:t.headerDesc},void 0,(0,s.Z)(o.Message,{params:[p],text:$._(`We are excited that you are joining us here at {1}. We can't wait for you to start. We've included some helpful information and ask that you complete this new employee packet so you can hit the ground running on your first day. If you have any questions, please don't hesitate to ask.`)})),(0,s.Z)("hr",{className:t.divider})),(0,s.Z)("div",{className:t.boxContent},void 0,(0,s.Z)("div",{className:t.leftContent},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h2",{},void 0,$._("Your First Day")),(0,s.Z)("ul",{className:t.firstDayList},void 0,(0,s.Z)("li",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:t.firstDayIcon},void 0,(0,s.Z)(i.Icon,{brand:true,name:"fab-calendar-24x24"})),(0,s.Z)("span",{className:"spacer"},void 0,y||(0,c.Z)(Date.now()).add(14,"days").format(c.Z.defaultFormat)))),f&&(0,s.Z)("li",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:t.firstDayIcon},void 0,(0,s.Z)(i.Icon,{brand:true,name:"fab-clock-24x24"})),(0,s.Z)("span",{className:"spacer"},void 0,d(f)))),g&&(0,s.Z)("li",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:t.firstDayIcon},void 0,(0,s.Z)(i.Icon,{brand:true,name:"fab-location-18x24"})),(0,s.Z)("span",{className:"spacer"},void 0,g)),(0,s.Z)("div",{className:t.directionsLink},void 0,(0,s.Z)("a",{href:`https://maps.google.com/?q=${g}`,rel:"noopener noreferrer",target:"_blank"},void 0,(0,s.Z)(i.Icon,{name:"fab-compass-14x14"}),(0,s.Z)("span",{},void 0,"Map & Directions"))))))),(0,s.Z)("div",{className:t.rightContent},void 0,m&&(0,s.Z)("div",{className:t.contactContainer},void 0,(0,s.Z)("h2",{},void 0,$._("Who to Contact")),(0,s.Z)(l.k,{employee:m})),v&&(0,s.Z)("div",{className:t.otherInstructions},void 0,(0,s.Z)("h2",{},void 0,$._("Other Instructions")),v.split("\n").map(((e,t)=>(0,s.Z)("p",{},t,e)))))))}},83238:(e,t,a)=>{"use strict";a.d(t,{bX:()=>n,hK:()=>i,n$:()=>s});function s(e,t){return(e==="yes"||e===true)&&t.length>0&&(t[0].question.length>0||t.length>1)}function n(e,t){const a=Object.values(e);const s=a.map((e=>{delete e.count;return Object.values(e)}));const n=s.flat(1);n.forEach((e=>{if(e.fileIds.length>0){const a=Object.keys(e.files);a.forEach((a=>{e.files[a]=t[e.files[a].fileId]}))}}));return n}function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const t=[];e.map((e=>{if(e.question.trim().length>0){t.push(e)}return e}));return t}},38328:(e,t,a)=>{"use strict";a.d(t,{c:()=>l});var s=a(89835);var n=a(23321);var i=a(98675);var o=a(37194);var r=a(97106);var $=a(26570);class l extends n.PureComponent{static get className(){return"WelcomeEmailPreviewer"}_renderGTKYQuestions(e){const{employeeData:t,getToKnowYouQuestions:a=[]}=this.props;if(e){return(0,s.Z)("div",{className:"WelcomeEmailPreviewer__placeholderQuestion"},void 0,(0,s.Z)(r.O,{classes:"PlaceholderQuestion__icon",fabricColorName:"gray4",iconName:"fab-person-circle-question-36x36"}),(0,s.Z)("div",{className:"PlaceholderQuestion__text"},void 0,$.__("The “Get to Know You” questions and the employee responses will show in this space.")))}return(0,s.Z)("div",{className:"WelcomeEmailPreviewerQuestions"},void 0,(0,s.Z)("h4",{className:"WelcomeEmailPreviewerQuestions__title"},void 0,"Get to Know ",t.firstName),a.map(((e,t)=>(0,s.Z)("div",{},t,(0,s.Z)("div",{className:"WelcomeEmailPreviewerQuestions__question"},void 0,e),(0,s.Z)("div",{className:"WelcomeEmailPreviewerQuestions__answer"},void 0,"Employee's answer will go here.")))))}render(){const{body:e="",employeeBadgeComponent:t,employeeData:a,isOpen:n,primaryAction:l,showQuestionsPlaceholder:c=false}=this.props;const{fullName:d,firstName:u,jobTitle:h}=a;return(0,s.Z)(i.u_,{alternativeActionText:null,contentHasPadding:false,isOpen:n,onClose:l,primaryAction:l,primaryActionText:$.__("Close"),title:$.__("Preview of Get to Know You Email")},void 0,(0,s.Z)("div",{className:"WelcomeEmailPreviewer"},void 0,(0,s.Z)("div",{className:"WelcomeEmailPreviewer__emailHeader"},void 0,(0,s.Z)("div",{className:"EmailHeader__icon"},void 0,(0,s.Z)(r.O,{fabricColorName:"white",iconName:"fab-hi-64x64"})),(0,s.Z)("p",{className:"EmailHeader__title"},void 0,(0,s.Z)(o.Message,{params:[d],text:$._("Welcome {1}!")})),h!==""&&(0,s.Z)("p",{className:"EmailHeader__subTitle"},void 0,(0,s.Z)(o.Message,{params:[u,h],text:$._("{1} joins us today as {2}")})),(0,s.Z)("div",{className:"borderBar"})),t&&(0,s.Z)("div",{className:"WelcomeEmailPreviewer__badgeContainer"},void 0,t),(0,s.Z)("div",{className:"WelcomeEmailPreviewer__emailBody"},void 0,(0,s.Z)("div",{className:"WelcomeEmailPreviewer__emailBodyText"},void 0,e),(0,s.Z)("hr",{}),(0,s.Z)("div",{},void 0,this._renderGTKYQuestions(c)))))}}},31810:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>ie,rz:()=>X});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);var r=a(44119);var l=a(59155);var c=a(17145);var d=a(51341);var u=a(21198);var h=a(26136);function p(e,t,a){if(t<=0){return e}let s=1;let n=e.clone();while(s<=t){n.add(1,"days");const e=n.day();if(!(e===0||e===6||a.indexOf(n.format("YYYY-MM-DD"))>-1)){++s}}return n}var $=a(26570);const m=(0,d.Z)().startOf("day");const f=3;const g={NO_WEEKENDS:$.__("Pay days cannot be on a weekend"),THREE_DAYS_MINIMUM:$.__("Must be at least three business days from today"),BEFORE_END_DATE:$.__("Pay days cannot be before the period end date"),BANK_HOLIDAY:$.__("Pay days cannot be on a bank holiday")};class v extends n.Component{static get className(){return"ChangeDate"}constructor(e){super(e);(0,r.Z)(this,"_calculateDisabledDays",(()=>{const{payDate:e}=this.props;const{payPeriodEndDate:t}=e;const a=(0,d.Z)(t);const s=a.diff(this.threeBusinessDaysFromTodayDate,"days")<0?this.threeBusinessDaysFromTodayDate:a;return Array.from({length:s.diff(m,"days")}).map(((_,e)=>m.clone().add(e,"days").format("YYYY-MM-DD")))}));(0,r.Z)(this,"_createPickerSettings",(()=>{const{disableDays:e}=this.props;const{selectedDate:t}=this.state;return{start:t,min:m,max:m.clone().startOf("month").add(14,"months").endOf("month"),disableWeekends:true,disableDays:[...this._calculateDisabledDays(),...e]}}));(0,r.Z)(this,"_handleDateChange",(e=>{if(e===undefined){this.setState({selectedDate:e});return}this.setState({selectedDate:e,errorReason:this._isValidateDate(e)})}));(0,r.Z)(this,"_isValidateDate",(e=>{if(e===undefined){return"NOT_SET"}const{payDate:t,disableDays:a=[]}=this.props;const{payPeriodEndDate:s}=t;const n=(0,d.Z)(e);const i=n.day();if(i===0||i===6){return"NO_WEEKENDS"}if(n.diff(this.threeBusinessDaysFromTodayDate,"days")<0){return"THREE_DAYS_MINIMUM"}if(n.isBefore((0,d.Z)(s),"day")){return"BEFORE_END_DATE"}if(a.indexOf((0,d.Z)(e).format("YYYY-MM-DD"))>-1){return"BANK_HOLIDAY"}return null}));(0,r.Z)(this,"_handleSubmitFutureDate",(()=>{const{payDate:e,onSave:t}=this.props;const{selectedDate:a}=this.state;const s=this._isValidateDate(a);if(s){y();this.setState({errorReason:s});return}window.closeMessage();window.BambooHR.Modal.setState({sheetProps:{isProcessing:true}},true);o().post("/settings/pay_schedules/pay_cycles/update_pay_date",{payCycles:[{id:e.id,payDate:(0,d.Z)(a).format("YYYY-MM-DD")}]}).then((()=>{t(e.id,a);window.setMessage($.__("Pay date successfully updated."),"success")})).catch((e=>{if(e.response.data?.error?.code==="PAY_CYCLE_APPROVED"){window.setMessage($.__("Whoops. This pay cycle has been started in TRAXPayroll, and it can't be updated in BambooHR. Please reach out to our Payroll Support team to make changes (866-872-9123 or payrollhelp@bamboohr.com)."),"error")}else{y()}window.BambooHR.Modal.setState({sheetProps:{isProcessing:false}},true)}))}));const{payDate:t,disableDays:a=[]}=this.props;this.state={selectedDate:t.payDate,errorReason:null};this.threeBusinessDaysFromTodayDate=p(m,f,a)}componentDidMount(){window.BambooHR.Modal.setState({sheetProps:{primaryAction:this._handleSubmitFutureDate}},true)}render(){const{payDate:e}=this.props;const{errorReason:t}=this.state;return(0,s.Z)("form",{className:"js-noValidate "},void 0,(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:(0,u.classNameFromObject)("fab-FormColumn",{error:!!t})},void 0,(0,s.Z)("label",{className:(0,u.classNameFromObject)("fab-Label fab-Label--required",{"fab-Label--error":!!t}),htmlFor:"future-date-change"},void 0,$.__("Pay date for %1$s - %2$s",(0,d.Z)(e.payPeriodStartDate).format(),(0,d.Z)(e.payPeriodEndDate).format())),(0,s.Z)("div",{className:"fab-FormField"},void 0,(0,s.Z)(h.Z,{cssClasses:{single:t?"fab-TextInput--error":""},id:"future-date-change",name:"futureDateChange",onChange:this._handleDateChange,required:true,settings:this._createPickerSettings(),type:"date"})),t!==null&&(0,s.Z)("div",{className:"fab-FormField"},void 0,(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,g[t])))))}}function y(){window.setMessage($.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")}var b=a(26570);const w=(0,d.Z)().startOf("day");const S=3;class C extends n.Component{static get className(){return"PayScheduleCalendar"}constructor(e){super(e);(0,r.Z)(this,"_createSheetSettings",(()=>({onClose:()=>{this.setState({editingId:null,shouldRenderPicker:false});window.closeMessage()},onOpen:()=>{setTimeout((()=>{this.setState({shouldRenderPicker:true})}))},visible:true,options:{footer:{buttons:{primary:{text:b.__("Save"),action:this._handleSubmitFutureDate}}}}})));(0,r.Z)(this,"_handleClickEditFutureDate",(e=>{const{byId:t}=this.state;this.setState({editingId:e,selectedDate:t[e].payDate,errorReason:null})}));(0,r.Z)(this,"_handleDateChange",(e=>{if(e===undefined){this.setState({selectedDate:e});return}this.setState({selectedDate:e,errorReason:this._isValidateDate(e)})}));(0,r.Z)(this,"_handleSubmitFutureDate",(()=>{const{byId:e,editingId:t,selectedDate:a}=this.state;const s=this._isValidateDate(a);if(s){x();this.setState({errorReason:s});return}window.closeMessage();window.SimpleModal.Footer.Buttons.startProcessing();o().post("/settings/pay_schedules/pay_cycles/update_pay_date",{payCycles:[{id:t,payDate:a}]}).then((s=>{let{data:n}=s;e[t].shiftedByUser=window.SESSION_USER.preferredName;e[t].payDate=a;this.setState({editingId:null,byId:{...e}});window.setMessage(b.__("Pay date successfully updated."),"success")})).catch((()=>{x();window.SimpleModal.Footer.Buttons.stopProcessing()}))}));(0,r.Z)(this,"_renderIsShiftedIcon",(e=>{if(typeof e.shiftedByUser==="string"&&e.shiftedByUser.length>0){return(0,s.Z)(c.Z,{settings:{template:{name:"tooltip-standard",data:{content:b.__("Manually updated"),textAlign:"center"}}},wrapperClassName:"PS_Calendar__adjustedIcon"},void 0,(0,s.Z)(l.Icon,{name:"fab-wrench-12x12"}))}if(e.shifted==="yes"){return(0,s.Z)(c.Z,{settings:{template:{name:"tooltip-standard",data:{content:b.__("Pay date adjusted for weekend or holiday"),textAlign:"center"}}},wrapperClassName:"PS_Calendar__adjustedIcon"},void 0,(0,s.Z)(l.Icon,{name:"fab-info-circle-13x13"}))}return null}));(0,r.Z)(this,"_calculateDisabledDays",(()=>{const{byId:e,editingId:t}=this.state;const{payPeriodEndDate:a}=e[t];const s=(0,d.Z)(a);const n=s.diff(this.threeBusinessDaysFromTodayDate,"days")<0?this.threeBusinessDaysFromTodayDate:s;return Array.from({length:n.diff(w,"days")}).map(((_,e)=>w.clone().add(e,"days").format("YYYY-MM-DD")))}));(0,r.Z)(this,"_isValidateDate",(e=>{if(e===undefined){return"NOT_SET"}const{disableDays:t=[]}=this.props;const{byId:a,editingId:s}=this.state;const{payPeriodEndDate:n}=a[s];const i=(0,d.Z)(e);const o=i.day();if(o===0||o===6){return"NO_WEEKENDS"}if(i.diff(this.threeBusinessDaysFromTodayDate,"days")<0){return"THREE_DAYS_MINIMUM"}if(i.isBefore((0,d.Z)(n),"day")){return"BEFORE_END_DATE"}if(t.indexOf(e)>-1){return"BANK_HOLIDAY"}return null}));(0,r.Z)(this,"_launchSheet",(e=>{const{disableDays:t}=this.props;const{byId:a}=this.state;window.BambooHR.Modal.setState({sheetProps:{isOpen:true,primaryActionText:b.__("Save"),onClose:()=>{window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)},title:b.__("Change Pay Date"),content:(0,s.Z)(v,{disableDays:t,onSave:(e,t)=>{a[e].shiftedByUser=`${window.SESSION_USER.firstName} ${window.SESSION_USER.lastName}`;a[e].payDate=t;window.BambooHR.Modal.setState({sheetProps:null},true);this.setState({byId:{...a}})},payDate:e})}},true)}));const{payPeriods:t,isPreview:a,disableDays:i=[]}=e;const{allIds:u,byId:h}=t.reduce(((e,t)=>{const s=a?t.payPeriodStartDate:t.id;e.allIds.push(s);e.byId[s]=t;return e}),{allIds:[],byId:{}});this.state={allIds:u,byId:h,editingId:null,shouldRenderPicker:false,selectedDate:null,errorReason:null};this.formRef=(0,n.createRef)();this.validator=null;this.threeBusinessDaysFromTodayDate=p(w,S,i)}_makeColumns(){const{isPreview:e}=this.props;const{byId:t}=this.state;const a=[{header:b.__("Period Start"),cell:e=>(0,d.Z)(t[e].payPeriodStartDate).format()},{header:b.__("Period End"),cell:e=>(0,d.Z)(t[e].payPeriodEndDate).format()},{header:b.__("Pay Date"),cell:e=>{const a=t[e];const n=a.shifted==="yes"||typeof a.shiftedByUser==="string"&&a.shiftedByUser.length>0;if(n){return(0,s.Z)("div",{style:{display:"flex",alignItems:"center"}},void 0,(0,d.Z)(a.payDate).format(),n&&this._renderIsShiftedIcon(a))}return(0,d.Z)(a.payDate).format()}}];if(!e){a.push({headerAriaLabel:b.__("Edit pay date"),showOnHover:true,cell:{type:"actions",actions:e=>{const a=t[e];const s=(0,d.Z)(a.payDate);const n=s.diff(w,"days")>3;return[{icon:"fab-pencil-16x16",action:n?()=>this._launchSheet(a):null,tooltipContent:n?b.__("Change Pay Date"):b.__("Pay dates within three days cannot be changed")}]}}})}return a}render(){const{allIds:e}=this.state;return(0,s.Z)("div",{className:"PS_Calendar"},void 0,(0,s.Z)(l.Table,{caption:b.__("Upcoming pay schedules for the next year"),columns:this._makeColumns(),rowKey:e=>e,rows:e}))}}function x(){window.setMessage(b.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")}var T=a(14234);var E=a.n(T);var k=a(26570);const Z={0:k.__("Which Sundays?"),1:k.__("Which Mondays?"),2:k.__("Which Tuesdays?"),3:k.__("Which Wednesdays?"),4:k.__("Which Thursdays?"),5:k.__("Which Fridays?"),6:k.__("Which Saturdays?")};const F=k("body");F.on("ba:selectChange",".js-biweekly-select-day",D);F.on("ba:selectChange",".js-biweekly-which-week",P);function I(e){const t=(0,d.Z)().day();return t>e?7+parseInt(e):e}function N(e,t){const a=(0,d.Z)().day(I(t.day()));const s={first:a.clone(),second:a.clone().add(1,"week")};const n=a.diff(t,"week");let i=1;if(n===0&&t.format()===s.second.format()||n%2===1){i=2}const o=microTemplate(E(),s);e.find(".js-biweekly-which-week").replaceWith(o);k(e.find(".js-biweekly-which-week").children()[i-1]).attr("selected",true)}function A(e,t){e.find(".js-biweekly-which-days").text(Z[t])}function M(e,t){k(".js-biweekly-start-input").val(t)}function D(e){const t=k(e.target);const a=t.closest(".fieldRow");const s=(0,d.Z)().day(I(e.originalEvent.detail.value));A(a,s.day());N(a,s);M(a,s.format())}function P(e){const t=k(e.target);const a=t.closest(".fieldRow");const s=t.find(":selected").attr("data-biweekly-date");M(a,s)}function L(){k(".js-biweekly-start-input").each(((e,t)=>{const a=k(t);const s=a.closest(".fieldRow");let n;if(a.val()===""){const e=s.find(".js-biweekly-select-day").val();n=(0,d.Z)().day(I(e))}else{n=(0,d.Z)(a.val(),d.Z.defaultFormat)}const i=n.day();const o=s.find(".js-biweekly-select-day select").val();k(s.find(".js-biweekly-select-day").children()[o]).attr("selected",false);k(s.find(".js-biweekly-select-day").children()[i]).attr("selected",true);A(s,i);N(s,n);M(s,n.format())}))}var O={setFields:L};var R=a(37194);var B=a(73641);function j(e,t){if(e==="daily"){return[]}if(e==="bi-weekly"){return(0,d.Z)(t,"YYYY-MM-DD").format()}if(e==="semi-monthly"){return t.split(" ")}return t.split(" ").map((e=>e.split("/").reverse())).reduce(((e,t)=>e.concat(t)),[])}function H(e,t){if(e==="daily"){return null}if(e==="bi-weekly"){return(0,d.Z)(t,d.Z.defaultFormat).format("YYYY-MM-DD")}if(e==="semi-monthly"){return t.join(" ")}if(t.length>1){return(0,B.chunk)(t,2).map((e=>e.reverse().join("/"))).join(" ")}return t[0]}var q=a(26570);function W(e){const{paySchedule:t}=e;if(!t.id){return}const a=q(".js-ps-add-edit-form select");const s=q(".js-no-edit-container select");const n=q("select.js-ps-frequency-dropdown");n.val(t.frequency);if(t.count>0||e.hasTimesheetsAssociatedToPaySchedule){s.attr("disabled","disabled")}U(t.frequency,t.modifier);a.trigger("liszt:updated")}function U(e,t){const a=j(e,t);if(e==="bi-weekly"){q('[data-ps-section="bi-weekly"] .js-biweekly-start-input').val(a)}else{q(`[data-ps-section="${e}"] select`).each(((e,t)=>{t.value=a[e]}))}}function z(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Function.prototype;const a=e.id?`${e.id}/editDialog`:"addDialog";window.SimpleModal.openModal({url:`/settings/pay_schedules/${a}`,title:e.id?q.__("Edit Pay Schedule"):q.__("Add Pay Schedule"),classes:"jquery-padding no-chosen-breakout",footer:{buttons:{primary:{text:e.id?q.__("Save"):q.__("Add"),action(){Y(t)}},secondary:{show:true,text:q.__("Preview"),action:()=>X(J(),true)}}},callbacks:{open:{after(){ee()}}}})}function V(e){const t=q.__("Delete Pay Schedule");o().get(`/settings/pay_schedules/${e.id}/delete`).then((a=>{let{data:i}=a;const{count:r}=i;window.BambooHR.Modal.setState({isOpen:true,title:t,headline:(0,s.Z)(R.Message,{params:[e.name],text:q._('Are you sure you want to delete the **"{1}"** pay schedule?')}),type:"aggressiveConfirmation",primaryActionText:q.__("Delete Pay Schedule"),primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);o()["delete"](`/settings/pay_schedules/${e.id}/delete`).then((e=>{let{data:t}=e;if(t.ret==="ERROR"){window.setMessage(t.message,"error");window.BambooHR.Modal.setState({isProcessing:false},true)}else{window.location.reload(true)}})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))},secondaryActionText:q.__("Keep Pay Schedule"),secondaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,content:r>0&&(0,s.Z)(n.Fragment,{},void 0,r===1&&(0,s.Z)(R.Message,{params:[r],text:q._("You have **{1} active employee** with this pay schedule.")},"first-part"),r!==1&&(0,s.Z)(R.Message,{params:[r],text:q._("You have **{1} active employees** with this pay schedule.")},"first-part")," ",(0,s.Z)(R.Message,{text:q._("We suggest moving employees to a new pay schedule before deleting this one.")},"second-part"))})})).catch((()=>{window.setMessage(q.__("We were unable to delete your pay schedule. Please try again."),"error")}))}function Y(e,t){const a=q("#payschedule_form");const s=!!window.SimpleModal.getTopModalSelector();if(!a.valid()){return}if(s){window.SimpleModal.Footer.Buttons.Primary.startProcessing()}const n=J();G(n,e,t)}function G(e,t,a){const s=!!window.SimpleModal.getTopModalSelector();q.post("/settings/pay_schedules/save",e,(e=>{if(s){window.SimpleModal.Footer.Buttons.Primary.stopProcessing()}if(e.ret==="ERROR"){window.setMessage(e.message,"error");a()}else{t(e);if(s){window.SimpleModal.closeModal()}}}),"json").fail((()=>{window.errorFallBack();a()}))}let K=false;function X(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(K){return}K=true;o().get(`/settings/pay_schedules/calendar-preview${t?"":"ById"}`,e).then((a=>{let{data:{payCycles:n,bankHolidays:i=[]}}=a;window.BambooHR.Modal.setState({isOpen:true,title:t?q.__("Preview Pay Calendar"):`${q.__("Pay Calendar")} - ${e.name}`,headline:q.__("Pay Schedule"),headerType:"text",primaryAction:()=>window.BambooHR.Modal.setState({isOpen:false}),primaryActionText:q.__("Done"),alternativeActionText:null,contentHasPadding:false,content:(0,s.Z)(C,{disableDays:i.map((e=>e.date)),isPreview:t,payPeriods:n})})})).catch(window.errorFallBack).finally((()=>{K=false}))}function J(){const e=q("#payschedule_form");const t=q("select.js-ps-frequency-dropdown").val();return{frequency:t,id:e.find("[name=id]").val(),listValueId:e.find("[name=listValueId]").val(),name:e.find("[name=name]").val(),modifier:Q(t),payDateDays:e.find("[name=payDateDays]").val(),weekendAndHoliday:e.find("[name=weekendAndHoliday]").val()}}function Q(e){let t;if(e==="bi-weekly"){t=q('[data-ps-section="bi-weekly"] .js-biweekly-start-input').val()}else{t=q(`[data-ps-section="${e}"] select`).map(((e,t)=>t.value)).toArray()}return H(e,t)}function ee(){const e=q("#js-ps-modal-data");const t=JSON.parse(e.html());const a=q("#payschedule_form");W(t);O.setFields();const s=q(".js-ps-frequency-dropdown");s.change((function(){const e=q(this);const t=e.find("option:selected").val();const a=`[data-ps-section="${t}"]`;q(".js-ps-sub-field").hide().filter(a).show().initializeElements()}));const n=s.find("option:selected").val();q(`.js-ps-sub-field[data-ps-section="${n}"]`).show().initializeElements();a.bhrValidate({rules:{"semimonthlyMod1[]":{sameSiblingValue:"select.js-semimonthly"},"semimonthlyMod2[]":{sameSiblingValue:"select.js-semimonthly"}}});if(window.SimpleModal.getTopModalSelector()){window.SimpleModal.setPosition();window.SimpleModal.Footer.Buttons.Primary.setAttr("data-bi-id","settings-add-pay-schedule-button")}}function te(e){z({},e)}function ae(e,t){z(e,t)}function se(e){V(e)}function ne(e){X(e)}var ie={addModal:te,editModal:ae,removeModal:se,previewModal:ne}},4029:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>b});var s=a(49463);var n=a(56445);var $=a(26570);let i;let o;let r;let l;let c;function d(e,t){let a="";Object.keys(e).forEach((function(s){a+=`\n\t\t\t<li class="PlaceholderWidget__listItem js-placeholder-widgetListItem" data-normalized-name="${e[s].name.toLowerCase()}">\n\t\t\t\t<div class="PlaceholderWidget__listItem-wrap">\n\t\t\t\t\t<div class="PlaceholderWidget__listItem-name">${e[s].name}</div>\n\t\t\t\t\t<div class="PlaceholderWidget__listItem-example">${(0,n.ifFeature)("encore","e.g.","Ex:")} ${e[s].example}</div>\n\t\t\t\t</div>\n\t\t\t\t<img\n\t\t\t\t\tdata-is-placeholder="true"\n\t\t\t\t\tid="${s}"\n\t\t\t\t\tclass="js-placeholder-img"\n\t\t\t\t\tdraggable="true"\n\t\t\t\t\tsrc="${t[s].drag}"\n\t\t\t\t\tdata-placeholder-name="${s}"\n\t\t\t\t\talt="${e[s].name}"\n\t\t\t\t/>\n\t\t\t</li>\n\t\t`}));$(a).insertAfter(i.find(".js-placeholder-widgetFilterWrap"))}function u(e,t){i=$(".js-placeholder-widgetList");d(e,t);c=$(".js-placeholder-widgetListItem");o=$(".js-placeholder-widgetListEmpty");r=$(".js-placeholder-widgetFilter");r.on("input",f);r.removeClass("PlaceholderWidget__listFilter--muteFocusOnLoad");r.attr("readonly",false);l=$(".js-placeholder-widgetFilterClear");l.on("click",m);$(".js-placeholder-img").on("dragstart mouseup",(function(){let e=this;this.style.opacity=1;setTimeout((function(){e.removeAttribute("style")}))})).on("mousedown",(function(e){this.style.opacity=0;this.style.width=this.naturalWidth+"px";this.style.height=this.naturalHeight+"px";this.style.top=e.offsetY-this.naturalHeight/2+"px";this.style.left=e.offsetX-1+"px"})).on("mouseover",(function(){$(this).parent().removeClass("dragEnded")})).on("dragend",(function(){$(this).parent().addClass("dragEnded")})).on("click",(function(e){tinyMCE.execCommand("insert",$(this).attr("id"))}))}function h(){$(".js-placeholder-widgetList").find(".PlaceholderWidget__listItem").remove();$(".js-placeholder-img").off("dragstart mouseup").off("mousedown").off("dragend").off("click")}function p(e){l.toggle(!!e);c.each((function(){const t=$(this);t.toggle(t.data("normalized-name").includes(e))}));o.toggle(!c.find(":visible").length)}function m(){r.val("");p("");r.blur();r.focus()}function f(e){const t=e.target.value.toLowerCase();p(t)}const g={create:u,destroy:h};var v=g;var y={};y.Generator=s.Z;y.Widget=v;var b=y},49463:(e,t,a)=>{"use strict";a.d(t,{p:()=>D});var s=a(38592);var n=a(56445);var i=a.n(n);var o=a(12403);var r=a(1765);const l=(0,n.ifFeature)("encore","Inter, sans-serif","lato");const c=(0,n.ifFeature)("encore",o?.colors,r?.colors);const d={};const u=(0,n.ifFeature)("encore",12,13);const h=(0,n.ifFeature)("encore","19px","");const p=(0,n.ifFeature)("encore","100","");const m=4;const f=18;const g=0;const v=2;const y=1;let b;let w;let S;let C;let x;const T=c.error||"#bd5800";const E=c.white||"#fff";function k(e){b=u*e;w=m*e;S=f*e;C=g*e;x=v*e}function Z(e,t,a,s,n,i){if(s<2*i){i=s/2}if(n<2*i){i=n/2}e.beginPath();e.moveTo(t+i,a);e.arcTo(t+s,a,t+s,a+n,i);e.arcTo(t+s,a+n,t,a+n,i);e.arcTo(t,a+n,t,a,i);e.arcTo(t,a,t+s,a,i);e.closePath();return e}function F(e){const t=e.getContext("2d");let a=e.width;let s=e.height;const n={x:[],y:[]};const i=t.getImageData(0,0,e.width,e.height);let o;let r;let l;for(r=0;r<s;r++){for(o=0;o<a;o++){l=(r*a+o)*4;if(i.data[l+3]>0){n.x.push(o);n.y.push(r)}}}n.x.sort((function(e,t){return e-t}));n.y.sort((function(e,t){return e-t}));const c=n.x.length-1;a=n.x[c]-n.x[0];s=n.y[c]-n.y[0];const d=document.createElement("canvas");d.width=a+(w+C)*2;d.height=S+C*2;return d}function I(e,t,a,s){if(typeof s==="undefined"){s=w+C}const n=e.getContext("2d");n.font=`${p} ${b}px ${l}`;n.fillStyle=a||c.gray9;n.fillText(t,s,b+y);return e}function N(e){const t=document.createElement("canvas");t.width=1e3;t.height=S+C*2;return F(I(t,e,"#000",0))}function A(e,t,a){let s=e.getContext("2d");if(C>0){s=Z(s,C/2,C/2,e.width-C,e.height-C,x);let t=a||c.gray4;t=`#${(parseInt(t.substring(1),16)-parseInt(303030,16)).toString(16)}`;s.strokeStyle=t;s.lineWidth=C;s.stroke()}else if(x>0){s=Z(s,0,0,e.width,e.height,x)}else{s.rect(0,0,e.width,e.height)}s.fillStyle=t||c.gray3;s.fill();return e}function M(){if(window.matchMedia){const e=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return e&&e.matches||window.devicePixelRatio>1}return false}function D(e){e=e.replace("&amp;","&");k(M()?2:1);let t=N(e);const a=L(t,e,"","","");const n=L(t,e,c.gray7,c.gray8,c.white);const i=L(t,e,(0,s.getFabricBrandColor)(),"",c.white);k(1);t=N(e);const o=L(t,e,c.gray7,c.gray8,c.white);return{drag:o,selected:n,unselected:a,highlighted:i,name:e}}function P(e){for(const t in e){d[t]=D(e[t].name.replace("&amp;","&"))}s.Mediator.publish("placeholders:generator:post-build",d)}function L(e,t,a,s,n){e=A(e,a,s);e=I(e,t,n);return e.toDataURL()}function O(e){e=R(e);k(M()?2:1);const t=N(e);const a=L(t,e,T,T,E);return{drag:a,selected:a,unselected:a}}function R(e){e=e.replace("&amp;","&");e=e.replace("__"," ");e=e.replace("_"," ");e=e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1)}));return e}const B={get(){return d},generate(e){P(e)},generateInvalidPlaceholder(e){return O(e)}};t["Z"]=B},34387:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var s=a(73641);var n=a.n(s);var i=a(48853);class o extends i.Z{static get className(){return"Popover"}constructor(e,t){t=(0,s.extend)({themeClass:"Balloon--popover",closeX:true,push:18,tail:true,tailSize:11,minTailOnBalloon:12},t);super(e,t)}}},32344:(e,t,a)=>{"use strict";var $=a(26570);class s{static get className(){return"PrivateContent"}constructor(){$(document).on("click",".ba-privateContent",(function(e){$(this).removeClass("ba-privateContent")}))}}var n=new s},57607:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addAmountErrorMessage:()=>Y,addLegend:()=>F,buildRequestPageCalculatorTable:()=>E,checkInputForLimits:()=>W,commentExistsInADenialModal:()=>oe,duplicateTimeOffRequest:()=>U,editTimeOff:()=>se,getDateInfo:()=>x,handleDuplicatedRequestForm:()=>ie,initDatepicker:()=>Z,isTenYearsOrMore:()=>V,loadPTOmodal:()=>K,onBalanceCloseHandler:()=>T,onPageLoadSetup:()=>O,removeMobilePromotion:()=>k,requestTimeOffById:()=>ae,savePTOmodal:()=>G,setActionDeny:()=>R,showEditTimeOffRequestModal:()=>D,showNegativeBalanceWarningModal:()=>A,showTenYearWarningModal:()=>L,startDateLessThanEndDate:()=>z,storeEmployeeTimeOffRequest:()=>le,sumAmounts:()=>q,updateDailyTotals:()=>H,validatePtoRequest:()=>I});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(77512);var l=a(98853);var c=a.n(l);var d=a(73641);var u=a.n(d);var h=a(82543);var p=a.n(h);var m=a(17842);var f=a.n(m);var g=a(393);var v=a(1891);var y=a(71141);var $=a(26570);let b=false;let w=false;function S(e){return p()(e.val(),p().defaultFormat).toDate()}function C(){if(window.Employee){return(0,n.Z)(g.Z,{imageAlt:"Image of employee",imageSrc:window.Employee.photoURL,subTitle:window.Employee.jobTitle,title:`${window.Employee.preferredName} ${window.Employee.lastName}`})}else if(window.common){return(0,n.Z)(g.Z,{imageAlt:"Image of employee",imageSrc:window.common.profilePictureUrl,subTitle:window.common.jobTitle,title:`${window.common.firstName} ${window.common.lastName}`})}return null}function x(e){const t=e.getMonth()+1;const a=e.getFullYear();const s=e.getDate();const n=`${a}-${t<10?"0":""}${t}-${s<10?"0":""}${s}`;for(let e=0;e<window.requests.length;++e){if(n>=window.requests[e].start&&n<=window.requests[e].end){return[true,window.requests[e].status]}}return[true,""]}function T(e,t,a){if(e===""||e===undefined){return false}if($(a).is(".pto-calendar-field2")){return false}if($(".js-pto-balances").length){$("#side-col").addClass("loading");const a=`/dashboard/ajax/dialog/pto/calculator.php?endDate=${encodeURIComponent(e)}`;$.ajax({url:a,dataType:"json",success(a){if(a){$("#side-col").removeClass("loading");if(t===true){window.ptoTotals=a.totals}if(a.data){const e=p()(a.endDate,p().defaultFormat);const t=p()();let s="";if(t.isSame(e,"d")){s=$.__("As of Today")}else{s=$.__("As of %1$s",e.format("ll"))}$(".js-calculate-as-of-date").text(s);return E(a)}else if(a.result=="ok"){$("#balanceCalc").val(e);$("#balance-selected-date").text(e);$("#pto-balances").html(a.content)}else{setMessage($.__("An error occurred while trying to calculate the future balances"),"error")}}},error(){setMessage($.__("An error occurred while trying to calculate the future balances"),"error");$("#side-col").removeClass("loading")}})}}function E(e){const t=$("#pto-balances");t.html(microTemplate($("#js-template-request-page-balances").html(),e));window.BambooHR.Components.Popover.purge();t.find(".js-balance-list-help-icon").each(((e,t)=>{const n=window.BambooHR.Components.Popover.create(t,{content:`${$.__(`This available time off is calculated based on hours worked.`)} ${$.__(`Since we don’t know what hours you will be working in the future we can’t calculate your future balance.`)} ${$.__(`Instead we are displaying your currently available time off.`)}`,title:$.__(`A time machine would be handy right now`),placement:"left",contentCssOverride:{"max-width":"410px","font-size":"14px"},titleCssOverride:{"font-size":"20px"}}).onShow((e=>a(e.triggerEl))).onHide((e=>s(e.triggerEl)));$(t).hover(a.bind(null,n.triggerEl),(()=>{if(!n.showing){s(n.triggerEl)}}))}));function a(e){$(e).attr("fill",window.BambooHR.Utils.getBrandColor())}function s(e){$(e).attr("fill","#b7b7b7")}}function k(){$.ajax({url:"/time_off/mobile_promotion/remove",type:"PUT"});$("#js-mobile-promotion").slideUp(200)}function Z(e){F(e);if(e==$(".pto-calendar-field2")[0]){const t=$(".pto-calendar-field1").datepicker("getDate");if(!t){$(".pto-calendar-field2").datepicker("option","minDate",0)}else{$(".pto-calendar-field2").datepicker("option","minDate",$(".pto-calendar-field1").datepicker("getDate"))}if(e.value==""){e.value=$(".pto-calendar-field1").val()}}}function F(e){if(e==$(".pto-calendar-field1")[0]||e==$(".pto-calendar-field2")[0]){setTimeout((function(){$("div#ui-datepicker-div div.ui-datepicker-buttonpane button:first").after('<ul id="pto-legend" style="display: none"><li class="approved"><span></span>Approved</li><li class="requested"><span></span>Requested</li></ul>')}),200)}}function I(e){if(V()){L();return false}if($(e).valid()){if(!q()){setMessage(window.defaultErrorMessage,"error");return false}const e=p()($("#startYmd").val(),p().defaultFormat);const t=p()($("#endYmd").val(),p().defaultFormat);const a=t.isBefore(e);if(a){z(true);setMessage($.__("The start date must be on or before the end date."),"error");window.BambooHR.Modal.setState({isOpen:true,isProcessing:false},true);return false}const s=$('input[name="hours"]').val();let n=s;if(!$.isNumeric(s)){n=window.getFloatFromStringJS(s)}const i=$('select[name="type"]');const o=$(`.js-time-off-type ba-option[value="${i.val()}"]`);const r={type:o.text(),date:$("#startYmd").val(),typeBalance:window.ptoTotals[i.val()],requestAmount:s,remainingBalance:window.ptoTotals[i.val()]-n};if(!(0,d.isNil)(window.originalRequest)){window.originalRequest.hours=parseInt(window.originalRequest.hours);const e=$.datepicker.formatDate("yy-mm-dd",$("#startYmd").val());if(window.originalRequest.status=="approved"&&e>=window.originalRequest.startYmd&&window.originalRequest.timeOffTypeId==i.val()){r.remainingBalance+=parseInt(window.originalRequest.hours);r.typeBalance+=parseInt(window.originalRequest.hours)}}if(typeof window.confirmBalance==="undefined"){window.confirmBalance=false}if(window.employeeTimeOffPolicyTypes&&window.employeeTimeOffPolicyTypes[i.val()]!=="unlimited"&&r.remainingBalance.toFixed(2)<0&&window.confirmBalance){r.remainingBalance=r.remainingBalance.toFixed(2);r.typeBalance=r.typeBalance.toFixed(2);if(window.GLOBAL_DECIMAL_CHAR===","){r.remainingBalance=r.remainingBalance.replace(/\./,",");r.typeBalance=r.typeBalance.replace(/\./,",");r.requestAmount=r.requestAmount.replace(/\./,",")}if(typeof Inbox!=="undefined"){return true}A(r)}else{return true}}document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"));return false}function N(e){let{onClose:t,...a}=e;const[n,r]=(0,i.useState)(true);const[l,c]=(0,i.useState)(false);(0,i.useEffect)((()=>{if(!l){return}const e=$("#request");const t=re(e);const a=$.param(t);const s=f().createCancelSource();f().post("/time_off/requests",a,{cancelToken:s.token}).then((()=>{window.location.href=e.data("doneUrl")})).catch((e=>{c(false);if(e.response.data){window.setMessage(e.response.data,"error")}else{errorFallBack()}}));return()=>{s.cancel()}}),[l]);return o().createElement(v.x5,(0,s.Z)({isOpen:n,isProcessing:l,onAfterClose:()=>t(),onConfirmOrCancel:e=>{if(e){c(true)}else{r(false)}},route:"/time-off/negative-balance-modal"},a))}function A(e){const t=document.createElement("div");document.body.appendChild(t);const a=()=>(0,l.unmountComponentAtNode)(t);const n={...e,isoDate:p()(e.date,p().defaultFormat).toISOString()};(0,r.s)(o().createElement(N,(0,s.Z)({onClose:a},n)),t)}function M(e){let{employee:t,timeOffRequestId:a,canCancelRequest:s,onRequestEditOrCancel:o,onCloseComplete:r}=e;const[l,c]=(0,i.useState)(true);return(0,n.Z)(v.x5,{canCancelRequest:s,employee:t,isOpen:l,onCloseComplete:r,onRequestClose:e=>{c(false);if(e==="edited"||e==="cancelled"){o()}},route:"/time-off/edit-time-off-modal",timeOffRequestId:a})}function D(e,t,a,s){const i=document.createElement("div");document.body.appendChild(i);const o=()=>{if(s){window.location=s}else{window.location.reload()}};(0,r.s)((0,n.Z)(M,{canCancelRequest:a,employee:e,onCloseComplete:()=>(0,l.unmountComponentAtNode)(i),onRequestEditOrCancel:o,timeOffRequestId:t}),i)}function P(e){let{startDate:t,endDate:a,onAfterClose:s}=e;const[o,r]=(0,i.useState)(true);return(0,n.Z)(v.x5,{endDate:a,isOpen:o,onAfterClose:s,onRequestClose:()=>r(false),route:"/time-off/ten-year-warning-modal",startDate:t})}function L(){const e=p()($("#startYmd").val(),p().defaultFormat).toISOString();const t=p()($("#endYmd").val(),p().defaultFormat).toISOString();const a=document.createElement("div");document.body.appendChild(a);const s=()=>{$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(e,e);H();(0,l.unmountComponentAtNode)(a)};(0,r.s)((0,n.Z)(P,{endDate:t,onAfterClose:s,startDate:e}),a)}function O(){const e={yearRange:"-70:+20",minDate:null,duration:0,showAnim:false,showOn:"button",beforeShowDay:x,buttonImage:"/images/color-branded-icons/holiday-cal.png",buttonImageOnly:false,buttonText:"",numberOfMonths:1,showButtonPanel:true,beforeShow:Z,onClose(e){T(e,true,this)}};const t={yearRange:"-70:+20",minDate:0,duration:0,showAnim:false,beforeShow(e){e.blur();window.trackAction("viewedFutureBalanceWeb",{type:"button"},"view")},buttonImageOnly:false,onClose:T,changeMonth:true,changeYear:true};if(GLOBAL_DATEPICKER_MASK!=undefined){e.dateFormat=GLOBAL_DATEPICKER_MASK;t.dateFormat=GLOBAL_DATEPICKER_MASK}$(".pto-calendar-field2").focus((function(){if(this.value==""){this.value=$(".pto-calendar-field1").val();$(this).trigger("change")}}));$(".pto-calendar-field1, .pto-calendar-field2").bhrdatepicker(e).attr("autocomplete","off").inputmask(window.GLOBAL_DATE_MASK);$("#request").submit((function(e){e.preventDefault();if(I(this)&&!$("#footer-buttons .btn.btnAction").hasClass("disabled")){$("#footer-buttons .btn.btnAction").addClass("disabled processing");$(this)[0].submit()}}));const a=$("#balanceCalc");const s=a.val();a.on("change",(()=>{const e=a.val();T(e,true,this)}));const n=$("#startYmd").val();T(n?n:s,true,this);$(document).on("change","#startYmd",(function(e){const t=$("#balanceCalc").val();const a=$("#startYmd").val();T(a?a:t,true,this)}));$(document).on("change","#endYmd, #startYmd",(function(){const e=$("#startYmd").val();const t=$("#endYmd");const a=t.val();const s=$("#employeeId").val()||"";const n=$("#requestId").val()||"";if(e!==""&&a!==""){const t={startYmd:e,endYmd:a,eid:s,originalRequestId:n};$.get("/ajax/employees/pto/duplicate_check.php",t,(function(e){if(e.result==="error"){U(true)}else if(e.result!=="ok"){if(e.errorType==="date"){U(false);z(true)}}else{U(false);z(false)}}),"json")}H()}));$(document).on("ba:selectChange",".js-time-off-type",(function(){setTimeout(H)}));$(document).on("change, keyup","#multipleDayList",(function(){q();const e=$(".js-timeoff-master-form");e.bhrValidate()}));$("#approve").submit((function(e){}));const i=document.querySelector('[data-form-id="requestPtoFooter"]');if(i){i.addEventListener("click",(e=>{const t=e.target.closest('button[data-action="SiteFooterAction:submit"]');if(t&&!w&&!t.disabled){w=true;document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"));le()}}))}}function R(){document.getElementById("action").value="deny";document.approve.submit()}let B=false;function j(e){let{startDate:t,endDate:a,onClose:s}=e;const[o,r]=(0,i.useState)(true);return(0,n.Z)(v.x5,{endDate:a,isOpen:o,onClose:e=>{r(false);setTimeout((()=>{s(e)}),300)},route:"/time-off/large-request-modal",startDate:t})}function H(){const e=150;const t=S($("#startYmd"));const a=S($("#endYmd"));const s=$("#startYmd").val();const i=$("#endYmd").val();const o=$("#timeOffType").val();const c=$("#requestId").val();const d=$("#employeeId").val();const u=m(t,a);if(t!==null&&u>e){if(V()){L()}else if(!B){B=true;const e=document.createElement("div");document.body.appendChild(e);(0,r.s)((0,n.Z)(j,{endDate:p()(i,p().defaultFormat).toISOString(),onClose:n=>{if(n){h(t,a,s,i,o,c,d,u)}else{$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(s,s);H()}(0,l.unmountComponentAtNode)(e);B=false},startDate:p()(s,p().defaultFormat).toISOString()}),e)}}else{h(t,a,s,i,o,c,d,u)}function h(t,a,s,n,i,o,r,l){if(t&&l>e){$("#multipleDayList").addClass("multiple");$("#multipleDayList").html('<div style="height:192px;"><img src="/images/loading-large-for-gray-background.gif" style="margin:auto; display:block; position:relative; height:46px; padding-top:75px;" /></div>')}document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"));$.get("/time_off/requests/daily_fields_twig",{startDate:s,endDate:n,type:i,eid:r,id:o}).done((function(e){$("#multipleDayList").html(e);if(t&&l>1&&t<a&&i!=""){$("#multipleDayList").addClass("ScrollBox")}else{$("#multipleDayList").removeClass("ScrollBox")}if(SimpleModal.getModalCount()>0){SimpleModal.setPosition()}q();document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}))}function m(e,t){return Math.round(Math.abs((new Date(e).getTime()-new Date(t).getTime())/(24*60*60*1e3)))+1}}function q(){let e=true;$("#multipleDayList").each((function(){let t=0;let a=0;$(this).find("input").each((function(){if($(this).attr("type")=="hidden"){window.rawUnits=this.value}else{let s;let n;if(!$.isNumeric(this.value)){this.value=this.value.replace(/[^0-9\.\,-]/g,"")}if(this.value==""){s=0;n=""}else{s=window.getFloatFromStringJS(this.value);n=s;$(this).siblings(".fieldInfo.error.nonPlugin").remove()}if(!W(this,n)){e=false}t+=s;if(this.value.indexOf(",")>-1){a=1}}}));t=t.toFixed(2).toString();if(a>0){t=t.replace(/\./,",");a=0}$(this).find("#dailyTotalAmount").text(t);$("#singleTotalAmount").val(t)}));return e}function W(e,t){const a=$($(e).parent("li"));let s=true;if(window.rawUnits=="days"&&t>1||window.rawUnits=="days"&&t<-1){Y(e,$.__("A maximum of 1 day is allowed."));s=false;a.addClass("error")}else if(window.rawUnits=="hours"&&t>24||window.rawUnits=="hours"&&t<-24){Y(e,$.__("A maximum of 24 hours is allowed."));s=false;a.addClass("error")}else{a.removeClass("error disabled")}if(t===0){a.addClass("disabled")}return s}function U(e){$("#startYmd").closest(".fieldRow").children(".fieldInfo.error").remove();if(e){$("#startYmd").addClass("fab-TextInput--warning");$("#startYmdLabel").addClass("fab-Label--warning");$("#endYmd").addClass("fab-TextInput--warning");$("#endYmdLabel").addClass("fab-Label--warning");$("#js-duplicate-entry").show();$("#multipleDayList").removeClass("ScrollBox")}else{$("#startYmd").removeClass("fab-TextInput--warning");$("#startYmdLabel").removeClass("fab-Label--warning");$("#endYmd").removeClass("fab-TextInput--warning");$("#endYmdLabel").removeClass("fab-Label--warning");$("#js-duplicate-entry").hide()}}function z(e){$("#js-duplicate-entry").hide();if(e){$("#startYmd").addClass("fab-TextInput--error");$("#startYmdLabel").addClass("fab-Label--error");$("#endYmd").addClass("fab-TextInput--error");$("#endYmdLabel").addClass("fab-Label--error")}else{$("#startYmd").removeClass("fab-TextInput--error");$("#startYmdLabel").removeClass("fab-Label--error");$("#endYmd").removeClass("fab-TextInput--error");$("#endYmdLabel").removeClass("fab-Label--error")}}function V(){const e=p()($("#startYmd").val(),p().defaultFormat);const t=p()($("#endYmd").val(),p().defaultFormat);const a=p().duration(t-e).years();return a>=10}function Y(e,t){e=$(e);e.parent("li").addClass("error");if(e.parent("li").find(".fieldInfo").length>0){e.parent("li").find(".fieldInfo").text(t);if(!e.parent("li").find(".fieldInfo").hasClass("nonPlugin")){e.parent("li").find(".fieldInfo").addClass("nonPlugin")}}else{e.parent("li").append(`<span class="RequestPTO__amountError fieldInfo fieldInfo-error error nonPlugin">${t}</span>`)}}function G(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:`/employees/pto/?id=${e}`;if(a===undefined){a=SimpleModal.getTopModalSelector().find("form").serialize()}SimpleModal.Footer.Buttons.startProcessing();$.post(t,a,(function(e){if(e.success){if(e.nextURL){window.location.href=e.nextURL}else{window.location.href=s}closeModalDialog()}else{setMessage(e.error,"error");window.BambooHR.Modal.setState({isProcessing:false},true)}}),"json").fail((function(){errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))}function K(e,t,a,s,n){$.get(t,a,(function(i){if(i.success){const o=$.extend(true,{html:i.html,title:i.title,classes:"jquery-padding js-PTOmodal",footer:{show:true,buttons:{primary:{disabled:false,show:true,text:i.save,action(){if(window.ASSUMED_USER){window.disabledForPermsTest();return}const s=SimpleModal.getTopModalSelector().find(".BhrForms");if(V()){L()}else if(s.length===0||s.valid()){t+=`?${$.param(a)}`;G(e,t,undefined,n)}}}}},callbacks:{open:{after(){if(SimpleModal.getTopModalSelector().length){const e=SimpleModal.getTopModalSelector().find(".BhrForms");const t=e.find("textarea");if(typeof t.attr("maxlength")!=="undefined"&&t.attr("maxlength")){t.limitCount(t.attr("maxlength"))}}}}}},s);SimpleModal.openModal(o)}else{setMessage(i.error,"error")}}),"json").fail(errorFallBack)}function X(e){if(e==="subtract"){Q()}else{J()}ee();te(e);return false}function J(){$(".js-adjust-modal-action-add").show();$(".js-adjust-modal-action-subtract").hide();$(".js-adjust-modal-math-row").addClass("AdjustBalanceModalSummary__row--add").removeClass("AdjustBalanceModalSummary__row--subtract");$(".js-adjust-modal-input-adjust-type").val("add")}function Q(){$(".js-adjust-modal-action-add").hide();$(".js-adjust-modal-action-subtract").show();$(".js-adjust-modal-math-row").addClass("AdjustBalanceModalSummary__row--subtract").removeClass("AdjustBalanceModalSummary__row--add");$(".js-adjust-modal-input-adjust-type").val("subtract")}function ee(){const e=$(".js-adjust-pto-adjustment-hours");const t=$(".js-adjust-pto-balance").find(".js-adjust-modal-input-adjust-type").val();let a=window.getFloatFromStringJS(e.attr("data-realval"));let s=window.getFloatFromStringJS(e.val());const n=window.getFloatFromStringJS($(".js-adjust-max-hours").text());const i=window.getFloatFromStringJS($(".js-adjust-cur-hours").text());if(isNaN(a)){a=0}if(isNaN(s)){s=0}const o=$(".js-adjust-over-max-notice");if(t==="add"&&n>0&&i+s-a>n){o.show();e.css("color","red")}else{o.hide();e.css("color","#222222")}}function te(e){const t=$(".js-adjust-pto-adjustment-hours");const a=window.getFloatFromStringJS($(".js-adjust-cur-hours").html());let s=window.getFloatFromStringJS(t.attr("data-realval"));let n=window.getFloatFromStringJS(t.val());if(e==="subtract"){n=0-n}if(s===undefined||isNaN(s)){s=0}let i=parseFloat(a+n-s);if(isNaN(i)){i=a-s}$(".js-adjust-total-hours").html(window.formatNumberJS(i,2))}function ae(e){window.location.href=(0,y.isEnabled)("time_off_request_page_refactor")?`/app/time_off/requests/create?categoryId=${e}`:`/time_off/requests/create?timeOffTypeId=${e}`}function se(e,t,a,s,i){let o="/time_off/requests/edit";let r=null;const l=()=>{if(window.ASSUMED_USER){window.disabledForPermsTest();return}const a={isOpen:true,content:$.__("Are you sure you want to cancel this request?"),title:$._("Time Off Request"),primaryActionText:$.__("Cancel Request"),primaryAction(){const s=`/time_off/requests/cancel`;a.isProcessing=true;window.BambooHR.Modal.setState({isOpen:true,isProcessing:true,sheetProps:a},true);f().post(s,$.param({id:t})).then((t=>{if(t.data.success){window.location.href=`/employees/pto/?id=${e}`}else{window.errorFallBack()}})).catch((()=>{window.errorFallBack()}))},secondaryAction:null,onClose(){a.isOpen=false;window.BambooHR.Modal.setState({isOpen:true,isProcessing:false,sheetProps:a},true)}};window.BambooHR.Modal.setState({isOpen:true,isProcessing:true,sheetProps:a},true)};const c={id:t,employeeId:e};f().get(o,c).then((t=>{b=true;window.BambooHR.Modal.setState({content:(0,n.Z)("div",{dangerouslySetInnerHTML:{__html:t.data.html},id:"js-time-off-master-form-modal"}),header:C(),isOpen:true,title:$.__("Edit Time Off Request"),primaryActionText:$.__("Save"),primaryAction(){if(window.ASSUMED_USER){window.disabledForPermsTest();return}if(r.valid()){window.BambooHR.Modal.setState({isProcessing:true},true);const t=re(r);f().post(o+=`?${$.param(c)}`,$.param(t)).then((t=>{if(t.data.success){window.location.href=`/employees/pto/?id=${e}`}else{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))}},secondaryActionText:$.__("Cancel Request"),secondaryAction:s!=="false"?l:null,onOpen(){r=$("#js-time-off-master-form-modal .js-timeoff-master-form");r.bhrValidate();$(".js-time-off-type").on("ba:selectChange",(function(){setTimeout(H)}));r.find("textarea[maxlength]").limitCount()},onClose(){ne.removePostFixFromElementIds();b=false}})})).catch((()=>{window.errorFallBack()}));return false}const ne={ids:[],postFix:"TEMP-POSTFIX",addPostFixToElementIds(){const{postFix:e}=this;const t=$("form#request").first();this.ids=t.find("[id]");this.ids.each((function(){const t=this.id+e;const a=$(`label[for="${this.id}"]`);a.attr("for",t);this.id=t}))},removePostFixFromElementIds(){const{ids:e,postFix:t}=this;if(!this.isPostFixAdded()){return}e.each((function(){const e=this.id.replace(t,"");const a=$(`label[for="${this.id}"]`);a.attr("for",e);this.id=e}))},isPostFixAdded(){return $("form#request").find("[id]").first().attr("id").indexOf(this.postFix)>-1}};function ie(e,t,a,s){if(ne.isPostFixAdded()){return}ne.addPostFixToElementIds();se(e,t,a,s)}function oe(){let e=[".denialModal #manager_note",".denialModal #comment"],t=false;for(let a=0;a<e.length;a++){if($(e[a]).length){if($.trim($(e[a]).val())){t=true}}}return t}function re(e){const t=e.serializeArray();const a={};t.forEach((e=>{const t=e.name;let s=e.value;if(t==="startYmd"){s=$("#startYmd").val()}else if(t==="endYmd"){s=$("#endYmd").val()}a[t]=s}));return a}function le(){if(I("#request")){ce()}else{w=false}}function ce(){const e=$("#request");const t=re(e);const a=$.param(t);return f().post("/time_off/requests",a).then((()=>{w=false;window.location.href=e.data("doneUrl")})).catch((e=>{if(e.response.data){window.setMessage(e.response.data,"error")}else{errorFallBack()}w=false;window.BambooHR.Modal.setState({isOpen:true,isProcessing:false},true);document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"))}))}function de(e,t){const a={header:$.__("This will remove the current balance"),noBalance:$.__("Flexible time off types don't have a balance."),withCurrentName:$.__(`Setting this accrual policy to "Flexible" will clear this employee's %1$s balance.`,e)};const s=`\n\t\t<div class="ZeroOutBalanceModal">\n\t\t<ba-icon name="calculator-warning-44x48" class="ZeroOutBalanceModal__icon"></ba-icon>\n\t\t\t<h3 class="baseColor ZeroOutBalanceModal__header">!*= t10s.header *!</h3>\n\t\t\t<p class="ZeroOutBalanceModal__content">\n\t\t\t\t!*= t10s.noBalance *!\n\t\t\t\t!*= t10s.withCurrentName *!\n\t\t\t</p>\n\t\t</div>\n\t`;const n=microTemplate(s,{policyName:e,t10s:a});SimpleModal.openModal({html:n,title:$.__("Just Checking..."),footer:{show:true,buttons:{primary:{text:$.__("Clear Balance and Save"),action(){window.SimpleModal.closeModal();t()}},cancel:{text:$.__("Cancel"),action(){window.SimpleModal.closeModal()}}}}})}},34825:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>B});var s=a(21198);var n=a(38592);var i=a(27267);var o=a(98115);var r={body:".js-simplemodal-body"};var l={getHeight(e){e=window.SimpleModal._verifyModalObject(e);return e.find(r.body).height()}};var c=l;var $=a(26570);var d={button:".js-simplemodal-cancel"};var u={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);$(document).off("keyup"+d.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(d.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(d.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(d.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(d.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(d.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(d.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).show()},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(d.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);$(document).on("keyup"+d.button+t.selector,(function(a){if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(d.button).addClass(e)}};var h=u;var p=a(26570);var m={button:".js-simplemodal-button-primary"};var f={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);p(document).off("keyup"+m.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(m.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(m.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(m.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(m.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(m.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(m.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).show()},startProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).addClass("processing").attr("disabled",true)},stopProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).removeClass("processing").attr("disabled",false)},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(m.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);p(document).on("keyup"+m.button+t.selector,(a=>{if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(m.button).addClass(e)}};var g=f;var v=a(26570);var y={button:".js-simplemodal-button-secondary"};var b={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);v(document).off("keyup"+y.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(y.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(y.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(y.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(y.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(y.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(y.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).show()},startProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).addClass("processing").attr("disabled",true)},stopProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).removeClass("processing").attr("disabled",false)},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(y.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);v(document).on("keyup"+y.button+t.selector,(function(a){if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(y.button).addClass(e)}};var w=b;var S={primary:".js-simplemodal-button-primary",secondary:".js-simplemodal-button-secondary",cancel:".js-simplemodal-cancel"};var C={clearAllEventHandlers(e){this.clearAllActions(e);this.clearAllPerformActionsOnKeyCodes(e)},clearAllActions(e){window.SimpleModal.Footer.Buttons.Primary.clearAction(e);window.SimpleModal.Footer.Buttons.Secondary.clearAction(e);window.SimpleModal.Footer.Buttons.Cancel.clearAction(e)},clearAllPerformActionsOnKeyCodes(e){window.SimpleModal.Footer.Buttons.Primary.clearPerformActionOnKeyCode(e);window.SimpleModal.Footer.Buttons.Secondary.clearPerformActionOnKeyCode(e);window.SimpleModal.Footer.Buttons.Cancel.clearPerformActionOnKeyCode(e)},hide(e){window.SimpleModal.Footer.Buttons.Primary.hide(e);window.SimpleModal.Footer.Buttons.Secondary.hide(e);window.SimpleModal.Footer.Buttons.Cancel.hide(e)},show(e){window.SimpleModal.Footer.Buttons.Primary.show(e);window.SimpleModal.Footer.Buttons.Secondary.show(e);window.SimpleModal.Footer.Buttons.Cancel.show(e)},startProcessing(e){window.SimpleModal.Footer.Buttons.Primary.startProcessing(e);window.SimpleModal.Footer.Buttons.Secondary.startProcessing(e)},stopProcessing(e){window.SimpleModal.Footer.Buttons.Primary.stopProcessing(e);window.SimpleModal.Footer.Buttons.Secondary.stopProcessing(e)}};C.Cancel=h;C.Primary=g;C.Secondary=w;var x=C;var T={text:".js-simplemodal-footer-text"};var E={hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(T.text).hide()},setHtml(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(T.text).html(e)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(T.text).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(T.text).show()}};var k=E;var Z={footer:".js-simplemodal-footer",footerWrapper:".js-simplemodal-footer-wrapper"};var F={hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(Z.footer).hide()},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(Z.footer).show()}};F.Buttons=x;F.Text=k;var I=F;var N={title:".js-simplemodal-title"};var A={setTitle(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(N.title).text(e)},getTitle(e){e=window.SimpleModal._verifyModalObject(e);return e.find(N.title).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(N.title).hide()},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(N.title).show()}};var M=A;var D={header:".js-simplemodal-header",close:".js-simplemodal-close"};var P={show(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.header).show()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.header).hide()},hideCloseButton(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.close).hide()}};P.Title=M;var L=P;var O=a(26570);var R={closeModal(e){if(this.getModalCount()<1){return false}e=this._mergeCloseOptions(e);var t=this._getTopModalOptions();O(document).trigger("simplemodal:close:before");var a=(0,n.executeFunction)(t.callbacks.close.before);if(a===false){return false}var s=O(this.getTopModalSelector());if(t.footer.show===true&&t.footer.custom.html===""&&t.footer.custom.url===""){this.Footer.Buttons.clearAllEventHandlers(s)}if(e.type==="fast"){s.remove();if(this._openModals.length===1){i.Modal.disableNoScroll()}}else if(this._openModals.length>1&&!t.nostack){s.find(this._selectors.wrapper).velocity("slideUp",{complete(){s.remove()},duration:250})}else{if(t.animation){s.velocity("fadeOut",{complete(e){s.remove()},duration:100,easing:[.25,.5,.5,.9]})}else{s.remove()}if(this._openModals.length===1){i.Modal.disableNoScroll()}}this._openModals.pop();if(!e.skipCloseCallback){(0,n.executeFunction)(t.callbacks.close.after);O(document).trigger("simplemodal:close:after")}},init(){this.$=(0,n.setupWrappers)(this.$);this._enableButtons();this._setupListeners();window.SimpleModal=this},openModal(e){e=this._mergeOptions(e);if(this._openModals.length>0&&JSON.stringify(this._openModals[this._openModals.length-1].options)===JSON.stringify(e)){return false}if(e.url===""&&e.html===""){console.warn("Could not find a url to load from or html to show.");return false}O(document).trigger("simplemodal:open:before");var t=(0,n.executeFunction)(e.callbacks.open.before);if(t===false){return false}var a=this,s=this.$.html.clone(),o=this._selectors.prefix+this._openModals.length,r="."+o;if(typeof e.classes==="undefined"){e.classes=""}if(typeof e.data==="undefined"){e.data={}}s.addClass(e.classes+" "+o);if(e.body&&e.body.classes){s.find(this._selectors.body).addClass(e.body.classes)}this._appendModal(s);if(!this._openModals.length){i.Modal.enableNoScroll()}if(e.animation){O(this._selectors.wrapper).addClass("SimpleModal__wrapper--animate")}var l=O(r);this.Header.Title.setTitle(e.header.title.text||e.title,l);if(e.header.show===false){l.addClass("SimpleModal--noHeader");this.Header.hide(l)}if(e.header.title.show===false){this.Header.Title.hide(l)}if(e.header.hideCloseButton){this.Header.hideCloseButton(l)}this._setZIndex(l);this._setModalBgZIndex(l);this._setModalZIndex(l);this._setLoaderZIndex(l);this._openModals.push({$:l,options:e});if(e.url){O.ajax({url:e.url,data:e.data,type:e.method,success(t){if(e.responseToHTML){a._loadHtml(l,e.responseToHTML(t),e);return}if(t==="ERROR"||typeof t==="object"&&!t.success){if(t.error){setMessage(t.error,"error")}else{setMessage(O.__("There was an error processing your request"),"error")}a.closeModal();return}var s;if(typeof t==="object"){s=t.html}else{s=t}a._loadHtml(l,s,e)},error:function(e){if(e.responseText){setMessage(e.responseText,"error")}else{errorFallBack()}a.closeModal()}})}else{this._loadHtml(l,e.html,e)}return l},getTopModalSelector(){if(this._openModals.length>0){return this._openModals[this._openModals.length-1].$}return""},$:{button:".js-simplemodal",html:`<div class="SimpleModal js-simplemodal-container">\n\t\t\t\t\t<div class="SimpleModal__bg js-simplemodal-bg"></div>\n\t\t\t\t\t<div class="SimpleModal__loader js-simplemodal-loader">\n\t\t\t\t\t\t<div class="dotLoader">\n\t\t\t\t\t\t\t<div class="bounce1"></div>\n\t\t\t\t\t\t\t<div class="bounce2"></div>\n\t\t\t\t\t\t\t<div class="bounce3"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${O.__("Loading...")}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="SimpleModal__wrapper js-simplemodal-wrapper">\n\t\t\t\t\t\t<div class="SimpleModal__header js-simplemodal-header clearfix">\n\t\t\t\t\t\t\t<span class="SimpleModal__header-title truncate js-simplemodal-title"></span>\n\t\t\t\t\t\t\t<span class="SimpleModal__header-close js-simplemodal-close">\n\t\t\t\t\t\t\t\t<svg width="11px" height="11px" viewBox="0 0 11 11">\n\t\t\t\t\t\t\t\t\t<g stroke-width="1" sketch:type="MSPage">\n\t\t\t\t\t\t\t\t\t\t<path d="M6.71884008,5.19230161 L9.99010931,1.92103238 C10.4698785,1.44126315 10.5190324,0.705224691 10.0991478,0.28545546 C9.67937854,-0.134429155 8.94334008,-0.0852753088 8.46357085,0.394493922 L5.19230161,3.66576315 L1.92103238,0.394493922 C1.44126315,-0.0852753088 0.705224691,-0.134429155 0.28545546,0.28545546 C-0.134429155,0.705224691 -0.0852753088,1.44126315 0.394493922,1.92103238 L3.66576315,5.19230161 L0.394493922,8.46357085 C-0.0852753088,8.94334008 -0.134429155,9.67937854 0.28545546,10.0991478 C0.705224691,10.5190324 1.44126315,10.4698785 1.92103238,9.99010931 L5.19230161,6.71884008 L8.46357085,9.99010931 C8.94334008,10.4698785 9.67937854,10.5190324 10.0991478,10.0991478 C10.5190324,9.67937854 10.4698785,8.94334008 9.99010931,8.46357085 L6.71884008,5.19230161" class="modalXpath"></path>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="SimpleModal__body js-simplemodal-body" style="visibility: hidden;"></div>\n\t\t\t\t\t\t<div class="SimpleModal__footer-wrapper js-simplemodal-footer-wrapper" style="display: none;">\n\t\t\t\t\t\t\t<div class="SimpleModal__footer js-simplemodal-footer clearfix">\n\t\t\t\t\t\t\t\t<button class="btn btnAction SimpleModal__footer-button-primary js-simplemodal-button-primary"></button>\n\t\t\t\t\t\t\t\t<button class="btn SimpleModal__footer-button-secondary js-simplemodal-button-secondary" style="display: none;"></button>\n\t\t\t\t\t\t\t\t<a class="SimpleModal__footer-cancel js-simplemodal-cancel"></a>\n\t\t\t\t\t\t\t\t<span class="SimpleModal__footer-text js-simplemodal-footer-text" style="display: none;"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},_selectors:{prefix:"js-simplemodal-",openModalButton:".js-simplemodal",background:".js-simplemodal-bg",body:".js-simplemodal-body",buttonPrimary:".js-simplemodal-button-primary",buttonSecondary:".js-simplemodal-button-secondary",cancel:".js-simplemodal-cancel",close:".js-simplemodal-close",container:".js-simplemodal-container",footer:".js-simplemodal-footer",footerWrapper:".js-simplemodal-footer-wrapper",header:".js-simplemodal-header",docHtml:"html",loader:".js-simplemodal-loader",title:".js-simplemodal-title",wrapper:".js-simplemodal-wrapper"},_closeOptions:{type:"",skipCloseCallback:false},_options:{animation:false,body:{classes:""},callbacks:{close:{after(){return true},before(){return true}},open:{after(){return true},before(){return true}}},classes:"",closeOnEscape:true,data:{},footer:{show:true,buttons:{primary:{disabled:false,show:true,text:O.__("Save"),action(e){e=R._verifyModalObject(e);e.find("form").submit()},performActionOnKeyCode:-1},secondary:{disabled:false,show:false,text:"",action(){},performActionOnKeyCode:-1},cancel:{disabled:false,show:true,text:O.__("Cancel"),action(){R.closeModal()},performActionOnKeyCode:-1}},custom:{url:"",html:""},text:{show:false,html:"",text:""}},nostack:true,title:"",header:{hideCloseButton:false,show:true,title:{show:true,text:""}},html:"",url:"",method:"get",responseToHTML:null,deleteModal:{active:false,selector:""},preventSubmit:false},_openModals:[],_appendModal(e){var t=this,a=this._getTopModalOptions();O("body").append(e);var s=e.children(this._selectors.background),n=e.children(this._selectors.loader);if(a.animation){s.velocity("fadeIn",{duration:300});n.velocity("fadeIn",{delay:100,duration:300})}else{s.css("opacity","1");n.addClass("show")}if(this._openModals.length>0){e.addClass("SimpleModal--stacked");e.find(".SimpleModal__footer > .btn").addClass("btnSmall")}},_getDataAttributes(e){return{animation:e.data("animation"),body:{classes:e.data("body-classes")},callbacks:{close:{after:e.data("callbacks-close-after"),before:e.data("callbacks-close-before")},open:{after:e.data("callbacks-open-after"),before:e.data("callbacks-open-before")}},classes:e.data("classes"),closeOnEscape:e.data("close-on-escape"),data:e.data("data"),footer:{show:e.data("footer-show"),buttons:{primary:{disabled:e.data("footer-button-primary-disabled"),show:e.data("footer-button-primary-show"),text:e.data("footer-button-primary-text"),action:e.data("footer-button-primary-action"),performActionOnKeyCode:e.data("footer-button-primary-perform-action-on-key-code")},secondary:{disabled:e.data("footer-button-secondary-disabled"),show:e.data("footer-button-secondary-show"),text:e.data("footer-button-secondary-text"),action:e.data("footer-button-secondary-action"),performActionOnKeyCode:e.data("footer-button-secondary-perform-action-on-key-code")},cancel:{disabled:e.data("footer-button-cancel-disabled"),show:e.data("footer-button-cancel-show"),text:e.data("footer-button-cancel-text"),action:e.data("footer-button-cancel-action"),performActionOnKeyCode:e.data("footer-button-cancel-perform-action-on-key-code")}},custom:{url:e.data("footer-custom-url"),html:e.data("footer-custom-html")},text:{show:e.data("footer-text-show"),html:e.data("footer-text-html"),text:e.data("footer-text-text")}},nostack:e.data("nostack"),title:e.data("title"),header:{show:e.data("header-show"),title:{show:e.data("header-title-show"),text:e.data("header-title-text")}},html:e.data("html"),url:e.data("url"),method:e.data("method"),deleteModal:{active:e.data("delete-modal-active"),selector:e.data("delete-modal-selector")},preventSubmit:e.data("prevent-submit")}},getModalCount(){return this._openModals.length},_getTopModalOptions(){if(this._openModals.length>0){return this._openModals[this._openModals.length-1].options}return""},_deleteModalSetup(e,t){var a=t.find(e);if(a.length>0){a.focus();a.on("keyup",(function(){if(this.value.toUpperCase()==="DELETE"){R.Footer.Buttons.Primary.enable()}else{R.Footer.Buttons.Primary.disable()}}))}},_enableButtons(){var e=this;O("body").on("click",this._selectors.openModalButton,(function(t){var a=O(this);e.openModal(e._getDataAttributes(a))}))},_hideFooter(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.footerWrapper);var a=e.find(this._selectors.header);var s=0;if(a.is(":visible")){s+=a.outerHeight()}this._setBodyAndLoaderHeight(s,e);this.Footer.hide(e)},_loadHtml(e,t,a){e.find(this._selectors.body).html(t);this._setFooter(a.footer,e);this._waitForResourcesToLoad(a,e)},_mergeOptions(e){e=O.extend(true,{},this._options,e);if(e.deleteModal.active){e.footer.buttons.primary.disabled=true}return e},_mergeCloseOptions(e){if(typeof e==="string"){this._closeOptions.type=e}return O.extend(true,{},this._closeOptions,e)},_setBodyAndLoaderHeight(e,t){t=this._verifyModalObject(t);t.find(this._selectors.body).css("height","calc(100% - "+e+"px)")},_setFooter(e,t){var a=this;t=this._verifyModalObject(t);if(e.show===true){var s=t.find(this._selectors.footerWrapper);var n=t.find(this._selectors.header);var i=s.outerHeight();if(n.is(":visible")){i+=n.outerHeight()}if(e.custom.html!==""){s.html(e.custom.html);this._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}else if(e.custom.url!==""){s.empty();O.get(e.custom.url,(function(e){s.html(e);a._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}))}else{this._setFooterButtons(e.buttons,t);this._setFooterText(e.text,t);this._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}s.show()}else{t.addClass("SimpleModal--noFooter");this._hideFooter(t)}},_getHeaderAndFooterHeight:function(e){var t=e.find(this._selectors.footerWrapper);var a=e.find(this._selectors.header);var s=t.outerHeight();if(a.is(":visible")){s+=a.outerHeight()}return s},_setFooterButtons(e,t){var a=this;t=this._verifyModalObject(t);s(e.primary,this.Footer.Buttons.Primary,t);s(e.secondary,this.Footer.Buttons.Secondary,t);s(e.cancel,this.Footer.Buttons.Cancel,t);function s(e,t,s){s=a._verifyModalObject(s);if(e.show===true){t.show(s)}else{t.hide(s)}if(e.disabled===true){t.disable(s)}t.setText(e.text,s);t.addClass(e.classes,s);t.updateAction((function(){e.action(s)}),s);var n=parseInt(e.performActionOnKeyCode);if(n>-1){t.updatePerformActionOnKeyCode(n,s)}}},_setFooterText(e,t){if(e.html!==""){this.Footer.Text.setHtml(e.html,t)}if(e.text!==""){this.Footer.Text.setText(e.text,t)}if(e.show){this.Footer.Text.show(t)}},_setModalBgZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.background);this._setZIndex(t)},setPosition(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.title),a=e[0].clientWidth,s=e[0].clientHeight,n=window.innerWidth,i=window.innerHeight;if(typeof e==="undefined"||e.length===0){return}t.css("max-width",a-60);if(!e.hasClass("full-screen")){if(!e.hasClass("full-width")){if(this._openModals[this._openModals.length-1].originalWidth>n-100){e.css({width:n-100+"px"})}else{e.css({width:"auto"})}}e.css({left:"calc(50% - "+Math.floor(e[0].clientWidth/2)+"px)",height:""});if(!e.hasClass("full-height")){if(i*.4-50>s/2){e.css({top:"calc(40% - "+Math.floor(s/2)+"px)"})}else{e.css({top:"50px"});if(e.height()>i-100){e.css({height:i-100+"px"})}}}}if(e.hasClass("SimpleModal--stacked")){var o=0;var r=0;var l=this._openModals[0].$;if(!l.find(this._selectors.header).is(":visible")){o=-32}else{r=-32}var c=parseInt(l.css("top"))+36+o;e.css({top:c+"px"});if(!e.hasClass("full-screen")&&e.height()>i-100+r){e.css({height:i-100+r+"px"})}}},_setLoaderZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.loader);this._setZIndex(t)},_setModalZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.wrapper);this._setZIndex(t)},_setZIndex(e){var t=(0,s.getMaxZIndex)();O(e).css("zIndex",parseInt(t)+10)},_setupListeners(){O(window).resize((()=>{this._openModals.forEach((e=>{var t=e.$;this.setPosition(t);this._setBodyAndLoaderHeight(this._getHeaderAndFooterHeight(t),t)}))}));this._watchForClose()},_showContent(e,t){var a=this,s=O(this._selectors.container),i=t.find(this._selectors.body),o=O(this._selectors.loader),r=O(this._selectors.footerWrapper);if(t.hasClass("SimpleModal--stacked")){t.find(a._selectors.wrapper).velocity("slideDown",{duration:250,begin:function(){t.addClass("no-overflow")},complete:function(){t.removeClass("no-overflow")}})}l();function l(){if(e.animation){t.find(a._selectors.wrapper).addClass("show")}else{t.find(a._selectors.wrapper).css("opacity","1")}}setTimeout((function(){(0,n.executeFunction)(e.callbacks.open.after)}),0);if(e.deleteModal.active&&e.deleteModal.selector!==""){this._deleteModalSetup(e.deleteModal.selector,t)}if(e.preventSubmit){t.find("form").on("submit",(function(e){e.preventDefault()}))}t.initializeElements();s.removeClass("updating");i.css({visibility:"visible"});i.velocity({opacity:1},{complete(){s.removeClass("updating")},duration:350});r.velocity({opacity:1},{duration:350});o.removeClass("show");this._openModals[this._openModals.length-1].originalWidth=t.width();this.setPosition(t);O(document).trigger("simplemodal:open:after")},_verifyModalObject(e){if(typeof e==="undefined"){e=O(this.getTopModalSelector())}return e},_waitForFooterToLoad(e,t){var a=this;if(e.footer.custom.url!==""&&t.find(a._selectors.footerWrapper).html().length===0){var s=setInterval((function(){if(t.find(a._selectors.footerWrapper).html().length>0){clearInterval(s);a._showContent(e,t)}}),1e3)}else{a._showContent(e,t)}},_waitForResourcesToLoad(e,t){t=this._verifyModalObject(t);var a=t.find(this._selectors.body+" img[src], "+this._selectors.body+' link[type="text/css"]');var s=this,n=a.length,i=0;if(n>0){a.each((function(){var a=document.createElement("img");if(this.src){a.src=this.src}if(this.href){a.src=this.href}a.onload=a.onerror=function(){++i;if(i===n){s._waitForFooterToLoad(e,t)}}}))}else{s._waitForFooterToLoad(e,t)}},_watchForClose(){var e=this;O("body").on("click",this._selectors.close,(function(){e.closeModal()}));O(document).on("keydown",(function(t){let a=e._getTopModalOptions();if(a.closeOnEscape&&(t.which===27||t.keyCode===27)){e.closeModal()}}))},updateModal(e){e=this._mergeOptions(e);this._openModals[this._openModals.length-1].options=e;var t=this,a=O(this._selectors.container),s=O(this._selectors.body),i=O(this._selectors.footerWrapper),o=O(this._selectors.loader),r=O(this.getTopModalSelector());if(typeof window.event!=="undefined"&&window.event.altKey){r.addClass("panda")}O(document).trigger("simplemodal:open:before");var l=(0,n.executeFunction)(e.callbacks.open.before);if(l===false){return false}s.velocity({opacity:0},{begin(){a.addClass("updating");o.addClass("show")},complete(){if(e.url){O.get(e.url,(function(a){t._loadHtml(r,a,e)}))}else{t._loadHtml(r,e.html,e)}},duration:350});i.velocity({opacity:0},{duration:350})}};R.Body=c;R.Footer=I;R.Header=L;R.init();var B=R},8471:(e,t,a)=>{"use strict";a.r(t);a.d(t,{centerDialog:()=>l,shareFacebook:()=>n,shareLinkedIn:()=>i,shareTwitter:()=>o});var s=a(38592);function n(e){window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r(e))}`,"facebook-share-dialog",l(626,436))}function i(e,t){e+=`?uid=${(0,s.makeUid)()}`;window.open(`http://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(r(e))}`+`&title=${encodeURIComponent(t.shareText)}`+"&summary="+"&source=BambooHR","linkedin-share-dialog",l(570,476))}function o(e,t){window.open(`${"https://twitter.com/intent/tweet"+"?text="}${encodeURIComponent(t.shareText)}&original_referer=${encodeURIComponent(document.location.href)}&related=${t.related}&source=tweetbutton`+`&url=${encodeURIComponent(r(e))}`,"twitter-share-dialog",l(500,442))}function r(e){if(e.indexOf("http")<0||e.indexOf("https")<0){return`${location.protocol}//${e}`}return e}function l(e,t){const a=(document.body.getBoundingClientRect().width-e)/2;const s=(document.body.getBoundingClientRect().height-t)/2;return`height=${t}, width=${e}, top=${s}, left=${a}`}},80962:(e,t,a)=>{"use strict";a.d(t,{Ix:()=>s,U0:()=>i,lF:()=>n});var $=a(26570);const s=()=>{const e=window.BambooHR.Modal.isOpen();let t={};const a={content:$.__("Payroll will not be able to run for this user unless they have a valid Social Security Number."),primaryAction:()=>{if(e){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("OK, Got It"),alternativeActionText:"",primaryActionKey:"Enter",isOpen:true,title:$.__("Just So You Know...")};if(e){t={isOpen:true,sheetProps:a}}else{t=a}window.BambooHR.Modal.setState(t,e)};const n=e=>{const t=window.BambooHR.Modal.isOpen();let a={};const s={isOpen:true,icon:"fab-money-circle-54x54",iconColor:"danger",content:$.__("Before adding this employee to the '%1' pay schedule you need to update the employee's Social Security Number.",e),primaryAction:()=>{if(t){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("OK, Got It"),alternativeAction:null,title:$.__("Oops, That Won't Work...")};if(t){a={isOpen:true,sheetProps:s}}else{a=s}window.BambooHR.Modal.setState(a,t)};const i=(e,t,a)=>{const s=window.BambooHR.Modal.isOpen();let n={};const i={content:t,onClose:()=>{if(a&&typeof a==="function"){a(false)}},primaryAction:()=>{if(a&&typeof a==="function"){a(true)}if(s){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Yes"),iconColor:"danger",primaryActionKey:"Enter",isOpen:true,title:e};if(s){n={isOpen:true,sheetProps:i}}else{n=i}window.BambooHR.Modal.setState(n,s)}},40904:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const s=new WeakMap;class n{static get className(){return"Sticky"}static getInstance(e){return s.get(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._element=e;this._settings={anchor:window,...t};this._stuck=false;this._verifySettings();if(!this._settings.alwaysStick){this._wireEvents()}this._addSpacerElement();s.set(this._element,this);if(this._settings.alwaysStick||this._settings.immediate){this._updateStickiness()}}get _elementRect(){return this._getRect(this._element)}get _spacerElementRect(){return this._getRect(this._spacerElement)}get _anchorElementRect(){return this._getRect(this._settings.anchor)}stick(){this._adjustSpacerHeight();this._element.style.position="fixed";if(this._settings.anchor){this._positionAtAnchor()}this._stuck=true;if(this._watchHeight&&!this._watchingHeight){this._watchHeight()}}unStick(){this._adjustSpacerHeight();this._element.style.position="";this._stuck=false;this._watchingHeight=false}destroy(){if(this._spacerElement&&this._spacerElement.parentNode){this._spacerElement.parentNode.removeChild(this._spacerElement)}this._unwireEvents()}_removeSpacerElement(){if(this._spacerElement?.parentNode){this._spacerElement.parentNode.removeChild(this._spacerElement)}this._spacerElement=null}_addSpacerElement(){const{spacerCSSClass:e}=this._settings;const t=this._element;const a=this._spacerElement=document.createElement("div");if(e){a.classList.add(e)}t.parentNode.insertBefore(a,t);a.appendChild(t)}_adjustSpacerHeight(){if(this._stuck){this._spacerElement.style.height=`${this._elementRect.height}px`}else{this._spacerElement.style.height=""}}_wireEvents(){this._boundScrollHandler=this._scrollHandler.bind(this);window.addEventListener("scroll",this._boundScrollHandler)}_unwireEvents(){window.removeEventListener("scroll",this._boundScrollHandler);this._boundScrollHandler=null}_shouldStick(){const{anchor:e,shouldStick:t}=this._settings;if(typeof t==="function"){return t(this._element,this._elementRect)}if(!e){console.warn(`Could not determine when to stick element ${this._element}`);return false}return this._spacerElementRect.top<this._anchorElementRect.bottom&&this._isFixed(e)}_shouldUnstick(){const{shouldUnstick:e}=this._settings;if(typeof e==="function"){return e(this._element,this._elementRect)}return this._elementRect.top<=this._spacerElementRect.top}_getRect(e){if(e===window){return{bottom:0,height:0,left:0,right:0,top:0,width:0}}return e.getBoundingClientRect()}_isFixed(e){if(e===window){return true}const t=window.getComputedStyle(e).getPropertyValue("position");return t==="fixed"}_positionAtAnchor(){this._element.style.top=`${this._anchorElementRect.bottom}px`}_updateStickiness(){const{alwaysStick:e,onAfterStick:t,onAfterUnstick:a,onBeforeStick:s,onBeforeUnstick:n}=this._settings;if(e||this._shouldStick()){if(typeof s==="function"){s()}this.stick();if(typeof t==="function"){t()}}else if(this._shouldUnstick()){if(typeof n==="function"){n()}this.unStick();if(typeof a==="function"){a()}}this._triggerUpdateEvent()}_triggerUpdateEvent(){this._element.dispatchEvent(new CustomEvent("ba:stickyUpdate",{bubbles:true,detail:{stuck:this._stuck}}))}_verifySettings(){const{anchor:e,shouldStick:t}=this._settings;if(!this._element){throw new Error("An element to make sticky must be provided.")}if(!e&&typeof t!=="function"){throw new Error("An element anchor option or shouldStick callback option is required to use Sticky.")}}_watchHeight(){if(this._watchingHeight){return}if(this._spacerElement.height!==this._anchorElementRect){this._adjustSpacerHeight()}window.requestAnimationFrame((()=>this._watchHeight()))}_scrollHandler(){this._updateStickiness()}}},14063:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(40904);class n extends s.Z{static get className(){return"StickyTableHeader"}constructor(e,t){if(!e.tHead){throw new Error(`${e} must contain a <thead>. No <thead> was found.`)}super(e.tHead.firstElementChild,t);this._tableElement=e;this._positionAtSpacer();this._updateStickiness()}get _hasPassedBottomOfParent(){const e=this._tableElement.getBoundingClientRect();return this._elementRect.bottom>e.bottom}stick(){this._element.style.position="fixed";if(this._settings.anchor){this._positionAtAnchor()}this._stuck=true}unStick(){this._positionAtSpacer();this._stuck=false}update(){this._addSpacerElement();this._updateStickiness()}_positionAtSpacer(){const e=window.getComputedStyle(this._tableElement);const t=e.getPropertyValue("position");if(t==="static"){this._tableElement.style.position="relative"}this._element.style.position="absolute";this._element.style.left=0;this._element.style.top=0;this._element.style.width="100%"}_positionAtAnchor(){super._positionAtAnchor();this._element.style.left=`${this._spacerElementRect.left}px`;this._element.style.width=`${this._spacerElementRect.width}px`;this._element.style["z-index"]=1}_wireEvents(){super._wireEvents();this._boundResizeHandler=this._resizeHandler.bind(this);window.addEventListener("resize",this._boundResizeHandler)}_unwireEvents(){super._unwireEvents();window.removeEventListener("resize",this._boundResizeHandler);this._boundResizeHandler=null}_resetCells(){const e=[].slice.call(this._element.children);const t=[].slice.call(this._spacerElement.children);t.forEach(((t,a)=>{const s=e[a];t.style.width=s.dataset.sthOriginalWidthStyle;s.style.width=s.dataset.sthOriginalWidthStyle;delete t.dataset.sthOriginalWidthStyle;delete s.dataset.sthOriginalWidthStyle}))}_addSpacerElement(){const e=this._spacerElement;this._spacerElement=this._element.cloneNode(true);this._spacerElement.style.visibility="hidden";this._spacerElement.style.position="static";const{spacerCSSClass:t}=this._settings;if(t){this._spacerElement.classList.add(t)}this._resetCells();if(e&&e.parentNode){this._element.parentNode.replaceChild(this._spacerElement,e)}else{this._element.parentNode.appendChild(this._spacerElement)}}_updateColumnWidths(){const e=[].slice.call(this._element.children);const t=[].slice.call(this._spacerElement.children);this._resetCells();e.forEach(((e,a)=>{const s=t[a];const n=`${s.offsetWidth}px`;e.dataset.sthOriginalWidthStyle=s.style.width;e.style.width=n}))}_updateStickiness(){super._updateStickiness();this._updateColumnWidths()}_resizeHandler(){this._positionAtSpacer();this._updateStickiness()}_scrollHandler(){super._scrollHandler();this._element.style.visibility=this._hasPassedBottomOfParent?"hidden":"visible"}setTableElement(e){if(e){this._removeSpacerElement();this._tableElement=e;this._element=e?.tHead?.firstElementChild;this._addSpacerElement()}}}},69835:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(73641);var n=a.n(s);var i=a(48853);var o=a(56445);var r=a.n(o);class l extends i.Z{static get className(){return"Tooltip"}constructor(e,t){t=(0,s.extend)({themeClass:"Balloon--tooltip",delay:300,tail:true,tailSize:8,minTailOnBalloon:6,triggerEvent:"hover",push:(0,o.ifFeature)("encore",8,10)},t);super(e,t)}static createStandard(e,t){if(t.template){throw new Error(`You misunderstand the purpose of creating a standard tooltip. You don't need a template option using this creation method.`)}const{title:a,content:s,...n}=t;n.template={name:"tooltip-standard",data:{title:a,content:s}};return super.create(e,n)}}},1415:(e,t,a)=>{"use strict";a.d(t,{si:()=>w,Tg:()=>S});var s=a(19273);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(17842);var l=a.n(r);var c=a(60042);var d=a.n(c);var u=a(59155);var $=a(26570);const h=(0,u.makeStyles)((e=>{let{palette:t,typography:a}=e;return{optionNote:{fontSize:a?.teenie?.fontSize},optionNoteNotActive:{color:t.gray[700]}}}));function p(e){let{employeeAccessLevels:t=[],employeeAccessLevel:a,onChange:s}=e;const o=h();const[r,l]=(0,i.useState)(a);const c=(e,t)=>{if(e.value==="full"){return(0,n.Z)("div",{},void 0,(0,n.Z)("div",{},void 0,e.text),(0,n.Z)("div",{className:d()(o.optionNote,{[o.optionNoteNotActive]:!t.isActive})},void 0,$.__("Allows them to see the same info about themselves as they can see about others.")))}return e.text};return(0,n.Z)(u.Select,{id:"AccessLevelsSettingsModal__employeeAccessLevel",isClearable:false,items:t,onChange:e=>{let[t]=e;l(t);if(typeof s==="function"){s(t)}},selectedValues:[r],width:7,renderOptionContent:c})}var m=a(26570);function f(e){let{onEmployeeAccessLevelChange:t,url:a}=e;const[s,r]=(0,i.useState)(null);const{user:c,employeeAccessLevels:d=[],employeeAccessLevel:u}=s||{};(0,i.useEffect)((()=>{if(s){return r(null)}if(a&&typeof a==="string"){l().get(a).then((e=>{r({...e.data,employeeAccessLevels:e.data.employeeAccessLevels.map((e=>{let{value:t,label:a}=e;return{text:a,value:t}}))})}))}}),[a]);(0,i.useEffect)((()=>{if(s){window.BambooHR.Modal.setState({isLoading:false},true)}}),[s]);return s&&(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)("fieldset",{className:"fab-FormSection no-margin"},void 0,(0,n.Z)("legend",{className:"fab-FormSection__legend no-margin"},void 0,c?(0,n.Z)(i.Fragment,{},void 0,c==="true"?(0,n.Z)(i.Fragment,{},void 0,m.__(`Hold on!`)," ",m.__(`Before you add a Payroll Admin, you need to set a default Employee Access Level that will apply to all Payroll admins.`)):(0,n.Z)(i.Fragment,{},void 0,m.__(`Before %1$s can become a Payroll Admin, you need to set a default Employee Access Level for Payroll admins.`,c.firstName))," ",m.__(`You'll only need to do this once, and it can be changed later in Payroll settings.`)):(0,n.Z)(i.Fragment,{},void 0,m.__(`Set what Payroll Admins can see about themselves.`)),(0,n.Z)("span",{className:"fab-FormSection__legendNote"},void 0,c?(0,n.Z)(i.Fragment,{},void 0,m.__(`This determines what information they will be able to see about themselves.`)," ",m.__(`If they are also in a Custom Access Level, their permissions will be combined.`)):(0,n.Z)(i.Fragment,{},void 0,m.__(`This is done by choosing the Employee Access Level.`)," ",m.__(`Note that if they are also in a Custom Access Level, their permissions will be combined.`))))),(0,n.Z)("fieldset",{className:"fab-FormSection no-padding"},void 0,(0,n.Z)("div",{className:"fab-FormRow no-margin"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"AccessLevelsSettingsModal__employeeAccessLevel"},void 0,m.__(`Which Employee Access Level should Payroll Admins have?`)),(0,n.Z)("div",{className:"fab-InputWrapper"},void 0,o().createElement(p,{onChange:t,employeeAccessLevels:d,employeeAccessLevel:u})))))))}var g=a(26570);const v="/access_levels/payroll-admin/edit";function y(e){let t=g.__("Payroll Admin Settings");let a=g.__("Save");const s=new URL(v,window.location.href);const i={};if(e){t=g.__("Payroll Admin Employee Access Level");if(typeof e==="object"){const{firstName:t,employeeId:n,userId:i}=e;a=g.__("Save & Add %1$s",t);s.searchParams.append("user[firstName]",t);s.searchParams.append("user[employeeId]",n);s.searchParams.append("user[userId]",i)}else{s.searchParams.append("user","true")}}return new Promise(((e,o)=>{window.BambooHR.Modal.setState({isOpen:true,title:t,headerType:"text",headline:g.__("Payroll Admin"),icon:"fab-lock-16x20",isLoading:true,primaryActionText:a,primaryAction:()=>{if(!i.employeeAccessLevel){window.BambooHR.Modal.setState({isOpen:false});return}b(i).then(e).catch(o)},content:(0,n.Z)(f,{onEmployeeAccessLevelChange:e=>{i.employeeAccessLevel=e},url:s.href})})}))}function b(e){let{employeeAccessLevel:t}=e;window.BambooHR.Modal.setState({isProcessing:true},true);return l().post(v,{employeeAccessLevel:t}).then((e=>{let{data:a}=e;if(!a.success){throw new Error(a)}if(a.message){window.setMessage(a.message,"success")}window.BambooHR.Modal.setState({isOpen:false});return{...a,employeeAccessLevel:t}})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);window.setMessage(e.errorMessage||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(e.error||e)}))}var w={showSettingsModal:y};function S(){return l().get("/settings/access_levels/group_list")}},19273:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Le});var s=a(73641);var n=a(38592);var i=a(17842);var o=a.n(i);var r=a(1415);var l=a(96064);var c=a(88604);var d=a(23321);var u=a.n(d);var h=a(37803);var p=a(96247);var m=a.n(p);var f=a(21106);var g=a.n(f);var v=a(45638);var y=a.n(v);var b=a(89835);var $=a(26570);function w(e){let{_bem:t,icon:a,isButton:s,isDropdown:n,isOption:i,isInput:o,$elem:r}=e;if(i){return(0,b.Z)("ba-option",{},void 0,$.__("BambooHR Access Level"),(0,b.Z)("div",{className:t("label")}),(0,b.Z)("ba-option-group",{class:t("down-list")}),(0,b.Z)("div",{className:t("inputWrapper"),style:{display:"none !important"}}))}let l;let c;if(r&&r[0]){if(r[0].hasAttribute("width")){l=parseInt(r.attr("width"))}if(r[0].hasAttribute("name")){c=r.attr("name")}}if(s){return(0,b.Z)("ba-dropdown",{"button-icon":a,"button-outline":true,"button-secondary":true,"button-size":"teenie",class:t("^"),width:l})}if(o){return(0,b.Z)("ba-select",{"button-width":7,name:c,"not-clearable":true,width:l})}return(0,b.Z)("div",{className:t("^")},void 0,(0,b.Z)("div",{className:t("menu")},void 0,(0,b.Z)("div",{className:t("btn")},void 0,n&&(0,b.Z)("a",{},void 0,$.__("BambooHR Access Level"),(0,b.Z)("br",{}),(0,b.Z)("i",{className:t("label")}))),(0,b.Z)("ul",{className:t("down-list"),style:{display:"none"}})),(0,b.Z)("div",{className:t("inputWrapper"),style:{display:"none !important"}}))}var S=a(59155);var C=a(26570);function x(e){let{label:t,...a}=e;const{isButton:s,isInput:n,isExcluded:i,levelTypes:o}=a;return(0,b.Z)(d.Fragment,{},void 0,(0,b.Z)("ba-toggle-content",{},void 0,t),s&&u().createElement(I,a),o.filter((e=>e.name!=="all"&&!i(e.name))).map((e=>u().createElement(Z,(0,c.Z)({},a,{key:e.name,levelType:e})))),!i("multiple")&&u().createElement(E,(0,c.Z)({anchor:"bottom","data-bi-id":"test-id"},a),u().createElement(T,(0,c.Z)({},a,{multiple:true}),C.__("Multiple Access Levels..."))),n&&u().createElement(N,a))}function T(e){const{_bem:t,children:a,classes:s,accessLevel:n,isSelected:i,multiple:o=false,preview:r=false,resetPassword:l=false,managePayrollCompanyAccess:c=false}=e;const d=n&&i(n);const u=t("item",{"^checked":d},s);let h;let p="";if(o){h="multiple";p="multiple-access-levels-action"}else if(r){h="preview";p="preview-user-action"}else if(l){h="resetPassword";p="reset-user-password-action"}else if(n){h=n.id||"no_access"}else if(c){h="managePayrollCompanyAccess"}return(0,b.Z)("ba-option",{"action-only":!n||undefined,"data-access-level-selector-id":h,value:h},void 0,(0,b.Z)("div",{className:u,"data-bi-id":p},void 0,d&&(0,b.Z)("span",{className:t("ico","checked")},void 0,(0,b.Z)(S.Icon,{name:"fab-check-14x14"})),a))}function E(e){let{children:t,label:a,anchor:s}=e;return(0,b.Z)("ba-option-group",{anchor:s,label:a},void 0,t)}function k(e){const{accessLevel:t,isOption:a}=e;const{label:s,count:n}=t;return u().createElement(T,e,s," ",(0,b.Z)("span",{className:"ba-Dropdown__optionDescriptorText"},void 0,"(",n,")"))}function Z(e){const{levelType:t}=e;let{levels:a,label:s}=t;if(!(Array.isArray(a)&&a.length>0)){a=[t];s=null}if(Array.isArray(a)){return u().createElement(E,(0,c.Z)({},e,{label:s}),a.map((t=>u().createElement(k,(0,c.Z)({},e,{key:t.id||t.name,accessLevel:t})))))}return u().createElement(k,(0,c.Z)({},e,{accessLevel:t}))}function F(e,t){if(!e){return false}const a=t.map((e=>{if(e?.levels){return e.levels}return e})).flat();const s=a.find((t=>t.id===e));if(!s){return false}return s.isPayrollPermission}function I(e){const{_bem:t,canPreview:a,isExcluded:s,hasEmail:n,firstName:i,levelTypes:o,accessLevelId:r}=e;const l=a===true&&!s("preview");const d=n&&!s("resetPassword");if(!l&&!d){return null}return u().createElement(E,(0,c.Z)({anchor:"top"},e),l&&u().createElement(T,(0,c.Z)({},e,{classes:"js-previewAs",preview:true}),(0,b.Z)("span",{className:t("ico","preview")},void 0,(0,b.Z)("ba-icon",{name:"fab-eye-16x12"})),C.__("Preview BambooHR as %1",i)),d&&window.SESSION_COMPANY.allowPasswordLogin===true&&u().createElement(T,(0,c.Z)({},e,{classes:"js-resetPassword",resetPassword:true}),C.__(`Reset User's Password`)),F(r,o)&&u().createElement(T,(0,c.Z)({},e,{classes:"js-managePayrollCompanyAccess",managePayrollCompanyAccess:true}),C.__(`Manage Payroll Access`)))}function N(e){let{accessLevelIds:t,inputFieldName:a,noAccessFieldName:s,noAccessValue:n}=e;return(0,b.Z)(d.Fragment,{},void 0,t.map((e=>(0,b.Z)("input",{name:a,type:"hidden",value:e},e))),(0,b.Z)("input",{name:s,type:"hidden",value:n}))}const A=e=>microTemplate(g(),e);const M=e=>microTemplate(y(),e);const D=new(m())("AccessLevelSelector",null,{menu:()=>["dropdown-menu"],btn:e=>{let{isButton:t,icon:a}=e;return["btn",{btnSmall:t,btnIcon:t&&a!=="none"}]},label:e=>{let{isOption:t}=e;return["js-AccessLevelSelector__label",{"fab-MenuOption__note":t}]},"down-list":()=>["js-AccessLevelSelector__down-list","down-list"],inputWrapper:()=>["js-AccessLevelSelector__inputWrapper"],item:()=>["branded-border-before"]});function P(e,t){const{fieldType:a}=t;const s=(e,s,n)=>new(m())(D,a,n).className(e,s,t);return(0,h.renderToStaticMarkup)(u().createElement(e,(0,c.Z)({_bem:s},t)))}const L=e=>P(w,e);const O=e=>P(x,e);var R=a(21198);var B=a(98675);var j=a(60658);var H=a(26570);const q=new R.BEM("AccessLevelChangeModal");function W(e){const{clickAction:t}=e;return(0,b.Z)(B.u_,{content:(0,b.Z)("p",{className:q.elem("copy")},void 0,H.__("Changing your access level could cause you to lose access to BambooHR features and functionality. You may not be able to undo this action.")),headline:H.__("Are you sure you want to change your access level?"),icon:"fab-triangle-exclamation-54x54",iconColor:"attention",isOpen:true,onClose:()=>(0,j.Mr)(),primaryAction:()=>{if(t){t()}(0,j.Mr)()},primaryActionText:H.__("Yes, Change My Access Level"),title:H.__("Are You Sure? You May Lose Access...")})}const U=e=>(0,j.K4)(u().createElement(W,e));var z=a(26570);const V="ba-access-level-selector";const Y=["input","button","li","ba-select","ba-option"];const G=Y.map((e=>`${e}[${V}]`)).join(", ");const K="/settings/access_levels/group_list";const X="/settings/access_levels/user_info";const J="/ajax/employees/multiple_group_selection.php";const Q="/settings/access_levels/save_employees_access_level";const ee="/settings/access_levels/preview_as_user/%1";const te=10;const ae=500;const se=new WeakMap;const ne=new WeakMap;const ie=new WeakMap;const oe=new WeakMap;const re=new WeakMap;const le=new WeakMap;const ce=new WeakMap;const de=new WeakMap;const ue=new WeakMap;const he=new WeakMap;const pe=new WeakMap;const me=new WeakMap;const fe=new WeakMap;const ge=new WeakMap;let ve=[];let _e;const ye=[];let be;const we=[];const Se=[];const Ce=[];const xe={users:{},employees:{}};let Te;const Ee={};function ke(e){if(ge.get(e)){return e}e.off(".AccessLevelSelector");ge.set(e,true);e.on("hover.AccessLevelSelector",null,e,(()=>Ne(e))).on("click.AccessLevelSelector","li[data-id]",e,(function(){const t=z(this).attr("data-id");Ae(t,e)}));e.$wrapper.closest(".BhrForms").on("reset.AccessLevelSelector",(()=>{e.reset()}));e.$wrapper.closest("ba-dropdown, ba-select").on("ba:dropdownSelect ba:selectChange",(t=>{let{originalEvent:{type:a,target:s,detail:n}}=t;let i;if(a==="ba:dropdownSelect"){i=n.item.item.dataAccessLevelSelectorId}else if(a==="ba:selectChange"){i=z(s).find(`ba-option[value="${n.value}"]`).data("accessLevelSelectorId")}if(i){Ae(i,e)}}));return e}function Ze(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++){s[n-2]=arguments[n]}let i=[];switch(t){case"change":i=[e.user.accessLevelIds,e.user];break}i.push(e);setTimeout((()=>{e.$wrapper.trigger(`AccessLevelSelector:${t}`,i.concat(s))}),0);return e}function Fe(e){if(e.userId!==null){window.location.href=window.sprintf(ee,[e.userId])}}function Ie(e){if((0,s.isPlainObject)(e.user)&&e.user.userId){(0,l.N)(e.user)}}function Ne(e){if(e.hasEmployee&&e.hasUser&&!e.hasUserData){e.fetch((()=>{e.refresh()}))}}function Ae(e,t){const a=window.SESSION_USER&&window.SESSION_USER.isAdmin;const{employeeId:s,userId:n}=t.user;const{label:i}=t.tmplData;e=e||"no_access";if(e==="no_access"||typeof Ee[e]!=="undefined"){if(a&&s===window.SESSION_USER.employeeId){return U({clickAction:()=>t.save(e)})}return t.save(e)}switch(e){case"multiple":{Me(t);break}case"preview":{Fe(t);break}case"resetPassword":{Ie(t);break}case"managePayrollCompanyAccess":{const e={employeeId:s,userId:n,accessLevelName:i};Ze(t,"openManagePayrollCompanyAccessModal",e);break}default:{Rollbar.warn(`[AccessLevelSelector] invalid levelId: "${e}" (${typeof e}) `);break}}}function Me(e){const{userId:t,employeeId:a}=e;const s=Ee["payroll-admin"];o().get(J,{userId:t,employeeId:a,header:"employee"}).then((t=>{if(t.status===200){const{data:a}=t;const{user:{employeeName:s}}=e;window.BambooHR.Modal.setState({biId:"multiple-access-levels",isOpen:true,title:z.__("Multiple Access Levels"),primaryAction(){const t=document.querySelectorAll('#multiple-permissions input[type="checkbox"][name="groups"]:checked');const a=[...t].map((e=>e.value));e.save(a).then((()=>{window.BambooHR.Modal.setState({isOpen:false})}))},icon:"fab-lock-person-18x18",headline:s,headerType:"text",primaryActionText:z.__("Save"),dangerousContent:a})}}))}function De(e,t,a){const{employeeId:s,hasEmployee:i,userId:r,user:{firstName:l}}=e;let c=t.length>1?z.__("%1$s Access Levels",t.length):(Ee[t[0]]||{}).label;let d;let u;let h=`/employees/updateEmails/${s}`;if(!i){h=`/settings/users/edit/${r}`}const p=A(e);const m=z.__("Add %1$s to %2$s",l,c);const f=()=>{const s=z("#access-levels-require-email-form");o().post(h,s.serialize()).then((function(s){let{data:n}=s;if(!n.success){const{error:e,errorMessage:t}=n;setMessage(t,"error");console.error(e);return}e.user.hasEmail=true;window.BambooHR.Modal.setState({isOpen:false});e.save(t,a).done((()=>{Ze(e,"changeEmail")}))}))};const g=e=>{const t=z("#access-levels-require-email-form");u=t.find('input[type="text"]');u.on("keyup paste change blur focus",(function(){var e=u.toArray().map((e=>e.value));if(e.map(n.validateEmail).includes(true)){window.BambooHR.Modal.setState({primaryAction:f},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}))};window.BambooHR.Modal.setState({dangerousContent:p,isOpen:true,onOpen:g,primaryAction:null,primaryActionText:z.__("Save"),title:m})}function Pe(e){return r.si.showSettingsModal(e)}class Le{static get className(){return"AccessLevelSelector"}static fetchLevels(e){if((0,s.isFunction)(e)){we.push(e)}clearTimeout(be);be=setTimeout((()=>{z.getJSON(K).done((e=>{Te=e.levelTypes;Te.forEach((e=>{if(Array.isArray(e.levels)){e.levels.forEach((t=>{t.type=e.name;Ee[t.id]=t;Ee[t.name]=t}))}else if(e.id){Ee[e.id]=e;Ee[e.name]=e}delete Ee.undefined}));(0,n.callFunctionQueue)(we);we.length=0}))}),te);return Le}static fetchUser(e,t,a){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!i&&e===null){(t||s.noop)({accessLevelIds:[],noAccess:false});return Le}if(Ce.length+Se.length>=ae){(t||s.noop)({});return Le}let o=i?"employees":"users";xe[o]=xe[o]||{};xe[o][e]=t;(i?Ce:Se).push(e);clearTimeout(_e);_e=setTimeout((()=>{z.post(X,{userIds:Se,employeeIds:Ce}).done((e=>{let{success:t,errorMessage:i,error:o,users:r}=e;if(!t){setMessage(i,"error");console.error(o);return}r.forEach((e=>{(xe.users[e.userId]||xe.employees[e.employeeId]||s.noop)(e)}));(0,n.callFunctionQueue)(ye,null,r);ye.length=0;(a||s.noop)(r)}));Se.length=0;Ce.length=0}),te);return Le}static fetchEmployee(e,t,a){return Le.fetchUser(e,t,a,true)}static hideNotLoaded(){Le.$elements.css("visibility","hidden");return Le}static each(){Le.$elements.each(...arguments);return Le}static init(){Le.hideNotLoaded().refresh();return Le}static refresh(){z((()=>{if(!Le.$elements.length){return}Le.hideNotLoaded();Le.fetchLevels((()=>{ve=ve.filter((e=>{if(e&&e.$wrapper&&e.$wrapper.closest(document.documentElement).length>0){e.refresh();return true}}));Le.each((function(){new Le(this)}))}))}));return Le}static get $elements(){return z(G)}get $wrapper(){return se.get(this)}get $downList(){return ne.get(this)}get $inputWrapper(){return ie.get(this)}get $label(){return oe.get(this)}get type(){return re.get(this)}get isButton(){return this.type==="button"}get isInput(){return this.type==="input"}get isDropdown(){return this.type==="li"}get isOption(){return this.type==="ba-option"}get userId(){return le.get(this)}get accessLevelId(){return de.get(this)}get employeeId(){return ce.get(this)}get user(){let e=ue.get(this);if(!e){e={};ue.set(this,e)}return e}get hasUser(){return!!this.userId}get hasEmployee(){return!!this.employeeId}get hasUserData(){return!!(this.user.userId||this.user.employeeId)}get icon(){return he.get(this)||"fab-lock-person-18x18"}get label(){if(this.user.noAccess){return z.__("No Access")}let e=this.user.accessLevelIds||[];let t=e.length;let a;let s;switch(t){case 0:a=pe.get(this);break;case 1:s=e[0];a=(Ee[s]||{}).label;break;default:a=z.__("%1 Access Levels",t);break}return a}get exclude(){return me.get(this)}get tmplData(){var e=this;var t="accessLevelIds";var a="noAccess";if(this.userId){t+=`[${this.userId}]`;a+=`[${this.userId}]`}return{accessLevelId:this.accessLevelId,label:this.label,levelTypes:Te,fieldType:this.type,isButton:this.isButton,isInput:this.isInput,isDropdown:this.isDropdown,isOption:this.isOption,icon:this.icon,firstName:this.user.firstName,hasEmail:this.user.hasEmail,canPreview:!!this.user.canPreview,accessLevelIds:this.user.accessLevelIds,inputFieldName:t+"[]",noAccessValue:JSON.stringify(this.user.noAccess),noAccessFieldName:a,isSelected(t){if(!t){return false}let a=e.user.accessLevelIds.some((e=>String(e)===String(t.id)));return a&&e.user.noAccess!==true||e.user.noAccess==true&&t.name==="no_access"},isExcluded(t){if((0,s.isString)(t)){t={type:t}}let a=t.type||t.name;return!e.hasEmployee&&a=="employee"||e.exclude.includes(t.type)||e.exclude.includes(t.id)||e.exclude.includes(t.name)}}}constructor(e){var t=z(e);var a=e.nodeName.toLowerCase();re.set(this,a);var n=t.attr("data-icon");he.set(this,n);var i=t.attr("data-placeholder")||`–${z.__("None Selected")}–`;pe.set(this,i);var o=(t.attr("data-exclude")||"").trim().split(/\s*,\s*/g);me.set(this,o);var r=t.attr("data-user-id")||null;r=(0,s.isString)(r)&&r.trim()==="null"?null:r;le.set(this,r);var l=t.attr("data-employee-id")||null;l=(0,s.isString)(l)&&l.trim()==="null"?null:l;ce.set(this,l);var c=t.attr("data-access-level-id")||null;de.set(this,c);this.fetch((a=>{if(a.isOwner){t.remove();return}me.set(this,(0,s.union)(this.exclude||[],a.exclude||[]));var n=z(L({...this.tmplData,$elem:t}));se.set(this,n);Object.entries(e.dataset).forEach((e=>{let[t,a]=e;n.attr((0,s.kebabCase)(`data ${t}`),a)}));let i;if(n.is("ba-dropdown, ba-select")){i=n}else{i=n.find(".js-AccessLevelSelector__down-list")}ne.set(this,i);var o=n.find(".js-AccessLevelSelector__inputWrapper");ie.set(this,o);var r=n.find(".js-AccessLevelSelector__label");oe.set(this,r);n.data("AccessLevelSelector",this);if(this.isDropdown){t.html(n).addClass("hasSublist").css("visibility","").data("AccessLevelSelector",this)}else{t.replaceWith(n)}ke(this);this.refresh();Ze(this,"init")}));ve.push(this)}on(){this.$wrapper.on(...arguments);return this}off(){this.$wrapper.off(...arguments);return this}reset(){this.save(null);Ze(this,"reset");return this}fetch(e,t){let a=this.hasEmployee&&!this.hasUser;let n=a?this.employeeId:this.userId;Le.fetchUser(n,(t=>{ue.set(this,t);fe.set(this,(0,s.clone)(t));(e||s.noop)(t)}),t,a);return this}refresh(){const{tmplData:e}=this;this.$downList.html(O(e));this.$inputWrapper.html(M(e));this.$label.text(this.label);Ze(this,"refresh");return this}save(e,t){let a=[];let n=e==="no_access";let i=t||z.Deferred();const o=Ee["payroll-admin"];if(Array.isArray(e)){a=e.map((e=>String(e)))}else if(e==="no_access"){a=this.user.accessLevelIds||[];n=true}else if(e===null){let e=fe.get(this)||{};a=e.accessLevelIds||[];n=!!e.noAccess}else{a=[e]}if(o&&!n&&a.includes(o.id)&&!o.defaultESS&&o.selfAccessLevel=="none"&&this.user&&this.user.firstName){Pe(this.user).then((e=>{let{employeeAccessLevel:t}=e;o.defaultESS=t;o.selfAccessLevel="NotNone";this.save(a,i)}));return i.promise()}if(this.isInput){this.user.accessLevelIds=a;this.user.noAccess=n;this.refresh();Ze(this,"change");i.resolve(this.user)}else if(this.userId||this.employeeId){if(!this.user.hasEmail){De(this,a,i);return i.promise()}let e={userIds:[this.userId],employeeIds:[this.employeeId],editType:"change",accessLevelIds:a,noAccess:n};z.post(Q,e).done((e=>{if(!e.success){setMessage(e.errorMessage,"error");console.error(e.error);i.reject(e.error);return}let t=e.users[this.userId]||(0,s.find)(e.users,{employeeId:this.employeeId})||{};le.set(this,t.userId||this.userId);this.user.userId=this.userId;this.user.accessLevelIds=t.accessLevelIds||a;this.user.noAccess=t.noAccess||n;this.user.canPreview=t.canPreview;this.refresh();Ze(this,"change");i.resolve(this.user)}))}return i.promise()}}z(Le.init);z(window).on("pushState replaceState popState refreshState",Le.init)},51720:(e,t,a)=>{"use strict";a.d(t,{T:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(98675);var r=a(73641);var l=a.n(r);var c=a(59592);var d=a(71591);var $=a(26570);function u(e){const{fieldId:t,isOpen:a,label:l=$.__("Item"),onCancel:u,onSave:h,name:p,url:m="/ajax/list_insert.php"}=e;const f=(0,n.useRef)();const g=(0,r.uniqueId)("add-item");const[v,y]=(0,n.useState)("");const b=async()=>{if(!f.current||!$(f.current).valid()){return}try{const e=await(0,d.j)(m,t,p,v);h(v,e);(0,c.f)($.__("The %s was added successfully.",l),"success")}catch(e){const t=e.data&&(e.data.message||e.data.error)?e.data.message||e.data.error:$.__("Uh oh. Something went wrong. Please try again.");(0,c.f)(t,"error")}};const w=()=>{if(f.current){$(f.current).bhrValidate()}};const S={isOpen:a,onClose:u,onOpen:w,primaryAction:b,primaryActionText:$.__("Save"),title:$.__("Add %s",l)};(0,n.useEffect)((()=>{if(!a){y("")}}),[a]);return i().createElement(o.u_,S,i().createElement("form",{className:"BhrForms",ref:f},(0,s.Z)("div",{className:"fieldBox required"},void 0,(0,s.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:g},void 0,$.__("%s Name",l)),(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width7",id:g,name:p,onChange:e=>y(e.currentTarget.value),required:true,type:"text",value:v}))))}},35134:(e,t,a)=>{"use strict";a.d(t,{T:()=>E});var s=a(89835);var n=a(88604);var i=a(23321);var o=a.n(i);var r=a(84479);var l=a(77512);var c=a(60658);var d=a(76725);var u=a(51720);var h=a(98675);var p=a(89998);var m=a(17842);var f=a.n(m);var g=a(85656);function v(e,t,a){const s=f().prepareData({action:"new-section",ajax:1,field:t,name:a.name,acaStatus:a.acaStatus===""?null:a.acaStatus},f().prepareDataTypes.FORM_DATA);const n=(0,g.extendURL)({fieldId:e},"/ajax/list_insert.php");return f().post(n,s)}function y(e){const{data:t}=e;if(!t){return false}return t.ret==="SUCCESS"||t.response==="SUCCESS"}var $=a(26570);function b(e){const{acaStatuses:t,fieldId:a,fieldName:n,onClose:o,onSave:r,showAcaStatus:l}=e;const[c,d]=(0,i.useState)(false);const u=e=>{v(a,n,e).then((t=>{d(false);if(y(t)){window.setMessage($.__("The Employment Status was added successfully."),"success");r(e.name,t.data.id||t.data.data.id)}else{const e=t.data&&(t.data.message||t.data.error)?t.data.message||t.data.error:"";window.setMessage(e||window.DEFAULT_ERROR_MESSAGE,"error")}})).catch((e=>{window.Rollbar.error("Failed to save employment status",e);d(false)}))};const m=()=>{d(true)};const f=()=>{o()};return(0,s.Z)(h.u_,{isOpen:true,isProcessing:c,onClose:f,primaryAction:m,primaryActionText:$.__("Save"),title:$.__("Add Employment Status")},void 0,(0,s.Z)(p.Y,{acaStatuses:t||[],isProcessing:c,postFormData:u,setIsProcessing:d,showAcaStatus:l}))}var w=a(59155);var S=a(59592);var C=a(73641);var x=a(71591);var T=a(26570);function E(e){let{component:t,endpointUrl:a="/ajax/list_insert.php",field:i,onCancel:r,onSave:l,open:c,title:d}=e;const{controlled:u,formState:{errors:h},fields:p,handleSubmit:m,reset:f}=(0,w.useForm)([{name:"value"}]);const g=async e=>{try{const{value:t}=e;const s=`field_${i.id}`;const n=await(0,x.j)(a,i.id,s,t);l({text:t,value:`${n}`})}catch(e){const t=(0,C.unescape)(e?.data?.message)||T.__("Oops! Something went wrong. Please try again later.");(0,S.f)(t,"error")}};const v=()=>{(0,S.f)(T.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")};const y=t.Constraint.Spacing.LARGE;return(0,s.Z)(t,{isOpen:c,onCloseComplete:f,onRequestClose:r},void 0,(0,s.Z)(t.Body,{renderFooter:(0,s.Z)(t.Footer,{actions:[(0,s.Z)(w.Button,{onClick:m(g,v)},"save",T.__("Save")),(0,s.Z)(w.TextButton,{onClick:r},"cancel",T.__("Cancel"))]}),renderHeader:(0,s.Z)(t.Header,{title:d})},void 0,(0,s.Z)(t.Constraint,{spacingOverrides:{bottom:y,top:y}},void 0,u((e=>o().createElement(w.TextField,(0,n.Z)({},e,{label:i.label,status:h.value?"error":undefined,width:7}))),p.value))))}var k=a(26570);let Z=null;function F(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a=a=>function(){a(...arguments);F(e,{...t,isOpen:false})};const{isOpen:s=true,onCancel:i,onSave:r}=t;(0,l.s)(o().createElement(u.T,(0,n.Z)({},t,{isOpen:s,onCancel:a(i),onSave:a(r)})),e)}function I(e,t){const{fieldId:a,fieldName:n,onCancel:i,onSave:o,settings:r}=t;const l=e=>function(){e(...arguments);(0,c.Mr)()};if(e==="employmentStatus"){let e=false;let t=[];if(r){e=Boolean(r.showAcaStatus);t=r.acaStatuses}else{const a=(0,d.V)("#js-employmentStatusModalData",true);if(a){e=Boolean(a.showAcaStatus);t=a.acaStatuses}}(0,c.K4)((0,s.Z)(b,{acaStatuses:t,fieldId:a,fieldName:n,onClose:l(i),onSave:l(o),showAcaStatus:e}))}}k(document).on("ba:selectAddItem",(e=>{const{originalEvent:t,target:a}=e;const{detail:s}=t;const n=k(a);const i=n.attr("data-add-item-field-id");const o=n.attr("data-add-item-label");const l=n.attr("data-skip-default-modal");const c=n.attr("name")||n.attr("data-name");if(t.defaultPrevented||!i||l){const e=(0,r.createLogger)("AddItem.mod");if(!i){e.warn('`<ba-select>` is missing the required "data-add-item-field-id" attribute. Prevent default on "ba:selectAddItem" to remove this warning.')}if(!c){e.warn('`<ba-select>` is missing a required value in the "name" attribute.')}return}const d=n.attr("data-custom-modal-key");if(d){const e={fieldId:i,label:o,onCancel:()=>s.reject(),onSave:(e,t)=>{s.resolve([{selected:true,text:e,value:t}])},fieldName:c,settings:s.settings};I(d,e);return}if(!Z||!Z.length){Z=k("<div>").appendTo(document.body)}const u={fieldId:i,label:o,onCancel:()=>s.reject(),onSave:(e,t)=>{s.resolve([{selected:true,text:e,value:t}])},name:c,url:n.attr("data-add-item-url")};F(Z[0],u)}))},71591:(e,t,a)=>{"use strict";a.d(t,{j:()=>r});var s=a(17842);var n=a.n(s);var i=a(85656);var o=a.n(i);function r(e,t,a,s){const o=n().prepareData({action:"new-section",ajax:1,field:a,name:s},n().prepareDataTypes.FORM_DATA);e=(0,i.extendURL)({fieldId:t},e);return n().post(e,o).then((function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{data:t}=e;return t.ret==="SUCCESS"||t.response==="SUCCESS"?t.id||t.data.id:Promise.reject({data:t})}))}},98256:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var s=a(23321);var n=a.n(s);var i=a(98675);function o(e){const{id:t,message:a,title:s,onClose:o,visible:l,onDelete:c,primaryActionText:d,secondaryActionText:u}=e;return n().createElement(i.u_,r(l,o,t,c,s,a,d,u))}function r(e,t,a,s,n,i,o,r){return{alternativeAction:null,headline:i,icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:e,onClose:t,primaryAction:()=>s(a),secondaryAction:t,primaryActionText:o,secondaryActionText:r,title:n}}},81814:(e,t,a)=>{"use strict";a.d(t,{dX:()=>u,kh:()=>q,ys:()=>I,q3:()=>F,O_:()=>k,bI:()=>U,J_:()=>K,Uj:()=>D,cZ:()=>P,I6:()=>L,Js:()=>O,Qc:()=>X});var s=a(89835);var n=a(23321);var $=a(26570);function i(e){const{isAccepted:t,onChange:a}=e;return(0,s.Z)("div",{className:"DataProcessingAgreeementAgreement"},void 0,(0,s.Z)("label",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{checked:t,className:"fab-Checkbox__input",onChange:e=>a(e.target.checked),type:"checkbox"}),(0,s.Z)("span",{className:"fab-Checkbox__label"},void 0,$.__("I agree to the Data Processing Agreement"))),(0,s.Z)("div",{className:"DataProcessingAgreeementAgreement__summary"},void 0,(0,s.Z)("p",{},void 0,$.__(`By accepting the Data Processing Agreement (“DPA”), I confirm that I am duly authorized to represent my company and accept the DPA on its behalf and that my company has employees in the European Union, EEA, the United Kingdom or Switzerland.`)," ",(0,s.Z)("a",{className:"DataProcessingAgreeementAgreement__link",href:"https://www.bamboohr.com/data-processing-agreement/",rel:"noopener noreferrer",target:"_blank"},void 0,$.__("Read Full DPA")))))}var o=a(37194);var r=a(21198);var l=a(28112);var c=a(26570);const d=new r.BEM("DataProcessingAgreementConditionalAgreement");function u(e){const{hasEmployees:t,isAccepted:a,onHasEmployeesChange:n,onIsAcceptedChange:r}=e;const u=e=>{n(e.target.value!=="no")};return(0,s.Z)("div",{className:d.elem()},void 0,(0,s.Z)(o.Message,{text:c.__("Does your company have employees in the **European Union**, **EEA**, the **United Kingdom** or **Switzerland**?")}),(0,s.Z)("fieldset",{className:`${d.elem("answers")} fab-RadioGroup`},void 0,(0,s.Z)("label",{className:"fab-Radio"},void 0,(0,s.Z)("input",{checked:!t,className:"fab-Radio__input",name:"hasEmployees",onChange:u,type:"radio",value:"no"}),(0,s.Z)("span",{className:"fab-Radio__label"},void 0,c.__(`No, we don't`))),(0,s.Z)("label",{className:"fab-Radio"},void 0,(0,s.Z)("input",{checked:t,className:"fab-Radio__input",name:"hasEmployees",onChange:u,type:"radio",value:"yes"}),(0,s.Z)("span",{className:"fab-Radio__label"},void 0,c.__(`Yes, we do`)))),(0,s.Z)(l.K,{isOpen:t},void 0,(0,s.Z)("div",{className:d.elem("agreement")},void 0,(0,s.Z)("p",{className:d.elem("requiredMessage")},void 0,c.__(`In order to use BambooHR, you’ll need to agree to the following.`)),(0,s.Z)(i,{isAccepted:a,onChange:r}))))}var h=a(98675);var p=a(59592);var m=a(26570);const f=m.__(`Got it! Thank you for accepting our Data Processing Agreement.`);const g=m.__(`Got it! Thank you for responding to our Data Processing Agreement question.`);const v=m.__(`If you have employees in certain countries,\n you'll need to agree to something called a Data\n Processing Agreement.`);const y=m.__("GDPR Compliance");var b=a(60042);var w=a.n(b);var S=a(59155);function C(e){const{hasSeparator:t=true,icon:a,children:n}=e;return(0,s.Z)("div",{className:w()("DataProcessingAgreementModalHeadline",{"DataProcessingAgreementModalHeadline--hasSeparator":t})},void 0,(0,s.Z)(S.Icon,{brand:true,name:a}),n?(0,s.Z)("h3",{},void 0,n):null)}var x=a(26570);const T=x.__(`Sounds Good! We'll ask again in a week.`);const E="fab-eu-globe-58x58";const k=Object.seal({COMPLETE_LATER:"complete_later",DECLINED:"declined",NEEDS_PROMPT:"needs_prompt",NEEDS_TO_SIGN:"needs_to_sign",SIGNED:"signed",UPDATE_PENDING:"update_pending"});const Z=!!window.SESSION_USER?.isAdmin;const F="dpa_update_postponed_on";function I(){return(0,s.Z)(C,{icon:E},void 0,(0,s.Z)(o.Message,{text:v}))}var N=a(17842);var A=a.n(N);var M=a(50463);function D(e,t){return B(e,{status:k.SIGNED},t)}function P(e,t){return B(e,{status:k.COMPLETE_LATER},t)}function L(e,t){return B(e,{status:k.DECLINED},t)}function O(){return R().then((function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return e[0]}))}function R(){return A().get("/data_processing_agreements",{latest:true}).then((function(){let{data:e=[]}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return e}))}function B(e,t){let{setSessionMessage:a=false}=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return A().put(`/data_processing_agreements/${e}?setSessionMessage=${a?"true":"false"}`,t)}function j(e,t){localStorage.setItem(F,M.ou.local().toISO());return B(e,{status:k.UPDATE_PENDING},t)}var H=a(26570);function q(e){const{agreement:t={},hasCloseButton:a=false,hasCompleteLaterButton:i=true,isOpen:o,onClose:r}=e;const[l,c]=(0,n.useState)(false);const[d,m]=(0,n.useState)(false);const[v,b]=(0,n.useState)(false);const w=!l||d;const S=async()=>{b(true);try{if(d){await D(t.id)}else{await L(t.id)}b(false);(0,p.f)(d?f:g,"success");r()}catch(e){b(false);(0,p.f)(H.__(`Oops. Something went wrong. Please try again.`),"error")}};const C=async()=>{b(true);try{await P(t.id);(0,p.f)(T,"success");b(false);r()}catch(e){b(false);(0,p.f)(H.__(`Oops. Something went wrong. Please try again.`),"error")}};return(0,s.Z)(h.u_,{alternativeAction:null,contentHasMaxHeight:false,hasCloseButton:a,isOpen:o,isProcessing:v,onClose:r,primaryAction:w?S:null,primaryActionText:H.__("Done"),secondaryAction:i?C:undefined,secondaryActionText:i?H.__("Complete Later"):undefined,title:y},void 0,(0,s.Z)(I,{}),(0,s.Z)(u,{hasEmployees:l,isAccepted:d,onHasEmployeesChange:c,onIsAcceptedChange:m}))}var W=a(26570);function U(e){const{agreement:t,isOpen:a,onClose:r=(()=>{})}=e;const[l,c]=(0,n.useState)(false);const d=async()=>{try{await D(t.id);r();(0,p.f)(W.__("Another win! Thanks for accepting our Data Processing Agreement."),"success")}catch(e){console.error(e);(0,p.f)(W.__("Huh? Something went wrong while accepting the Data Processing Agreement. Please contact support."),"error")}};return(0,s.Z)(h.u_,{alternativeAction:null,hasCloseButton:false,isOpen:a,primaryAction:l?d:null,primaryActionText:W.__("Save")},void 0,(0,s.Z)(C,{icon:E},void 0,(0,s.Z)(o.Message,{text:W.__("Someone At Your Company Requested Our\n Data Processing Agreement.")})),(0,s.Z)("div",{style:{marginTop:"24px"}},void 0,(0,s.Z)(i,{isAccepted:l,onChange:e=>c(e)})))}var z=a(38162);var V=a(26570);const Y=(0,S.makeStyles)((e=>({checkboxLine:{display:"flex",alignItems:"center",marginTop:e.spacing(3),marginBottom:e.spacing(1)},label:{color:e.palette.grey[800]},icon:{width:50,height:54},link:{marginLeft:e.spacing(1)},confirmationdetails:{fontSize:e.typography.fabricFontSize("small"),color:e.palette.grey[800],paddingBottom:e.spacing(1.5)}})));const G=V.__("Based on a recent changes in the E.U. courts, we have updated our Data Processing Agreement. For companies with employees in certain countries, we recommend agreeing to our updated version.");function K(e){let{agreement:t,isOpen:a,onClose:i=(()=>{})}=e;const[o,r]=(0,n.useState)("");const[l,c]=(0,n.useState)(false);const[d,u]=(0,n.useState)(true);const h=Y();(0,n.useEffect)((()=>{if(a){A().get("/data_processing_agreement_message").then((e=>{r(e.data.message||G)})).catch((e=>{console.error(e)})).finally((()=>{u(false)}))}}),[a]);const m=async()=>{if(l){try{await D(t.id);i();(0,p.f)(V.__("Another win! Thanks for accepting our Data Processing Agreement."),"success")}catch(e){console.error(e);(0,p.f)(V.__("Huh? Something went wrong while accepting the Data Processing Agreement. Please contact support."),"error")}}};const f=async()=>{try{await j(t.id)}catch(e){console.error(e)}i()};return(0,s.Z)(S.StandardModal,{isOpen:a,onRequestClose:f},void 0,d?(0,s.Z)(S.Loader,{}):(0,s.Z)(S.StandardModal.Body,{renderFooter:(0,s.Z)(S.StandardModal.Footer,{actions:[(0,s.Z)(S.Button,{disabled:!l,onClick:m,type:"button"},"close-preview",V.__("Save")),(0,s.Z)(S.TextButton,{onClick:f,type:"button"},"cancel-preview",V.__("Cancel"))]}),renderHeader:(0,s.Z)(S.StandardModal.Header,{title:V.__("Updated Data Processing Agreement")})},void 0,(0,s.Z)(S.StandardModal.Constraint,{spacingOverrides:{top:S.CardContentSpacing.LARGE}},void 0,(0,s.Z)(S.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,s.Z)(z.Z,{className:h.icon}),subtext:o,text:V.__("Hear Ye, Hear Ye!")}),(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:h.checkboxLine},void 0,(0,s.Z)(S.Checkbox,{checked:l,classes:{labelContent:h.label},label:V.__("I agree to the Data Processing Agreement."),onChange:(e,t)=>{c(t.target.checked)}}),(0,s.Z)(S.TextButton,{className:h.link,href:"https://www.bamboohr.com/data-processing-agreement/",target:"_blank"},void 0,V.__("Read full DPA"))),(0,s.Z)("p",{className:h.confirmationdetails},void 0,V.__("By accepting the Data Processing Agreement (“DPA”), I confirm that I am duly authorized to represent my company and accept the DPA on its behalf and that my company has employees in the European Union, EEA, the United Kingdom or Switzerland."))))))}function X(){const[e,t]=(0,n.useState)();const a=async()=>{try{const e=await O();if(!e){return}t(e);return e}catch(e){console.error("Failed to get the DPA agreement!")}};(0,n.useEffect)((()=>{if(Z){a()}}),[]);return{currentDpa:e,refresh:a}}},99493:(e,t,a)=>{"use strict";a.d(t,{P:()=>Z});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(98675);var l=a(44816);var c=a(60042);var d=a.n(c);var u=a(59155);var h=a(37194);var $=a(26570);function p(e){const{description:t,example:a}=e;const[s,o]=(0,i.useState)(false);return(0,n.Z)("div",{className:"EEO1Description"},void 0,(0,n.Z)("button",{className:"EEO1Description__toggle fab-TextButton fab-link",onClick:()=>m(s,o),type:"button"},void 0,(0,n.Z)("span",{className:d()("EEO1Description__caret",{"EEO1Description__caret--isRotatedDown":s})},void 0,(0,n.Z)(u.Icon,{name:"fab-caret-right-5x9"})),$.__("Description and examples")),(0,n.Z)("div",{className:d()("EEO1Description__body",{"EEO1Description__body--isVisible":s})},void 0,(0,n.Z)("p",{className:"EEO1Description__paragraph"},void 0,t),(0,n.Z)("p",{className:"EEO1Description__paragraph"},void 0,(0,n.Z)(h.Message,{strong:{tag:"strong"},text:$._("**Includes:**")})," ",a)))}function m(e,t){return t(!e)}var f=a(26570);function g(e){const{category:t,description:a,example:s,jobTitleIds:i,jobTitles:o,onChange:r}=e;return(0,n.Z)("div",{className:"EEO1Category"},void 0,(0,n.Z)("h3",{className:"EEO1Category__heading"},void 0,t),(0,n.Z)("div",{className:"EEO1Category__body"},void 0,(0,n.Z)(p,{description:a,example:s}),(0,n.Z)("label",{className:"EEO1Category__label fab-Label",htmlFor:"jobTitles"},void 0,f.__("Select Job Titles")),(0,n.Z)(l.ZP,{className:"EEO1Category__select",data:b(i,o),id:"jobTitles",onChange:r,settings:{multiselect:true},width:"7"})))}function v(e,t){const a=[];e.allIds.filter((s=>{t.forEach((t=>{const n=e.allIds.find((a=>a===s&&e.byId[a].id===t));if(n){a.push(n)}}))}));return a}function y(e){return e.allIds.filter((t=>!e.byId[t].selected))}function b(e,t){const a=v(t,e);const s=y(t);const n=a.map((e=>t.byId[e]));const i=s.map((e=>t.byId[e]));const o=n.concat(i).map((e=>({displayText:e.name,value:e.id,selected:e.selected||false})));return{items:o,placeholder:"--Select--"}}var w=a(26570);function S(e){const{isSettingsPage:t,settingsPageId:a}=e;return(0,n.Z)("header",{className:"EEO1Header"},void 0,(0,n.Z)("h4",{},void 0,w.__("Categorize Your Job Titles")),(0,n.Z)("p",{},void 0,C(t,a)))}function C(e,t){if(e){return w.__("To give you the data you need, we need to know the right EEO categories for your job titles.")}return(0,n.Z)(h.Message,{link:(0,h.ExternalLink)(`/settings/list.php?id=${t}`),text:w.__("To give you the data you need in this report, we need to know the right EEO categories for your job titles. If necessary, you can edit your job titles in [settings].")})}var x=a(17842);var T=a.n(x);function E(e){return T().post("/reports/eeo_category_mapping/save",e)}var k=a(26570);function Z(e){const{canAutoOpen:t=true,data:a,isOpen:l,isSettingsPage:c,onClose:d,onCloseAfterSave:u}=e;if(!a){return null}const[h,p]=(0,i.useState)(a);const{categories:m,jobTitles:f,settingsPageId:v}=h;const[y,b]=(0,i.useState)(A(m));const[w,C]=(0,i.useState)(false);const[x,T]=(0,i.useState)(false);(0,i.useEffect)((()=>{if(t){T(F(f,w,C))}}),[]);(0,i.useEffect)((()=>{if(l){T(l)}}),[l]);const E=(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)(S,{isSettingsPage:c,settingsPageId:v}),(0,n.Z)("div",{className:"EEO1CategoriesModal__body"},void 0,m.allIds.map((e=>o().createElement(g,(0,s.Z)({key:e,jobTitles:f,onChange:t=>R(t,e,h,p,b)},m.byId[e]))))));return o().createElement(r.u_,M(w,C,x,T,d,y,f,(()=>p(a)),u),E)}function F(e,t,a){const s=I(e);if(!t&&s){a(true)}return s}function I(e){return e.allIds.every((t=>!e.byId[t]||!e.byId[t].selected))}function N(e){return e.allIds.some((t=>!e.byId[t]||!e.byId[t].selected))}function A(e){const t={};e.allIds.forEach((a=>{t[a]={categoryId:e.byId[a].id,jobTitleIds:e.byId[a].jobTitleIds}}));return t}function M(e,t,a,s,n,i,o,r,l){const c=B(t,s,n,r);const d=j(i,o,(()=>{s(false);n(false);if(e){t(false)}if(l){l()}}));const u=k.__("Set up EEO-1 Categories");return{contentHasMaxHeight:false,contentHasPadding:false,isOpen:a,onClose:c,primaryAction:d,title:u}}function D(e,t,a){const s=t;if(!a){const t=s.categories.byId[e];t.jobTitleIds.forEach((e=>{s.jobTitles.byId[e].selected=false}));t.jobTitleIds=[];return s}s.jobTitles.allIds.forEach((t=>{const n=s.categories.byId[e];const i=s.jobTitles.byId[t];if(a&&a.value===i.id){const e=!i.selected;i.selected=e;if(e){n.jobTitleIds.push(a.value)}else{n.jobTitleIds=n.jobTitleIds.filter((e=>e!==a.value))}}}));return s}function P(e){if(e===1){return k.__("1 job title still needs an EEO category.")}return k.__("%1 job titles still need EEO categories.",e,{note:'The "%1" placeholder is the number of job titles.'})}function L(e){return e.allIds.filter((t=>!e.byId[t]||!e.byId[t].selected)).length}function O(e){const t=L(e);if(N(e)){window.setMessage(`\n\t\t\t\t${k.__("EEO Categories assigned but jobs left behind:")}\n\t\t\t\t${P(t)}\n\t\t\t`,"error")}else{window.setMessage(k.__("EEO Categories Assigned"),"success")}}function R(e,t,a,s,n){const i=D(t,a,e);const o=A(i.categories);s(i);n(o)}function B(e,t,a,s){return()=>{e(false);t(false);a(false);s()}}function j(e,t,a){return()=>H(e,t,a)}function H(e,t,a){const s={categories:e};return E(s).then((()=>{a();O(t)}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to submit")}))}},51124:(e,t,a)=>{"use strict";var $=a(26570);$((function(){const e=$("form#edit_form.js-email-alerts");if(e.length){window.filterSettings={postFunc:window.setHiddenVar,listOnly:true,updateLink:false};const e=$(".input-list").autoInputList({autocompleteUrl:"/ajax/quicksearch.php",description:$.__("Name, Department, Location, or Email..."),extraParams:{l:1,active:1},formatAutoItem(e){let[t,a,s]=e;return`\n\t\t\t\t\t<span class="qs_status icon ${s}"></span>\n\t\t\t\t\t<span class="qs_status ${s}">\n\t\t\t\t\t\t${t}\n\t\t\t\t\t</span>\n\t\t\t\t`},startingItems:window.startingItems,formatTagItem(e,t){if(t){if(typeof t==="string"){t=t.split("|")}const[e,a,s]=t;$(`\n\t\t\t\t\t\t<span class="item">\n\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t<input type="hidden" name="ids[]" value="${a}" />\n\t\t\t\t\t\t\t<ba-icon class="remove" name="fab-x-8x8"></ba-icon>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t`).insertBefore(".input-list span.input");$(".free").val("");$("#input-list-check").prop("checked",true);$(document).on("click",".item .remove",(function(){$(this).closest("span.item").remove();return false}))}}});if($("#input-list-check").is(":checked")){e.activate()}$("#input-list-check").change((function(){const t=$(this);if(t.is(":checked")){e.activate()}else{e.deactivate()}}));const t=$(".timepicker");t.timepicker({step:60,useSelect:true});t.on("timeFormatError",(function(){setMessage($.__("Please enter a valid time of day, of the form 12:00am, or select a time from the dropdown."),"error");$(this).val("12:00am")}));$("#edit_form input:first").focus();window.updateFilter();$(document).on("click","a.bicon-remove",(function(){$(this).parents(".reminder-row:first").remove()}));window.addReminder=function(){$(".reminder-row:first").clone().show().find(".chzn-container").remove().end().append('<a class="bicon-remove" title="remove" href="javascript:void(0)"></a>').find("input").val("").end().find("select").each((function(e,t){t.selectedIndex=0})).end().insertAfter(".reminder-row:last").find("select").removeClass("chzn-done").removeAttr("id").show().chosen(bhrChosenOptions)}}}))},9955:(e,t,a)=>{"use strict";a.d(t,{N:()=>y});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);var r=a(59155);var l=a(64670);var c=a(45316);var d=a(66523);var u=a(15896);var h=a(54630);var p=a(7070);var m=a(50463);var f=a(56445);var $=a(26570);const g=e=>{const{employee:t}=e;const[a,i]=(0,n.useState)(m.ou.local());const o=(0,p.y)();(0,n.useEffect)((()=>{const e=setInterval((()=>t()),1e3);const t=()=>i(m.ou.local());return()=>clearInterval(e)}),[]);const g=()=>{if(t.jobTitle&&t.department){return $.__("%1 in %2",t.jobTitle,t.department)}else if(t.jobTitle&&!t.department){return t.jobTitle}else if(!t.jobTitle&&t.department){return t.department}};const v=()=>{if(!t.ext){return t.workPhone}return`${t.workPhone} Ext ${t.ext}`};const y={root:o.secondaryInfoContainer,adornment:o.icons};const b={className:o.secondaryInfo};return(0,s.Z)("div",{className:o.container},void 0,(0,f.ifFeature)("encore",(0,s.Z)(r.Avatar,{alt:"profile",size:160,srcSet:t.imgUrl}),(0,s.Z)(r.Avatar,{alt:"profile",srcSet:t.imgUrl,sx:{height:244,width:244}})),(0,s.Z)("div",{className:o.contentContainer},void 0,(0,s.Z)("div",{className:o.primaryContentContainer},void 0,(0,s.Z)("div",{className:o.infoContainer},void 0,(0,s.Z)("div",{className:o.employeeName},void 0,t.prefName?`${t.prefName} ${t.lastName}`:`${t.firstName} ${t.lastName}`),t.pronouns&&(0,s.Z)("div",{className:o.pronouns},void 0,`(${t.pronouns})`)),(t.jobTitle||t.department)&&(0,s.Z)("div",{className:o.jobInfo},void 0,g()),t.location&&(0,s.Z)("div",{className:o.jobInfo},void 0,t.location,t.timezone&&(0,s.Z)("span",{},void 0," | ",a.setZone(t.timezone).toLocaleString(m.ou.TIME_SIMPLE)," local time")),t.division&&(0,s.Z)("div",{className:o.jobInfo},void 0,t.division)),(0,s.Z)(r.Divider,{classes:{root:o.divider}}),(0,s.Z)("div",{className:o.secondaryContentContainer},void 0,t.email&&(0,f.ifFeature)("encore",(0,s.Z)(r.LayoutBox,{paddingBottom:"10px"},void 0,(0,s.Z)(r.BodyText,{color:"neutral-weak",icon:(0,s.Z)(r.IconV2,{color:"neutral-strong",name:"envelope-regular",size:16})},void 0,t.email)),(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(l.Z,{}),classes:y,typographyProps:b},void 0,t.email)),t.workPhone&&(0,f.ifFeature)("encore",(0,s.Z)(r.LayoutBox,{paddingBottom:"10px"},void 0,(0,s.Z)(r.BodyText,{color:"neutral-weak",icon:(0,s.Z)(r.IconV2,{color:"neutral-strong",name:"buildings-regular",size:16})},void 0,v())),(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(c.Z,{}),classes:y,typographyProps:b},void 0,v())),t.personalPhone&&(0,f.ifFeature)("encore",(0,s.Z)(r.LayoutBox,{paddingBottom:"10px"},void 0,(0,s.Z)(r.BodyText,{color:"neutral-weak",icon:(0,s.Z)(r.IconV2,{color:"neutral-strong",name:"mobile-regular",size:16})},void 0,t.personalPhone)),(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(d.Z,{}),classes:y,typographyProps:b},void 0,t.personalPhone)),t.reportsTo&&(0,f.ifFeature)("encore",(0,s.Z)(r.LayoutBox,{paddingBottom:"10px"},void 0,(0,s.Z)(r.BodyText,{color:"neutral-weak",icon:(0,s.Z)(r.IconV2,{color:"neutral-strong",name:"circle-user-regular",size:16})},void 0,`Reports to ${t.reportsTo}`)),(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(u.Z,{}),classes:y,typographyProps:b},void 0,`Reports to ${t.reportsTo}`)),t.directReports.length>0&&(0,f.ifFeature)("encore",(0,s.Z)(r.LayoutBox,{paddingBottom:"10px"},void 0,(0,s.Z)(r.BodyText,{color:"neutral-weak",icon:(0,s.Z)(r.IconV2,{color:"neutral-strong",name:"sitemap-regular",size:16})},void 0,`${t.directReports.length} direct reports`)),(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(h.Z,{}),classes:y,typographyProps:b},void 0,`${t.directReports.length} direct reports`)))))};var v=a(26570);const y=e=>{const{isOpen:t,onClose:a,employeeId:i}=e;const[l,c]=(0,n.useState)();const d=()=>o().get(`/employee_directory/employee/${i}`).then((e=>{let{data:t}=e;c(t)})).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error");a()}));const u=()=>{c(null);a()};return(0,s.Z)(r.StandardModal,{isOpen:t,onOpenComplete:d,onRequestClose:u},void 0,(0,s.Z)(r.StandardModal.Body,{renderFooter:()=>(0,s.Z)(r.StandardModal.Footer,{actions:[(0,s.Z)(r.Button,{onClick:a,type:"button"},"close",v.__("Close"))]}),renderHeader:l?(0,s.Z)(r.StandardModal.Header,{hasCloseButton:true,title:v.__("All About %1",l.prefName||l.firstName)}):undefined,size:r.CardSize.MEDIUM},void 0,(0,s.Z)(r.StandardModal.Constraint,{spacingOverrides:{bottom:r.StandardModal.Constraint.Spacing.BIGGIE,top:r.StandardModal.Constraint.Spacing.BIGGIE,left:r.StandardModal.Constraint.Spacing.LARGE,right:r.StandardModal.Constraint.Spacing.LARGE}},void 0,l?(0,s.Z)(g,{employee:l}):(0,s.Z)(r.Loader,{}))))}},7852:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>u,Rp:()=>c,C$:()=>g});var s=a(73641);var n=a(41201);var i=a(25355);var o=a.n(i);var r=a(56445);function l(e,t){const{employee_file_data:a,company_file_data:i,esignatures:o,ext:r,img_sizes:l,is_current_signer:c,required:d,workflow_instance_id:u}=e;let h=r;let p;if((0,n._c)(e)){const{can_sign:e,completed:n,has_signed:r,cancelled:l,whose_turn:c,is_current_signer:m}=o;switch(true){case l:h="Request Canceled";break;case a&&a.id&&r:h="Signed";p="signed";break;case i&&i.id&&r:h="Signed";p="signed";break;case o.completed&&!r:h="Signed";p="signed";break;case e:h=d==="yes"?"Sign Now":"Signature Optional";p=d==="yes"?"sign":"optional";break;case r:h="Signed";p="signed";break;case c&&c.length>0:h="Signers Pending";break;case t&&!(0,s.isNil)(m)&&m:h="Chose not to sign";break;case t&&!(0,s.isNil)(m)&&!m:h="No signature needed";break;case!t&&!(0,s.isNil)(u)&&u&&!(0,s.isNil)(m)&&m:h="Signature Optional";p="optional";break;case!t&&!(0,s.isNil)(u)&&u&&!(0,s.isNil)(m)&&!m:h="Signers Pending";break;default:h="Esignature";break}}return p?{className:p,icon:l.small,text:h}:{icon:l.small,text:h}}function c(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const{ext:s,id:i,name:o,scan_info:r,required:c,can_see_file:d,esignatures:u,employee_file_data:h,company_file_data:p,original_file_name:m,esignature_instance_id:f}=e;const g=c&&c==="yes";const v=(0,n.pK)(e);return{action:v?"":(0,n.s7)(e,t),classNames:[],data:(0,n.hP)(e),disabled:v,ext:s,esignatureInstanceId:f?f:0,fileId:i,info:l(e,a),isSafe:!r,isEsig:(0,n._c)(e),name:o,mode:"display",originalName:m,status:"",required:g||false,theme:"dark"}}var $=a(26570);const d={fileCardFromElement(e){return w(e.dataset.canSee?"1":"0",e.dataset.ext,e.dataset.fileId,e.dataset.icon,e.id.replace("check",""),e.dataset.name,e.dataset.required,null,e.dataset.originalName,e.dataset.fileDataId)},fileCardFromArray(e){const t=[];e.forEach((e=>{if(e.hasOwnProperty("fileId")){const{canSeeFile:a,ext:s,fileId:n,icon:i,id:o,name:r,required:l,original_file_name:c,fileDataId:d}=e;t.push(w(a||e.can_see_file,e.is_esignature_template==="yes"?"Esignature":s,n,e.is_esignature_template?e.img_sizes.small:i,o,r,l,null,c,d))}else{t.push(this.fileCardFromFile(e))}}));return t},fileCardFromFile(e){let t=e.ext;let a="no";let s=null;if((0,n._c)(e)){t=$.__("Esignature");a="yes";s=m(e)}return w(e.can_see_file,t,e.file_id,e.img_sizes.small,`${e.file_id}-${a}-${e.required||"no"}`,e.name,e.required,s,e.original_file_name)},renderFileCards(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"display";let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"dark";let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const r=t&&t.length>0;const l=document.querySelector(e);if(r===false){console.warn("No files passed to renderFileCards: exiting function early.");return}if(a!=="display"){t.map((e=>{e.mode=a}))}if(l){t=(0,s.sortBy)(t,[e=>e.name.toLowerCase()]);l.innerHTML=window.microTemplate(o(),{files:t,theme:n,newUploadedFiles:i});h()}}};var u=d;function h(){const e=(0,s.toArray)(document.querySelectorAll(".FileCard:not(.FileCard--display)"));const t=(0,s.toArray)(document.querySelectorAll(".FileCard.FileCard--display"));e.forEach((e=>{e.addEventListener("change",v,false);e.addEventListener("click",f,false)}));t.forEach((e=>{e.addEventListener("click",p,false)}))}function p(){g(this.dataset)}function m(e){if(!(0,s.isNull)(document.getElementById("OfferLetter-form"))){if((0,n.uf)(e)){return false}if((0,n.uW)(e)){return true}}}function f(e){if(e.target.classList.contains("js-fc-modal")){y(this,e.target.dataset.isComplete)}else if(e.target.classList.contains("js-fc-close")){const e=new CustomEvent("fileCard:remove",{detail:{fileId:this.dataset.fileId,key:this.dataset.key}});document.dispatchEvent(e);$(this).remove()}}function g(e){let t=null;try{t=JSON.parse(e.actionData)}catch(e){console.error(e)}if(t){switch(e.action){case"companyPreviewFile":window.previewFile(t.companyFileMostRecentId,t.companyFileId,t.companyFileName,false,"div",true);break;case"companyShowFile":window.showFile(t.companyFileMostRecentId,t.companyFileId,t.companyFileName,false,"div",true);break;case"esigOpenModal":if((0,r.isEnabled)("ESIGNATURE_INSTANCE_TOGGLE")&&parseInt(t.esignatureInstanceId)>0){window.openEsignatureSigningModal(t.esignatureInstanceId)}else{window.lazySigs((function(e){e.Signing.openModal(t.esignatureTemplateId,t.esignatureWorkflowId,t.workflowInstanceId,"Esignatures.init(Esignatures.TYPE_SIGNING)",t.name)}))}break;case"esigOpenPreviewModeModal":if((0,r.isEnabled)("ESIGNATURE_INSTANCE_TOGGLE")&&parseInt(t.esignatureInstanceId)>0){window.openEsignatureSigningModal(t.esignatureInstanceId,true)}else{window.lazySigs((function(e){e.Signing.openPreviewModeModal(t.esignatureTemplateId,t.workflowInstanceId,t.name)}))}break;case"previewFile":window[e.action](t.mostRecentFileDataId,t.fileId,t.name,false,"div");break;case"previewEmployeeFile":window[e.action](t.employeeFileMostRecentId,t.employeeFileId,t.employeeFileName,"li");break;case"showFile":window[e.action](t.mostRecentFileDataId,t.fileId,t.name,false,"div");break;case"showFileNoAccess":window[e.action](t.name);break;default:break}}}function v(e){if(e.target.classList.contains("js-fc-toggle-required")){const{fileId:t}=e.target.dataset;const a=document.querySelector(`#filesinput-${t}`);const s=e.target.parentNode;const n=e.target.checked?"yes":"no";b(s,e.target.checked);a.value=a.value.replace(/[^-]+$/,n)}}function y(e,t){let a={navHeader:$.__("Are you sure you want to remove this signed document?"),navMessage:$.__("This document is already signed. Removing it will cancel the request and discard the signed document."),actionBtn:$.__("Yes, Remove Document"),cancelBtn:$.__("No, Don't remove it")};if(t==="false"){a={navHeader:$.__("Are you sure you want to cancel this signature request?"),navMessage:$.__("This signature request has been partially completed and is waiting on other signers. Removing it will cancel the request and discard the partially-signed document."),actionBtn:$.__("Yes, Cancel Signature Request"),cancelBtn:$.__("No, Don't Cancel it")}}window.BambooHR.Modal.setState({header:a.navHeader,dangerousContent:`<p style="text-align: center;">${a.navMessage} </p>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,sheetProps:null,primaryAction:()=>{const t=new CustomEvent("fileCard:remove",{detail:{fileId:e.dataset.fileId,key:e.dataset.key}});document.dispatchEvent(t);$(e).remove();window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:a.actionBtn,alternativeActionText:a.cancelBtn,title:$.__("Just Checking...")})}function b(e,t){let a=$.__("Click to make the signature required.");let s=$.__("Signature Optional");const n=BambooHR.Components.Tooltip.selectTooltips(e)[0];if(t){s=$.__("Signature Required");a=$.__("Click to make the signature optional.")}if(n.tooltipEl){n.hide();n.tooltipEl.innerHTML=`<p class="lead">${s}</p><br />${a}`}else{n.options.content=a;n.options.lead=s}}function w(e,t,a,s,n,i,o){let r=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let c=arguments.length>9?arguments[9]:undefined;return{action:null,classNames:[],data:{canSeeFile:e,isComplete:r},disabled:false,fileId:a,fileDataId:c,id:n,info:{icon:s,text:t},isSafe:true,name:i,originalName:l,status:"",required:o,theme:"dark"}}},44492:(e,t,a)=>{"use strict";a.d(t,{Z:()=>he});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(33832);const r=(0,n.createContext)("apply");const l=()=>(0,n.useContext)(r);const c=(0,n.createContext)({});const d=()=>(0,n.useContext)(c);var u=a(76374);var h=a(59155);var p=a(17145);var m=a(62740);const f=window.GLOBAL_VALID_EXTENSIONS?Array.from(window.GLOBAL_VALID_EXTENSIONS):["pdf","doc","docx","xls","xlsx","csv","jpg","jpeg","tif","tiff","gif","png","bmp","txt","rtf","zip"];const g=f.map((e=>`.${e}`));const v={short:"TYPE_TEXT",long:"TYPE_TEXTAREA",yes_no:"TYPE_YES_NO",multi:"TYPE_MULTIPLE_CHOICE",checkbox:"TYPE_CHECKBOX",file:"TYPE_FILE_UPLOAD"};var y=a(60042);var b=a.n(y);const w=e=>{const{errorState:t,label:a,name:o,data:r,validationRegistration:l}=e;if(!r){return null}const[c,d]=(0,n.useState)(r.value==="yes");return(0,s.Z)("fieldset",{className:`fab-FormColumn CandidateField CandidateField--${o}`},void 0,(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--cqCheckbox"},void 0,(0,s.Z)("div",{className:"fab-Checkbox CandidateField__checkboxWrapper"},void 0,i().createElement("input",{ref:l,checked:c,className:b()("fab-Checkbox__input",{"fab-Checkbox__input--error":t}),disabled:Boolean(r.isDisabled),id:o,name:o,onChange:()=>d(!c),required:r.isRequired,type:"checkbox",value:"yes"}),(0,s.Z)("label",{className:b()("fab-Checkbox__label",{"fab-Checkbox__label--error":t}),htmlFor:o},void 0,t&&(0,s.Z)("div",{className:"CandidateField__checkboxErrorIcon"},void 0,(0,s.Z)(h.Icon,{name:"fab-circle-exclamation-14x14"})),(0,s.Z)("div",{},void 0,a,r.isRequired&&(0,s.Z)("span",{className:"CandidateField__checkboxRequiredIndicator"},void 0,"*"))),!c&&(0,s.Z)("input",{name:o,type:"hidden",value:"no"}))))};var S=a(34914);var C=a(12382);const x=e=>{const{errorState:t,label:a,name:i,data:o,validationRegistration:r}=e;const{specialErrors:l}=d();if(!o){return null}const[c,u]=(0,n.useState)(o.value);return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${i}`},void 0,(0,s.Z)("div",{className:`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${i}`},void 0,(0,s.Z)(h.DatePicker,{label:a,enableFlip:true,disabled:Boolean(o.isDisabled),id:"dateAvailable",inputProps:{name:"dateAvailable"},onChange:e=>{let{value:t}=e;u(t)},required:o.isRequired,status:l[i]?"error":"default",value:c})))};function T(e,t,a,s){if(a){if((0,S.isMatch)(a,(0,C.u)())){s(e,null);return true}s(e,{rule:"date"});return false}if(t){s(e,{rule:"required"});return false}return true}function E(e){const{data:t,errorState:a,label:n,name:i,typeProps:o={},validationRegistration:r}=e;const{setSpecialErrors:l}=d();if(!t){return null}let c=[];const u=t.files||t;if(u.length||u.fileName&&u.value){c=c.concat(u).map((e=>({id:`${e.value}`,name:`${e.fileName}`})))}const p=()=>{l(i,null);l(`${i}Timestamp`,{timestamp:Date.now()})};const m=()=>{l(i,{rule:"fileUploadPending"})};const f=()=>{l(i,null);l(`${i}Timestamp`,null)};return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${i}`},void 0,(0,s.Z)("label",{className:`fab-Label ${t.isRequired?"fab-Label--required":""} ${a?"fab-Label--error":""}`,htmlFor:i},void 0,n),(0,s.Z)(h.FileUpload,{acceptedTypes:g,canSelectMultiple:o.canSelectMultiple,disabled:Boolean(t.isDisabled),endpoint:o.uploadUrl,initialFiles:c,inputRef:r,isRequired:t.isRequired,name:i,onChange:m,onRemove:f,onUpload:p}))}var k=a(51720);const Z=e=>{const{data:t,label:a,name:o,typeProps:r={},errorState:l,validationRegistration:c}=e;if(!t){return null}const[d,u]=(0,n.useState)(t.options);const[p,m]=(0,n.useState)([t.value]);const[f,g]=(0,n.useState)({isOpen:false});(0,n.useEffect)((()=>u(t.options)),[t.options]);(0,n.useEffect)((()=>m([t.value])),[t.value]);let v;let y;const b=()=>{g({isOpen:false});y()};const w=(e,t)=>{const a=d.concat({text:e,value:t});u(a);m([t]);g({isOpen:false});v()};const S=()=>{g({isOpen:true,label:r.label,onCancel:b,onSave:w,name:r.name,url:r.url});return new Promise(((e,t)=>{v=e;y=t}))};const C=(e,t)=>{m(t);if(typeof r.onSelect==="function"){r.onSelect(t)}};const x=()=>{m([])};return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${o}`},void 0,(0,s.Z)("label",{className:`fab-Label ${t.isRequired?"fab-Label--required":""} ${l?"fab-Label--error":""}`,htmlFor:o},void 0,a),(0,s.Z)("div",{className:`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${o}`},void 0,(0,s.Z)(h.Select,{canSelectMultiple:r.canSelectMultiple,condition:l?"error":"",inputRef:c,isDisabled:Boolean(t.isDisabled),isRequired:t.isRequired,items:F(d),name:o,onAdd:r.perms?S:null,onClear:x,onSelect:C,selectedValues:p,width:100})),r.perms&&i().createElement(k.T,f))};function F(e){return e.map((e=>({...e,text:e.text||e.displayText||e.value||e.option||"",value:e.value||e.id||e.text||""})))}var I=a(73641);var $=a(26570);const N=e=>{const{errorState:t,label:a,name:o,data:r,validationRegistration:l,rules:c,showErrorMessage:u,typeProps:p={}}=e;const{setErrors:m,validate:f}=d();if(!r){return null}const g=(0,n.useRef)(false);const[v,y]=(0,n.useState)(r.value);const[w,S]=(0,n.useState)(r.value);(0,n.useEffect)((()=>{y(r.value)}),[r.value]);(0,n.useEffect)((()=>{if(g.current){f([o],false)}else{g.current=true}}),[w]);function C(e){const t=A(e.target,w,m);y(t);S(t)}return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${o}`},void 0,(0,s.Z)("label",{className:b()("fab-Label",{"fab-Label--error":t,"fab-Label--required":r.isRequired}),htmlFor:o},void 0,a),(0,s.Z)("div",{className:b()(`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${o}`,{[`CandidateField__inputWrapper--cq${(0,I.capitalize)((0,I.camelCase)(p.cqType))}`]:p.cqType})},void 0,i().createElement("input",{ref:l,className:b()("fab-TextInput",{"fab-TextInput--width100":true,"fab-TextInput--error":t,"fab-TextInput--withNub":p.nubIconName}),disabled:Boolean(r.isDisabled),id:o,maxLength:c&&c.maxLength?c.maxLength:255,name:o,onBlur:p.hasCustomUrlHandling?C:null,onChange:e=>y(e.target.value),required:r.isRequired,type:"text",value:v}),p.nubIconName&&(0,s.Z)("span",{className:"fab-TextInputNub"},void 0,(0,s.Z)("span",{className:"fab-TextInputNub__icon"},void 0,(0,s.Z)(h.Icon,{name:p.nubIconName})))),t&&u&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,t.message))};function A(e,t,a){const{name:s,value:n}=e;let i=n;if(i!==t){const e=!i;const t=n.startsWith("http://")||n.startsWith("https://");if(!e&&!t){i=`http://${n}`}if(s==="linkedinUrl"){M(i,s,a)}}return i}function M(e,t,a){const s=!e;if(s||/(linkedin\.com)/gi.test(e)){a({[t]:null});return true}a({[t]:{rule:t,message:$.__("Invalid LinkedIn profile URL.")}});return false}var D=a(62484);const P=e=>{const{errorState:t,label:a,name:n,data:i,placeholder:o,typeProps:r={},validationRegistration:l}=e;if(!i){return null}return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${n}`},void 0,(0,s.Z)("label",{className:`fab-Label ${i.isRequired?"fab-Label--required":""} ${t?"fab-Label--error":""}`,htmlFor:n},void 0,a),(0,s.Z)("div",{className:b()(`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${n}`,{[`CandidateField__inputWrapper--cq${(0,I.capitalize)((0,I.camelCase)(r.cqType))}`]:r.cqType})},void 0,"    ",(0,s.Z)(D.Z,{className:`fab-Textarea fab-Textarea--width100 autosize ${t?"fab-Textarea--error":""}`,defaultValue:i.value,disabled:Boolean(i.isDisabled),id:n,innerRef:l,name:n,placeholder:o,required:i.isRequired})))};var L=a(26570);const O=e=>{const{errorState:t,label:a,name:o,data:r,validationRegistration:l}=e;if(!r){return null}const[c,d]=(0,n.useState)(r.value);return(0,s.Z)("fieldset",{className:`CandidateField CandidateField--${o}`},void 0,(0,s.Z)("legend",{className:b()(`fab-RadioGroup__legend`,{"fab-RadioGroup__legend--error":t,"fab-RadioGroup__legend--required":r.isRequired})},void 0,a),(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--cqYesNo"},void 0,(0,s.Z)("div",{className:"fab-FormColumn fab-Radio"},void 0,i().createElement("input",{ref:l,checked:c==="yes",className:"fab-Radio__input",disabled:Boolean(r.isDisabled),id:`${o}--yes`,name:o,onChange:()=>d("yes"),required:r.isRequired,type:"radio",value:"yes"}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:`${o}--yes`},void 0,L.__(`Yes`))),(0,s.Z)("div",{className:"fab-FormColumn fab-Radio"},void 0,(0,s.Z)("input",{checked:c==="no",className:"fab-Radio__input",disabled:Boolean(r.isDisabled),id:`${o}--no`,name:o,onChange:()=>d("no"),required:r.isRequired,type:"radio",value:"no"}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:`${o}--no`},void 0,L.__(`No`)))))};var R=a(88604);var B=a(28112);var j=a(26570);const H="other";const q=e=>{const{validationRegistration:t,id:a,options:o,hasOther:r,isDisabled:l,isRequired:c,isValueOther:u,value:h,label:p,name:m}=e;const{setSpecialErrors:f,specialErrors:g}=d();const v=(0,n.useRef)(false);const y=(0,n.useRef)(true);const w=(0,n.useRef)();let S=null;if(u){S=H}else{const e=o.find((e=>{let{id:t}=e;return t===parseInt(h)}));S=e?e.id:null}const[C,x]=(0,n.useState)(S);const[T,E]=(0,n.useState)(u?h:"");(0,n.useEffect)((()=>{if(!y.current&&C===H){setTimeout((()=>{w.current.focus()}))}y.current=false}),[C]);const k=e=>{x(e);f(m,null);if(v.current&&!e.length){f(m,{rule:"required"});v.current=true}else{v.current=false;f(`${m}[${H}]`,null)}};const Z=e=>{const{target:t}=e;const a=t.value?null:{rule:"required"};f(`${m}[${H}]`,a);E(t.value)};return(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__multiGroup"},void 0,(0,s.Z)("div",{className:"fab-FormColumn CandidateField__multiGroupColumn"},void 0,(0,s.Z)("legend",{className:b()("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":c,"fab-RadioGroup__legend--error":g[m]}),htmlFor:m},void 0,p),(0,s.Z)("div",{className:"fab-RadioGroup",id:m},void 0,o.map((e=>(0,s.Z)("div",{className:"fab-Radio"},`option_${a}_${e.id}`,i().createElement("input",{ref:t,checked:C==e.id,className:"fab-Radio__input",disabled:Boolean(l),id:`${m}[${e.id}]`,name:m,onChange:e=>k(e.target.value),type:"radio",value:e.id}),(0,s.Z)("label",{className:"fab-Radio__label CandidateField__multiGroup--label",htmlFor:`${m}[${e.id}]`},void 0,e.option)))),r==="yes"?(0,s.Z)("div",{className:"fab-Radio"},`option_${a}_other`,(0,s.Z)("input",{checked:C===H,className:"fab-Radio__input",disabled:Boolean(l),id:`${m}[option_${H}]`,name:m,onChange:e=>k(e.target.value),type:"radio",value:H}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:`${m}[option_${H}]`},void 0,j.__("Other"))):null),(0,s.Z)(B.K,{isOpen:Boolean(C===H)},void 0,(0,s.Z)("div",{className:"CandidateField__multi"},void 0,(0,s.Z)("div",{className:"CandidateField__multiOther"},void 0,(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__multiInputWrapper"},void 0,i().createElement("input",{ref:w,className:b()("fab-TextInput fab-TextInput--width100",{"fab-TextInput--error":g[`${m}[${H}]`]}),disabled:Boolean(C!==H),id:`${m}[${H}]`,name:`${m}[${H}]`,onChange:e=>Z(e),placeholder:j.__("Please Specify"),required:true,type:"text",value:T}))),g[`${m}[${H}]`]&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,j.__("Response is required"))))))};var W=a(26570);const U="other";const z=e=>{const{validationRegistration:t,options:a,isRequired:o,isDisabled:r,isValueOther:l,hasOther:c,value:u,label:p,name:m}=e;const{setSpecialErrors:f,specialErrors:g}=d();const v=(0,n.useRef)();let y=u;if(l){y=U}else if(u){const e=a.filter((e=>e.id==u));y=e[0].id}const w=[...a];if(c==="yes"){w.push({id:U,option:"Other"})}const[S,C]=(0,n.useState)([y]);const[x,T]=(0,n.useState)(l?u:"");const[E,k]=(0,n.useState)(c==="yes"&&l);(0,n.useEffect)((()=>{if(E){setTimeout((()=>{v.current.focus()}))}}),[E]);const Z=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;f(`${m}`,e);f(`${m}[${U}]`,t)};const I=(e,t)=>{C(t);Z();k(t[0]===U)};const N=()=>{C([]);k(false);Z()};const A=e=>{const{target:t}=e;const a=t.value?null:{rule:"required"};Z(null,a);T(t.value)};return(0,s.Z)("div",{className:b()("fab-InputWrapper CandidateField__inputWrapper",{CandidateField__multi:E})},void 0,(0,s.Z)("div",{className:"fab-FormColumn CandidateField__multiGroupColumn"},void 0,(0,s.Z)("label",{className:b()("fab-Label",{"fab-Label--required":o,"fab-Label--error":g[m]}),htmlFor:m},void 0,p),(0,s.Z)("div",{className:"CandidateField__multiSelect"},void 0,(0,s.Z)(h.Select,{inputRef:t,isDisabled:Boolean(r),items:F(w),name:m,onClear:N,onSelect:I,selectedValues:S,width:100})),(0,s.Z)(B.K,{isOpen:E},void 0,(0,s.Z)("div",{className:"CandidateField__multi"},void 0,(0,s.Z)("div",{className:"CandidateField__multiOther CandidateField__multiOtherSelect"},void 0,(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__multiInputWrapper"},void 0,i().createElement("input",{className:b()("fab-TextInput fab-TextInput--width100",{"fab-TextInput--error":g[`${m}[${U}]`]}),disabled:!E,id:`${m}[${U}]`,name:`${m}[${U}]`,onChange:e=>A(e),placeholder:W.__("Please Specify"),ref:v,required:true,type:"text",value:x}))),g[`${m}[${U}]`]&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,W.__("Response is required"))))))};const V=e=>{const{name:t,label:a,data:n,validationRegistration:o}=e;if(!n){return null}return(0,s.Z)("fieldset",{className:`CandidateField CandidateField--${t}`},void 0,n.options&&n.options.length<=5?i().createElement(q,(0,R.Z)({},n,{label:a,name:t,validationRegistration:o})):i().createElement(z,(0,R.Z)({},n,{label:a,name:t,validationRegistration:o})))};const Y={TYPE_CHECKBOX:w,TYPE_DATE:x,TYPE_FILE_UPLOAD:E,TYPE_SELECT:Z,TYPE_TEXT:N,TYPE_TEXTAREA:P,TYPE_YES_NO:O,TYPE_MULTIPLE_CHOICE:V};var G=Y;var K=a(26570);const X=e=>{const{data:t,label:a,name:i}=e;const o=l();const{setSpecialErrors:r,specialErrors:c}=d();const u=(0,n.useRef)(false);const[p,m]=(0,n.useState)(false);const[f,g]=(0,n.useState)([]);const[v,y,...w]=F(t.options);const S=!p&&!!c[i];const C=!!c[i];const x=o!=="add";const T=e=>{const{id:t}=e.target;if(t==="isVeteran"){m(true);if(u.current&&!f.length){r(i,{rule:"required"})}u.current=true}else{u.current=false;m(false);g([]);r(i,null)}};const E=(e,t)=>{g(t);if(t.length){r(i,null)}else{r(i,{rule:"required"})}};const k=()=>{g([]);r(i,{rule:"required"})};return(0,s.Z)("div",{className:"fab-FormColumn CandidateField CandidateField--veteranStatusId"},void 0,(0,s.Z)("fieldset",{className:"fab-FormRow--tight fab-RadioGroup",onChange:T},void 0,(0,s.Z)("legend",{className:b()("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":x,"fab-RadioGroup__legend--error":S})},void 0,a),(0,s.Z)("div",{className:"fab-Radio"},void 0,(0,s.Z)("input",{className:`fab-Radio__input ${S?"fab-Radio__input--error":""}`,disabled:Boolean(t.isDisabled),id:"declineToAnswer",name:`${i}[]`,required:x,type:"radio",value:v?v.value:""}),(0,s.Z)("label",{className:b()("fab-Radio__label",{"fab-Radio__label--required":x,"fab-Radio__label--error":S}),htmlFor:"declineToAnswer"},void 0,v?v.text:K.__("Decline to Answer"))),(0,s.Z)("div",{className:"fab-Radio"},void 0,(0,s.Z)("input",{className:`fab-Radio__input ${S?"fab-Radio__input--error":""}`,disabled:t.isDisabled?t.isDisabled:false,id:"notVeteran",name:`${i}[]`,required:x,type:"radio",value:y?y.value:""}),(0,s.Z)("label",{className:b()("fab-Radio__label",{"fab-Radio__label--required":x,"fab-Radio__label--error":S}),htmlFor:"notVeteran"},void 0,y?y.text:K.__("Not a Veteran"))),(0,s.Z)("div",{className:"fab-Radio"},void 0,(0,s.Z)("input",{className:"fab-Radio__input",disabled:t.isDisabled?t.isDisabled:false,id:"isVeteran",name:`${i}[]`,required:x,type:"radio",value:""}),(0,s.Z)("label",{className:b()("fab-Radio__label",{"fab-Radio__label--required":x,"fab-Radio__label--error":S}),htmlFor:"isVeteran"},void 0,K.__("Veteran")))),(0,s.Z)("div",{className:`fab-FormRow--tight CandidateField CandidateField--veteranStatuses ${p?"CandidateField--veteranStatusesShown":""}`},void 0,(0,s.Z)("label",{className:b()("fab-Label",{"fab-Label--required":x,"fab-Label--error":C}),htmlFor:"veteranStatuses"},void 0,a),(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__inputWrapper"},void 0,(0,s.Z)(h.Select,{canSelectMultiple:true,isRequired:x,items:w,name:`${i}[]`,onClear:k,onDeselect:E,onSelect:E,selectedValues:f,width:100}))))};const J=e=>{const{cqType:t,data:a,label:n,name:i,rules:o,showErrorMessage:r,type:c,typeProps:u={}}=e;const h=l();const{errors:p,register:m}=d();const f=t?v[t]:c;const g=G[f];if(g===undefined){return null}const y=te(h,i,a?a.isRequired:false);const b={...o,required:y};if(t){u.cqType=t}return(0,s.Z)(g,{data:a?{...a,isRequired:y}:null,errorState:p[i],label:n,name:i,rules:o,showErrorMessage:r,typeProps:u,validationRegistration:o||y?m(b):null})};const Q=e=>{const{shouldShow:t,children:a}=e;if(!t){return null}return(0,s.Z)("div",{className:"fab-FormRow CandidateForm__row"},void 0,a)};const ee=e=>{const{shouldShow:t,children:a}=e;if(!t){return null}return(0,s.Z)("fieldset",{className:"fab-FormSection CandidateForm__section"},void 0,a)};function te(e,t,a){if(e==="add"||e==="edit"){return t==="firstName"||t==="lastName"}return a}var ae=a(26570);const se=e=>{const{countryId:t,postCodeLabel:a,subEntityLabel:i,subEntityOptions:o,switchCountry:r}=(0,u.m)({initialCountryId:e.countryId&&e.countryId.value!==""?e.countryId.value:"1",initialSubEntityOptions:e.state?e.state.options:[]});const[l,c]=(0,n.useState)({...e.state});(0,n.useEffect)((()=>{if(e.countryId&&t===e.countryId.value){c({...e.state,options:o})}else{c({...e.state,value:"",options:o})}}),[t]);const d={perms:e.sourceId?e.sourceId.hasSettingsPerms:false,url:"/hiring/jobs/sources",label:ae.__("Source"),name:ae.__("Add New Source")};return(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)(ee,{shouldShow:true},void 0,(0,s.Z)(Q,{shouldShow:true},void 0,(0,s.Z)(J,{data:e.firstName,label:ae.__("First Name"),name:"firstName",type:"TYPE_TEXT"}),(0,s.Z)(J,{data:e.lastName,label:ae.__("Last Name"),name:"lastName",type:"TYPE_TEXT"})),(0,s.Z)(Q,{shouldShow:true},void 0,(0,s.Z)(J,{data:e.email,label:ae.__("Email"),name:"email",rules:{email:{message:()=>ae.__("Invalid email address.")}},showErrorMessage:true,type:"TYPE_TEXT"})),(0,s.Z)(Q,{shouldShow:Boolean(e.phone)},void 0,(0,s.Z)(J,{data:e.phone,label:ae.__("Phone"),name:"phone",rules:{maxLength:20},type:"TYPE_TEXT"})),(0,s.Z)(Q,{shouldShow:Boolean(e.streetAddress)},void 0,(0,s.Z)(J,{data:e.streetAddress,label:ae.__("Address"),name:"streetAddress",type:"TYPE_TEXT"})),(0,s.Z)(Q,{shouldShow:Boolean(e.city||e.stateId||e.zip)},void 0,(0,s.Z)(J,{data:e.city,label:ae.__("City"),name:"city",type:"TYPE_TEXT"}),o.length?(0,s.Z)(J,{data:l,label:i,name:"state",type:"TYPE_SELECT"}):(0,s.Z)(J,{data:l,label:i,name:"state",type:"TYPE_TEXT"}),(0,s.Z)(J,{data:e.zip,label:a,name:"zip",type:"TYPE_TEXT"})),(0,s.Z)(Q,{shouldShow:Boolean(e.countryId)},void 0,(0,s.Z)(J,{data:{...e.countryId,value:t},label:ae.__("Country"),name:"countryId",type:"TYPE_SELECT",typeProps:{onSelect:e=>r(e[0])}}))),(0,s.Z)(ee,{shouldShow:Boolean(e.sourceId||e.coverLetterFileId||e.resumeFileId||e.dateAvailable||e.desiredPay)},void 0,(0,s.Z)(Q,{shouldShow:Boolean(typeof e.sourceId==="object")},void 0,(0,s.Z)(J,{data:e.sourceId,label:ae.__("Source"),name:"sourceId",type:"TYPE_SELECT",typeProps:d})),typeof e.sourceId==="string"&&(0,s.Z)("input",{name:"source",type:"hidden",value:e.sourceId}),(0,s.Z)(Q,{shouldShow:Boolean(e.coverLetterFileId)},void 0,(0,s.Z)(J,{data:e.coverLetterFileId,label:ae.__("Cover Letter"),name:"coverLetterFileId",type:"TYPE_FILE_UPLOAD"})),(0,s.Z)(Q,{shouldShow:Boolean(e.resumeFileId)},void 0,(0,s.Z)(J,{data:e.resumeFileId,label:ae.__("Resume"),name:"resumeFileId",type:"TYPE_FILE_UPLOAD"})),(0,s.Z)(Q,{shouldShow:Boolean(e.dateAvailable)},void 0,(0,s.Z)(J,{data:e.dateAvailable,label:ae.__("Date Available"),name:"dateAvailable",type:"TYPE_DATE"})),(0,s.Z)(Q,{shouldShow:Boolean(e.desiredPay)},void 0,(0,s.Z)(J,{data:e.desiredPay,label:ae.__("Desired Pay"),name:"desiredPay",type:"TYPE_TEXT"}))),(0,s.Z)(ee,{shouldShow:Boolean(e.websiteUrl||e.linkedinUrl||e.twitterUsername)},void 0,(0,s.Z)(Q,{shouldShow:Boolean(e.websiteUrl)},void 0,(0,s.Z)(J,{data:e.websiteUrl,label:ae.__("Website, Blog, or Portfolio"),name:"websiteUrl",rules:{url:{message:()=>ae.__("Invalid website URL.")}},showErrorMessage:true,type:"TYPE_TEXT",typeProps:{hasCustomUrlHandling:true}})),(0,s.Z)(Q,{shouldShow:Boolean(e.linkedinUrl)},void 0,(0,s.Z)(J,{data:e.linkedinUrl,label:ae.__("LinkedIn Profile URL"),name:"linkedinUrl",rules:{url:{message:()=>ae.__("Invalid LinkedIn profile URL.")}},showErrorMessage:true,type:"TYPE_TEXT",typeProps:{hasCustomUrlHandling:true,nubIconName:"fab-linkedin-12x11"}})),(0,s.Z)(Q,{shouldShow:Boolean(e.twitterUsername)},void 0,(0,s.Z)(J,{data:e.twitterUsername,label:ae.__("Twitter Username"),name:"twitterUsername",type:"TYPE_TEXT",typeProps:{nubIconName:"fab-twitter-14x11"}}))),(0,s.Z)(ee,{shouldShow:Boolean(e.educationLevelId||e.educationInstitutionName)},void 0,(0,s.Z)(Q,{shouldShow:Boolean(e.educationLevelId||e.educationInstitutionName)},void 0,(0,s.Z)(J,{data:e.educationLevelId,label:ae.__("Highest Education Obtained"),name:"educationLevelId",type:"TYPE_SELECT"}),(0,s.Z)(J,{data:e.educationInstitutionName,label:ae.__("College/University"),name:"educationInstitutionName",type:"TYPE_TEXT"}))),(0,s.Z)(ee,{shouldShow:Boolean(e.referredBy||e.references)},void 0,(0,s.Z)(Q,{shouldShow:Boolean(e.referredBy)},void 0,(0,s.Z)(J,{data:e.referredBy,label:ae.__("Who referred you for this position?"),name:"referredBy",type:"TYPE_TEXT"})),(0,s.Z)(Q,{shouldShow:Boolean(e.references)},void 0,(0,s.Z)(J,{data:e.references,label:ae.__("References (Name, Company, and Contact Info)"),name:"references",type:"TYPE_TEXTAREA"}))),(0,s.Z)(ee,{shouldShow:Boolean(e?.customQuestions?.length)},void 0,e.customQuestions&&e.customQuestions.map((e=>{const t=e.type==="file"?{canSelectMultiple:true}:{};const a=e.type==="file"?`customQuestions[${e.id}][]`:`customQuestions[${e.id}]`;return(0,s.Z)(Q,{shouldShow:true},e.id,(0,s.Z)(J,{cqType:e.type||m.I.long,data:e,label:e.question,name:a,typeProps:t}))}))),(0,s.Z)(ee,{shouldShow:Boolean(e.jobCategoryId)},void 0,(0,s.Z)(Q,{shouldShow:true},void 0,(0,s.Z)("div",{className:"CandidateForm__EEO"},void 0,(0,s.Z)("div",{className:"CandidateForm__EEOHeading"},void 0,ae.__(`Your answers to the following four questions are entirely optional.`),(0,s.Z)(p.Z,{settings:{content:ae.__("To comply with government Equal Employment Opportunity and Affirmative Action reporting regulations, we are requesting (but NOT requiring) that you provide this personal data."),position:"right"},wrapperClassName:"CandidateForm__EEOIcon"},void 0,(0,s.Z)(h.Icon,{name:"fab-question-14x14"}))),(0,s.Z)("div",{className:"CandidateForm__EEOParagraph"},void 0,ae.__(`This information will not be used as selection criteria. If you'd rather not share this information, feel free to select "Decline to Answer".`)))),(0,s.Z)(Q,{shouldShow:true},void 0,(0,s.Z)(J,{data:e.genderId,label:ae.__("Gender"),name:"genderId",type:"TYPE_SELECT"})),(0,s.Z)(Q,{shouldShow:true},void 0,(0,s.Z)(J,{data:e.ethnicityId,label:ae.__("Ethnicity"),name:"ethnicityId",type:"TYPE_SELECT"})),(0,s.Z)(Q,{shouldShow:true},void 0,(0,s.Z)(J,{data:e.disabilityId,label:ae.__("Disability"),name:"disabilityId",type:"TYPE_SELECT"})),(0,s.Z)(Q,{shouldShow:true},void 0,(0,s.Z)(X,{data:e.veteranStatusId,label:ae.__("Veteran Status"),name:"veteranStatusId"}))))};var ne=se;var ie=a(26570);const oe=e=>{const t=36e6;const{actions:a={},fields:s,formId:i}=e;const{cancelAction:o,primaryAction:r}=a;const l=(0,n.useRef)(null);const c=d();const{reset:u,setSpecialErrors:h,specialErrors:p,validate:m}=c;const f=(0,n.useCallback)((e=>{if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest();return}let a=false;["resumeFileId","coverLetterFileId"].forEach((e=>{const s=`${e}Timestamp`;if(p[s]){const e=Date.now()-p[s].timestamp;if(e>t){a=true}}}));const n=le(p,"fileUploadPending");const o=de(l.current,(0,I.pick)(s,["dateAvailable","resumeFileId","coverLetterFileId","veteranStatusId","customQuestions"]),h);if(n||!o||a){ce(p,a)}const c=m([],o);if(n||a||!o||!c){return}if(typeof r==="function"){e.stopPropagation();r();return}if(i){document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"));l.current.submit();return}console.warn(`No formId or Action provided, What were you expecting to happen?`)}),[s,i,r,h,p,m]);const g=(0,n.useCallback)((e=>{if(typeof o==="function"){e.stopPropagation();o(u)}}),[o,u]);(0,n.useEffect)((()=>{const e=document.querySelector(".SiteFooter__action--primary, .js-SiteFooter__action--primary");const t=document.querySelector(".SiteFooter__action--link, .js-SiteFooter__action--link");e.addEventListener("click",f);t.addEventListener("click",g);return()=>{e.removeEventListener("click",f);t.removeEventListener("click",g)}}));(0,n.useEffect)((()=>{l.current=document.getElementById(i)}),[i]);return null};var re=oe;function le(e,t){return Object.keys(e).some((a=>e[a].rule===t))}function ce(e,t){if(le(e,"fileUploadPending")){window.setMessage(ie.__("Your file is still uploading. Please try again once the upload is complete."),"error")}else if(t){window.setMessage(ie.__("Your file upload has expired.  Please remove your file and upload it again."),"error")}else{window.setMessage(ie.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error");const[t]=Object.keys(e);const a=document.querySelector(`[name="${t}"]`);if(a){a.focus()}}}function de(e,t,a){const s=new FormData(e);let n=true;if(t.dateAvailable){const s=e.elements.dateAvailable.value;n=T("dateAvailable",t.dateAvailable.isRequired,s,a)}["resumeFileId","coverLetterFileId"].forEach((n=>{if(!t[n]||!e.elements[n]){return}if(s.getAll(n).some((e=>Boolean(e)))){a(n,null)}}));if(t.customQuestions){t.customQuestions.forEach((t=>{if(t.type==="multi"&&t.isRequired&&!s.getAll(`customQuestions[${t.id}]`).some((e=>Boolean(e)))){a(`customQuestions[${t.id}]`,{rule:"required"});n=false}if(t.type==="multi"&&s.get(`customQuestions[${t.id}]`)&&!s.get(`customQuestions[${t.id}][other]`)&&!e.elements[`customQuestions[${t.id}][other]`].disabled){a(`customQuestions[${t.id}][other]`,{rule:"required"});n=false}}))}if(t.veteranStatusId&&t.veteranStatusId.isRequired){if(!s.getAll("veteranStatusId[]").some((e=>Boolean(e)))){a("veteranStatusId",{rule:"required"});n=false}}return n}const ue=e=>{let{fields:t,usage:a,actions:l,formId:d}=e;const[u,h]=(0,n.useState)({});const p=(0,o.useValidation)();p.specialErrors=u;p.setSpecialErrors=(e,t)=>{h((a=>{const s={...a};if(t===null){delete s[e]}else{s[e]=t}return s}))};return(0,s.Z)(r.Provider,{value:a},void 0,(0,s.Z)(c.Provider,{value:p},void 0,i().createElement(ne,t),(0,s.Z)(re,{actions:l,fields:t,formId:d})))};var he=ue},77421:(e,t,a)=>{"use strict";a.d(t,{Be:()=>o,Ho:()=>c,g0:()=>f,oW:()=>m});var s=a(38592);var n=a(41810);var $=a(26570);let i=[];function o(e){f();$(".js-attached-files").empty().append(l(e,"template"));p()}function r(){const e=$(".js-attached-files");e.find(".js-file").not("[data-template-file]").remove();e.append(l(i,"new"));$(".dot-ellipsis").dotdotdot({wrap:"letter"});p()}function l(e,t){let a="";e.forEach((function(e){let n=e.id||"";let i=e.value||"";let o="";if(t=="template"){o=`data-template-file="true"`}a+=`<div class="FileCard js-file" data-id="${BambooHR.Utils.sanitizeHtml(n)}" data-name="${BambooHR.Utils.sanitizeHtml(e.name)}" data-type="${BambooHR.Utils.sanitizeHtml(e.type)}" data-size="${BambooHR.Utils.sanitizeHtml(e.size)}" data-value="${BambooHR.Utils.sanitizeHtml(i)}" ${BambooHR.Utils.sanitizeHtml(o)}>\n\t\t\t<span class="FileCard__detail">\n\t\t\t\t<span class="FileCard__title dot-ellipsis" title="${BambooHR.Utils.sanitizeHtml(e.name)}">${BambooHR.Utils.sanitizeHtml(e.name)}</span>\n\t\t\t</span>\n\t\t\t<span class="FileCard__info">\n\t\t\t\t<span class="FileCard__icon">\n\t\t\t\t\t<ba-icon name="${BambooHR.Utils.getIconNameFromFileName(e.name,"16x20")}"></ba-icon>\n\t\t\t\t</span>\n\t\t\t\t${(0,s.getExtFromFileName)(e.name).toUpperCase()} (${(0,s.humanFileSize)(e.size)})\n\t\t\t</span>\n\t\t\t<span class="FileCard__close js-remove-file"></span>\n\t\t\t<input type="hidden" name="addFiles[]" value="${BambooHR.Utils.sanitizeHtml(i)}" />\n\t\t</div>`}));return a}function c(){$(document).off("click",".js-add-files-btn");$(document).off("click",".js-attached-files .js-remove-file")}function d(e){const t=".js-emailFileUploadContext";const a=()=>{const a=e;$(t).find(":input[name^=attachId], ba-select[name^=attachId]").each((function(e,t){i.push({name:t.getAttribute("data-name"),type:t.getAttribute("data-type"),value:t.getAttribute("value"),size:t.getAttribute("data-size"),image:t.getAttribute("data-image")})}));r();if(a){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}};const s=$("#uploadFilesDialog").html();const o={dangerousContent:`<div class="js-emailFileUploadContext">`+s+`</div>`,onClose:()=>{if(e){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},onOpen:()=>{$(".FileUploadActions").addClass("centerContent");let s=$(".multiUpload");let i={linkHTML:`<span class="attach-link">\n\t\t\t\t\t\t\t<button class="fab-Button fab-Button--secondary fab-Button--noSpace js-chooseFile" type="button">`+$.__("Choose File(s)")+` </button>\n\t\t\t\t\t\t\t<button class="files-add-files fab-TextButton fab-link" type="button" style="display: none;"> + `+$.__("Add a file")+` </button>\n\t\t\t\t\t\t</span>`,success:function(t,n){$(".noFile",s).hide();let i=$(".attach-wrapper",s).closest("form");i.append(`<input\n\t\t\t\t\t\ttype="hidden"\n\t\t\t\t\t\tname="attachId[]"\n\t\t\t\t\t\tdata-name="${t.name}"\n\t\t\t\t\t\tdata-type="${t.type}"\n\t\t\t\t\t\tdata-size="${t.size}"\n\t\t\t\t\t\tdata-image="${t.image}"\n\t\t\t\t\t\tvalue="${t.fid}"\n\t\t\t\t\t/>`);u(true,a,e)},removeFile:function(t){let a=t.attr("id").replace("file-","");if(t.hasClass("uploadDone")){$(`input[name^=attachId][value="${a}"]`).remove()}if((0,n.Iw)(s)){u(false,null,e)}return true},onRemove:function(){if((0,n.Iw)(s)){u(false,null,e)}},createFileWrapper:function(e,t){$(".noFile",s).hide();if($(".files > *",s).length===0){$(".attach-link button, .uploadDesc",s).toggle();(0,n.TZ)(s,false)}return $.fileUploader.createFileWrapper(e,t)},setDragOverValues:function(e){e.addClass("dragOver").find(".upload-msg").text($.__("Upload Files"))},setDragOffValues:function(){$(".dragOver").find(".upload-msg").text($.__("Drop Files Here to Upload"));$(".dragOver").removeClass("dragOver")},uploaderId:"multiUpload"};$(".attach-wrapper",s).closest(t).fileUploader(i);$(".uploadDesc").show();$(t).find(":input[name^=attachId], ba-select[name^=attachId]").remove()},primaryAction:null,primaryActionText:$.__("Attach"),isOpen:true,title:$.__("Upload Files")};if(e){window.BambooHR.Modal.setState({sheetProps:o},true)}else{window.BambooHR.Modal.setState(o)}}function u(e,t,a){if(a){if(e){window.BambooHR.Modal.setState({isOpen:true,sheetProps:{primaryAction:t}},true)}else{window.BambooHR.Modal.setState({isOpen:true,sheetProps:{primaryAction:null}},true)}}else if(e){window.BambooHR.Modal.setState({primaryAction:t},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}function h(){let e=$(".js-attached-files").find(".js-file");let t=0;for(let a=0;a<e.length;a++){t+=Number(e[a].dataset.size)}return t}function p(){const e=$(".js-new-files-status");let t=h();let a=$.__("Total attachment size right now is %s. For emails, it's best to keep it under 10MB.",`<strong>${BambooHR.Utils.humanFileSize(t)}</strong>`);if(t>10433333){e.html(a)}else{e.empty()}}function m(){$(document).on("click",".js-add-files-btn",(function(){d();return false}));$(document).on("click",".js-attached-files .js-remove-file",(function(e){const t=$(".js-attached-files");let a=$(this).closest(".js-file");if(a.data("template-file")!==undefined){t.append('<input type="hidden" name="deleteFiles[]" value="'+a.data("id")+'" />')}let s=a.data("value");if(typeof s!="undefined"){i=i.filter((function(e){return e.value!==s}))}a.remove();p()}))}function f(){i.length=0}},18085:(e,t,a)=>{"use strict";a.d(t,{y:()=>u});var s=a(73641);var n=a.n(s);var i=a(56445);var o=a.n(i);let r;let l;let c;let d=false;function u(e,t){h();l=document.querySelector(e);c=document.querySelector(t);r=(0,s.throttle)(p,10);if(l&&c){window.addEventListener("scroll",r)}}function h(){window.removeEventListener("scroll",r,false)}function p(){const e=c.scrollTop;const t=(0,i.ifFeature)("encore",111,80);if(l.getBoundingClientRect().top<t){l.style.height=`${l.offsetHeight}px`;c.classList.add("fixed");c.scrollTop=e;d=true}else{l.style.height=null;c.classList.remove("fixed");d=false}}},62740:(e,t,a)=>{"use strict";a.d(t,{I:()=>s,y:()=>n});let s=function(e){e["short"]="short";e["long"]="long";e["yes_no"]="yes_no";e["multi"]="multi";e["checkbox"]="checkbox";e["file"]="file";return e}({});let n=function(e){e["IN_OFFICE"]="0";e["REMOTE"]="1";e["HYBRID"]="2";return e}({})},68496:(e,t,a)=>{"use strict";a.d(t,{KI:()=>l,ZU:()=>h,lX:()=>d});var s=a(62740);var n=a(56445);var i=a.n(n);var $=a(26570);const o=/^https?:\/\//i;function r(e){return o.test(e)}function l(e){return r(e)?e:`http://${e}`}function c(e){switch(String(e)){case s.y.IN_OFFICE:return"";case s.y.REMOTE:return $.__("Remote");case s.y.HYBRID:return $.__("Hybrid");default:return""}}function d(e,t,a,s){const{city:n,province:i,state:o,country:r}=t||{};let l;let c;if(typeof r==="object"){l=r?.name}else if(typeof r==="string"){l=r}if(typeof o==="object"){c=r?.iso_code==="US"&&n?o?.abbrev:o?.name}else if(typeof o==="string"){c=o}return h(e,n,i||c,l,a||"",s)}function u(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(e){return`${t}${s?" ":""}${a}`}return t}function h(e,t,a,i,o){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:(0,n.ifFeature)("encore","-",String.fromCharCode(183));let l=o??"";const d=!!t||!!a||!!i||e&&String(e)===s.y.REMOTE;l=u(l.length&&d,l,r);l=u(!!t,l,t);l=u(!!t&&!!a,l,",",false);l=u(!!a,l,a||"");l=u(!a&&!t&&!!i,l,i||"");if(String(e)!==s.y.IN_OFFICE){const s=c(e);const n=(t||a||i)&&s?`(${s})`:s;l=l?.trim().length?`${l} ${n}`:n}return l.trim()}},28709:(e,t,a)=>{"use strict";a.d(t,{gU:()=>F,zs:()=>Se,AQ:()=>ne,lr:()=>Ae,K9:()=>s,Wm:()=>Pe});var s={};a.r(s);a.d(s,{ACCOUNT_ENDPOINT:()=>r,BASE_ENDPOINT:()=>o,getCancellationFeatureReasonOptions:()=>p,getCancellationFeatureReasonOptionsAll:()=>m,getCancellationFeatureStatus:()=>l,getCancellationStatusAll:()=>c,getExtraJobOpenings:()=>u,getNextBillingDates:()=>d,getRemainingJobOpenings:()=>h,stopCancellation:()=>g,submitCancellation:()=>f});var n=a(17842);var i=a.n(n);const o="/settings/cancellation";const r="/settings/account/cancellation";function l(e){return i().get(`${o}/${e}/status`)}function c(){return i().get(`${o}/status_all`)}function d(){return i().get(`${r}/next_billing_dates`)}function u(){return i().get(`${o}/extra_job_openings`)}function h(){return i().get(`${o}/remaining_job_openings`)}function p(e){return m().then((t=>{const a=Array.isArray(e)?e:[e];const s=t.data.filter((e=>a.includes(e.feature)));return{data:s}}))}function m(){return i().get(`${o}/reason_options_all`)}function f(e){return i().post(`${o}/start`,e)}function g(e){return i().post(`${o}/stop`,e)}var v=a(89835);var y=a(23321);var b=a.n(y);var w=a(59155);var S=a(1831);var C=a(56445);var x=a(82543);var T=a.n(x);var $=a(26570);const E=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const t=T()(e);return t.isValid()?t.format("L"):""};const k=(e,t)=>[{text:$.__("Cancel %1",t),value:"cancelProducts",isDisabled:e?.pending_cancellation,note:e?.pending_cancellation?$.__("Request sent %1 by %2",E(e.date_requested),e.user_who_requested_cancellation):null}];var Z=a(26570);const F=e=>{let{cancellationData:t,handleOnSelect:a,title:s,biId:n}=e;const i=(0,v.Z)(w.Dropdown,{biId:n,buttonSettings:{ariaLabel:Z.__("Cancellation"),color:"secondary",startIcon:(0,v.Z)(S.Z,{}),variant:"outlined",size:"teenie"},items:k(t,s),onSelect:a});return(0,C.ifFeature)("encore",(0,v.Z)(w.Dropdown,{ButtonProps:{ariaLabel:Z.__("Cancellation"),color:"secondary",icon:"gear-regular",size:"small",variant:"outlined"},items:k(t,s),onSelect:a,type:w.DropdownTypes.ICON}),i)};var I=a(88604);var N=a(73641);var A=a(96738);var M=a(42579);var D=a(26570);const P=(0,w.makeStyles)((e=>{let{palette:t}=e;return{icon:{fill:t.warning.main}}}));const L=e=>{let{isOpen:t,isProcessing:a,onRequestClose:s,onSubmit:n,productName:i}=e;const[o,r]=(0,y.useState)("");const l=P();(0,y.useEffect)((()=>{(0,M.Z)().then((e=>{r(e?.name||"")}))}),[]);const c="in-app-cancellation-confirmation-sheet";const d=i?D.__("Are you sure you want to cancel %s for %s?",i,o):D.__("Are you sure you want to submit this cancellation request for %s?",o);return(0,C.ifFeature)("encore",(0,v.Z)(w.SheetModal,{isOpen:t,isProcessing:a,onRequestClose:s},void 0,(0,v.Z)(w.SheetModal.Body,{renderFooter:(0,v.Z)(w.SheetModal.Footer,{actions:[(0,v.Z)(w.TextButton,{"data-bi-id":`${c}-cancel-button`,onClick:s,type:"button"},`${c}-cancel-button`,D.__("Cancel")),(0,v.Z)(w.Button,{"data-bi-id":`${c}-submit-button`,onClick:n,type:"button"},`${c}-sheet-submit-button`,D.__("Submit Cancellation Request"))]}),renderHeader:(0,v.Z)(w.SheetModal.Header,{title:D.__("Just Checking...")})},void 0,(0,v.Z)(w.SheetModal.Constraint,{spacingOverrides:{top:w.CardContentSpacing.LARGE,bottom:w.CardContentSpacing.LARGE}},void 0,(0,v.Z)(w.SheetModal.HeroHeadline,{icon:(0,v.Z)(w.IconV2,{name:"triangle-exclamation-solid",size:55}),text:d,subtext:D.__("After submitting you will receive an email with instructions for exporting your data.")})))),(0,v.Z)(w.SheetModal,{isOpen:t,isProcessing:a,onRequestClose:s},void 0,(0,v.Z)(w.SheetModal.Body,{renderFooter:(0,v.Z)(w.SheetModal.Footer,{actions:[(0,v.Z)(w.Button,{"data-bi-id":`${c}-submit-button`,onClick:n,type:"button"},`${c}-sheet-submit-button`,D.__("Submit Cancellation Request")),(0,v.Z)(w.TextButton,{"data-bi-id":`${c}-cancel-button`,onClick:s,type:"button"},`${c}-cancel-button`,D.__("Cancel"))]}),renderHeader:(0,v.Z)(w.SheetModal.Header,{title:D.__("Just Checking...")})},void 0,(0,v.Z)(w.SheetModal.Constraint,{spacingOverrides:{top:w.CardContentSpacing.LARGE,bottom:w.CardContentSpacing.LARGE}},void 0,(0,v.Z)(w.SheetModal.HeroHeadline,{icon:(0,v.Z)(A.Z,{className:l.icon}),text:d,subtext:D.__("After submitting you will receive an email with instructions for exporting your data.")})))))};var O=a(26570);const R=e=>{let{biId:t,children:a,disablePrimaryButton:s,isLastStep:n,onClose:i,onNext:o,onPrevious:r,renderHeader:l}=e;return(0,C.ifFeature)("encore",(0,v.Z)(w.StandardModal.Body,{renderFooter:(0,v.Z)(w.StandardModal.Footer,{actions:[(0,v.Z)(w.TextButton,{"data-bi-id":`${t}-cancel-button`,onClick:i,type:"button"},`${t}-cancel-button`,O.__("Cancel")),...r?[(0,v.Z)(w.Button,{"data-bi-id":`${t}-back-button`,color:"secondary",onClick:r,type:"button"},`${t}-back-button`,O.__("Back"))]:[],(0,v.Z)(w.Button,{"data-bi-id":`${t}-next-button`,disabled:s,onClick:o,type:"button"},`${t}-next-button`,n?O.__("Submit"):O.__("Next"))]}),renderHeader:l,size:w.CardSize.SMALL},void 0,(0,v.Z)(w.StandardModal.Constraint,{spacingOverrides:{top:w.CardContentSpacing.LARGE}},void 0,a)),(0,v.Z)(w.StandardModal.Body,{renderFooter:(0,v.Z)(w.StandardModal.Footer,{actions:[(0,v.Z)(w.Button,{"data-bi-id":`${t}-next-button`,disabled:s,onClick:o,type:"button"},`${t}-next-button`,n?O.__("Submit"):O.__("Next")),...r?[(0,v.Z)(w.Button,{"data-bi-id":`${t}-back-button`,color:"secondary",onClick:r,type:"button"},`${t}-back-button`,O.__("Back"))]:[],(0,v.Z)(w.TextButton,{"data-bi-id":`${t}-cancel-button`,onClick:i,type:"button"},`${t}-cancel-button`,O.__("Cancel"))]}),renderHeader:l,size:w.CardSize.SMALL},void 0,(0,v.Z)(w.StandardModal.Constraint,{spacingOverrides:{top:w.CardContentSpacing.LARGE}},void 0,a)))};const B=(0,w.makeStyles)((e=>{let{spacing:t}=e;return(0,w.createStyles)({form:{display:"grid",paddingBottom:t(3)},selectField:{marginTop:t(2)},subText:{marginTop:t(-1),color:"#686868"},contentText:{marginTop:t(2)}})}));var j=a(26570);const H=e=>{let{nextBillingDates:t,onNext:a,setIsLoading:s,...n}=e;const i=B();const[o,r]=(0,y.useState)(t[1]?.value);const[l,c]=(0,y.useState)();const[d,p]=(0,y.useState)([]);const[m,f]=(0,y.useState)(0);const[g,S]=(0,y.useState)(0);const C=[{isDisabled:true,text:j.__("Job Openings must be cancelled in groups of 10."),value:"note"}];const x=e=>{r(e.target.value)};const T=e=>{c(e.target.value)};const E=()=>{a({cancellation_date:o,job_opening_data:{number_to_cancel:l}})};(0,y.useEffect)((()=>{s(true);u().then((e=>{f(e.data.extraJobPostings+25);const t=Math.round(e.data.extraJobPostings/10);const a=[];for(let e=1;e<=t;e++){a.push({text:e*10,value:e*10})}p(a)})).catch((()=>{window.setMessage(j.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error")})).finally((()=>{s(false)}));h().then((e=>{S(e.data.remainingJobOpenings)})).catch((()=>{window.setMessage(j.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error")}))}),[]);const k=!o||!l;return b().createElement(R,(0,I.Z)({},n,{disablePrimaryButton:k,onNext:E}),(0,v.Z)(w.StandardModal.UpperContent,{},void 0,(0,v.Z)(w.Badge,{iconName:"fab-ats-38x46",iconColor:"#555555",imageHeight:"auto",imageWidth:"auto",title:j.__("You currently have %s total job openings",m),TitleProps:{color:"textPrimary",variant:"h5"}},void 0,(0,v.Z)("p",{className:i.subText},void 0,j.__("%s extra are not being used",g)))),(0,v.Z)("div",{className:i.form},void 0,(0,v.Z)("p",{className:i.contentText},void 0,j.__("We hope you found the candidates you were looking for! Please fill out the information below to cancel your job openings.")),(0,v.Z)(w.SelectField,{className:i.selectField,items:t,label:j.__("Desired Cancellation Date"),onChange:x,width:6,placeholder:"mm/dd/yyyy",id:"job-openings-cancellation-date",required:true,value:o}),(0,v.Z)(w.SelectField,{className:i.selectField,items:[...C,...d],label:j.__("Number of Job Openings to Cancel"),onChange:T,width:6,id:"job-openings-number-to-cancel",required:true,value:l})))};var q=a(26570);const W=[{label:q.__("Yes"),value:"yes"},{label:q.__("No"),value:"no"}];const U=(0,N.times)(4,(e=>{const t=`${e+1}`;return{text:t,value:t}}));const z=[T()().subtract(1,"years").format("YYYY"),T()().format("YYYY")];const V=z.map((e=>({text:e,value:e})));var Y=a(26570);const G=(0,w.makeStyles)((e=>{let{spacing:t}=e;return{marginBottom:{marginBottom:t(2)}}}));const K=e=>{let{onNext:t,...a}=e;const[s,n]=(0,y.useState)({final_pay_date:null,use_federal_id_after_final_date:null,pay_through_quarter:null,pay_through_year:null});const i=G();const o=e=>{n({...s,...e})};const r=()=>{t({payroll_data:s})};const l=!s.final_pay_date||!s.use_federal_id_after_final_date||!s.pay_through_quarter||!s.pay_through_year;return(0,C.ifFeature)("encore",b().createElement(R,(0,I.Z)({},a,{disablePrimaryButton:l,onNext:r}),(0,v.Z)(w.LayoutBox,{marginBottom:2},void 0,(0,v.Z)(w.BodyText,{},void 0,Y.__("We'll be sad to see you go! Please fill out the following and we will be in touch to process your cancellation."))),(0,v.Z)("form",{},void 0,(0,v.Z)(w.LayoutBox,{marginBottom:2},void 0,(0,v.Z)(w.DatePicker,{id:"final_pay_date",label:Y.__("Final Pay Date"),minDate:T()().add(1,"days").format("YYYY-MM-DD"),onChange:e=>o({final_pay_date:e.value}),required:true,value:s.final_pay_date})),(0,v.Z)(w.LayoutBox,{marginBottom:2},void 0,(0,v.Z)(w.RadioGroup,{items:W,label:Y.__("Will you be processing payroll using this Federal ID after your final pay date?"),name:"use_federal_id_after_final_date",onChange:e=>o({use_federal_id_after_final_date:e.value}),value:s.use_federal_id_after_final_date||""})),(0,v.Z)(w.LayoutBox,{marginBottom:2},void 0,(0,v.Z)(w.SelectField,{id:"pay_through_quarter",items:U,isClearable:false,label:Y.__("Please file taxes through quarter:"),onChange:e=>{const t=e.target.value[0];o({pay_through_quarter:t,pay_through_year:t!=="4"?V[1].value:null})},value:[s.pay_through_quarter||""],width:6})),(0,v.Z)(w.LayoutBox,{marginBottom:2},void 0,(0,v.Z)(w.SelectField,{id:"pay_through_year",items:s.pay_through_quarter==="4"?V:[V[1]],isClearable:false,isDisabled:!s.pay_through_quarter,label:Y.__("Please file taxes through year:"),onChange:e=>o({pay_through_year:e.target.value[0]}),value:[s.pay_through_year||""],width:6})))),b().createElement(R,(0,I.Z)({},a,{disablePrimaryButton:l,onNext:r}),(0,v.Z)("p",{className:i.marginBottom},void 0,Y.__("We'll be sad to see you go! Please fill out the following and we will be in touch to process your cancellation.")),(0,v.Z)("form",{},void 0,(0,v.Z)("div",{className:i.marginBottom},void 0,(0,v.Z)(w.DatePicker,{id:"final_pay_date",label:Y.__("Final Pay Date"),minDate:T()().add(1,"days").format("YYYY-MM-DD"),onChange:e=>o({final_pay_date:e.value}),required:true,value:s.final_pay_date})),(0,v.Z)("div",{className:i.marginBottom},void 0,(0,v.Z)(w.RadioGroup,{items:W,label:Y.__("Will you be processing payroll using this Federal ID after your final pay date?"),name:"use_federal_id_after_final_date",onChange:e=>o({use_federal_id_after_final_date:e.value}),value:s.use_federal_id_after_final_date||""})),(0,v.Z)("div",{className:i.marginBottom},void 0,(0,v.Z)(w.SelectField,{id:"pay_through_quarter",items:U,isClearable:false,label:Y.__("Please file taxes through quarter:"),onChange:e=>{const t=e.target.value[0];o({pay_through_quarter:t,pay_through_year:t!=="4"?V[1].value:null})},value:[s.pay_through_quarter||""],width:6})),(0,v.Z)("div",{className:i.marginBottom},void 0,(0,v.Z)(w.SelectField,{id:"pay_through_year",items:s.pay_through_quarter==="4"?V:[V[1]],isClearable:false,isDisabled:!s.pay_through_quarter,label:Y.__("Please file taxes through year:"),onChange:e=>o({pay_through_year:e.target.value[0]}),value:[s.pay_through_year||""],width:6})))))};var X=a(26570);const J=(0,w.makeStyles)((e=>{let{spacing:t}=e;return{marginBottom:{marginBottom:t(2)},fullWidth:{width:"100%"},textarea:{"& textarea":{boxSizing:"border-box",minHeight:54,resize:"none"}}}}));const Q=e=>{let{onNext:t,reasons:a,...s}=e;const[n,i]=(0,y.useState)({new_processing_method:null,new_processing_method_details:null,reason:null,reason_details:null});const o=J();const r=e=>{i({...n,...e})};const l=()=>{const{reason:e,reason_details:a,...s}=n;t({reason:e,reason_details:a,payroll_data:s})};const c=n.new_processing_method?.toLowerCase()==="other";const d=!n.new_processing_method||c&&!n.new_processing_method_details||!n.reason||!n.reason_details;return b().createElement(R,(0,I.Z)({},s,{disablePrimaryButton:d,onNext:l}),(0,v.Z)("div",{className:o.marginBottom},void 0,(0,v.Z)(w.SelectField,{id:"new_processing_method",isClearable:false,items:a.payroll_new_processing_methods||[],label:X.__("What is your new payroll processing method?"),onChange:e=>r({new_processing_method:e.target.value[0]}),required:true,showSearch:"never",value:[n.new_processing_method||""],width:6})),(0,v.Z)("div",{className:o.marginBottom},void 0,(0,v.Z)(w.TextArea,{className:o.textarea,id:"new_processing_method_details",label:X.__("Please provide any additonal details here"),onChange:e=>r({new_processing_method_details:e.target.value}),required:c,value:n.new_processing_method_details||"",width:100})),(0,v.Z)("div",{className:o.marginBottom},void 0,(0,v.Z)(w.SelectField,{className:o.fullWidth,id:"reason",isClearable:false,items:a.payroll||[],label:X.__("Reason for cancelling payroll account"),onChange:e=>r({reason:e.target.value[0]}),required:true,showSearch:"never",value:[n.reason||""],width:100})),(0,v.Z)("div",{className:o.marginBottom},void 0,(0,v.Z)(w.TextArea,{className:o.textarea,id:"reason_details",label:X.__("Please provide any additonal details here"),onChange:e=>r({reason_details:e.target.value}),required:true,value:n.reason_details||"",width:100})))};var ee=a(26570);const te=(0,w.makeStyles)((e=>{let{spacing:t}=e;return{marginBottom:{marginBottom:t(2)},fullWidth:{width:"100%"},textarea:{"& textarea":{boxSizing:"border-box",minHeight:54,resize:"none"}}}}));const ae=e=>{let{onNext:t,reasons:a,...s}=e;const[n,i]=(0,y.useState)({reason_not_using_federal_id:null,reason_not_using_federal_id_details:null});const o=te();const r=e=>{i({...n,...e})};const l=()=>{t({payroll_data:n})};const c=n.reason_not_using_federal_id?.toLowerCase()==="other";const d=!n.reason_not_using_federal_id||c&&!n.reason_not_using_federal_id_details;return b().createElement(R,(0,I.Z)({},s,{disablePrimaryButton:d,onNext:l}),(0,v.Z)("div",{className:o.marginBottom},void 0,(0,v.Z)(w.SelectField,{className:o.fullWidth,id:"reason_not_using_federal_id",isClearable:false,items:a.payroll_no_use_fed_id_reasons,label:ee.__("Reason for no longer processing with this Federal ID"),onChange:e=>r({reason_not_using_federal_id:e.target.value[0]}),required:true,showSearch:"never",value:[n.reason_not_using_federal_id||""],width:100})),(0,v.Z)("div",{className:o.marginBottom},void 0,(0,v.Z)(w.TextArea,{className:o.textarea,id:"reason_not_using_federal_id_details",label:ee.__("Please provide any additional details here"),onChange:e=>r({reason_not_using_federal_id_details:e.target.value}),required:c,value:n.reason_not_using_federal_id_details||"",width:100})))};const se=e=>{let{formValues:t,...a}=e;if(t?.payroll_data?.use_federal_id_after_final_date===W[0].value){return b().createElement(Q,a)}return b().createElement(ae,a)};let ne=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["JOB_OPENINGS"]="job_openings";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});let ie=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PAYROLL_NEW_PROCESSING_METHODS"]="payroll_new_processing_methods";e["PAYROLL_NO_FED_ID_REASONS"]="payroll_no_use_fed_id_reasons";e["PAYROLL_ACK_1"]="payroll_ack_1_option";e["PAYROLL_ACK_2"]="payroll_ack_2_option";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["JOB_OPENINGS"]="job_openings";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});var oe=a(71141);var re=a(40635);async function le(){const e=await re.Ajax.get("/settings/cancellation/package");return e.data.discount_package}var ce=a(26570);const de=(0,w.makeStyles)((e=>{let{spacing:t}=e;return{bottomPadding:{padding:`0 0 ${t(3)}`},checkboxLabel:{alignItems:"flex-start"}}}));const ue=e=>{let{formValues:t,reasons:a,onNext:s,types:n,...i}=e;const[o,r]=(0,y.useState)(false);const[l,c]=(0,y.useState)(false);const[d,u]=(0,y.useState)(false);const[h,p]=(0,y.useState)(true);const m=(0,oe.isEnabled)("CANCELLATION_DISCOUNT_MESSAGE");const f=de();const[g,S]=(0,y.useState)({ack_1_response:false});const C=e=>{S({...g,...e})};const x=e=>{r(e)};const T=t?.payroll_data?.pay_through_quarter;const E=(new Date).getFullYear();const k=t?.payroll_data?.pay_through_year;const Z=t?.payroll_data?.use_federal_id_after_final_date;const F={quarterYes:ce.__("I understand that taxes will be filed and paid through quarter %s %s. If any payrolls have been processed after quarter %s %s, unemployment funds will be returned to your bank account once the account reconciliation is complete. Year %s W2s and annual filings WILL NOT be done by BambooHR.",T,E,T,E,E),quarterNo:ce.__("If you are no longer planning on processing payroll using this Federal ID, you should select quarter 4 on step 2 of this form unless you are planning to file W2s and annual fiIings yourself. Taxes will be filed and paid through quarter %s %s. If any payrolls have been processed after quarter %s %s, unemployment funds will be returned to your bank account once the account reconciliation is complete. Year %s W2s and annual filings WILL NOT be done by BambooHR.",T,E,T,E,E),year:ce.__("I understand that taxes will be filed and paid through quarter 4 %s. Year %s W2s and annual filings WILL be done by BambooHR.",k,k)};const N=()=>{s({payroll_data:g})};(0,y.useEffect)((()=>{if(!m||!n||n.includes(ne.ACCOUNT)){c(false);return}const e=async()=>{const e=await le();c(e)};e()}),[m]);(0,y.useEffect)((()=>{if(m&&l){p(!d||!g.ack_1_response||!o)}else{p(!g.ack_1_response||!o)}}),[m,l,d,g,o]);return b().createElement(R,(0,I.Z)({},i,{disablePrimaryButton:h,onNext:N}),(0,v.Z)("div",{className:f.bottomPadding},void 0,"Please read through and check the following statements:"),(0,v.Z)(w.Checkbox,{label:a.payroll_ack_1_option?.[0]?.text||"",onChange:e=>C({ack_1_response:e.checked}),value:a.payroll_ack_1_option?.[0]?.value||"",checked:g.ack_1_response,className:f.bottomPadding,classes:{labelRoot:f.checkboxLabel}}),T=="4"&&(0,v.Z)(w.Checkbox,{label:F.year,onChange:e=>x(e.checked),value:"",checked:o,className:f.bottomPadding,classes:{labelRoot:f.checkboxLabel}}),Z=="yes"&&T!="4"&&(0,v.Z)(w.Checkbox,{label:F.quarterYes,onChange:e=>x(e.checked),value:"",checked:o,className:f.bottomPadding,classes:{labelRoot:f.checkboxLabel}}),Z=="no"&&T!="4"&&(0,v.Z)(w.Checkbox,{label:F.quarterNo,onChange:e=>x(e.checked),value:"",checked:o,className:f.bottomPadding,classes:{labelRoot:f.checkboxLabel}}),m&&l&&(0,v.Z)(w.Checkbox,{value:"cancellation-discount-checkbox",onChange:()=>{u(!d)},className:f.bottomPadding,classes:{labelRoot:f.checkboxLabel},checked:d,biId:"cancellation-discount-checkbox",id:"cancellation-discount-checkbox",name:"cancellation-discount-checkbox",label:ce.__("I acknowledge that cancelling this feature will remove my 15%% bundle discount.")}))};var he=a(26570);const pe=(0,w.makeStyles)((e=>{let{palette:t,spacing:a,typography:s}=e;return{boxes:{marginBottom:a(2),"& textarea":{minHeight:"57px",resize:"none"}},selectNote:{color:t.grey[700],fontSize:s.fabricFontSize("teenie"),lineHeight:s.fabricLineHeight("teenie")},label:{fontSize:s.fabricFontSize("teenie"),lineHeight:s.fabricLineHeight("teenie"),color:t.grey[700]},discountCheckbox:{marginTop:a(5)},checkboxLabel:{alignItems:"flex-start"}}}));const me=["other","other reason...","other reason…"];const fe={[ne.ACCOUNT]:{label:`${he.__("What is your primary reason for cancelling?")}*`,detailsLabel:`${he.__("Are there any additional reasons you are cancelling that aren't listed above?")}*`,valuesThatTriggerDetails:[...me,"we don’t use our bamboohr account","bamboohr doesn’t have the functionality we need"]},[ne.PERFORMANCE]:{label:`${he.__("What is your primary reason for cancelling Performance Management?")}*`,detailsLabel:`${he.__("Could you describe why you are cancelling Performance Management?")}*`,valuesThatTriggerDetails:[...me,"missing functionality"]},[ne.TIME_TRACKING]:{label:`${he.__("What is your primary reason for cancelling Time Tracking?")}*`,detailsLabel:`${he.__("Could you describe why you are cancelling Time Tracking?")}*`,valuesThatTriggerDetails:[...me,"missing functionality"]},[ne.BENEFIT_ADMIN]:{label:`${he.__("What is your primary reason for cancelling Benefits Administration?")}*`,detailsLabel:`${he.__("Could you describe why you are cancelling Benefits Administration?")}*`,valuesThatTriggerDetails:[...me,"missing functionality"]}};function ge(e){let{isLastStep:t,nextBillingDates:a,onClose:s,onNext:n,productKeys:i,reasons:o,renderHeader:r,biId:l,onPrevious:c}=e;const[d,u]=(0,y.useState)({cancellation_date:a[1]?.value});const[h,p]=(0,y.useState)(false);const[m,f]=(0,y.useState)(false);const g=pe();const b=[ne.ACCOUNT,ne.PERFORMANCE,ne.TIME_TRACKING,ne.BENEFIT_ADMIN];const S=(0,y.useMemo)((()=>i.filter((e=>b.includes(e)))),[i,b]);const C=(0,oe.isEnabled)("CANCELLATION_DISCOUNT_MESSAGE");const x=(0,oe.isEnabled)("CANCELLATION_DETAILS_REQUIRED_TEXT_BOX");const T=i.includes(ne.ACCOUNT)?he.__("We'll be sad to see you go! Please fill out the following and we will be in touch to process your cancellation."):he.__("We're bummed you won't be using those products anymore! Please fill out the following and we will be in touch to process your cancellation.");const E=()=>{if(C&&h&&!m&&!S.includes(ne.ACCOUNT)){return false}const e=!!d.cancellation_date;const t=S.every((e=>!!d[e]?.reason));const a=S.every((e=>{const t=d[e]?.reason;if(!t)return false;if(fe[e].valuesThatTriggerDetails.includes(t?.toLowerCase())){return!!d[e].reason_details}return true}));const s=S.every((e=>{const t=d[e]?.reason;if(!t)return false;return!!d[e].reason_details}));return e&&t&&a&&(x?s:true)};(0,y.useEffect)((()=>{if(!C)return;const e=async()=>{const e=await le();p(e)};const t=[ne.BENEFIT_ADMIN,ne.PAYROLL];const a=S.filter((e=>t.includes(e)));if(a.length>0&&!S.includes(ne.ACCOUNT)){e()}else{p(false)}}),[S,C]);return(0,v.Z)(R,{biId:l,disablePrimaryButton:!E(),isLastStep:t,onClose:s,onNext:()=>n(d),onPrevious:c,renderHeader:r},void 0,(0,v.Z)("form",{},void 0,(0,v.Z)("p",{className:g.boxes},void 0,T),(0,v.Z)(w.Box,{className:g.boxes},void 0,(0,v.Z)(w.SelectField,{id:"cancel-date",items:a,isClearable:false,label:`${he.__("Desired Cancellation Date")}*`,onChange:e=>{const t={...d};t.cancellation_date=e.target.value;u(t)},renderOptionContent:e=>e.value==="note"&&(0,v.Z)("span",{className:g.selectNote},void 0,e.text),value:d.cancellation_date,width:6})),S.map((e=>{const t=o[e];let a=d[e]?.reason&&fe[e].valuesThatTriggerDetails.includes(d[e]?.reason?.toLowerCase());if(x){a=true}return(0,v.Z)(y.Fragment,{},e,(0,v.Z)(w.Box,{className:g.boxes},void 0,(0,v.Z)("label",{className:g.label,htmlFor:`${e}-reason`},void 0,fe[e].label),(0,v.Z)(w.Select,{items:t,isClearable:false,name:`${e}-reason`,onChange:t=>{const a=t[0];const s={...d};if(e in s){s[e].reason=a}else{s[e]={feature:e,reason:a}}u(s)},selectedValues:[d[e]?.reason],width:100})),a&&(0,v.Z)(w.TextArea,{className:g.boxes,id:`${e}-cancel-reason-details`,label:x?he.__("What additional details can you provide us with?*"):fe[e].detailsLabel,onChange:t=>{const a=t.target.value;const s={...d};if(e in s){s[e].reason_details=a}else{s[e]={reason_details:a}}u(s)},placeholder:he.__("What additional details can you provide us with?"),value:d[e]?.reason_details}))})),C&&h&&(0,v.Z)("div",{className:g.discountCheckbox},void 0,(0,v.Z)(w.Checkbox,{value:"cancellation-discount-checkbox",onChange:()=>{f(!m)},classes:{labelRoot:g.checkboxLabel},checked:m,biId:"cancellation-discount-checkbox",id:"cancellation-discount-checkbox",name:"cancellation-discount-checkbox",label:he.__("I acknowledge that cancelling this feature will remove my 15%% bundle discount.")}))))}var ve=a(26570);const _e={[ne.ACCOUNT]:{title:ve.__("Cancel BambooHR Account"),productName:ve.__("Full BambooHR Account")},[ne.PAYROLL]:{content:[K,se,ue],title:ve.__("Cancel Payroll"),productName:ve.__("Payroll")},[ne.JOB_OPENINGS]:{content:[H],title:ve.__("Manage Job Openings"),productName:ve.__("Job Openings")},[ne.PERFORMANCE]:{title:ve.__("Cancel Performance Management"),productName:ve.__("Performance Management")},[ne.TIME_TRACKING]:{title:ve.__("Cancel Time Tracking"),productName:ve.__("Time Tracking")},[ne.BENEFIT_ADMIN]:{title:ve.__("Cancel Benefits Administration"),productName:ve.__("Benefits Administration")}};var ye=a(26570);const be="in-app-cancellation-modal";const we=e=>(0,v.Z)(w.StandardModal.Header,{title:e});const Se=e=>{let{isOpen:t,onClose:a,onSubmitSuccess:s=N.noop,types:n}=e;const[i,o]=(0,y.useState)(0);const[r,l]=(0,y.useState)(false);const[c,u]=(0,y.useState)({});const[h,p]=(0,y.useState)(false);const[g,S]=(0,y.useState)(false);const[C,x]=(0,y.useState)({});const[E,k]=(0,y.useState)([]);const Z=!!Object.keys(C).length;(0,y.useEffect)((()=>{if(t&&!Z){S(true);const e=m();const t=d();Promise.all([e,t]).then((e=>{let[t,a]=e;const s=t.data.reduce(((e,t)=>{e[t.feature]=t.options.map((e=>({text:e.label,value:e.value})));return e}),{});const n=a.data.next_billing_dates.map((e=>({text:T()(e).format("DD MMM YYYY"),value:e})));n.unshift({isDisabled:true,text:ye.__("Cancellations can only be processed on billing dates."),value:"note"});x(s);k(n)})).catch((()=>{window.setMessage(ye.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error")})).finally((()=>{S(false)}))}}),[t]);const F=()=>{o(0);u({})};const A=()=>{a()};const M=()=>{if(!h){p(true);const e=Object.entries(c).reduce(((e,t)=>{let[a,s]=t;if(Object.values(ne).includes(a)&&typeof s==="object"){e.cancellations.push(s)}else{e[a]=s}return e}),{cancellations:[]});const t=`Your account cancellation request has been sent to our team! Further instructions will be emailed shortly.`;f(e).then((()=>{window.setMessage(t,"success");O();A();s()})).catch((()=>{window.setMessage(ye.__("Oops! Looks like we had some trouble submitting your request. Refresh the page and try again!"),"error")})).finally((()=>{p(false)}))}};const D=(e,t)=>a=>{if(a){u((t=>{const s=e?{[e]:{feature:e,...a},...a.cancellation_date?{cancellation_date:a.cancellation_date}:{}}:a;return(0,N.merge)(t,s)}))}if(t){P()}else{o((e=>e+1))}};const P=()=>{l(true)};const O=()=>{l(false)};const R=()=>{o((e=>e-1))};const B=(0,y.useMemo)((()=>{const[e,t]=n.reduce(((e,t)=>{const a=_e[t];e[a?.content?1:0].push(t);return e}),[[],[]]);const a=[];const s={nextBillingDates:E,onClose:A,reasons:C,setIsLoading:S};if(e.length){const n=t.length===0;const i=`${be}-standard-form`;const o=e.includes(ne.ACCOUNT)?_e[ne.ACCOUNT].title:ye.__("Cancel BambooHR Products");a.push(b().createElement(ge,(0,I.Z)({biId:i,isLastStep:n,key:i,onNext:D(null,n),productKeys:e,renderHeader:we(o)},s)))}if(t.length){const e=t.reduce(((e,i,o)=>{const{content:r,title:l}=_e[i];const d=o===t.length-1;const u=r.map(((e,t)=>{const u=!a.length&&o===0&&t===0;const h=t===r.length-1;const p=d&&h;const m=`in-app-cancellation-modal-${i}-${t}`;return b().createElement(e,(0,I.Z)({biId:m,formValues:c[i]||{},isLastStep:p,key:m,onNext:D(i,p),onPrevious:!u?R:undefined,renderHeader:we(l),types:n},s))}));e.push(...u);return e}),[]);a.push(...e)}return a}),[n,i,C,E]);const j=n.length===1?_e[n[0]]?.productName:undefined;const H=(0,v.Z)(L,{isOpen:r,isProcessing:h,onRequestClose:O,onSubmit:M,productName:j});if(B.length>1){return b().createElement(b().Fragment,null,(0,v.Z)(w.MultiStepModal,{biId:be,currentStep:i,isLoading:g,isOpen:t,onCloseComplete:F,onRequestClose:A,steps:B}),H)}return b().createElement(b().Fragment,null,(0,v.Z)(w.StandardModal,{isLoading:g,isOpen:t,isProcessing:h,onCloseComplete:F,onRequestClose:A},void 0,B[0]),H)};var Ce=a(26570);let xe=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});const Te={[xe.ACCOUNT]:Ce.__("Full BambooHR Account"),[xe.PAYROLL]:Ce.__("Payroll"),[xe.PERFORMANCE]:Ce.__("Performance Management"),[xe.TIME_TRACKING]:Ce.__("Time Tracking"),[xe.BENEFIT_ADMIN]:Ce.__("Benefits Administration")};const Ee=(0,w.makeStyles)((e=>{let{spacing:t}=e;return(0,w.createStyles)({liItem:{listStyle:"disc",marginLeft:t(2)},bottomPadding:{marginBottom:t(3)},dropDown:{height:"100%"},bold:{fontWeight:"bold"}})}));var ke=a(27855);var Ze=a(2686);var Fe=a(50463);var Ie=a(37194);var Ne=a(26570);const Ae=e=>{let{cancellationData:t,updateCancellationData:a,isAddon:s,render:n}=e;const i=Ee();const[o,r]=(0,y.useState)(false);const[l,c]=(0,y.useState)(false);const[d,u]=(0,y.useState)(false);const[h,p]=(0,y.useState)([]);const[m,f]=(0,y.useState)(null);const[g,S]=(0,y.useState)(null);const[x,T]=(0,y.useState)(false);const E=()=>{p([]);r(false)};const k=e=>Fe.ou.fromISO(e).toLocaleString(Fe.ou.DATE_MED);const Z=e=>Fe.ou.fromISO(e).minus({days:1}).toLocaleString(Fe.ou.DATE_MED);const F=e=>{if(e==="moreDetail"){window.location.href="/app/settings/cancellation"}else if(e==="stopCancellation"){u(true)}else if(e==="cancelAdditional"){if(x){r(true)}else{c(true)}}};const I=()=>{if(!m||!g)return;const e=[{text:"More Detail",value:"moreDetail"},{text:"Stop Cancellation Request",value:"stopCancellation"}];if(!m.find((e=>e.feature===ne.ACCOUNT))&&g.length>0&&!s){e.push({text:"Cancel Additional Products",value:"cancelAdditional"})}return(0,C.ifFeature)("encore",(0,v.Z)(w.Dropdown,{ButtonProps:{size:"teenie",variant:"outlined"},items:e,onSelect:F},void 0,Ne.__("Options")),(0,v.Z)("div",{className:i.dropDown},void 0,(0,v.Z)(w.Dropdown,{buttonSettings:{text:Ne.__("Options"),color:"secondary",variant:"outlined",size:"teenie"},items:e,onSelect:F})))};const N=(e,t)=>{let a=Ne.__("");e.forEach(((s,n)=>{if(e.length>2&&n===e.length-1){a+="and "}if(t){a+=k(s)}else{a+=s}if(e.length===2&&n===0){a+=", and "}else if(e.length>2&&n!==e.length-1){a+=", "}}));return a};const A=()=>{if(!m)return;const e=[];const t=Array.from(new Set(m.map((e=>e.user_who_requested_cancellation))));t.forEach((t=>{const a=m.filter((e=>e.user_who_requested_cancellation===t));const s=Array.from(new Set(a.map((e=>e.date_requested))));const n=s.sort(((e,t)=>Number(new Date(e))-Number(new Date(t))));e.push({user:t,datesRequested:n})}));const a=m.filter((e=>e.feature===ne.PAYROLL));const s=[];if(m.length>0){const e=Array.from(new Set(m.map((e=>e.cancellation_date))));e.forEach((e=>{const t=m.filter((t=>t.cancellation_date===e));const a=Array.from(new Set(t.map((e=>Te[e.feature]))));s.push({names:a,date:e})}))}return(0,C.ifFeature)("encore",b().createElement(b().Fragment,null,(0,v.Z)(w.LayoutBox,{marginBottom:1.5,marginTop:.5},void 0,(0,v.Z)(w.BodyText,{},void 0,Ne.__("BambooHR Product cancellation was requested on "),e.map(((t,a)=>{const s=N(t.datesRequested,true);if(a===e.length-1){return(0,v.Z)(Ie.Message,{params:[s,t.user],text:Ne.__("{1}, by **{2}**")},t)}else{return(0,v.Z)(Ie.Message,{params:[s,t.user],text:Ne.__("{1}, by **{2}** and on ")},t)}})))),(0,v.Z)(w.LayoutBox,{marginLeft:.5},void 0,(m.length>0||a.length>0)&&(0,v.Z)(w.List,{},void 0,m.length>0&&s.map((e=>{const t=N(e.names,false);return(0,v.Z)(w.List.Item,{},t,(0,v.Z)(Ie.Message,{params:[t,Z(e.date)],text:Ne.__("Access to {1} will end on **{2}** at **11:59PM Mountain Time**")}))})),a.length>0&&a[0].cancellation_details!=undefined&&(0,v.Z)(w.List.Item,{},void 0,(0,v.Z)(Ie.Message,{params:[k(a[0].cancellation_details.final_pay_date)],text:Ne.__("Final Payroll will run on **{1}**")}))))),(0,v.Z)(y.Fragment,{},void 0,Ne.__("BambooHR Product cancellation was requested on "),e.map(((t,a)=>{const s=N(t.datesRequested,true);if(a===e.length-1){return(0,v.Z)("span",{},t,Ne.__("%1$s, by ",s),(0,v.Z)("span",{className:i.bold},void 0,Ne.__("%1$s",t.user)))}else{return(0,v.Z)("span",{},t,Ne.__("%1$s, by ",s),(0,v.Z)("span",{className:i.bold},void 0,Ne.__("%1$s ",t.user)),Ne.__("and on "))}})),(m.length>0||a.length>0)&&(0,v.Z)("ul",{},void 0,m.length>0&&s.map((e=>{const t=N(e.names,false);return(0,v.Z)("li",{className:i.liItem},t,Ne.__("Access to %1$s will end on ",t),(0,v.Z)("span",{className:i.bold},void 0,Ne.__("%1$s, ",Z(e.date))),Ne.__("at "),(0,v.Z)("span",{className:i.bold},void 0,Ne.__("11:59PM Mountain Time")))})),a.length>0&&a[0].cancellation_details!=undefined&&(0,v.Z)("li",{className:i.liItem},void 0,Ne.__("Final Payroll will run on "),(0,v.Z)("span",{className:i.bold},void 0,Ne.__("%1$s ",k(a[0].cancellation_details.final_pay_date)))))))};(0,y.useEffect)((()=>{if(!t||!t.filter)return;f(t.filter((e=>e.pending_cancellation!==false)));S(t.filter((e=>e.pending_cancellation!==true)));T(t.length>1)}),[t]);const M={body:A(),header:Ne.__("We’re Sad to See You Go"),icon:(0,C.ifFeature)("encore","face-frown-solid",(0,v.Z)(Ze.Z,{})),customAction:I(),info:true};const D=b().createElement(b().Fragment,null,(0,v.Z)(ke.J,{cancellationStatuses:t,isOpen:o,onClose:E,onNext:e=>{p(e);c(true)}}),(0,v.Z)(Se,{isOpen:l,onClose:()=>c(false),onSubmitSuccess:()=>{a();E()},types:x?h:[ne.ACCOUNT]}),(0,v.Z)(Pe,{isOpen:d,onClose:()=>u(false),onSubmitSuccess:a,cancellationData:t}));return b().createElement(b().Fragment,null,n?n(M):(0,C.ifFeature)("encore",(0,v.Z)(w.LayoutBox,{marginBottom:2,marginTop:1},void 0,b().createElement(w.InPageMessaging,M)),(0,v.Z)("div",{className:i.bottomPadding},void 0,b().createElement(w.InPageMessaging,M))),D)};const Me=(0,w.makeStyles)((e=>{let{spacing:t}=e;return(0,w.createStyles)({marginBottom:{marginBottom:t(4)},stopModalContent:{marginBottom:t(2)}})}));var De=a(26570);const Pe=e=>{let{isOpen:t,onClose:a,onSubmitSuccess:s,cancellationData:n}=e;const i=Me();const[o,r]=(0,y.useState)(false);const[l,c]=(0,y.useState)(false);const[d,u]=(0,y.useState)([]);const[h,p]=(0,y.useState)();const[m,f]=(0,y.useState)([]);(0,y.useEffect)((()=>{if(!n||!n.reduce)return;const e=n.reduce(((e,t)=>{const{feature:a,pending_cancellation:s}=t;if(a in Te&&s){e.push({value:a,label:Te[a]})}return e}),[]);u(e)}),[n]);(0,y.useEffect)((()=>{p({products:m})}),[m]);const S=()=>{a()};const x=(e,t)=>{const{target:a}=t;const s=e.value;const n=d.find((e=>e.value==xe.ACCOUNT));if(a.value!=xe.ACCOUNT){if(!s.includes(xe.ACCOUNT)&&n){const e=[...s,xe.ACCOUNT];f(e)}else{f(s)}}else if(a.value===xe.ACCOUNT&&!a.checked){f([])}else{f(s)}};const T=()=>{if(!o){r(true);const e=De.__("Cancellation Request was successfully withdrawn.");g(h).then((()=>{window.setMessage(e,"success");S()})).catch((()=>{window.setMessage(De.__("Oops! Looks like we had some trouble submitting your request. Refresh the page and try again!"),"error")})).finally((()=>{s();r(false)}))}};return(0,C.ifFeature)("encore",b().createElement(b().Fragment,null,(0,v.Z)(w.StandardModal,{isLoading:l,isOpen:t,isProcessing:o,onCloseComplete:()=>f([]),onRequestClose:S},void 0,(0,v.Z)(w.StandardModal.Body,{renderFooter:(0,v.Z)(w.StandardModal.Footer,{actions:[(0,v.Z)(w.Button,{onClick:S,type:"button",variant:"outlined"},"secondary",De.__("Cancel")),(0,v.Z)(w.Button,{onClick:T,type:"button"},"primary",De.__("Stop Cancellation"))]}),renderHeader:(0,v.Z)(w.StandardModal.Header,{hasCloseButton:true,title:De.__("I’ve Had a Change of Heart")})},void 0,(0,v.Z)(w.StandardModal.Constraint,{spacingOverrides:{bottom:w.StandardModal.Constraint.Spacing.LARGE,top:w.StandardModal.Constraint.Spacing.LARGE}},void 0,(0,v.Z)(w.Flex,{flexDirection:"column",gap:2},void 0,(0,v.Z)(w.BodyText,{},void 0,De.__("Stopping this cancellation request will allow your BambooHR service and billing to continue without interruption.")),(0,v.Z)(w.CheckboxGroup,{items:d,label:De.__("Select the products for which you would like to stop cancellation."),onChange:x,value:m,className:i.marginBottom})))))),b().createElement(b().Fragment,null,(0,v.Z)(w.StandardModal,{isLoading:l,isOpen:t,isProcessing:o,onCloseComplete:()=>f([]),onRequestClose:S},void 0,(0,v.Z)(w.StandardModal.Body,{renderFooter:(0,v.Z)(w.StandardModal.Footer,{actions:[(0,v.Z)(w.Button,{onClick:T,type:"button"},"primary",De.__("Stop Cancellation")),(0,v.Z)(w.TextButton,{onClick:S,type:"button"},"secondary",De.__("Cancel"))]}),renderHeader:(0,v.Z)(w.StandardModal.Header,{hasCloseButton:true,title:De.__("I’ve Had a Change of Heart")})},void 0,(0,v.Z)(w.StandardModal.Constraint,{spacingOverrides:{bottom:w.StandardModal.Constraint.Spacing.LARGE,top:w.StandardModal.Constraint.Spacing.LARGE}},void 0,(0,v.Z)("p",{className:i.stopModalContent},void 0,De.__("Stopping this cancellation request will allow your BambooHR service and billing to continue without interruption.")),(0,v.Z)(w.CheckboxGroup,{items:d,label:De.__("Select the products for which you would like to stop cancellation."),onChange:x,value:m,className:i.marginBottom}))))))}},27267:(e,t,a)=>{"use strict";a.r(t);a.d(t,{Modal:()=>o,ajaxModalDialog:()=>C,attachModalEvents:()=>S,closeModalDialog:()=>w,doModalDialog:()=>y,modalDialogAlert:()=>r,modalFormSubmit:()=>E,modalSubmit:()=>x,recenterDialog:()=>b,setBackgroundModalIdSelector:()=>f,showInlineModal:()=>l,showModalDialog:()=>m,showModalPopup:()=>v,showStackedModalDialog:()=>g});var s=a(21198);var n=a.n(s);var i=a(34825);var $=a(26570);const o={init:function(){this._ScrollBarWidth=this.getScrollBarWidth();this.addUIElements()},_ids:["navMain","content"],_elements:[],_ScrollBarWidth:0,addUIElements:function(){this._elements=[];if(document.getElementsByTagName("header")[0]){this._elements.push(document.getElementsByTagName("header")[0])}for(let e=0;e<this._ids.length;e++){if(document.getElementById(this._ids[e])){this._elements.push(document.getElementById(this._ids[e]))}}if(document.getElementsByTagName("footer")[0]){this._elements.push(document.getElementsByTagName("footer")[0])}},disableNoScroll:function(){var e;$("html").removeClass("noscroll");if(this._ScrollBarWidth>0){if(document.getElementsByClassName("ui-dialog")[0]){e=document.getElementsByClassName("ui-dialog")[0];if(e!==undefined){e.style.marginLeft="-"+e.offsetWidth/2+"px"}}else{var t=$(".SimpleModal");t.each((function(){var e=$(this);if(e.hasClass("full-screen")){return}e.css("left","calc(50% - "+e[0].offsetWidth/2+"px)")}))}for(var a=0;a<this._elements.length;a++){this._elements[a].style.paddingRight=null}}},enableNoScroll:function(){var e;var t;var a=this;if(this._ScrollBarWidth>0){if(document.getElementsByClassName("ui-dialog")[0]){e=document.getElementsByClassName("ui-dialog")[0];t=e.offsetWidth/2+this._ScrollBarWidth/2;e.style.marginLeft="-"+t+"px"}else{var s=$(".SimpleModal");s.each((function(){var e=$(this);if(e.hasClass("full-screen")){return}t=e[0].offsetWidth/2+a._ScrollBarWidth/2;e.css("left","calc(50% - "+t+"px)")}))}for(var n=0;n<this._elements.length;n++){this._elements[n].style.paddingRight=this._ScrollBarWidth+"px"}}$("html").addClass("noscroll")},getScrollBarWidth:function(){var e=document.createElement("p");e.style.width="100%";e.style.height="200px";var t=document.createElement("div");t.style.position="absolute";t.style.top="0px";t.style.left="0px";t.style.visibility="hidden";t.style.width="200px";t.style.height="150px";t.style.overflow="hidden";t.appendChild(e);document.body.appendChild(t);var a=e.offsetWidth;t.style.overflow="scroll";var s=e.offsetWidth;if(a==s){s=t.clientWidth}document.body.removeChild(t);return a-s}};function r(e,t,a,s,n,i){var o={modal:true};if(typeof i!="undefined"){$.extend(o,i)}var r="";if(t.jquery){r=t.html()}else{r='<span class="ui-icon ui-icon-alert"></span><p class="alert">'+t+"</p>"}m(e,r,a,s,n,o);return false}function l(e,t,a,s,n,i){var o={inline_modal_id:t};if(typeof i!="undefined"){$.extend(o,i)}m(e,undefined,a,s,n,o)}var c;var d=false;var u=false;var h=0;var p;Object.defineProperties(window,{modalIdSelector:{get(){return c},set(e){c=e}}});function m(e,t,a,s,n,i){c="#modal-dialog";d=s;var r=n;if(typeof n=="undefined"){r=false}if(typeof i!="undefined"&&typeof i.inline_modal_id!="undefined"){c="#"+i.inline_modal_id}if(typeof i!="undefined"&&typeof i.stacked_modal_id!="undefined"){c="#"+i.stacked_modal_id}var l={};var u=h++;var p=c;if(!i||!i.omit_cancel_button){l[$.__("Cancel")]=function(){var e=c;c=p;closeMessage();if(typeof r=="function"){if(r()){w()}}else{w()}c=e;return false}}l[a]=function(){if($("form[bhrvalidate-initiated]",c).length>0){if(!$("form[bhrvalidate-initiated]",c).valid()){return false}}var e=c;c=p;if(typeof d=="function"){if(d()){w()}}else{document.location.href=d;w()}c=e};var m={};$.extend(m,i);m.open=function(e,t){$(this).parents(".ui-dialog-buttonpane button:eq(0)").blur();$(this).parents(".ui-dialog-buttonpane button:eq(1)").focus();$(c+" form").submit((function(){return false}));const a=$(".ui-dialog-buttonpane button",$(c).parent());a.addClass("btn btnAction");if(i&&i.biId){a.attr("data-bi-id",`${i.biId}-action-primary`)}if(typeof i!="undefined"&&typeof i.stacked_modal_id!="undefined"){$(".ui-dialog-buttonpane button",$(c).parent()).addClass("btnSmall")}if(typeof m.cancel_message!="undefined"&&!m.omit_cancel_button){$(".ui-dialog-buttonset button:first",$(c).parent()).remove();$(".ui-dialog-buttonset",$(c).parent()).append('<span class="cancel-option"><a href="#" class="'+m.cancel_class+'">'+m.cancel_message+"</a></span>");$(".ui-dialog-buttonset .cancel-option a",$(c).parent()).click(l[$.__("Cancel")])}if(typeof m.additional_footer_html!="undefined"){$(".ui-dialog-buttonset",$(c).parent()).prepend(m.additional_footer_html)}if(typeof m.open_callback=="function"){m.open_callback(e,t)}if(typeof m.inline_modal_id=="undefined"){S(c)}var s=$(c).find(":text:visible:enabled:first");if(s.length==0){s=$(c).find("textarea")}if(!s.hasClass("chzn_selected")){s.focus()}if(m.disable_buttons==true){$(".ui-dialog-buttonset button",$(c).parent()).not(".cancel").button("disable");$("body").on("keyup click",".ui-dialog input,.ui-dialog textarea",(function(){if($(this).val()!==""){$(".ui-button").button("enable")}}))}};m.close=function(e,t){if(typeof m.close_callback=="function"){m.close_callback()}$("div.ui-dialog",$(c)).addClass("displaynone");if(typeof m.inline_modal_id=="undefined"){$(c).remove()}o.disableNoScroll()};if(m.buttons!==undefined&&m.buttons==="hide"){m.buttons=null}else{m.buttons=l}if(typeof m.cancel_message=="undefined"){m.cancel_message=$.__("Cancel")}y(e,t,m);if(m.disableCloseOnEnter!=true){$(c+":not(.keyup-bound)").off("keyup");$(c+":not(.keyup-bound)").keyup((function(e){$(c).addClass("keyup-bound");if(e.keyCode==13){var t=$.focused();if(t!==null&&$(t).parents(c).length>0&&!$(t).is("textarea")&&!$(t).hasClass("ac_input")&&!$(t).hasClass("chzn_selected")){l[a]()}}}))}$(".ui-dialog-titlebar-close").on("mousedown",(function e(){if(typeof m.close_callback=="function"){m.close_callback()}$(c).dialog("destroy");o.disableNoScroll();$(document).trigger("modalDialog:closed")}));if(!m.omit_validation&&$.isFunction($.fn.bhrValidate)){$('.BhrForms:not(".js-noValidate")',c).bhrValidate({})}return false}function f(e){p=e}function g(e,t,a,s,n,i){var o={stacked_modal_id:"stacked-modal-dialog"};if(typeof i!="undefined"){$.extend(o,i)}if(!p){p="#modal-dialog"}var r=n||function(e,t){$(c).dialog("close")};o.dialogClass+=" stacked-dialog";return m(e,t,a,s,r,o)}function v(e,t,a){c="#modal-dialog";var s={modal:true};var n=$.__("Ok");if(typeof a!="undefined"&&typeof a.okString!="undefined"&&a.okString.length>0){n=a.okString}s.buttons=[{text:n,click:function(){w()},class:"btn btnAction"}];if(typeof a!="undefined"){$.extend(s,a)}y(e,t,s);return false}function y(e,t,a){w();$(window).scrollLeft(0);var n="auto";var i={resizable:false,draggable:false,modal:true,width:n,height:"auto"};i.close=function(e,t){$("div.ui-dialog").addClass("displaynone");if(typeof i.inline_modal_id=="undefined"){$(c).remove()}};i.overlay={backgroundColor:"#000"};i.position={using:function(e,t){var a=(t.target.height-t.element.height)/3+t.target.top;var s="-"+Math.floor(t.element.width/2)+"px";$(this).css({top:a>0?a:0,left:"50%","margin-left":s})}};$.extend(i,a);if(typeof i.stacked_modal_id!="undefined"){var r=i.stacked_modal_id;if(!$("#"+r).length){$("body").append('<div id="'+r+'" title=""></div>')}var l=$(p).position().top+$(p).parent().position().top+5;var d;i.position={using:function(e,t){d="-"+Math.floor(t.element.width/2);$(this).css({top:l,left:e.left,minWidth:$(this).css("width"),borderTop:"none"});$(this).parent().css({top:$(p).parent().position().top})}};i.show={effect:"slideDown",complete:function(){$("#stacked-modal-dialog").parent().css({left:"50%","margin-left":d+"px"})},duration:350};i.hide={effect:"slideUp",duration:350}}else if(typeof i.inline_modal_id=="undefined"){if(!$("#modal-dialog").length){$("body").append('<div id="modal-dialog" title=""></div>')}}else{$("div.ui-dialog").removeClass("displaynone")}if(typeof i.inline_modal_id=="undefined"){$(c).html(t)}i.title=e;if(!i.create&&i.maxWidth){i.create=function(){$(this).css("maxWidth",i.maxWidth)}}$(c).dialog(i);$(".ui-widget-overlay").zIndex((0,s.getMaxZIndex)()+10);$(c).closest(".ui-dialog").zIndex((0,s.getMaxZIndex)()+10);if(a.privacy_link==true){$(".ui-dialog-buttonpane").append('<a href="http://www.bamboohr.com/privacy.php" class="privacyLink" target="_blank" rel="nofollow noopener noreferrer">'+$.__("Privacy Policy")+"</a>")}if(typeof a.button_pane_link!="undefined"){$(".ui-dialog-buttonpane").append('<a href="'+a.button_pane_link.url+'" class="privacyLink" target="_blank" rel="nofollow noopener noreferrer">'+a.button_pane_link.text+"</a>")}o.enableNoScroll();$(document).trigger("modalDialog:opened")}function b(){var e=$(".ui-dialog").width();$(".ui-dialog").css("margin-left",-Math.floor(e/2))}function w(e){var t;$("html").removeClass("noscroll");if(e===undefined){t=c}else{t=e}if($(t+".ui-dialog-content").length==0){return}$(t+".ui-dialog-content").dialog("destroy");$(t+" form").removeAttr("submitting");$(t).hide();o.disableNoScroll();$(document).trigger("modalDialog:closed")}function S(e){$(e).initializeElements();$("textarea[maxlength]").each((function(){$(this).limitCount($(this).attr("maxlength"))}))}function C(e,t,a,s,n,i){if(typeof i=="undefined"){i={}}$.get(t,i.url_data,(function(t){m(e,t,a,s,n,i)}));return false}function x(e,t,a){var s=$(c+" form");if(typeof t!="undefined"&&!t(s[0])){return false}window.BambooHR.Modal.setState({isProcessing:true},true);var n=BambooHR.Utils.Form.ajaxSubmit(s,a);if(n){n.then((function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++){a[s]=arguments[s]}const n=a[0];e.apply(this,a);if(n.result.toLowerCase()==="success"){window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true)}})).fail((function(){window.BambooHR.Modal.setState({isProcessing:false},true)}))}return true}function T(e,t,a){var s="#modal-popup .save-button";if(typeof t!="undefined"){s="form#"+t+" .save-button"}$(s).click((function(){return E($(this).closest("form")[0],e,a)}));$("form#"+t).submit((function(){return E($(this)[0],e,a)}))}function E(e,t,a){var s=e.action;var n=$(e).serializeArray();if(typeof a!="undefined"){if(a(e)){$.post(s,n,t,"json")}}else{$.post(s,n,t,"json")}return false}(function(){if($.ui&&$.ui.dialog){$.ui.dialog.overlay.events=$.map("focus,keydown,keypress".split(","),(function(e){return e+".dialog-overlay"})).join(" ")}})()},68043:(e,t,a)=>{var $=a(26570);window.EmployeeComments={remove:function(e){e.fadeOut("fast",(function(){$.when($(this).remove()).then((function(){if(typeof calculateHeight==="function"){window.calculateHeight()}}))}))},getCommentId:function(e){let t=e.split("-");return t[1]},deleteNewFiles:function(e){e.siblings(".files").find(".newFile").each((function(){let e=window.EmployeeComments.getCommentId($(this).attr("id"));if(window.deleteTempFile(e)){$(this).remove()}}))},buildCommentFileUploader:function(e,t,a,s,n){let i={};i.onFallbackSuccess=function(t,a){if(n=="true"){$("#thread-"+e+" .add-reply .files").append(a)}else{$("#comment-"+e).find(".files").append(a)}};i.removeFile=function(e){if(e.attr("id")!=""){let t=window.EmployeeComments.getCommentId(e.attr("id"));if(window.deleteTempFile(t)){return true}}else{return true}return false};i.setDragOverValues=function(e){e.addClass("dragOver").find(".links-msg").text($.__("Drop to upload")).show()};i.linkHTML=t;i.uploaderId=e;$(s).fileUploader(i)}}},92544:(e,t,a)=>{"use strict";a.d(t,{Tl:()=>u,e8:()=>h});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(88604);var r=a(393);var $=a(26570);function l(e){const{SESSION_COMPANY:{id:t,name:a}}=window;return i().createElement(r.Z,(0,o.Z)({imageIcon:"fab-company-circle-30x30",isModalHeader:false,subTitle:$.__(`Company ID: %1$s`,t),title:a},e))}var c=a(26570);const d=function(){let{isSheet:e=false,...t}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Promise((a=>{if(!window.IS_TICKET_LOGIN){return a()}t={isOpen:true,title:c.__(`Hold on. Not so fast...`),headline:c.__(`Are you sure?`),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",primaryActionText:c.__(`Yes`),content:(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("p",{className:"TicketLoginModal__message"},void 0,[c.__(`Please, double check that you are uploading the right file to the right company.`),c.__(`This action has serious data security implications.`)].join(" ")),(0,s.Z)("div",{className:"TicketLoginModal__badgeWrapper"},void 0,(0,s.Z)(l,{}))),primaryAction(){p(e);setTimeout(a,0)},onClose(){p(e)},...t};if(e){t={sheetProps:t}}window.BambooHR.Modal.setState(t,e)}))};const u=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return d({headline:c.__(`Are you sure you want to import this file for this company?`),primaryActionText:c.__(`Yes, Upload The File`),...e})};const h=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return u({headline:c.__(`Are you sure you want to upload this file for this company?`),...e})};const p=e=>window.BambooHR.Modal.setState({sheetProps:null},e)},31235:(e,t,a)=>{"use strict";a.d(t,{WD:()=>g,Ml:()=>f,N8:()=>S,mX:()=>T});var s=a(89835);var n=a(23321);var i=a(73641);var o=a(59155);var r=a(21198);var l=a(59592);var c=a(38592);var d=a(69679);var u=a(37194);var moment=a(82543);var $=a(26570);const h=new r.BEM("BackupCodes");function p(e){const{codes:t,date:a,shouldChunk:i=true}=e;const[o,r]=(0,n.useState)([]);const[l,c]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(i){const e=t.map(((e,t)=>{const{backupCode:a,...s}=e;let n=a;if(a.length>=2){const e=Math.floor(a.length/2);n=a.split("");n.splice(e,0," ");n=n.join("")}return{backupCode:n,...s}}));r(e)}}),[i,t]);(0,n.useEffect)((()=>{if(a){const e=moment(a).format("MMM D, YYYY");c(e||null)}}),[a]);return(0,s.Z)("div",{className:h.elem("wrapper")},void 0,(0,s.Z)("ul",{className:h.elem("list")},void 0,o.map((e=>{const{backupCode:t,dateUsed:a,id:n}=e;return(0,s.Z)("li",{className:h.elem("code",{used:!!a})},`backupCode-${n}`,t)}))),l&&(0,s.Z)("span",{className:h.elem("date")},void 0,(0,s.Z)(u.Message,{text:$._("Generated on {1}"),params:[l]})))}var m=a(26570);const f=m.__("2-Step Login Backup Codes");const g=m.__("Keep these codes safe, but accessible.");const v=m.__("Uh-oh. Something went wrong, please try this again later.");var y=a(26570);const b=new r.BEM("BackupCodesContent");const w=b.elem("printWrapper");function S(e){const{onEndGeneratingNewCodes:t=i.noop,onStartGeneratingNewCodes:a=i.noop,printRequestCount:r=0,userId:u=window.SESSION_USER.id}=e;const[h,m]=(0,n.useState)(null);const[f,S]=(0,n.useState)(null);const[C,x]=(0,n.useState)(false);const T=()=>{const e=d.HW;x(true);a();e(u).then((e=>{const{data:a}=e;if((0,i.isArray)(a)&&!(0,i.isEmpty)(a)){m(a);S(a[0].dateGenerated)}x(false);t()})).catch((()=>{x(false);t();(0,l.f)(v,"error")}))};(0,n.useEffect)((()=>{T()}),[]);(0,n.useEffect)((()=>{if(r>0){(0,c.printDiv)(`.${w}`)}}),[r]);return(0,s.Z)("div",{className:w},void 0,(0,s.Z)("h4",{className:b.elem("printHeader")},void 0,g),(0,s.Z)("div",{className:b.elem("copy")},void 0,(0,s.Z)("p",{},void 0,y.__("If you lose your phone or otherwise can't get codes via an Authenticator, you can use backup codes to sign in with 2-Step Login.")),(0,s.Z)("br",{}),(0,s.Z)("p",{},void 0,y.__("After you use a backup code to sign in, it becomes inactive.")),(0,s.Z)("p",{},void 0,y.__("You can generate a new set of 10 codes whenever you want. After creating a new set, the old set automatically becomes inactive."))),h&&(0,s.Z)("div",{},void 0,(0,s.Z)(p,{codes:h,date:f}),(0,s.Z)("div",{className:b.elem("buttonWrapper")},void 0,(0,s.Z)(o.Button,{clickAction:()=>T(),iconBefore:"fab-circle-arrow-16x16",isDisabled:C,outline:true,secondary:true,text:y.__("Generate New Codes")}))))}var C=a(41201);var x=a(26570);const T=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.SESSION_USER?.id;const t=d.HW;t(e).then((e=>{const t=e.data.reduce(((e,t)=>{const{backupCode:a,dateUsed:s}=t;let n=a;if(s){n=n.concat(x.__(" (used)"))}return e.concat(n,"\n")}),"");(0,C.Sv)({fileName:"backup-codes.txt",fileData:t})})).catch((()=>{(0,l.f)(v,"error")}))}},10224:(e,t,a)=>{"use strict";a.d(t,{p:()=>d});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(98675);var r=a(60658);var l=a(31235);var $=a(26570);function c(e){const{userId:t}=e;const[a,i]=(0,n.useState)(false);const[c,d]=(0,n.useState)(0);return(0,s.Z)(o.u_,{additionalAction:()=>d((e=>e+1)),additionalActionText:$.__("Print"),additionalActionButtonType:"button",alternativeAction:null,content:(0,s.Z)(l.N8,{onStartGeneratingNewCodes:()=>i(true),onEndGeneratingNewCodes:()=>i(false),printRequestCount:c,userId:t}),headerType:"text",headline:l.WD,icon:"fab-lock-person-18x18",iconColor:"theme",isOpen:true,isProcessing:a,onClose:()=>(0,r.Mr)(),primaryAction:()=>(0,r.Mr)(),primaryActionText:$.__("Done"),secondaryAction:()=>(0,l.mX)(t),secondaryActionText:$.__("Download"),title:l.Ml})}const d=e=>(0,r.K4)(i().createElement(c,e))},9080:(e,t,a)=>{"use strict";a.d(t,{U:()=>g});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a(21198);var l=a(98675);var c=a(59592);var d=a(37194);var u=a(60658);var h=a(69679);var p=a(59929);var $=a(26570);const m=new r.BEM("MfaResetModal");function f(e){const{userId:t,name:a,onReset:i=o.noop,isResettingOwnMfa:r}=e;const[f,g]=(0,n.useState)(false);return(0,s.Z)(l.u_,{content:(0,s.Z)("p",{className:m.elem("copy")},void 0,a?(0,s.Z)(d.Message,{text:$.__("The next time {1} logs in, they will be directed to setup an authentication app and be able to scan the barcode.\n\n**Would you like to proceed?**"),params:[a]}):(0,s.Z)(d.Message,{text:$.__("The next time you log in, you will be directed to setup an authentication app and be able to scan the barcode.\n\n**Would you like to proceed?**")})),headline:a?(0,s.Z)(d.Message,{text:$.__("Reset {1}'s 2-Step Login"),params:[a]}):$.__("Reset My 2-Step Login"),icon:"fab-lock-45x54",iconColor:"theme",isOpen:true,isProcessing:f,onClose:()=>(0,u.Mr)(),primaryAction:()=>{g(true);(0,h.lQ)(t).then((()=>{i();g(false);const e=a?$.__("2-Step Login has been reset for %1$s",a):$.__("2-Step Login has been reset.");(0,c.f)(e,"success");if(t===window.SESSION_USER?.id||r){(0,p.P)()}(0,u.Mr)()})).catch((()=>{g(false);(0,c.f)($.__("Uh-oh. Something went wrong, please try again!"),"error")}))},primaryActionText:$.__("Yes, Reset"),title:$.__("Just making sure...")})}const g=e=>(0,u.K4)(i().createElement(f,e))},73565:(e,t,a)=>{"use strict";a.d(t,{WD:()=>n.WD,N8:()=>n.N8,CW:()=>r.f4,M_:()=>m,kR:()=>r.kR,VG:()=>r.VG,Gu:()=>r.Gu,mK:()=>r.mK,lQ:()=>r.lQ,Ub:()=>r.Ub,mX:()=>n.mX,VK:()=>r.VK,K7:()=>c,PK:()=>p.P,AS:()=>d,g9:()=>u,dM:()=>h,Ut:()=>s.U});var s=a(9080);var n=a(31235);var i=a(10224);var o=a(89100);var r=a(69679);const l="remember_token";function c(){if((0,o.canUseLocalStorage)()){return localStorage.getItem(l)}return null}async function d(e,t){if(!t){return false}try{const{status:a}=await(0,r.EZ)(e,t);return a===200}catch{return false}}function u(){if((0,o.canUseLocalStorage)()){localStorage.removeItem(l)}}function h(e){if((0,o.canUseLocalStorage)()){localStorage.setItem(l,e)}}var p=a(59929);let m=function(e){e["ACCESS_LEVEL"]="accessLevel";e["COMPANY"]="company";e["USER_OPT_IN"]="userOptIn";return e}({})},59929:(e,t,a)=>{"use strict";a.d(t,{P:()=>i});var s=a(9080);var n=a(10224);var $=a(26570);$("body").off("click.manage-nav-reset-mfa").on("click.manage-nav-reset-mfa",".js-manage-nav-reset-mfa",(e=>{const{userId:t}=e.target.dataset;(0,s.U)({userId:t,isResettingOwnMfa:true})}));$("body").off("click.manage-nav-backup-codes").on("click.manage-nav-backup-codes",".js-manage-nav-backup-codes",(e=>{const{userId:t}=e.target.dataset;(0,n.p)({userId:t})}));function i(){const e=document.querySelectorAll(".js-manage-nav-mfa-option");if(e.length){e.forEach((e=>e.classList.add("hidden")))}}function o(){const e=document.querySelectorAll(".js-manage-nav-mfa-option");if(e.length){e.forEach((e=>e.classList.remove("hidden")))}}},69679:(e,t,a)=>{"use strict";a.d(t,{EZ:()=>p,Gu:()=>o,HW:()=>h,Ub:()=>l,VG:()=>d,VK:()=>m,f4:()=>i,kR:()=>c,lQ:()=>u,mK:()=>r});var s=a(17842);var n=a.n(s);const i="/multi_factor_authentication";function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.SESSION_USER?.id;return n().get(`${i}/${e}`)}function r(e){return n().post(i,e)}function l(e){return n().put(i,e)}function c(){return n()["delete"](i)}function d(){return n().get(`${i}/users`)}function u(e){return n()["delete"](`${i}/${e}`)}function h(e){return n().post(`${i}/${e}/backup_codes`)}function p(e,t){return n().request({headers:{rememberToken:`Bearer ${t}`},method:"post",url:`${i}/${e}/validate_remember_token`})}function m(){return n().get("/multi_factor_authentication/account_configuration")}},90452:(e,t,a)=>{"use strict";a.d(t,{q:()=>x});var s=a(89835);var n=a(88604);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(60042);var c=a.n(l);var d=a(59155);var u=a(21561);var h=a(86862);var p=a(57356);var m=a(73641);var $=a(26570);function f(e){const{hasTrax:t,buttonAction:a,canEdit:n}=e;const i=`+ ${$.__("Add Direct Deposit")}`;const o=typeof a==="function"?a:m.noop;const r=t?$.__("You will receive a paper check until you add direct deposit info."):$.__(`You don't have any Direct Deposit accounts set up.`);return(0,s.Z)("div",{className:"DepositBlankState"},void 0,(0,s.Z)("span",{className:"DepositBlankState__icon"},void 0,t?(0,s.Z)(h.Z,{}):(0,s.Z)(p.Z,{})),(0,s.Z)("h3",{className:"DepositBlankState__title"},void 0,r),n&&(0,s.Z)("div",{className:"DepositBlankState__button"},void 0,(0,s.Z)(d.Button,{onClick:o,type:"button",variant:"outlined"},void 0,i)))}var g=a(37194);var v=a(26570);function y(e){const{amount:t,errorMessage:a="",imageUrl:n,isBankImageUrl:i,name:o,number:r,order:l,type:u,first:h,last:p,single:m}=e;const f="DepositAccount__text--bold";const y=h||m?(0,s.Z)(g.Message,{em:{tag:"span",className:f},params:[t,o,u,r],text:v._(`*{1} of each check* goes to {2} {3} {4}`)}):(0,s.Z)(g.Message,{em:{tag:"span",className:f},params:[t,o,u,r],text:v._(`*{1} of the remaining amount* goes to {2} {3} {4}`)});const b=c()("DepositAccount__data",{"DepositAccount__data--bordered":!m&&!p});return(0,s.Z)("div",{className:"DepositAccount"},void 0,!m&&(0,s.Z)("div",{className:"DepositAccount__order"},void 0,l),(0,s.Z)("div",{className:b},void 0,i?(0,s.Z)("img",{alt:"bank logo",className:"DepositAccount__logo",src:n}):(0,s.Z)("span",{className:"DepositAccount__icon"},void 0,(0,s.Z)(d.Icon,{name:"fab-bank-24x24"})),(0,s.Z)("div",{},void 0,(0,s.Z)("p",{className:"DepositAccount__text"},void 0,y),a&&(0,s.Z)("p",{className:"DepositAccount__errorMessage"},void 0,a))))}const b={NONE:0,VIEW:1,VIEW_REQUEST:2,VIEW_EDIT:3};const w=e=>e.replace("%","").replace(",","").replace("$","");const S=e=>e.calculationType==="Balance"&&Number(w(e.amount))===100;var C=a(26570);class x extends o.Component{static get className(){return"DirectDeposit"}constructor(e){super(e);(0,i.Z)(this,"_handleHideModal",(()=>this.setState({showModal:false})));(0,i.Z)(this,"_handleShowModal",(()=>{if(window.ASSUMED_USER){window.disabledForPermsTest()}else{this.setState({showModal:true})}}));(0,i.Z)(this,"_handleSaveSuccess",(e=>{const{onSaveSuccess:t}=this.props;const{data:{direct_deposits:{BANK:a}}}=e;this.setState({deposits:a||[],showModal:false},(()=>{if(typeof t==="function"){t(a)}}))}));(0,i.Z)(this,"_renderMainContent",((e,t,a)=>{const{useTextButton:i}=this.props;const o=e.length;return e.length?e.map(((e,t)=>r().createElement(y,(0,n.Z)({first:t===0,key:e.order,last:t===o-1,single:o===1},e)))):!i&&(0,s.Z)(f,{buttonAction:this._handleShowModal,canEdit:a,hasTrax:t})}));const{deposits:t}=e;this.state={deposits:t||[],showModal:false}}render(){const{deposits:e,showModal:t}=this.state;const{hasTrax:a,permissionLevel:n,employeeId:i,customSave:o,customRoutingValidationUrl:r,customAccountUnmaskUrl:l,useTextButton:h}=this.props;const p=o?o:null;const m=n===b.VIEW_EDIT;const f=e.length;const g=f?!S(e[f-1]):false;const v=c()("DirectDeposit");const y=c()("DirectDeposit__accounts",{"DirectDeposit__accounts--blank":!h&&!f,"DirectDeposit__accounts--borderBottom":g&&f});return(0,s.Z)("div",{className:v},void 0,(0,s.Z)("div",{className:y},void 0,f>1&&(0,s.Z)("div",{className:"DirectDeposit__vertLine"}),this._renderMainContent(e,a,m)),g&&(0,s.Z)("div",{className:"DirectDeposit__paperCheck"},void 0,(0,s.Z)("span",{className:"DirectDeposit__paperCheckIcon"},void 0,(0,s.Z)(d.Icon,{name:"fab-checkbook-20x16"})),(0,s.Z)("p",{className:"DirectDeposit__paperCheckText"},void 0,C.__(`You'll receive a paper check with any remaining balance`))),f===0&&m&&h&&(0,s.Z)(d.TextButton,{onClick:this._handleShowModal,type:"button"},void 0,"+ ",C.__("Add Direct Deposit Account(s)")),f>0&&m&&!h&&(0,s.Z)("div",{className:"DirectDeposit__updateButton"},void 0,(0,s.Z)(d.Button,{clickAction:this._handleShowModal,type:"button"},void 0,(0,s.Z)("span",{className:"DirectDeposit__updateButtonIcon phoneHide"},void 0,(0,s.Z)(d.Icon,{name:"fab-pencil-12x12"})),(0,s.Z)("span",{className:"DirectDeposit__updateButtonIcon hidden phoneOnly phoneOnly--block"},void 0,(0,s.Z)(d.Icon,{name:"fab-pencil-20x20"})),C.__("Update Direct Deposit"))),f>0&&m&&h&&(0,s.Z)(d.TextButton,{clickAction:this._handleShowModal,type:"button"},void 0,C.__("Update Direct Deposit Account(s)")),(0,s.Z)(u.a,{accounts:e,customRoutingValidationUrl:r||null,customSave:p,customAccountUnmaskUrl:l,employeeId:i,hasTrax:a,onCancelClick:this._handleHideModal,onSaveSuccess:this._handleSaveSuccess,visible:t}))}}},21561:(e,t,a)=>{"use strict";a.d(t,{a:()=>A});var s=a(88604);var n=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(73641);var c=a(98675);var d=a(59155);var u=a(17842);var h=a.n(u);var p=a(21198);function m(e,t){const a=".";const s=",";e=e.replaceAll("-","");let n=true;e=e.replaceAll(a,(e=>{if(!n){return""}n=false;return e}));const i=Number(e.replaceAll("$","").replaceAll("%","").replaceAll(s,"").replaceAll(a,"."));if(t==="PCT"){e=e.replaceAll(s,"");if(i>100){e="100%"}}if(i===0){e=""}return e}var f=a(44816);var $=a(26570);function g(e){const{accountId:t,accountNum:a,accountType:s,amount:i,bankName:o,flatOrPercent:l,imgUrl:c,isProcessing:u,onDeleteAccount:h,onRoutingNumBlur:m,onValueChange:g,order:b,routingNum:w,routingNumError:S,routingNumPending:C,showDelete:x}=e;const T=(0,p.classNameFromObject)({fieldBox:true,error:S});const E=(0,p.classNameFromObject)("fab-TextInput fab-TextInput--width4",{"fab-TextInput--error":S});return r().createElement(r().Fragment,null,(0,n.Z)("h4",{className:"AccountCard__orderNumberHeader"},void 0,$.__("Account %1:",b)),(0,n.Z)("div",{className:"AccountCard"},void 0,(0,n.Z)("div",{className:"AccountCard__order"},void 0,(0,n.Z)("div",{className:"AccountCard__orderNumber"},void 0,b)),(0,n.Z)("div",{className:"AccountCard__form"},void 0,(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)("label",{className:"fab-Label hidden phoneOnly phoneOnly--flex depositLabel",htmlFor:`amountFlat${t}`},void 0,$.__("Deposit")),(0,n.Z)("span",{className:"fab-FormField phoneHide"},void 0,$.__("Deposit")),(0,n.Z)("div",{className:"fab-FormField"},void 0,(0,n.Z)("div",{className:"bhrToggleSmall bhrToggle--btn"},void 0,(0,n.Z)("input",{className:"bhrToggle--btn-1","data-currency-toggle":"$","data-field-class":`js-depositAmount${t}`,"data-flag":"currency",defaultChecked:l==="FLAT"?"checked":null,disabled:u,id:`amountFlat${t}`,name:`amountType${t}`,onChange:e=>g(e,t,"flatOrPercent",true),type:"radio",value:"FLAT"}),(0,n.Z)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`amountFlat${t}`},void 0,"$"),(0,n.Z)("input",{className:"bhrToggle--btn-2","data-currency-toggle":"%","data-field-class":`js-depositAmount${t}`,"data-flag":"percent",defaultChecked:l==="PCT"?"checked":null,disabled:u,id:`amountPercent${t}`,name:`amountType${t}`,onChange:e=>g(e,t,"flatOrPercent",true),type:"radio",value:"PCT"}),(0,n.Z)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`amountPercent${t}`},void 0,"%"),(0,n.Z)("span",{className:"bhrToggle__handle bhrToggle--btn__handle brandedToggle"}))),(0,n.Z)("div",{className:"fab-FormField"},void 0,(0,n.Z)("input",{className:`fab-TextInput fab-TextInput--width3 js-depositAmount${t} ${l==="PCT"?"percent-field":"currency-field"}`,"data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",disabled:u,onBlur:e=>g(e,t,"amount",true),onChange:e=>g(e,t,"amount"),type:"text",value:i})),(0,n.Z)("span",{className:"fab-FormField DepositNote"},void 0,b>1?$.__("of the remaining amount into"):$.__("of each check into"),":")),(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"accountNum"},void 0,$.__("Account Number")),(0,n.Z)("input",{className:"fab-TextInput fab-TextInput--width4",disabled:u,id:"accountNum",onChange:e=>g(e,t,"accountNum"),type:"text",value:a})),(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"routingNum"},void 0,$.__("Routing Number")),(0,n.Z)("input",{className:E,disabled:u,id:"routingNum",onBlur:e=>m(e.target.value,t),onChange:e=>g(e,t,"routingNum"),type:"text",value:w})),(0,n.Z)("div",{className:"fab-FormColumn lastColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"accountType"},void 0,$.__("Account Type")),(0,n.Z)(f.ZP,{data:{items:v(s)},id:"accountType",isDisabled:u,onChange:e=>g(e,t,"accountType"),settings:{notClearable:true},width:"5"})),(0,n.Z)("div",{className:"AccountCard__validation"},void 0,y(C,o,c,S)))),x&&(0,n.Z)("div",{className:"AccountCard__delete"},void 0,(0,n.Z)(d.FloatingIconButton,{clickAction:()=>h(t),icon:"fab-trash-can-10x12",isDisabled:u,secondary:true,type:"button"}))))}function v(e){return[{displayText:$.__("Checking"),value:"Checking",selected:e==="Checking"},{displayText:$.__("Savings"),value:"Savings",selected:e==="Savings"}]}function y(e,t,a,s){if(e){return(0,n.Z)("div",{className:"AccountCard__bankPending"},void 0,(0,n.Z)("div",{className:"dotLoader small"},void 0,(0,n.Z)("div",{className:"bounce1"}),(0,n.Z)("div",{className:"bounce2"}),(0,n.Z)("div",{className:"bounce3"})),(0,n.Z)("span",{},void 0,$.__("Validating"),"..."))}if(s){const e="fab-FormNote fab-FormNote--error";return(0,n.Z)("span",{className:e},void 0,$.__(`Sorry, that's not a valid Routing Number`))}if(a){return(0,n.Z)("img",{alt:t?`${t} logo`:"bank logo",className:"AccountCard__bankLogo",src:a})}if(t){return(0,n.Z)("span",{className:"AccountCard__bankText"},void 0,t)}return null}var b=a(26570);const w=b.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");function S(e){let t=true;let a=w;const s=e.length-1;e.forEach(((e,n)=>{if(e.flatOrPercent==="PCT"&&Number(T(e.amount))===100&&n!==s){t=false;a=b.__("Oops... Only your last account can have 100%s of the remaining amount deposited into it.","%")}if(!e.order){t=false}if(!e.amount){t=false}if(!e.accountNum){t=false}if(!e.routingNum){t=false}if(!e.accountType){t=false}if(!e.bankName){t=false}if(!e.flatOrPercent){t=false}if(e.routingNumError){t=false}}));return{valid:t,error:a}}function C(e,t){const a=[];e.forEach((e=>{a.push({order:e.order,accountId:e.accountId,amount:e.amount,accountNum:t?e.unmaskedAccountNumber:e.number,routingNum:e.routingNumber,accountType:e.type==="savings"?"Savings":"Checking",flatOrPercent:e.calculationType==="Percent"||e.calculationType==="Balance"?"PCT":"FLAT",bankName:e.name,imgUrl:e.imageUrl==="/images/bank-logos/default-bank.png"?null:e.imageUrl,routingNumPending:false,routingNumError:false,showDelete:true})}));return a}function x(e){const t=[];e.forEach((e=>{t.push({order:e.order,account_id:e.accountId>0?e.accountId:null,amount:T(e.amount),number:e.accountNum,routing_number:e.routingNum,type:e.accountType,name:e.bankName,image_url:e.imgUrl,flat_or_percent:e.flatOrPercent})}));return t}const T=e=>e.replace("%","").replace(",","").replace("$","");function E(e,t){let a=[];e.forEach((e=>{const s=new Promise(((a,s)=>{if(e.accountId<0){a(e)}else{const n=t?`${t}${e.accountId}`:`/payroll/direct_deposit/unmasked_account_number/${e.accountId}`;h().get(n).then((t=>{e.accountNum=t.data.accountNumber;a(e)})).catch((e=>s(e)))}}));a.push(s)}));return a}const k=e=>e.flatOrPercent==="PCT"&&Number(T(e.amount))===100;function Z(e){return{showDelete:true,accountNum:"",routingNum:"",routingNumPending:false,routingNumError:false,accountType:null,flatOrPercent:"PCT",amount:"",accountId:e?e:-1,bankName:null,imgUrl:null}}const F=/^[0-9-]*$/;function I(e){return F.test(e)&&e.length<=17}var N=a(26570);class A extends o.Component{static get className(){return"DirectDepositModal"}constructor(e){var t;super(e);t=this;(0,i.Z)(this,"_getFabricModalProps",((e,t,a)=>{const{isProcessing:s}=this.state;return{headerType:"text",headline:N.__("Direct Deposit Accounts"),icon:"fab-bank-20x19",isMobileFriendly:true,isOpen:e,isProcessing:s,onClose:a,primaryAction:t,primaryActionText:N.__("Save"),sheetProps:this._getFabricSheetProps(),title:N.__("Update Direct Deposit"),type:"medium"}}));(0,i.Z)(this,"_getFabricSheetProps",(()=>{const{showJustCheckingModal:e}=this.state;return{content:(0,n.Z)("p",{className:"DDModal__checkingText"},void 0,N.__("Are you sure you want to delete all direct deposit information and start receiving paper checks?")),headerType:"stacked",headline:N.__("You will start receiving paper checks"),icon:"fab-checkbook-70x56",isMobileFriendly:true,isOpen:e,onClose:()=>this.setState({showJustCheckingModal:false}),primaryAction:this._handleDeleteAllAccounts,primaryActionText:N.__("Yes, Delete Direct Deposit"),title:N.__("Just Checking...")}}));(0,i.Z)(this,"_getModalProps",((e,t,a)=>({visible:e,onClose:a,options:{footer:{show:true,buttons:{primary:{action:t,text:N.__("Save")}}},title:N.__("Update Direct Deposit")}})));(0,i.Z)(this,"_handleAddAccount",(()=>{let{accounts:e,newId:t}=this.state;const a=[...e];a.push(Z(t));const s=k(a[a.length-1]);t--;this.setState({accounts:a,newId:t,hidePaperCheckMsg:s})}));(0,i.Z)(this,"_handleAfterDeleteAllAccountsSaveSuccess",(e=>{const{onSaveSuccess:t}=this.props;this.setState({accounts:[Z()],showJustCheckingModal:false},(()=>{this._initialState=(0,l.cloneDeep)(this.state);if(typeof t==="function"){t(e)}}))}));(0,i.Z)(this,"_handleAfterSaveSuccess",(e=>{const{onSaveSuccess:t}=this.props;this.setState({isProcessing:false},(()=>{this._initialState=(0,l.cloneDeep)(this.state);if(typeof t==="function"){t(e)}}))}));(0,i.Z)(this,"_handleDeleteAllAccounts",(()=>{const{employeeId:e}=this.state;const{hasTrax:t,onSaveSuccess:a,customSave:s}=this.props;if(!t){return}if(s&&typeof s==="function"){s(null,this._handleAfterDeleteAllAccountsSaveSuccess);return}h().post(`/payroll/direct_deposit/accounts/save/${e}`,{accounts:[]}).then((e=>{if(e.status===200){this._handleAfterDeleteAllAccountsSaveSuccess(e);window.setMessage(N.__("Direct Deposit info updated."),"success")}})).catch((()=>{window.setMessage(N.__("Failed to save Direct Deposit changes."),"error")}))}));(0,i.Z)(this,"_handleDeleteAccount",(e=>{const{accounts:t}=this.state;const a=[];if(t.length===1){this._handleDeleteLastAccount();return}t.forEach((t=>{if(t.accountId!==e){a.push(t)}}));const s=k(a[a.length-1]);this.setState({accounts:a,hidePaperCheckMsg:s})}));(0,i.Z)(this,"_handleDeleteLastAccount",(()=>{const{hasTrax:e}=this.props;if(!e){return}this.setState({showJustCheckingModal:true})}));(0,i.Z)(this,"_handleModalClose",(()=>{const{onCancelClick:e}=this.props;e();this.setState((0,l.cloneDeep)(this._initialState))}));(0,i.Z)(this,"_handleRoutingNumBlur",((e,t)=>{if(!e||!t){return}const{customRoutingValidationUrl:a}=this.props;const s=a?`${a}${e}`:`/payroll/direct_deposit/routing/validate/${e}`;const{accounts:n}=this.state;const i=[...n];const o=i.findIndex((e=>e.accountId===t));i[o].routingNumPending=true;this.setState({accounts:i});const r=this._modalOpenCount;h().get(s).then((e=>{if(!this._isModalOpen||this._modalOpenCount!==r){return}const{data:{imageUrl:t,name:a}}=e;i[o].imgUrl=t;i[o].bankName=a;i[o].routingNumPending=false;i[o].routingNumError=false})).catch((()=>{if(!this._isModalOpen||this._modalOpenCount!==r){return}i[o].imgUrl=null;i[o].bankName=null;i[o].routingNumPending=false;i[o].routingNumError=true})).finally((()=>{if(!this._isModalOpen||this._modalOpenCount!==r){return}this.setState({accounts:i})}))}));(0,i.Z)(this,"_handleValueChange",(function(e,a,s){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let{accounts:i,hidePaperCheckMsg:o}=t.state;const r=[...i];const l=r.findIndex((e=>e.accountId===a));const c=s==="accountType"?e.value:e.target.value;if(s==="accountNum"&&!I(c)){return}r[l][s]=c;if(s==="amount"&&e.type==="blur"){r[l].amount=m(r[l].amount,r[l].flatOrPercent)}if(s==="flatOrPercent"){const t=N(`.js-depositAmount${a}`);t.focus();window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,`.js-depositAmount${a}`);r[l].amount=m(t.val(),r[l].flatOrPercent)}if(n){const e=r[r.length-1];o=k(e)}t.setState({accounts:r,hidePaperCheckMsg:o})}));(0,i.Z)(this,"_handleSaveClick",(()=>{this.setState({isProcessing:true});const{onSaveSuccess:e,employeeId:t,customSave:a}=this.props;const s=a&&typeof a!=="function"?`${a}${t}`:`/payroll/direct_deposit/accounts/save/${t}`;const{accounts:n}=this.state;const i=S(n);if(!i.valid){this.setState({isProcessing:false});window.setMessage(i.error,"error");return}const o=x(n);if(typeof a==="function"){a(o,this._handleAfterSaveSuccess);return}h().post(s,{accounts:o}).then((e=>{const t=C(e.data.direct_deposits.BANK,true);this.setState({accounts:t},(()=>{this._handleAfterSaveSuccess(e)}))})).catch((()=>{window.setMessage(w,"error");this.setState({isProcessing:false})}))}));(0,i.Z)(this,"_renderAccountCards",(e=>{let t=[];const{accounts:a,isProcessing:n}=this.state;const i=[...a];i[0].showDelete=e;i.forEach(((e,a)=>{e.order=a+1;t.push(r().createElement(g,(0,s.Z)({key:e.accountId,onAmountBlur:this._handleAmountBlur,onDeleteAccount:this._handleDeleteAccount,onRoutingNumBlur:this._handleRoutingNumBlur,onValueChange:this._handleValueChange,isProcessing:n},e)))}));return t}));(0,i.Z)(this,"_isModalOpen",false);(0,i.Z)(this,"_maxAccounts",4);(0,i.Z)(this,"_modalOpenCount",0);const{accounts:a,employeeId:o}=e;let c=[Z()];if(a&&a.length){c=C(a,false)}this.state={employeeId:o,accounts:c,newId:-2,hidePaperCheckMsg:k(c[c.length-1]),showJustCheckingModal:false};this._initialState=(0,l.cloneDeep)(this.state)}componentDidMount(){const{accounts:e,customAccountUnmaskUrl:t}=this.props;if(Array.isArray(e)&&e.length){const{accounts:e}=this.state;const a=(0,l.cloneDeep)(e);const s=E(a,t);Promise.all(s).then((e=>{this.setState({accounts:e});this._initialState.accounts=(0,l.cloneDeep)(e)}))}}componentDidUpdate(e){const{visible:t}=this.props;if(t&&(!e||!e.visible)){this._modalOpenCount++}}render(){const{accounts:e,hidePaperCheckMsg:t,isProcessing:a}=this.state;const{visible:s,hasTrax:i,optionalPreHeader:o}=this.props;this._isModalOpen=s;const l=(0,p.classNameFromObject)({DDModal__paperCheck:true,"DDModal__paperCheck--hidden":t});return r().createElement(c.u_,this._getFabricModalProps(s,this._handleSaveClick,this._handleModalClose),o&&o,(0,n.Z)("div",{className:"DDModal"},void 0,(0,n.Z)("div",{className:"DDModal__cardContainer BhrForms"},void 0,this._renderAccountCards(i)),(0,n.Z)("div",{className:"DDModal__buttonLinks"},void 0,e.length===this._maxAccounts&&!i?(0,n.Z)("span",{className:"DDModal__cardMaxText"},void 0,N.__("You can only have four direct deposit accounts"),"."):(0,n.Z)(d.TextButton,{clickAction:this._handleAddAccount,isDisabled:a,text:`+ ${N.__("Add Account")}`,type:"button"}),i&&(0,n.Z)(d.TextButton,{clickAction:this._handleDeleteLastAccount,isDisabled:a,muted:true,text:N.__(`I'd prefer a paper check`),type:"button"})),(0,n.Z)("div",{className:l},void 0,(0,n.Z)("span",{className:"DDModal__paperCheckIcon"},void 0,(0,n.Z)(d.Icon,{name:"fab-checkbook-20x16"})),(0,n.Z)("div",{className:"DDModal__paperCheckText"},void 0,N.__(`You'll receive a paper check with any remaining balance`),"."))))}}},65832:(e,t,a)=>{"use strict";a.d(t,{c:()=>D});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(98675);var l=a(59155);var c=a(44816);var d=a(17842);var u=a.n(d);var h=a(71141);var p=a(73641);var m=a(65764);var f=a(66523);var g=a(56445);var $=a(26570);const v={city:{error:false,value:""},email:{value:""},id:null,isProcessing:false,name:{error:false,value:""},phone:{error:false,value:""},state:{error:false,value:""},street1:{error:false,value:""},street2:{value:""},zip:{error:false,value:""}};const y={city:{placeholder:$.__("City"),size:"long fab-TextInput--width5"},email:{icon:(0,g.ifFeature)("encore",(0,s.Z)(l.IconV2,{color:"neutral-weak",name:"envelope-solid",size:16}),(0,s.Z)(m.Z,{})),placeholder:$.__("Email"),size:"xlong fab-TextInput--width8"},phone:{icon:(0,g.ifFeature)("encore",(0,s.Z)(l.IconV2,{color:"neutral-weak",name:"mobile-screen-button-solid",size:16}),(0,s.Z)(f.Z,{})),placeholder:$.__("Phone"),size:"xlong fab-TextInput--width6"},street1:{placeholder:$.__("Street 1"),size:"xxlong fab-TextInput--width8"},street2:{placeholder:$.__("Street 2"),size:"xxlong fab-TextInput--width8"},zip:{placeholder:$.__("ZIP"),size:"xshort fab-TextInput--width3"}};const b=$.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");const w=$.__(`Uh oh...something went wrong, and the payee wasn't saved. Try it again?`);var S=a(21198);var C=a(59592);var x=a(26570);function T(e){const{name:t,street1:a,city:s,state:n,zip:i,phone:o}=e;let r=true;if(!t.value){t.error=true;r=false}if(!a.value){a.error=true;r=false}if(!s.value){s.error=true;r=false}if(!n.value){n.error=true;r=false}if(!i.value){i.error=true;r=false}if(!o.value){o.error=true;r=false}if(!r){return{success:r,errorData:{isProcessing:false,name:t,street1:a,city:s,state:n,zip:i,phone:o}}}return{success:r}}function E(e,t){return(0,S.classNameFromObject)({fieldBox:true,required:e,error:t})}function k(e,t){if(e&&typeof e==="object"&&e.hasOwnProperty("id")&&e.name&&e.street1&&e.hasOwnProperty("street2")&&e.city&&e.state&&e.zip&&e.phone&&e.hasOwnProperty("email")){return{success:true,data:{employeeId:t,id:e.id,payeeName:e.name.value,addressLine1:e.street1.value,addressLine2:e.street2.value,city:e.city.value,stateId:e.state.value,zipcode:e.zip.value,phone:e.phone.value,email:e.email.value}}}return{success:false}}function Z(e){if(e&&typeof e==="object"&&e.hasOwnProperty("id")&&e.hasOwnProperty("payeeName")&&e.hasOwnProperty("addressLine1")&&e.hasOwnProperty("addressLine2")&&e.hasOwnProperty("city")&&e.hasOwnProperty("stateId")&&e.hasOwnProperty("zipcode")&&e.hasOwnProperty("phone")&&e.hasOwnProperty("email")){return{success:true,data:{id:e.id,name:{value:e.payeeName?e.payeeName:""},street1:{value:e.addressLine1?e.addressLine1:""},street2:{value:e.addressLine2?e.addressLine2:""},city:{value:e.city?e.city:""},state:{value:e.stateId?e.stateId:""},zip:{value:e.zipcode?e.zipcode:""},phone:{value:e.phone?e.phone:""},email:{value:e.email?e.email:""}}}}return{success:false}}const F=(e,t)=>{let{errorOrigin:a,errorType:s,globalPayeeType:n}=e;let i;if(n){if(n==="CS"){i="Child Support"}else{i="Tax Levy"}}if(a===2&&s===1){(0,C.f)(x.__('Bummer! Looks like "%s" is already used. Please try a unique name',t.payeeName),"error")}if(a===2&&s===2){(0,C.f)(x.__("Looks like this address is already being used. Please update, or use existing payee with this address."),"error")}if(a===2&&s===3){(0,C.f)(x.__("Bummer! Looks like this Payee Name, and Address is already used. Please update below."),"error")}if(a===1&&s===1){(0,C.f)(x.__("Bummer! Looks like this payee name is associated with an existing %s payee. Please update.",i),"error")}if(a===1&&s===2){(0,C.f)(x.__("Bummer! Looks like this address is associated with an existing %s payee. Please update.",i),"error")}if(a===1&&s===3){(0,C.f)(x.__("Bummer! Looks like this payee name, and address is associated with an existing %s payee. Please update.",i),"error")}};const I=(e,t,a,n,i,r,c,d)=>{const u=()=>{const s=a.find((e=>e.id===t.toString())).stateId;c(true);r([s]);i([t.toString()]);e()};return o().createElement(o().Fragment,null,(0,s.Z)(l.Flex,{flexDirection:"row"},void 0,(0,s.Z)("span",{className:`subscript__text ${n}`},void 0,x.__("This %s already exists. ",n)),d!=="edit"&&(0,s.Z)(l.TextButton,{className:`subscript__button ${n}`,onClick:u,type:"button"},void 0,x.__("Use existing payee"))))};const N=(e,t,a,s,n,i,r,l,c,d,u,h)=>{let{errorOrigin:p,errorType:m,globalPayeeType:f,customPayeeId:g}=h;if(p===2){if(m===1||m===3){e(true);t(true);n(I(r,g,l,"name",i,c,d,u))}if(m===2){a(true);s(true);n(I(r,g,l,"address",i,c,d,u))}}if(p===1){let i;if(f==="CS"){i="Child Support"}else{i="Tax Levy"}n(o().createElement(o().Fragment,null,x.__("Please update, or set this deduction up as a %s deduction.",i)));if(m===1||m===3){e(true);t(true)}if(m===2){a(true);s(true)}}};var A=a(26570);const M=(0,h.isEnabled)("globalPayees");class D extends i.Component{static get className(){return"PayeeModal"}constructor(e){super(e);(0,n.Z)(this,"_resetState",(()=>this.setState(this._originalState)));(0,n.Z)(this,"_closeModal",(()=>{const{onClose:e}=this.props;this._resetState();e()}));(0,n.Z)(this,"_getStateSelectData",(()=>{let e;let t;if(M&&this.props.type!=="edit"&&!this.props.isFromSettingsPage){e=this.props.allStates;if(this.props.selectedState&&this.props.selectedState.length>0){t=this.props.selectedState[0]}}else{e=this.state.allStates;t=this.state.state.value}const a=e?.map((e=>({displayText:e.name,value:e.id,selected:e.id===t})));return{data:{items:a},settings:{placeholder:"State"},className:"xshort",onChange:this._handleStateSelectChange}}));(0,n.Z)(this,"setShowNameSubscript",(e=>{this.setState({showNameSubscript:e})}));(0,n.Z)(this,"setShowAddressSubscript",(e=>{this.setState({showAddressSubscript:e})}));(0,n.Z)(this,"setSubscriptContent",(e=>{this.setState({subscriptContent:e})}));(0,n.Z)(this,"setNameError",(e=>{const t=(0,p.cloneDeep)(this.state.name);t.error=e;this.setState({name:t})}));(0,n.Z)(this,"setAddressError",(e=>{const t=(0,p.cloneDeep)(this.state.street1);t.error=e;this.setState({street1:t})}));(0,n.Z)(this,"_getAllStateData",(()=>{u().get("/ajax/get_states?country=1").then((e=>{if(e.status===200&&e.data&&e.data.data){this.setState({allStates:e.data.data})}}))}));(0,n.Z)(this,"_savePayee",((e,t)=>{const{onSaveSuccess:a,onClose:s,type:n}=this.props;u().request({method:t,url:"/payroll/non_benefit_deductions/payee",data:e}).then((t=>{if(t.status===200||t.status===201){if(M&&t.data.errorOrigin){F(t.data,e);N(this.setShowNameSubscript,this.setNameError,this.setShowAddressSubscript,this.setAddressError,this.setSubscriptContent,this.props.setSelectedPayee,this._closeModal,this.props.customPayees,this.props.setSelectedState,this.props.setIsPayeeFromValidator,n,t.data);this.setState({isProcessing:false})}else{if(typeof a==="function"){a(t.data)}if(n==="edit"){this._originalState=this.state}this._resetState();s()}}else{window.setMessage(w,"error");this.setState({isProcessing:false})}})).catch((()=>{window.setMessage(w,"error");this.setState({isProcessing:false})}))}));(0,n.Z)(this,"_handleStateSelectChange",(e=>{if(M&&this.props.type!=="edit"&&!this.props.isFromSettingsPage){const{setSelectedState:t}=this.props;const a=e?[e.value]:[];t(a)}this.setState({state:{value:e?e.value:"",error:false}})}));(0,n.Z)(this,"_handleInputChange",((e,t)=>{const a={};a[t]={value:e?e.target.value:"",error:false};this.setState(a)}));(0,n.Z)(this,"_handleSaveClick",(()=>{if(M){this.setShowAddressSubscript(false);this.setAddressError(false);this.setShowNameSubscript(false);this.setNameError(false);this.setSubscriptContent(null)}const e=T(this.state);const{type:t}=this.props;if(e.success){const{employeeId:e}=this.props;const a=k(this.state,e);if(a.success){const e=t==="edit"?"put":"post";this._savePayee(a.data,e)}else{window.setMessage(b,"error");this.setState({isProcessing:false})}}else{window.setMessage(b,"error");this.setState(e.errorData)}}));(0,n.Z)(this,"_renderInputFieldBox",((e,t)=>{const a=y[e];const n=this.state[e];return(0,s.Z)("div",{className:E(t,n.error)},void 0,(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)("input",{className:`fab-TextInput ${a.icon?"fab-TextInput--withNub":""} ${a.size} ${n.error?"fab-TextInput--error":""}`,onChange:t=>this._handleInputChange(t,e),placeholder:a.placeholder,type:"text",value:n.value}),a.icon&&(0,s.Z)("span",{className:"fab-TextInputNub"},void 0,(0,s.Z)("span",{className:"fab-TextInputNub__icon"},void 0,a.icon))))}));(0,n.Z)(this,"_renderValidationInputFieldBox",((e,t)=>{const a=y[e];const n=this.state[e];return(0,s.Z)(l.TextField,{onChange:t=>this._handleInputChange(t,e),placeholder:a.placeholder,value:n.value})}));const{type:t,payeeData:a}=this.props;let i=(0,p.cloneDeep)(v);if(t==="edit"&&a){const e=Z(a);if(e.success){i=(0,p.merge)(i,e.data)}}if(M){const e={showNameSubscript:false,showAddressSubscript:false,subscriptContent:null};i=(0,p.merge)(i,e)}this._originalState=(0,p.cloneDeep)(i);this.state=i}componentDidMount(){if(!M||M&&this.props.type==="edit"&&this.props.isFromSettingsPage){this._getAllStateData()}}componentDidUpdate(e,t,a){if(M){if(e.selectedState!==this.props.selectedState&&this.props.selectedState.length>0){const e={value:this.props.selectedState[0],error:false};this._originalState.state=e;this.setState({state:e})}}}render(){const{name:e,state:t,isProcessing:a}=this.state;const{isFromSettingsPage:n,visible:i,onClose:l,type:d}=this.props;let u;let h;let p;let m;if(M){if(d!=="edit"&&!n){u=this.props.allStates}else{u=this.state.allStates}h=this.state.showNameSubscript;p=this.state.showAddressSubscript;m=this.state.subscriptContent}else{u=this.state.allStates}return(0,s.Z)(r.u_,{isOpen:i,isProcessing:a,onClose:()=>{this._resetState();l()},primaryAction:()=>{this.setState({isProcessing:true},this._handleSaveClick)},primaryActionText:A.__("Save"),title:d==="edit"?A.__("Edit Payee"):A.__("Add Payee")},void 0,(0,s.Z)("form",{className:"BhrForms Payee__form BhrForms--modal-override fab-Form"},void 0,(0,s.Z)("fieldset",{},void 0,(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,(0,s.Z)("div",{className:E(true,e.error)},void 0,(0,s.Z)("label",{className:`fab-Label fab-Label--required ${e.error?"fab-Label--error":""}`,htmlFor:"name"},void 0,"Payee Name"),(0,s.Z)("input",{className:`xlong fab-TextInput fab-TextInput--width8 ${e.error?"fab-TextInput--error":""}`,id:"name",onChange:e=>this._handleInputChange(e,"name"),type:"text",value:e.value}))),h&&(0,s.Z)("div",{className:"subscript"},void 0,m),(0,s.Z)("div",{className:"fieldGroup required",id:"address"},void 0,M?(0,s.Z)("label",{className:`fab-Label fab-Label--required ${this.state.street1.error?"fab-Label--error":""}`,htmlFor:"address"},void 0,"Address"):(0,s.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:"address"},void 0,"Address"),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("street1",false)),p&&(0,s.Z)("div",{className:"subscript"},void 0,m),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("street2",false)),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("city",false),(0,s.Z)("div",{className:E(false,t.error)},void 0,u&&o().createElement(c.ZP,this._getStateSelectData())),this._renderInputFieldBox("zip",false))),(0,s.Z)("div",{className:"fieldGroup",id:"contactInfoPhone"},void 0,(0,s.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:"contactInfoPhone"},void 0,A.__("Phone")),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("phone",true))),(0,s.Z)("div",{className:"fieldGroup",id:"contactInfoEmail"},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"contactInfoEmail"},void 0,A.__("Email")),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("email",false))))))}}},5014:(e,t,a)=>{"use strict";a.d(t,{P:()=>c});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(17611);var r=a(60042);var l=a.n(r);var $=a(26570);function c(e){const{type:t,data:a,viewOnly:r,is2020:c}=e;let d=0;const u=(0,n.useRef)();const h=(0,n.useRef)();const p=(0,n.useRef)();const[m,f]=(0,n.useState)(a.type);(0,n.useLayoutEffect)((()=>{if(a.type&&!m){f(a.type)}}),[a.type,m]);(0,n.useLayoutEffect)((()=>{if(h.current.checked){u.current.classList.add("currency-field")}else if(p.current.checked){u.current.classList.add("percent-field")}}),[]);if(Number(a.amount)&&a.type){d=(0,o.Xh)(a.amount,a.type)}const g=l()("bhrToggleSmall bhrToggle--btn fab-FormField AdditionalWithholding__toggleButton",{"bhrToggle--btn--disabled":r});const v=l()("fab-Label AdditionalWithholding__label",{"fab-Label--disabled":r});const y=l()("fab-FormField AdditionalWithholding__perPeriod",{"fab-Label--disabled":r});const b=`.js-${t}AdditionalWithholding`;return(0,s.Z)("div",{className:"AdditionalWithholding fab-FormColumn"},void 0,(0,s.Z)("label",{className:v,htmlFor:`${t}Additional`},void 0,c?$.__("Extra Withholding"):$.__("Additional Withholding")),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("span",{className:g},void 0,i().createElement("input",{className:"bhrToggle--btn-1","data-currency-toggle":"$","data-field-class":`js-${t}AdditionalWithholding`,"data-flag":"currency",defaultChecked:m==="currency"?"checked":null,disabled:r,id:`${t}Currency`,name:`${t}[withholdExtraType]`,onChange:e=>window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,b),ref:h,type:"radio",value:"$"}),(0,s.Z)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`${t}Currency`},void 0,"$"),i().createElement("input",{className:"bhrToggle--btn-2","data-currency-toggle":"%","data-field-class":`js-${t}AdditionalWithholding`,"data-flag":"percent",defaultChecked:m==="percent"?"checked":null,disabled:r,id:`${t}Percentage`,name:`${t}[withholdExtraType]`,onChange:e=>window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,b),ref:p,type:"radio",value:"%"}),(0,s.Z)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`${t}Percentage`},void 0,"%"),(0,s.Z)("span",{className:"bhrToggle__handle bhrToggle--btn__handle brandedToggle"})),(0,s.Z)("span",{className:"fab-FormField"},void 0,i().createElement("input",{className:`AdditionalWithholding__amount fab-TextInput fab-TextInput--width4 js-${t}AdditionalWithholding`,"data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:d||"",disabled:r,id:`${t}Additional`,name:`${t}[withholdExtraValue]`,onBlur:w,ref:u,type:"text"})),(0,s.Z)("span",{className:y},void 0,$.__("per pay period"))));function w(){if(!h.current||!p.current){return}if(h.current.checked){window.BambooHR.Utils.formatCurrencyPercentToggle(h.current,b)}else if(p.current.checked){window.BambooHR.Utils.formatCurrencyPercentToggle(p.current,b)}}}},93156:(e,t,a)=>{"use strict";a.d(t,{M:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(60042);var r=a.n(o);var l=a(59155);var c=a(5014);var d=a(69379);var $=a(26570);function u(e){const{filingStatus:t,twoJobs:a=false,dependentsAmount:o="",otherIncome:u="",deductions:m="",viewOnly:f=false,additionalWithholding:g={amount:0,type:"currency"},ignoreStatusExemptions:v=false,futaExempt:y=false,ficaExempt:b=false,showExemptions:w=true,showWithholding:S}=e;const{amount:C,type:x}=g;const[T,E]=(0,n.useState)(t);const[k,Z]=(0,n.useState)(v);const F=r()("fab-Label fab-Label--required",{"fab-Label--disabled":k||f});const I=r()("fab-Label",{"fab-Label--disabled":f});const N=r()("FedWithholding2020","fab-FormSection",{"fab-FormSection--hidden":S===false});return(0,s.Z)("fieldset",{className:N},void 0,(0,s.Z)("legend",{className:"fab-FormSection__legend"},void 0,$.__("Federal Tax Withholding"),i().createElement(d.J,p())),(0,s.Z)("label",{className:F,htmlFor:"filingStatus"},void 0,$.__("Filing Status")),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:"fab-FormColumn"},void 0,i().createElement(l.Select,h(T,E,k,f))),w&&(0,s.Z)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:k?"checked":null,disabled:f?"disabled":null,id:"ignoreStatus",name:"fed[taxExempt]",onChange:e=>Z(e.target.checked),type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"ignoreStatus"},void 0,$.__("Ignore filing status/other adjustments")))),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:a,disabled:f?"disabled":null,id:"twoJobs",name:"fed[twoJobs]",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"twoJobs"},void 0,$.__("Works two jobs or spouse works?")))),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:"fab-FormColumn"},void 0,(0,s.Z)("label",{className:I,htmlFor:"dependentsAmt"},void 0,$.__("Dependents Amount")),(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:o,disabled:f?"disabled":null,id:"dependentsAmt",name:"fed[dependentsAmt]",type:"text"})),(0,s.Z)("div",{className:"fab-FormColumn"},void 0,(0,s.Z)("label",{className:I,htmlFor:"otherIncome"},void 0,$.__("Other Income")),(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:u,disabled:f?"disabled":null,id:"otherIncome",name:"fed[otherIncome]",type:"text"})),(0,s.Z)("div",{className:"fab-FormColumn"},void 0,(0,s.Z)("label",{className:I,htmlFor:"deductionsAmt"},void 0,$.__("Deductions Amount")),(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:m,disabled:f?"disabled":null,id:"deductionsAmt",name:"fed[deductionsAmt]",type:"text"}))),(0,s.Z)(c.P,{data:{amount:C,type:x},is2020:true,type:"fed",viewOnly:f}),w&&(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("legend",{className:"fab-CheckboxGroup__legend"},void 0,$.__("Exemption Options")),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:y,disabled:f?"disabled":null,id:"futaExempt",name:"fed[futaExempt]",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"futaExempt"},void 0,$.__("FUTA exempt"))),(0,s.Z)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:b,disabled:f?"disabled":null,id:"ficaExempt",name:"fed[ficaExempt]",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"ficaExempt"},void 0,$.__("FICA exempt"))))))}function h(e,t,a,s){return{isDisabled:a||s,items:[{text:$.__("Single, or Married Filing Separately"),value:"Single"},{text:$.__("Married Filing Jointly"),value:"Married"},{text:$.__("Head of Household"),value:"marriedSingleRate"}],name:"fed[status2020]",onClear:()=>t(""),onSelect:e=>t(e||""),selectedValues:[e],width:"8"}}function p(){const e=$.__("This determines how much you will withhold from your paycheck for federal taxes.");const t=$.__("The IRS has provided a handy %1$swithholding calculator%2$s to help you figure out what to elect.",'<a href="https://apps.irs.gov/app/withholdingcalculator/" target="_blank" rel="noopener noreferrer">',"</a>");const a=`${e} ${t}`;return{title:$.__("Federal Tax Withholding"),content:a,addTop:false}}},69379:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var s=a(89835);var n=a(23321);var i=a(41878);function o(e){const{title:t,content:a,addTop:n}=e;const o={onShow:r,position:"bottom",template:{name:"popover-standard",data:{rawContent:true,content:a,title:t,popoverClass:"js-taxHelpPopover"}}};return(0,s.Z)(i.J,{wrapperClassName:n?"HelpPopover HelpPopover--addTop":"HelpPopover",settings:o},void 0,"?")}function r(){const e=document.querySelectorAll(".js-taxHelpPopover a");if(e){const t=Array.from(e);t.forEach((e=>{const t=e.getAttribute("rel");if(t.indexOf("noopener")!==-1&&t.indexOf("noreferrer")!==-1){e.setAttribute("target","_blank")}}))}}},35637:(e,t,a)=>{"use strict";a.d(t,{z:()=>m});var s=a(88604);var n=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(73641);var c=a(17842);var d=a.n(c);var u=a(44816);var h=a(71212);var $=a(26570);const p=$.__("Uh Oh, We weren’t able to retrieve the occupation codes. Try refreshing the page.");class m extends o.Component{static get className(){return"LinkedSelects"}constructor(e){super(e);(0,i.Z)(this,"_getUpdatedChildOptions",(e=>{const{data:{getChildOptionsUrl:t}}=this.props;if(!e){this.setState({childSelection:null,childOptions:[]});return}if(!t){this._triggerGenericError();return}this.setState({disableChildSelect:true,childSelection:null});d().get(`${t}/${e}`).then((e=>{const{status:t,data:a}=e;if(t===200&&a&&a.options){this.setState({disableChildSelect:false,childOptions:a.options})}else{this._triggerGenericError()}})).catch((()=>this._triggerGenericError()))}));(0,i.Z)(this,"_getSelectData",((e,t)=>{const{parentSelection:a,childSelection:s,childOptions:n,disableChildSelect:i}=this.state;const{viewOnly:o,isUnemploymentField:r}=this.props;const{id:l,options:c,placeholder:d}=e;const u=t?a:s;const h=t?c:n;const p=r?"uiState":"state";const m=h.map((e=>({displayText:e.displayText,id:e.id,value:e.val,selected:e.val===u})));return{data:{items:m},settings:{name:`${p}[optional][${l}]`,disabled:o||!t&&(!m.length||i),placeholder:d||`-- ${$.__("Select")} --`},width:9,disabled:o||!t&&(!m.length||i),onChange:e=>this._handleSelectChange(e,t),className:"LinkedSelects__select xlong"}}));(0,i.Z)(this,"_handleSelectChange",((e,t)=>{const a=t?"parentSelection":"childSelection";this.setState({[a]:e?e.value:""},t?()=>this._getUpdatedChildOptions(e?e.id:null):l.noop)}));(0,i.Z)(this,"_triggerGenericError",(()=>window.setMessage(p,"error")));const{data:{parentSelect:t,childSelect:a}}=e;const s=t.options.find((e=>e.selected===true));const n=a.options.length?a.options.find((e=>e.selected===true)):null;this.state={parentSelection:s?s.val:null,childSelection:n?n.val:null,childOptions:a.options,disableChildSelect:false}}render(){const{data:{parentSelect:e,childSelect:t,label:a,help:i},required:l}=this.props;return(0,n.Z)(o.Fragment,{},void 0,(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("div",{className:"LinkedSelects__labelHelpContainer"},void 0,(0,n.Z)("label",{className:`fab-Label ${l===false?"":"fab-Label--required"}`,htmlFor:`select${e.id}`},void 0,(0,n.Z)("span",{},void 0,a)),(0,n.Z)(h.e,{helpData:i})),(0,n.Z)("div",{className:"fieldDiv"},void 0,r().createElement(u.ZP,(0,s.Z)({id:`select${e.id}`},this._getSelectData(e,true))))),(0,n.Z)("div",{className:"fieldRow fab-FormSection"},void 0,(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("div",{className:"fieldDiv"},void 0,r().createElement(u.ZP,(0,s.Z)({id:`select${t.id}`},this._getSelectData(t,false)))))))}}},71212:(e,t,a)=>{"use strict";a.d(t,{e:()=>o});var s=a(89835);var n=a(23321);var i=a(69379);function o(e){const{helpData:t}=e;if(!(t&&t.text)){return null}return(0,s.Z)(i.J,{content:t.text})}},10254:(e,t,a)=>{"use strict";a.d(t,{h:()=>ie});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(71141);var l=a(60042);var c=a.n(l);function d(e,t){if(t===undefined||t===null||t===""){return false}if(h(e)){return false}const a=u(e,t);if(a!==undefined){return a.isNewStateTaxView===false&&a.supportsNewStateTaxView===true}return false}function u(e,t){return e.byId?e.byId[t]:undefined}function h(e){return e===null||e===undefined}function p(e,t){if(h(e)){return false}if(t===null||t===undefined){return false}const a=u(e,t);return a?a.isNewStateTaxView===true:false}var m=a(44119);var f=a(44816);var g=a(17611);var v=a(5014);var y=a(69379);var b=a(59155);var $=a(26570);function w(e){const{handleToggleClick:t}=e;return(0,n.Z)("div",{className:"FedMessage2020"},void 0,(0,n.Z)("span",{className:"FedMessage2020__icon"},void 0,(0,n.Z)(b.Icon,{name:"fab-info-circle-15x15"})),(0,n.Z)("p",{className:"FedMessage2020__text"},void 0,(0,n.Z)("span",{},void 0,$.__("The IRS W4 withholding form has changed"),". "),(0,n.Z)(b.TextButton,{clickAction:t,inline:true,text:$.__("Make changes using the new form fields."),type:"button"})))}var S=a(26570);class C extends i.Component{static get className(){return"FedWithholding"}constructor(e){super(e);(0,m.Z)(this,"_getHelpPopoverProps",(()=>{const e=S.__("This determines how much you will withhold from your paycheck for federal taxes.");const t=S.__("The IRS has provided a handy %1$swithholding calculator%2$s to help you figure out what to elect.",'<a href="https://apps.irs.gov/app/withholdingcalculator/" target="_blank" rel="noopener noreferrer">',"</a>");const a=`${e} ${t}`;return{title:S.__("Federal Tax Withholding"),content:a,addTop:this.props.newHirePacket}}));(0,m.Z)(this,"_getSelectData",(()=>{const e=this.props.fields.filingStatus.map((e=>{const t={};t.displayText=e.displayText;t.selected=this.state.ignoreStatus?false:e.val===this.state.filingStatus;t.value=e.val;return t}));return{data:{items:e},onChange:this._handleFilingStatusChange,settings:{name:"fed[status]",notClearable:true,placeholder:this.state.ignoreStatus?"NA":`-${S.__("Select")}-`},disabled:this.state.ignoreStatus||this.props.viewOnly,width:5,className:"xlong FedWithholding__status"}}));(0,m.Z)(this,"_handleExemptionsChange",((e,t)=>{if((0,g.rl)(e.target.value,t.min,t.max)){this.setState({exemptions:e.target.value})}}));(0,m.Z)(this,"_handleFilingStatusChange",(e=>this.setState({filingStatus:e.value?e.value:null})));(0,m.Z)(this,"_handleIgnoreStatusChange",(e=>this.setState({ignoreStatus:e.target.checked})));(0,m.Z)(this,"_renderFilingStatus",(()=>{const{ignoreStatus:e}=this.state;const{viewOnly:t}=this.props;const a=t||e;const i=a?"fab-Label fab-Label--disabled":"fab-Label";return(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:i,htmlFor:"fedStatus"},void 0,S.__("Filing Status")),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(f.ZP,(0,s.Z)({id:"fedStatus"},this._getSelectData()))))}));(0,m.Z)(this,"_renderExemptionsInput",(e=>{const{ignoreStatus:t,exemptions:a}=this.state;const{viewOnly:s}=this.props;const i=s||t;const o=i?"fab-Label fab-Label--disabled":"fab-Label";const r="fab-TextInput fab-TextInput--width2";return(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:o,htmlFor:"fedExemptions"},void 0,S.__("Exemptions")),(0,n.Z)("div",{className:"fieldDiv"},void 0,(0,n.Z)("input",{className:r,disabled:i,id:"fedExemptions",name:"fed[dependents]",onChange:t=>this._handleExemptionsChange(t,e.range),type:"text",value:t?"NA":a})))}));(0,m.Z)(this,"_renderExemptionCheckboxes",(e=>{const{ignoreStatus:t}=this.state;const{viewOnly:a}=this.props;const{ficaExempt:s,futaExempt:i}=e;const o=c()("fab-Label FedWithholding__checkboxGroupLabel",{"fab-Label--disabled":a});return(0,n.Z)("div",{className:"FedWithholding__checkboxGroup"},void 0,(0,n.Z)("label",{className:o,htmlFor:"checkboxGroup"},void 0,S.__("Exemption Options")),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,(0,n.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:t?"checked":null,disabled:a,id:"fedIgnore",name:"fed[taxExempt]",onChange:this._handleIgnoreStatusChange,type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"fedIgnore"},void 0,S.__("Ignore filing status/other adjustments"))),(0,n.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:s.checked?"checked":null,disabled:a,id:"ficaExempt",name:"fed[ficaExempt]",type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"ficaExempt"},void 0,S.__("FICA exempt"))),(0,n.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:i.checked?"checked":null,disabled:a,id:"futaExempt",name:"fed[futaExempt]",type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"futaExempt"},void 0,S.__("FUTA exempt")))))}));const{fields:t}=e;const a=t.filingStatus?t.filingStatus.find((e=>e.selected)):null;const i=t.exemptions?t.exemptions.amount:null;const r=i?i:0;const l=t.ignoreStatusExemptions?t.ignoreStatusExemptions.checked:null;this.state={filingStatus:a?a.val:null,ignoreStatus:l,exemptions:r}}render(){const{fields:e,viewOnly:t,isAdminUser:a,isPayrollAdminUser:s,handle2020ToggleClick:i,show2020Message:r}=this.props;const l="fab-FormSection";const c="fab-FormSection__legend";return(0,n.Z)("fieldset",{className:l},void 0,(0,n.Z)("legend",{className:c},void 0,S.__("Federal Tax Withholding"),o().createElement(y.J,this._getHelpPopoverProps())),r&&(0,n.Z)(w,{handleToggleClick:i}),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,e.filingStatus!==null&&this._renderFilingStatus()),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,e.exemptions!==null&&this._renderExemptionsInput(e.exemptions)),e.additionalWithholding!==null&&(0,n.Z)(v.P,{data:e.additionalWithholding,type:"fed",viewOnly:t}),(a||s)&&this._renderExemptionCheckboxes(e))}}var x=a(93156);var T=a(24796);var E=a(63773);var k=a(35637);var Z=a(71212);class F extends i.Component{constructor(){super(...arguments);(0,m.Z)(this,"state",{value:this.props.data.amount});(0,m.Z)(this,"_handleInputChange",(e=>{const{range:t}=this.props.data;if(t&&(0,g.rl)(e.target.value,t.min,t.max)){this.setState({value:e.target.value})}else if(!t){this.setState({value:e.target.value})}}))}static get className(){return"OptionalTextInput"}render(){const{id:e,data:t,viewOnly:a,help:s,isUnemploymentField:i}=this.props;const o="fab-Label";const r=`fab-TextInput fab-TextInput--teenie`;const l=i?"uiState":"state";return(0,n.Z)("div",{className:"fieldRow"},void 0,(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:o,htmlFor:`textInput${e}`},void 0,t.label),(0,n.Z)("input",{type:"text",id:`textInput${e}`,name:`${l}[optional][${e}]`,className:r,value:this.state.value,onChange:this._handleInputChange,disabled:a}),(0,n.Z)("div",{className:"OptionalTextInput__help"},void 0,(0,n.Z)(Z.e,{helpData:s}))))}}var I=a(26570);class N extends i.Component{static get className(){return"OptionalCheckbox"}constructor(e){super(e);(0,m.Z)(this,"_handleCheckBoxChange",(e=>this.setState({checked:e.target.checked})));(0,m.Z)(this,"_renderCheckbox",((e,t,a,s,i)=>{const o=i?"uiState":"state";return(0,n.Z)("div",{className:"fab-Checkbox OptionalCheckbox__tempCheckbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input ignore",defaultChecked:s?"checked":null,disabled:a,id:`checkbox${e}`,onChange:this._handleCheckBoxChange,type:"checkbox"}),(0,n.Z)("span",{className:"fab-Checkbox__box"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:`checkbox${e}`},void 0,t.label),(0,n.Z)("input",{name:`${o}[optional][${e}]`,type:"hidden",defaultValue:s?"on":"off"}))}));const{data:t}=e;this.state={checked:t.checked}}render(){const{id:e,data:t,viewOnly:a,help:s,isUnemploymentField:i}=this.props;const{checked:o}=this.state;return(0,n.Z)("div",{className:"fieldRow OptionalCheckbox"},void 0,(0,n.Z)("label",{className:"OptionalCheckbox__label",htmlFor:"checkboxes"},void 0,I.__("Select all that apply")),(0,n.Z)("fieldset",{className:"fab-CheckboxGroup"},void 0,this._renderCheckbox(e,t,a,o,i)))}}class A extends i.Component{static get className(){return"OptionalSelect"}constructor(e){super(e);(0,m.Z)(this,"_getSelectData",(()=>{const{data:e,id:t,viewOnly:a,isUnemploymentField:s}=this.props;const{selectedValue:n}=this.state;const i=s?"uiState":"state";const o=e.options.map((e=>{const t={};t.displayText=e.displayText;t.selected=e.val===n;t.value=e.val;return t}));if(!n){o[0].selected=true}return{data:{items:o},settings:{name:`${i}[optional][${t}]`,disabled:a,notClearable:true},disabled:a,width:5,onChange:this._handleSelectChange,className:"OptionalSelect xlong"}}));(0,m.Z)(this,"_handleSelectChange",(e=>this.setState({selectedValue:e?e.value:null})));const t=e.data.options.find((e=>e.selected===true));this.state={selectedValue:t?t.val:""}}render(){const{id:e,data:t,help:a}=this.props;return(0,n.Z)("div",{className:"fieldRow"},void 0,(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:`select${e}`},void 0,t.label),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(f.ZP,(0,s.Z)({id:`select${e}`},this._getSelectData())),(0,n.Z)("div",{className:"OptionalSelect__help"},void 0,(0,n.Z)(Z.e,{helpData:a})))))}}const M=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function D(e,t,a){e=e.replace(/[^\d.-]/g,"");e=e.replace(/-/g,((e,t)=>t===0?e:""));let s=true;e=e.replace(/\./g,(e=>{if(!s){return""}s=false;return e}));if(e===""){return e}let n=Number(e);if(Number.isNaN(n)){return""}if(t!==undefined&&n<t){n=t}if(a!==undefined&&n>a){n=a}return M.format(n)}function P(e){return e&&e.title!==null&&e.text!==null}var L=a(57860);var O=a(11354);function R(e){const{content:t,title:a}=e;const s=(0,O.y)();const r=(0,i.useRef)(null);const[l,d]=(0,i.useState)(false);return o().createElement(o().Fragment,null,o().createElement("button",{className:c()("js-no-sticky-footer",s.questionButton),onClick:()=>d(true),ref:r,type:"button"},(0,n.Z)(T.Z,{className:s.questionIcon})),r.current&&(0,n.Z)(b.Popover,{anchorEl:r.current,classes:{popover:s.popover},onClose:()=>d(false),open:l,title:a},void 0,t))}function B(e){const{data:t,help:a,id:s,isExemption:o,viewOnly:r}=e;const l=(0,L.y)();const[c,d]=(0,i.useState)(D(t.amount||""));const u=P(a);const h=!!r;return(0,n.Z)("div",{className:"fieldRow"},void 0,(0,n.Z)("div",{className:l.labelContainer},void 0,(0,n.Z)(b.Label,{disabled:h,htmlFor:s},void 0,t.label),u&&(0,n.Z)("div",{className:l.questionContainer},void 0,(0,n.Z)(R,{content:a.text,title:a.title}))),(0,n.Z)(b.TextField,{disabled:h,id:s,name:`state[optional][${s}]`,note:t.note,onBlur:p,onChange:e=>d(e.target.value),placeholder:h&&o?"NA":undefined,size:"medium",value:h&&o?D(""):c,width:5}));function p(e){const a=e.target.value;if(!a.trim()){d("");return}const s=window.getFloatFromStringJS(a.replace("$","").replace("%",""));const n=t.range?.min===undefined?undefined:Number(t.range.min);const i=t.range?.max===undefined?undefined:Number(t.range.max);d(D(s.toString(),n,i))}}var j=a(26570);const H=(0,r.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const q={text:F,checkbox:N,select:A,linkedSelects:k.z,usd:B};class W extends i.Component{static get className(){return"IowaStateWithholding"}constructor(e){super(e);(0,m.Z)(this,"_handleLocationChange",(e=>{const{locations:t,onLocationChange:a,setSelectedStateLocation:s,setNewIowaStateForm:n}=this.props;this.setState({stateAbbreviation:e?t.byId[e[0]].state:null});s(e[0]);if(t.byId[e[0]].state!=="IA"){n(false)}if(a){a(e[0])}}));(0,m.Z)(this,"_renderLocationsSelect",(()=>{const{locations:e,newHirePacket:t,showLocationRequiredAsterisk:a,viewOnly:s}=this.props;const{stateAbbreviation:i,selectedLocation:o}=this.state;return(0,n.Z)(b.Flex,{alignItems:"center",marginTop:2},void 0,(0,n.Z)(b.Flex,{flexDirection:"column",marginBottom:2},void 0,(0,n.Z)(b.Label,{disabled:s||t,htmlFor:"stateLocation",require:a},void 0,j.__("Location")),(0,n.Z)(b.Select,{id:"iowaStateLocation",isClearable:true,isDisabled:s||t,items:e.allIds.map((t=>({text:e.byId[t].displayText,value:e.byId[t].val}))),name:"state[location]",onChange:this._handleLocationChange,required:a,selectedValues:[o],width:"5"})),i&&(0,n.Z)(b.LayoutBox,{marginLeft:2},void 0,(0,n.Z)(b.Label,{},void 0,j.__("State: %1$s",i))))}));(0,m.Z)(this,"_renderFilingStatusSelect",(e=>{const{viewOnly:t}=this.props;const{filingStatus:a,ignore:s}=this.state;return(0,n.Z)(b.Flex,{flexDirection:"column",marginBottom:2},void 0,(0,n.Z)(b.Label,{disabled:s||t,htmlFor:"stateStatus",required:!s},void 0,j.__("Filing Status")),(0,n.Z)(b.Select,{id:"iowaStateStatus",isClearable:true,isDisabled:s||t,items:e.map((e=>({text:s?"NA":e.displayText,value:e.val}))),name:"state[status]",onChange:e=>{this.setState({filingStatus:e[0]})},placeholder:s?"NA":undefined,required:!s,selectedValues:[a],width:"5"}))}));(0,m.Z)(this,"_renderIgnoreCheckbox",(()=>{const{ignore:e,viewOnly:t}=this.state;const a=j.__("Ignore filing status/other exemptions");return(0,n.Z)(b.Flex,{alignItems:"center",marginLeft:2},void 0,(0,n.Z)(b.Checkbox,{checked:e,disabled:t,htmlFor:"iowaStateIgnoreCheckbox",id:"iowaStateIgnoreCheckbox",label:a,name:"state[taxExempt]",onChange:e=>this.setState({ignore:e.checked}),value:e?"on":"off"}))}));(0,m.Z)(this,"_renderHelpPopover",(()=>{const{helpPopover:e}=this.state;return(0,n.Z)(b.Flex,{display:"inline-flex",marginLeft:"10px"},void 0,o().createElement(b.IconButton,{color:"secondary",icon:(0,n.Z)(b.BodyText,{color:"neutral-weak",icon:(0,n.Z)(T.Z,{}),size:"medium",weight:"regular"}),noBoundingBox:"true",onClick:()=>{this.setState({helpPopover:true})},ref:this.iconBtnRef,type:"button"}),(0,n.Z)(b.Popover,{anchorEl:this.iconBtnRef.current,onClose:()=>{this.setState({helpPopover:false})},open:e,placement:"bottom",title:j.__("State Tax Withholding")},void 0,j.__("This determines how much you will withhold from your paycheck for state taxes.")))}));this.iconBtnRef=(0,i.createRef)();let t=null;const a=false;let s=false;let r=null;let l=null;const c=e.selectedLocation?e.locations.byId[e.selectedLocation]:null;if(c){r=c.newFields.filingStatus?c.newFields.filingStatus.find((e=>e.selected===true)):null;t=r?r.val:null;s=c.newFields.ignoreStatusExemptions?c.newFields.ignoreStatusExemptions.checked:false;l=c.state}this.state={filingStatus:t,helpPopover:a,ignore:s,selectedLocation:e.selectedLocation,stateAbbreviation:l}}render(){const{ignore:e,selectedLocation:t}=this.state;const{accessLevel:a,editPermission:s,isAdminUser:r,isPayrollAdminUser:l,locations:d,sectionNote:u,showWithholding:h,viewOnly:p}=this.props;const m=d.byId[t];let f=null;if(m&&m.newFields.optionalFields){f=m.newFields.optionalFields.allIds.map((t=>{const a=m.newFields.optionalFields.byId[t];const s=q[a.type];if(a.type==="usd"&&a.data.label==="Total Allowances"){return(0,n.Z)(s,{data:a.data,help:a.help,id:t,isExemption:true,viewOnly:p||e},t)}return(0,n.Z)(s,{data:a.data,help:a.help,id:t,viewOnly:p},t)}))}const g=c()({"fab-FormSection StateTax":true},{"fab-FormSection--hidden":h===false});return(0,n.Z)("fieldset",{className:g},void 0,(0,n.Z)(b.Headline,{color:"neutral-strong",component:"legend",size:"extra-small"},void 0,j.__("State Tax Withholding"),this._renderHelpPopover()),u&&(0,n.Z)("div",{className:"StateWithholding__sectionNoteContainer"},void 0,(0,n.Z)("span",{className:"StateWithholding__sectionNoteIcon"},void 0,(0,n.Z)(E.Z,{})),(0,n.Z)("p",{className:"StateWithholding__sectionNoteText"},void 0,u)),d&&this._renderLocationsSelect(),m&&(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)(b.Flex,{alignItems:"center"},void 0,m.newFields.filingStatus&&this._renderFilingStatusSelect(m.newFields.filingStatus),H&&a!==undefined?o().createElement(o().Fragment,null,(s||p)&&m.newFields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(m.newFields)):o().createElement(o().Fragment,null,(r||l||s)&&m.newFields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(m.newFields))),f,m.newFields.additionalWithholding&&(0,n.Z)(v.P,{data:m.newFields.additionalWithholding,type:"state",viewOnly:p})))}}var U=a(37194);var z=a(26570);function V(e){const{handleToggleClick:t}=e;return(0,n.Z)(b.Flex,{alignItems:"center",margin:"-4px 0 12px"},void 0,(0,n.Z)(U.Message,{link:e=>(0,n.Z)(b.TextButton,{inline:true,onClick:()=>t(),type:"button"},void 0,e),text:z._("Need to make changes? [Update using the new Iowa State form.]")}))}var Y=a(26570);const G=(0,r.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const K={text:F,checkbox:N,select:A,linkedSelects:k.z,usd:B};class X extends i.Component{static get className(){return"StateWithholding"}constructor(e){super(e);(0,m.Z)(this,"_getLocationSelectData",(()=>{const{locations:e,newHirePacket:t,viewOnly:a}=this.props;const s=e.allIds.map((t=>{const a=e.byId[t];a.value=a.val;a.selected=t===this.state.selectedLocation;a.id=t;return a}));return{data:{items:s},onChange:this._handleLocationChange,settings:{name:"state[location]",disabled:a&&!this.state.showIowaStateMessage||t},className:"xlong StateWithholding__select js-stateLocationSelect",width:5}}));(0,m.Z)(this,"_getStatusSelectData",(e=>{const{filingStatus:t,ignore:a,showIowaStateMessage:s}=this.state;const{viewOnly:n}=this.props;const i=e.map((e=>({displayText:a?"NA":e.displayText,value:e.val,selected:e.val===t})));return{data:{items:i},onChange:this._handleStatusChange,settings:{name:"state[status]",notClearable:false,placeholder:a?"NA":"-- Select --"},disabled:a||n||s,className:"xlong StateWithholding__select js-stateStatusSelect",width:5}}));(0,m.Z)(this,"_handleLocationChange",(e=>{const{locations:t,onLocationChange:a,setSelectedStateLocation:s}=this.props;Y(".js-stateLocationFieldBox").removeClass("error");this.setState({selectedLocation:e?e.id:null,stateAbbreviation:e?e.state:null,showIowaStateMessage:d(t,e.id)});s(e.id);if(a){a(e)}}));(0,m.Z)(this,"_handleStatusChange",(e=>{Y(".js-stateStatusFieldBox").removeClass("error");this.setState({filingStatus:e?e.value:""})}));(0,m.Z)(this,"_handleExemptionsChange",((e,t)=>{if((0,g.rl)(e.target.value,t.min,t.max)){this.setState({exemptions:e.target.value})}}));(0,m.Z)(this,"_handleIgnoreChange",(e=>this.setState({ignore:e.target.checked})));(0,m.Z)(this,"_getLabelClass",(()=>{const{viewOnly:e}=this.props;const{showIowaStateMessage:t}=this.state;return c()({"fab-Label":true},{"fab-Label--disabled":e||t})}));(0,m.Z)(this,"_renderLocationsSelect",(()=>{const{showLocationRequiredAsterisk:e,viewOnly:t}=this.props;const{stateAbbreviation:a}=this.state;const i="fab-FormNote";return(0,n.Z)("div",{className:"fieldRow"},void 0,(0,n.Z)("div",{className:"fieldBox js-stateLocationFieldBox required"},void 0,(0,n.Z)("label",{className:c()({"fab-Label":true,"fab-Label--disabled":t&&!this.state.showIowaStateMessage,"fab-Label--required":!!e}),htmlFor:"stateLocation"},void 0,Y.__("Location")),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(f.ZP,(0,s.Z)({id:"stateLocation"},this._getLocationSelectData()))),a&&(0,n.Z)("span",{className:i},void 0,Y.__("State: %1$s",a))))}));(0,m.Z)(this,"_renderFilingStatusSelect",(e=>{const{ignore:t}=this.state;const a=c()("fieldBox js-stateStatusFieldBox",{required:!t});return(0,n.Z)("div",{className:a},void 0,(0,n.Z)("label",{className:c()(this._getLabelClass(),{"fab-Label--required":true}),htmlFor:"stateStatus"},void 0,Y.__("Filing Status")),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(f.ZP,(0,s.Z)({id:"stateStatus"},this._getStatusSelectData(e)))))}));(0,m.Z)(this,"_renderExemptionsInput",(e=>{const t="fab-TextInput fab-TextInput--width1";return(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:this._getLabelClass(),htmlFor:"stateExemptions"},void 0,Y.__("Exemptions")),(0,n.Z)("div",{className:"fieldDiv"},void 0,(0,n.Z)("input",{className:t,disabled:this.state.ignore||this.props.viewOnly||this.state.showIowaStateMessage,id:"stateExemptions",name:"state[dependents]",onChange:t=>this._handleExemptionsChange(t,e.range),type:"text",value:this.state.ignore?"NA":this.state.exemptions})))}));(0,m.Z)(this,"_renderIgnoreCheckbox",(e=>{const t=Y.__("Ignore filing status/other adjustments");return(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("div",{className:"fieldDiv"},void 0,(0,n.Z)("div",{className:"fab-Checkbox StateWithholding__exempt"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:this.state.ignore?"checked":null,disabled:this.props.viewOnly||this.state.showIowaStateMessage,id:"stateIgnore",name:"state[taxExempt]",onChange:this._handleIgnoreChange,type:"checkbox"}),(0,n.Z)("span",{className:"fab-Checkbox__box"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"stateIgnore"},void 0,t))))}));let t=null;let a=0;let i=false;let r=null;const l=e.selectedLocation===undefined||e.selectedLocation===null?e.locations.selected:e.selectedLocation;const u=l?e.locations.byId[l]:null;if(u){const e=u.fields.filingStatus?u.fields.filingStatus.find((e=>e.selected===true)):null;t=e?e.val:null;a=u.fields.exemptions?u.fields.exemptions.amount:0;i=u.fields.ignoreStatusExemptions?u.fields.ignoreStatusExemptions.checked:false;r=u.state}this.state={showIowaStateMessage:e.showIowaStateMessage,selectedLocation:l,filingStatus:t,exemptions:a,ignore:i,stateAbbreviation:r}}render(){const{selectedLocation:e,showIowaStateMessage:t}=this.state;const{accessLevel:a,editPermission:s,handleNewIowaFormToggleClick:r,isAdminUser:l,isPayrollAdminUser:d,locations:u,newHirePacket:h,sectionNote:p,showWithholding:m,viewOnly:f}=this.props;const g=u.byId[e];let b=null;if(g&&g.fields.optionalFields){b=g.fields.optionalFields.allIds.map((e=>{const a=g.fields.optionalFields.byId[e];const s=K[a.type];if(g.state==="IA"&&(g.fields.optionalFields.byId[e].data.label==="Married Filing Jointly with Both Spouses Working"||g.fields.optionalFields.byId[e].data.label==="Total Allowances")){return null}return(0,n.Z)(s,{data:a.data,help:a.help,id:e,viewOnly:f||t},e)}))}const w=c()({"fab-FormSection StateTax":true},{"fab-FormSection--hidden":m===false});const S="fab-FormSection__legend";return(0,n.Z)("fieldset",{className:w},void 0,(0,n.Z)("legend",{className:S},void 0,Y.__("State Tax Withholding"),(0,n.Z)(y.J,{addTop:h,content:Y.__("This determines how much you will withhold from your paycheck for state taxes."),title:Y.__("State Tax Withholding")})),p&&(0,n.Z)("div",{className:"StateWithholding__sectionNoteContainer"},void 0,(0,n.Z)("span",{className:"StateWithholding__sectionNoteIcon"},void 0,(0,n.Z)(E.Z,{})),(0,n.Z)("p",{className:"StateWithholding__sectionNoteText"},void 0,p)),u&&this._renderLocationsSelect(),t&&(0,n.Z)(V,{handleToggleClick:r}),g&&(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)("div",{className:"fieldRow"},void 0,g.fields.filingStatus&&this._renderFilingStatusSelect(g.fields.filingStatus),g.fields.exemptions&&this._renderExemptionsInput(g.fields.exemptions),G&&a!==undefined?o().createElement(o().Fragment,null,(s||f||t)&&g.fields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(g.fields)):o().createElement(o().Fragment,null,(l||d||s)&&g.fields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(g.fields))),g.fields.additionalWithholding&&(0,n.Z)(v.P,{data:g.fields.additionalWithholding,type:"state",viewOnly:f||t}),b))}}var J=a(26570);const Q=(0,r.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const ee={text:F,checkbox:N,select:A,linkedSelects:k.z};class te extends i.Component{static get className(){return"StateUnemployment"}constructor(e){super(e);(0,m.Z)(this,"_getHelpPopoverData",(()=>{const e=J.__("Rule of thumb?");const t=J.__(`The state you select for this option should generally be paid to the employee's work state, but there are exceptions!`);const a=J.__(`If you're not sure what to choose, check out %1$sthis helpful guide%2$s from the Department of Labor.`,'<a href="https://workforcesecurity.doleta.gov/unemploy/uitaxtopic.asp" target="_blank" rel="noopener noreferrer">',"</a>");return{title:J.__("State Unemployment Insurance"),content:`${e} ${t} ${a}`}}));(0,m.Z)(this,"_getSelectData",(()=>{const{fields:e,viewOnly:t}=this.props;const{location:a}=this.state;const s=e.locations.map((e=>{const t={};t.selected=e.val===a;t.value=e.val;t.state=e.state;t.displayText=e.displayText;return t}));return{data:{items:s},onChange:this._handleLocationChange,settings:{name:"uiState[location]",placeholder:`-- ${J.__("Select")} --`,disabled:t,required:true},disabled:t,className:"xlong StateUnemployment__location js-uiStateLocationSelect",width:5}}));(0,m.Z)(this,"_handleLocationChange",(e=>{const{onLocationChange:t}=this.props;J(".js-uiStateLocationFieldBox").removeClass("error");this.setState({location:e?e.value:"",stateAbbreviation:e?e.state:null});if(t){t(e)}}));(0,m.Z)(this,"_handleExemptChange",(e=>this.setState({exempt:e.target.checked})));(0,m.Z)(this,"_renderLocationSelect",(()=>{const{stateAbbreviation:e}=this.state;const{showLocationRequiredAsterisk:t}=this.props;const a="fab-FormNote";const i=c()("fab-Label",{"fab-Label--required":!!t});return(0,n.Z)("div",{className:"fieldBox js-uiStateLocationFieldBox required"},void 0,(0,n.Z)("label",{className:i,htmlFor:"uiStateLocation"},void 0,J.__("Location")),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(f.ZP,(0,s.Z)({id:"uiStateLocation"},this._getSelectData()))),e&&(0,n.Z)("span",{className:a},void 0,J.__("State: %1$s",e)))}));(0,m.Z)(this,"_renderExemptCheckbox",(()=>{const{exempt:e}=this.state;const{viewOnly:t}=this.props;return(0,n.Z)("div",{className:"fieldDiv StateUnemployment__check"},void 0,(0,n.Z)("div",{className:"fab-Checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:e?"checked":null,disabled:t,id:"uiExempt",name:"uiState[taxExempt]",onChange:this._handleExemptChange,type:"checkbox"}),(0,n.Z)("span",{className:"fab-Checkbox__box"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"uiExempt"},void 0,J.__("State UI tax exempt"))))}));(0,m.Z)(this,"_renderOptionalFields",(()=>{const{fields:e}=this.props;const{location:t}=this.state;const a=e.locations?e.locations.find((e=>e.val===t)):null;if(!(a&&a.optionalFields)){return null}const{allIds:s,byId:i}=a.optionalFields;return s.map((e=>{const t=i[e];const a=ee[t.type];return(0,n.Z)(a,{data:t.data,help:t.help||null,id:e,isUnemploymentField:true,required:t.required,viewOnly:false},e)}))}));const{fields:t}=e;const a=t.locations?t.locations.find((e=>e.selected)):null;const i=t.exempt?t.exempt.checked:null;this.state={location:a?a.val:null,exempt:i,stateAbbreviation:a?a.state:null}}render(){const{accessLevel:e,editPermission:t,fields:a,isAdminUser:s,isPayrollAdminUser:i,sectionNote:r,showUnemployment:l,viewOnly:d}=this.props;const u=c()({"fab-FormSection":true},{"fab-FormSection--hidden":l===false});const h="fab-FormSection__legend baseColor";return(0,n.Z)("fieldset",{className:u},void 0,(0,n.Z)("legend",{className:h},void 0,J.__("State Unemployment Insurance"),o().createElement(y.J,this._getHelpPopoverData())),r&&(0,n.Z)("div",{className:"StateUnemployment__sectionNoteContainer"},void 0,(0,n.Z)("span",{className:"StateUnemployment__sectionNoteIcon"},void 0,(0,n.Z)(E.Z,{})),(0,n.Z)("p",{className:"StateUnemployment__sectionNoteText"},void 0,r)),(0,n.Z)("div",{className:"fieldRow"},void 0,a.locations!==null&&this._renderLocationSelect(),Q&&e!==undefined?o().createElement(o().Fragment,null,(t||d)&&a.exempt&&this._renderExemptCheckbox()):o().createElement(o().Fragment,null,(s||i)&&a.exempt&&this._renderExemptCheckbox())),this._renderOptionalFields())}}var ae=a(9932);var se=a(26570);function ne(){return(0,n.Z)("fieldset",{},void 0,(0,n.Z)("legend",{className:"baseColor"},void 0,se.__("Tax Withholding")),(0,n.Z)(ae.Z,{className:"WithholdingBlankState",icon:"capitol-39x43",subtitle:se.__("Check to make sure your home and job location addresses are valid."),title:se.__("Federal and State Tax withholding information will appear here when all of your data is in order.")}))}function ie(e){const{data:t,newHirePacket:a,show:l,fedPerms:u,statePerms:h,onStateLocationChange:m,onStateUnemploymentLocationChange:f,isAdminUser:v,isGreenhouse:y=false,isPayrollAdminUser:b=false,canAccessStateUiFields:w=false,renderFederal:S=true,renderState:T=true,renderStateUnemployment:E=true,showWithholdingInformation:k,stateSectionNote:Z="",stateUnemploymentSectionNote:F="",showStateLocationRequiredAsterisk:I=false,showStateUnemploymentLocationRequiredAsterisk:N=false}=e;const{federal:A,federal2020:M,has2020W4:D,is2020Release:P,state:L,stateUnemployment:O}=t;const R=y||(0,r.isEnabled)("PAY_INFO_TAB_IOWA_STATE_WITHHOLDING_VIEW_ACCESS");const[B,j]=(0,i.useState)(false);const[H,q]=(0,i.useState)(R&&L?p(L.locations,L.locations.selected):false);const[U,z]=(0,i.useState)(R&&L&&L.locations.selected?L.locations.selected:null);const[V,Y]=(0,i.useState)(R&&L?d(L.locations,U):false);const G=(0,r.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const K=()=>j(false);const J=()=>{if(R){z(L.locations.selected??null);if(p(L.locations,L.locations.selected)===false){q(false)}}};(0,i.useEffect)((()=>{const e=document.querySelector('button[data-action="SiteFooterAction:cancel"]');if(e){e.addEventListener("click",K);e.addEventListener("click",J)}return()=>{if(e){e.removeEventListener("click",K);e.removeEventListener("click",J)}}}),[]);(0,i.useEffect)((()=>{if(R&&U){Y(d(L.locations,U));q(p(L.locations,U))}else{Y(false);q(false)}}),[U]);let Q=null;let ee=null;let ae=null;if(k){({showFederalWithholding:Q,showStateWithholding:ee,showStateUi:ae}=k)}const se=P&&(D||B);const ie=c()("Federal",{"Federal--2020":se},{"Federal--hidden":Q===false});const oe=a&&window.previewUser;const re=window.isSelfService;const le=window.stateTaxDeductionsPermissions;const ce=window.unemploymentInsurancePermissions;const de=le===3;const ue=le===2||le===1;const he=ce===3;const pe=ce===2||ce===1;if(h!==0&&!(0,g.P2)(t)||u!==0&&!(0,g.ge)(t)){return(0,n.Z)(ne,{})}return l?(0,n.Z)(i.Fragment,{},void 0,S&&o().createElement(o().Fragment,null,u>0&&M&&se&&(0,n.Z)("div",{className:ie},void 0,o().createElement(x.M,(0,s.Z)({showExemptions:b,showWithholding:Q,viewOnly:u===1||oe},M))),u>0&&A&&!se&&(0,n.Z)("div",{className:ie},void 0,o().createElement(C,(0,s.Z)({editPermission:u===3,handle2020ToggleClick:()=>j(true),isAdminUser:v,isPayrollAdminUser:b,newHirePacket:a,show2020Message:P,viewOnly:u===1||P},A)))),G&&o().createElement(o().Fragment,null,le!==undefined?o().createElement(o().Fragment,null,(de||ue)&&o().createElement(o().Fragment,null,T&&L&&o().createElement(o().Fragment,null,!H?o().createElement(X,(0,s.Z)({accessLevel:le,editPermission:de,handleNewIowaFormToggleClick:()=>q(true),isAdminUser:v,isPayrollAdminUser:b,newHirePacket:a,onLocationChange:m,sectionNote:Z,selectedLocation:U,setSelectedStateLocation:z,setShowIowaStateMessage:Y,showIowaStateMessage:V&&R,showLocationRequiredAsterisk:I,showWithholding:ee,viewOnly:ue||oe},L)):o().createElement(W,(0,s.Z)({accessLevel:le,editPermission:de,isAdminUser:v,isPayrollAdminUser:b,newHirePacket:a,onLocationChange:m,sectionNote:Z,selectedLocation:U,setNewIowaStateForm:q,setSelectedStateLocation:z,showLocationRequiredAsterisk:I,showWithholding:ee,viewOnly:ue||oe},L))))):o().createElement(o().Fragment,null,T&&h>0&&L&&o().createElement(o().Fragment,null,!H?o().createElement(X,(0,s.Z)({editPermission:h===3,handleNewIowaFormToggleClick:()=>q(true),isAdminUser:v,isPayrollAdminUser:b,newHirePacket:a,onLocationChange:m,sectionNote:Z,selectedLocation:U,setSelectedStateLocation:z,setShowIowaStateMessage:Y,showIowaStateMessage:V&&R,showLocationRequiredAsterisk:I,showWithholding:ee,viewOnly:h===1||oe},L)):o().createElement(W,(0,s.Z)({editPermission:h===3,isAdminUser:v,isPayrollAdminUser:b,newHirePacket:a,onLocationChange:m,sectionNote:Z,selectedLocation:U,setNewIowaStateForm:q,setSelectedStateLocation:z,showLocationRequiredAsterisk:I,showWithholding:ee,viewOnly:h===1||oe},L)))),ce!==undefined?o().createElement(o().Fragment,null,(he||pe)&&o().createElement(te,(0,s.Z)({accessLevel:ce,editPermission:he,isAdminUser:v,isPayrollAdminUser:b,onLocationChange:f,sectionNote:F,showLocationRequiredAsterisk:N,showUnemployment:ae,viewOnly:pe},O))):o().createElement(o().Fragment,null,E&&(v||b||w)&&O&&o().createElement(te,(0,s.Z)({isAdminUser:v,isPayrollAdminUser:b,onLocationChange:f,sectionNote:F,showLocationRequiredAsterisk:N,showUnemployment:ae,viewOnly:h===1},O)))),!G&&o().createElement(o().Fragment,null,T&&h>0&&L&&o().createElement(o().Fragment,null,!H?o().createElement(X,(0,s.Z)({editPermission:h===3,handleNewIowaFormToggleClick:()=>q(true),isAdminUser:v,isPayrollAdminUser:b,newHirePacket:a,onLocationChange:m,sectionNote:Z,selectedLocation:U,setSelectedStateLocation:z,setShowIowaStateMessage:Y,showIowaStateMessage:V&&R,showLocationRequiredAsterisk:I,showWithholding:ee,viewOnly:h===1||oe},L)):o().createElement(W,(0,s.Z)({editPermission:h===3,isAdminUser:v,isPayrollAdminUser:b,newHirePacket:a,onLocationChange:m,sectionNote:Z,selectedLocation:U,setNewIowaStateForm:q,setSelectedStateLocation:z,showLocationRequiredAsterisk:I,showWithholding:ee,viewOnly:h===1||oe},L))),E&&(v||b||w)&&O&&o().createElement(te,(0,s.Z)({isAdminUser:v,isPayrollAdminUser:b,onLocationChange:f,sectionNote:F,showLocationRequiredAsterisk:N,showUnemployment:ae,viewOnly:h===1},O)))):(0,n.Z)("div",{})}},17611:(e,t,a)=>{"use strict";a.d(t,{P2:()=>l,Xh:()=>n,ge:()=>r,rl:()=>s});function s(e,t,a){return(typeof e==="number"||typeof e==="string")&&e>=Number(t)&&e<=Number(a)}function n(e,t){if(typeof e==="number"||typeof e==="string"){if(t==="percent"){return o(e)}else if(t==="currency"){return i(e)}}return e}function i(e){return`$${Number(e).toFixed(2)}`}function o(e){return`${parseFloat(e)}%`}function r(e){return!!e&&e.hasOwnProperty("federal")&&!!e.federal.fields}function l(e){return!!e&&e.hasOwnProperty("state")&&!!e.state.locations&&Array.isArray(e.state.locations.allIds)&&e.state.locations.allIds.length>0&&!!e.state.locations.byId}},4231:(e,t,a)=>{"use strict";a.d(t,{b:()=>s});var $=a(26570);function s(e){var t=$.__("This action would normally be available to this user.  It has been disabled while you preview.");var a=$.__("Disabled for previewing");window.BambooHR.Modal.setState({content:t,isOpen:true,primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},title:a});if(typeof e!=="undefined"){e.stopImmediatePropagation();e.preventDefault()}return false}},56255:(e,t,a)=>{"use strict";a.d(t,{K:()=>G,W:()=>J});var s=a(89835);var n=a(88604);var i=a(23321);var o=a.n(i);var r=a(59592);var l=a(59155);var c=a(60042);var d=a.n(c);var u=a(38592);var h=a(21198);var $=a(26570);const p=new h.BEM("SecureFileShareCreateModal");const m=".js-EmailInputList";const f="email-input-list";const g="email-input-label";const v={duplicateEmail:{description:`(${$.__("Duplicate Email")})`,className:p.elem("item--duplicateError"),slidedownMessage:$.__("Sorry, we can’t send emails to duplicate addresses. Remove the duplicates and give it another try.")},invalidEmail:{description:`(${$.__("Invalid Email")})`,className:p.elem("item--invalidEmailError")},missingEmail:{description:`(${$.__("Missing Email")})`,className:p.elem("item--error")}};var y=a(26570);const b=e=>`fab-${e[0]}--error`;let w=null;const S=()=>document.body.querySelector(`#${f} .item`)!==null;const C=()=>document.querySelector(`.${v.duplicateEmail.className}`)!==null;const x=()=>document.querySelector(`.${v.invalidEmail.className}`)!==null;const T=()=>{const e=document.body.querySelector(`#${g}`).classList;const t=document.body.querySelector(m).classList;const a=document.body.querySelector(`#${f} .description`).classList;if(S()&&!C()&&!x()){e.remove(b`Label`);t.remove(b`TextInput`);a.remove(b`TextInput`)}else{e.add(b`Label`);t.add(b`TextInput`);a.add(b`TextInput`);w.activate()}};const E=()=>{(0,i.useEffect)((()=>{const e=`secureSendTo-${(0,u.makeUid)()}`;w=y(`#${f}`).autoInputList({autocompleteUrl:"/ajax/files/quicksearch-email.php",description:y.__("Enter email addresses..."),formatAutoItem:window.activeIndicator,formatTagItem:function(e,t,a){if(t){const e=xmlEntities(t[0]);const a=xmlEntities(t[1]);const s=isNaN(parseInt(a,10))&&!(0,u.validateEmail)(a);const n=document.querySelector(`#${f} .item[data-entry-value="${a}"]`)!==null;let i="";if(s){i=v.invalidEmail.description}else if(n){i=v.duplicateEmail.description}const o=d()(p.elem("item"),"item",{[`${v.invalidEmail.className}`]:s,[`${v.duplicateEmail.className}`]:n});y(`\n\t\t\t\t\t\t<span class="${o}" data-entry-value="${a}">\n\t\t\t\t\t\t\t${e} <span class="${p.elem("itemErrorDescription")}">${i}</span>\n\t\t\t\t\t\t\t<input type="hidden" name="recipients[]" value='${a}' />\n\t\t\t\t\t\t\t<button class="${p.elem("remove")} remove fab-FloatingIconButton fab-FloatingIconButton--teenie fab-FloatingIconButton--secondary" type="button">\n\t\t\t\t\t\t\t\t<span class="fab-FloatingIconButton__icon">\n\t\t\t\t\t\t\t\t\t<ba-icon name="fab-x-10x10"></ba-icon>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t`).insertBefore(`#${f} span.input`);y(this).val("");T()}},inputAttributes:{name:e,id:e,"data-lpignore":"true"},inputClass:m,done:function(){y(`#${g}`).addClass("fab-Label fab-Label--required");y(m).addClass(`${p.elem("acInput")} ac_input free fab-TextInput fab-TextInput--width100`);y(`#${f}`).find(".description").addClass(`${p.elem("description")} fab-TextInput fab-TextInput--width100`);y(`#${f}`).on("click",".item .remove",(function(){const e=y(this).closest("span.item");const t=e.data("entry-value");const a=e.hasClass(p.elem("item--duplicateError"));e.remove();const s=y(`#${f}`).find(`.item[data-entry-value="${t}"]`);if(!a&&s.length>0){const e=y(s).first();e.removeClass(p.elem("item--duplicateError"));const t=e.find(`.${p.elem("itemErrorDescription")}`);if(t.text()===v.duplicateEmail.description){t.empty()}}T();return false}))}});const t=y.__("Enter email addresses...");y(".free").click().focus().attr("placeholder",t)}),[]);return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("label",{id:g,htmlFor:f},void 0,"Send To"),(0,s.Z)("div",{id:f,className:"emailListInput input-list fab-TextInput fab-TextInput--width100 js-autoInputListContainer"}))};var k=a(26570);const Z=()=>(0,s.Z)("fieldset",{className:p.elem("emailSection",["^fab-FormSection"])},void 0,(0,s.Z)("legend",{className:p.elem("emailLegend",["^fab-FormSection__legend"])},void 0,(0,s.Z)("div",{className:p.elem("emailIcon")},void 0,(0,s.Z)(l.Icon,{name:"fab-envelope-18x14"})),(0,s.Z)("span",{className:"fab-FormSection__legendText"},void 0,"Email")),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)(E,{})),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"subject"},void 0,"Subject"),(0,s.Z)("input",{id:"subject",name:"subject",type:"text",className:"fab-TextInput fab-TextInput--width100"})),(0,s.Z)("div",{className:p.elem("emailMessageRow",["^fab-FormRow"])},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"message"},void 0,"Message"),(0,s.Z)("textarea",{className:"fab-Textarea fab-Textarea--width100",id:"message",name:"message"})),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:true,id:"signature",name:"signature",type:"checkbox"}),(0,s.Z)("label",{className:p.elem("signatureLabel",["^fab-Checkbox__label"]),htmlFor:"signature"},void 0,k._("Include your name and email in signature ")))));var F=a(37194);var I=a(60658);var N=a(17842);var A=a.n(N);const M=e=>A().post("/secure-file-share",e);const D=(e,t)=>A().get(`/file-info/${e}/${t}`);const P=(e,t)=>{const[a,s]=(0,i.useState)({addedAt:"",addedBy:"",fileExtension:"",fileName:"",fileSize:"",isEsignature:false,loading:true});(0,i.useEffect)((()=>{(async()=>{try{const a=await D(e,t);s({...a.data,loading:false})}catch(e){(0,I.Mr)();window.errorFallBack()}})()}),[]);return a};var L=a(26570);const O=e=>{const{id:t,type:a}=e;const{addedAt:n,addedBy:i,fileExtension:o,fileName:r,fileSize:c,isEsignature:d,loading:h}=P(a,t);return(0,s.Z)("div",{className:p.elem("header")},void 0,(0,s.Z)("fieldset",{className:p.elem("fileSection",["^fab-FormSection"])},void 0,(0,s.Z)("legend",{className:p.elem("fileLegend",["^fab-FormSection__legend"])},void 0,(0,s.Z)("div",{className:p.elem("fileIcon")},void 0,(0,s.Z)(l.Icon,{name:(0,u.getIconNameFromFileName)(o,"20x24",d)})),(0,s.Z)("div",{className:p.elem("fileInfo")},void 0,(0,s.Z)("div",{className:p.elem("fileName")},void 0,r),(0,s.Z)("div",{className:p.elem("fileMeta",{loading:h})},void 0,(0,s.Z)(F.Message,{params:[n,i,c],text:L.__("Added {1} by {2} ({3})",n,i,c)}))),(0,s.Z)("input",{type:"hidden",name:"files[0][fileId]",value:t}),(0,s.Z)("input",{type:"hidden",name:"files[0][fileType]",value:a}))))};var R=a(26136);var moment=a(82543);const B=e=>(0,s.Z)("fieldset",{className:"fab-FormSection"},void 0,(0,s.Z)("legend",{className:"fab-FormSection__legend"},void 0,(0,s.Z)(l.Icon,{name:"fab-link-16x16",brand:true}),(0,s.Z)("span",{className:"fab-FormSection__legendText"},void 0,"Link Security Settings")),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)(R.Z,{name:"expirationDate",type:"date",cssClasses:{single:p.elem("expirationInput")},settings:{min:moment().format(),max:moment().add(30,"days").format(),start:moment().add(30,"days").format(),label:"Link Expiration Date"}}),(0,s.Z)("span",{className:"fab-FormNote"},void 0,"We recommend making this as short as possible (30 day max).")),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",id:"singleUse",name:"singleUse",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"singleUse"},void 0,"Only allow this file to be downloaded once."))));var j=a(73641);var H=a(26570);const q=(e,t)=>{const a=document.getElementById(f);e.forEach((e=>{const s=a.querySelectorAll(`.${p.elem("item")}[data-entry-value="${e}"]`);s.forEach((e=>{e.classList.add(t.className);if(t.description){const a=e.querySelector(`.${p.elem("itemErrorDescription")}`);a.innerHTML=t.description}}))}))};const W=(e,t)=>{const a=(0,i.useRef)(null);const[s,n]=(0,i.useState)(null);const[o,l]=(0,i.useState)(false);const[c,d]=(0,i.useState)(null);const[u,h]=(0,i.useState)(null);(0,i.useEffect)((()=>{n(H(a.current).bhrValidate({},((e,t)=>e[0].message||t)))}),[]);const p=(0,i.useCallback)((async()=>{l(true);d(null);h(null);try{d(await M(a.current));l(false)}catch(e){l(false);h(e)}}),[]);(0,i.useEffect)((()=>{e(o)}),[o]);(0,i.useEffect)((()=>{if(!o&&c){if(t){t()}(0,I.Mr)();(0,r.f)(H.__("Your file has been sent."),"success")}}),[o,c]);(0,i.useEffect)((()=>{if(!o&&u){if((0,j.get)(u,"response.data.type")==="invalid_email"){const e=(0,j.get)(u,"response.data");const{emails:t,employees:a}=e;q(t,v.invalidEmail);q(a,v.missingEmail);(0,r.f)(e.error,"error")}else{window.errorFallBack()}}}),[o,u]);return{formRef:a,create:p,$validator:s}};const U=(0,i.forwardRef)(((e,t)=>{const{id:a,setProcessing:n,type:l,onSfsCreation:c}=e;const{formRef:d,create:u,$validator:h}=W(n,c);const m=()=>{h.form();T();if(C()){(0,r.f)(v.duplicateEmail.slidedownMessage,"error")}else if(S()&&h.valid()){u()}};(0,i.useImperativeHandle)(t,(()=>({submit:()=>{m()}})));return o().createElement("form",{ref:d,className:p.elem("form")},(0,s.Z)(O,{id:a,type:l}),(0,s.Z)("div",{className:p.elem("content")},void 0,(0,s.Z)(Z,{}),(0,s.Z)(B,{})))}));var z=a(98675);var V=a(26570);const Y=e=>{const t=(0,i.useRef)(null);const[a,r]=(0,i.useState)(false);return(0,s.Z)(z.u_,{contentHasMaxHeight:false,contentHasPadding:false,headerType:null,isOpen:true,onClose:()=>(0,I.Mr)(),primaryAction:()=>t.current.submit(),primaryActionText:V.__("Send"),title:V.__("Email Secure Download Link"),isProcessing:a},void 0,o().createElement(U,(0,n.Z)({},e,{ref:t,setProcessing:r})))};const G=e=>(0,I.K4)(o().createElement(Y,e));var K=a(26570);const X=e=>{const{filename:t}=e;return(0,s.Z)(z.u_,{alternativeActionText:"",content:K.__(`We can't create a secure link for it. Upload a different version of the file and try again.`),headline:K.__(`%1 doesn't contain any data`,t),icon:"fab-triangle-exclamation-54x54",isOpen:true,onClose:()=>(0,I.Mr)(),primaryAction:()=>(0,I.Mr)(),primaryActionText:K.__("Done"),title:K.__("Empty File")})};const J=e=>(0,I.K4)(o().createElement(X,e))},63196:(e,t,a)=>{"use strict";a.d(t,{ao:()=>T,hr:()=>I,Qc:()=>N,l6:()=>P});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(98675);var l=a(38592);var c=a(37194);var d=a(60658);var u=a(9932);var h=a(21198);var $=a(26570);const p=new h.BEM("SecureDownloadManager");const m=5;const f="/file-info";const g="/secure-file-share";const v={content:(0,s.Z)("div",{className:p.elem("sfsDisableConfirmation")},void 0,$.__("The file won't be accessible to anyone with the link.")),headline:$.__("Are you sure you want to disable this link?"),icon:"fab-triangle-exclamation-54x54",iconColor:"attention",isOpen:true,primaryActionText:$.__("Yes, Disable Link"),title:$.__("Just Checking...")};var y=a(26570);function b(e){const{isExpandable:t,isExpanded:a,rowKey:n="",onButtonClick:i,recipients:r}=e;const l=!a?r.splice(0,m-1):r;let c=null;if(t){c=a?y.__("View less"):y.__(`%1$s more`,r.length)}return(0,s.Z)("div",{},void 0,(0,s.Z)("ul",{},void 0,l.map(((e,t)=>{const a=`${n}-${e}-${t}`;return(0,s.Z)("li",{},a,e)}))),t&&(0,s.Z)(o.TextButton,{clickAction:i,inline:true,text:c}))}var moment=a(82543);var w=a(26570);const S=e=>{const t=moment(e);return(0,s.Z)("span",{},void 0,t.format("MM/DD/YYYY"),(0,s.Z)("span",{className:p.elem("time")},void 0,t.format("h:mm A")))};const C=e=>[{cell:e=>e.sentDate,header:w.__("Link Sent"),key:"sentDate"},{cell:e=>e.expireDate,header:w.__("Link Expires"),key:"expireDate"},{cell:e=>e.timesDownloaded,header:w.__("Downloads"),key:"timesDownloaded",width:120},{cell:e=>e.emails,header:w.__("Recipients"),key:"emails",width:186},{cell:{type:"actions",actions:t=>[{action:()=>e(t.sfsId),icon:"fab-circle-x-12x12",tooltipContent:w.__("Disable link.")}]}}];const x=(e,t,a)=>e.map(((e,n)=>{const{emails:r,expireDate:l,sentDate:c,sfsId:d,timesDownloaded:u}=e;const h=`recipient-row-${d}-${n}`;const f=r.length>m;const g=!f||t.indexOf(n)>=0;const v={isExpandable:f,isExpanded:g,rowKey:h,recipients:[...r],onButtonClick:()=>{let e=t;if(g){e=e.filter((e=>e!==n))}else{e=e.concat(n)}a(e)}};const y=c?S(c):(0,s.Z)("div",{className:p.elem("sendingStatus")},void 0,(0,s.Z)(o.Icon,{name:"fab-hourglass-12x14"}),(0,s.Z)("span",{},void 0,w.__("Sending...")));return{key:h,emails:i().createElement(b,v),expireDate:S(l),sentDate:y,sfsId:d,timesDownloaded:u}}));const T=e=>e>1?w.__("Secure Download Links"):w.__("Secure Download Link");var E=a(26570);function k(e){const{openDisableLinkConfirmation:t,sfsItems:a}=e;const[i,r]=(0,n.useState)([]);const l=C(t);const c=x(a,i,r);return(0,s.Z)("div",{className:p.elem("content")},void 0,c.length?(0,s.Z)(o.Table,{caption:E.__("Active secured download links"),columns:l,rowKey:e=>e.key,rows:c,stickyHeader:true}):(0,s.Z)(u.Z,{className:p.elem("blankState"),icon:"fab-link-72x72",title:E.__(`There aren't any active links for this document.`)}))}var Z=a(17842);var F=a.n(Z);function I(e,t){return F().get(`${f}/${t}/${e}`)}function N(e,t){return F().get(`${g}/${e}?fileType=${t}`)}function A(e,t){return F().put(`${g}/${e}`,{type:"disabled"}).then((()=>{if(t){t()}})).catch((e=>{console.error(e);window.errorFallBack()}))}var M=a(26570);function D(e){const{file:{addedAt:t,addedBy:a,fileExtension:i,fileName:u,fileSize:h,isEsignature:m},sfsItems:f,onDisableLink:g}=e;const[y,b]=(0,n.useState)(null);const[w,S]=(0,n.useState)(f);(0,n.useEffect)((()=>{if(g){g(w.length)}}),[w]);const C=y&&{...v,onClose:()=>b(null),primaryAction:()=>{const e=()=>{const e=w.filter((e=>e.sfsId!==y));S(e);b(null)};A(y,e)}};return(0,s.Z)(r.u_,{alternativeActionText:false,contentHasMaxHeight:false,contentHasPadding:false,isOpen:true,onClose:()=>(0,d.Mr)(),primaryAction:()=>(0,d.Mr)(),primaryActionText:M.__("Done"),sheetProps:C,title:M.__("Manage Secure Download Links"),type:"medium"},void 0,(0,s.Z)("div",{className:p.elem("header")},void 0,(0,s.Z)("div",{className:p.elem("headerIcon")},void 0,(0,s.Z)(o.Icon,{name:(0,l.getIconNameFromFileName)(i,"20x24",m)})),(0,s.Z)("div",{},void 0,(0,s.Z)("h4",{},void 0,u),(0,s.Z)("span",{},void 0,(0,s.Z)(c.Message,{text:M._("Added {1} by {2} ({3})"),params:[t,a,h]})))),(0,s.Z)(k,{openDisableLinkConfirmation:e=>b(e),sfsItems:w}))}const P=e=>(0,d.K4)(i().createElement(D,e))},81186:(e,t,a)=>{"use strict";a.d(t,{SV:()=>s,cx:()=>n,ww:()=>o});const s="setupSummaryBanner";const n="updateBannerData";const i=null&&["/app/setup*","/reports*"];const o=["/reports/payroll-deductions*","/reports/pay-info-tab-direct-deposit*"]},21195:(e,t,a)=>{"use strict";a.d(t,{S:()=>n,_:()=>i});var s=a(81186);const n=()=>{window.localStorage.removeItem(s.SV)};const i=e=>{document.dispatchEvent(new CustomEvent(s.cx,{detail:{stepKey:e}}))}},51889:(e,t,a)=>{"use strict";a.d(t,{Z:()=>L,u:()=>R});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(7852);var l=a(73641);var c=a(60658);var d=a(77512);var u=a(59155);var h=a(38592);var p=a(51341);var m=a(60042);var f=a.n(m);var g=a(19654);var $=a(26570);function v(e){const t=(0,i.useRef)(null);const{file:a,handleFileSelection:n,handleToggleRequired:l,tooltipScrollOffset:c,editFileProperty:d}=e;const m=(0,g.Z)({offset:c});const[v,y]=(0,i.useState)(a.meta.checked||false);const[b,w]=(0,i.useState)(a.meta.required==="yes");const S=(0,i.useMemo)((()=>a.esignature_template_id!==null&&a.has_esignatures&&a.esignatures.has_fields),[a.esignature_template_id,a.has_esignatures,a.esignatures.has_fields]);const C=(0,i.useMemo)((()=>{const e=S?"yes":"no";const t=b?"yes":"no";return`${a.id}-${e}-${t}`}),[S,b]);const x=()=>{n({...r.ZP.fileCardFromFile(a),required:b?"yes":"no"},!v);y(!v)};const T=()=>{l(a.id,!b);w(!b)};(0,i.useEffect)((()=>{if(v){d(a.id,"id",C)}}),[C,v]);const E=a.img_sizes.medium==="esignature.png"?"fab-file-esig-20x24":(0,h.getIconNameFromFileName)(a.original_file_name,"20x24",false);const k=f()(m.fileListItem,{[m.active]:v,[m.disabled]:a.meta.disabled,"show-esignature-template":a.esignature_template_id&&a.esignatures&&a.esignatures.has_fields});const Z=(0,p.Z)(a.created).format(p.Z.convert.jQuery(window.GLOBAL_DATEPICKER_MASK));let F;if(a.created_str){F=a.created_str}else if(a.created_user_id>0){F=$.__("Created %1$s by %2$s",Z,a.created_user)}else{F=$.__("Created %1$s",Z)}const I=`check${a.id}-${S?"yes":"no"}-${b}`;const N=`${a.id}-toggle-${b}`;return o().createElement(o().Fragment,null,(0,s.Z)("li",{},void 0,(0,s.Z)("div",{className:k,onClick:e=>{const t=e.target;if(!t.classList.contains("bhrToggle__input")&&!t.classList.contains("bhrToggle__label")){x()}},onKeyDown:()=>null,role:"button",tabIndex:0},void 0,(0,s.Z)("div",{className:f()(m.check)},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{checked:v,className:"fab-Checkbox__input","data-can-see":a.can_see_file,"data-ext":S?$.__("Esignature"):a.ext,"data-file-id":a.id,"data-icon":a.img_sizes.small,"data-name":a.name,"data-original-name":a.original_file_name,"data-required":b,disabled:a.meta.disabled,id:I,name:"",onClick:e=>{e.preventDefault();e.stopPropagation()},readOnly:true,type:"checkbox"}),(0,s.Z)("span",{className:"fab-Checkbox__box"}),(0,s.Z)("label",{className:"fab-Checkbox__label","data-tip-content":a.meta.disabled?a.meta.disabledText:"",htmlFor:I}))),(0,s.Z)("div",{className:f()(m.icon)},void 0,(0,s.Z)(u.Icon,{name:E})),(0,s.Z)("div",{className:f()(m.info)},void 0,(0,s.Z)("span",{className:f()(m.infoLine,m.infoTitle,"truncate")},void 0,a.name),(0,s.Z)("span",{className:"hidden"},void 0,a.can_see_file),(0,s.Z)("span",{className:f()(m.infoLine,m.infoInfo)},void 0,`${F} (${window.BambooHR.Utils.humanFileSize(a.size)})`)),S&&(0,s.Z)("div",{className:f()(m.actions)},void 0,(0,s.Z)(u.Tooltip,{classes:{root:m.tooltip,tooltip:m.tooltipPosition},content:$.__("Click to make signature %1",b?"optional":"required"),title:$.__("Signature %1",b?"required":"optional")},void 0,o().createElement("span",{className:"bhrTooltip","data-required-action":a.id,ref:t},(0,s.Z)("label",{className:"bhrToggle bhrToggle--require",htmlFor:N},void 0,(0,s.Z)("input",{checked:b,className:"bhrToggle__input","data-file-id":a.id,id:N,onChange:T,type:"checkbox"}),(0,s.Z)("span",{className:"bhrToggle__label"}),(0,s.Z)("span",{className:"bhrToggle__handle"}))))))))}var y=a(37194);function b(e,t){if(!e.meta){e.meta={disabled:false}}if(t.length){const a=(0,l.findIndex)(t,(t=>t.fileId==e.id));if(a>-1){e.meta.checked=true;e.meta.required=t[a].required;t.splice(a,1)}}}function w(e,t){const a=(0,l.cloneDeep)(t);const s=(0,l.cloneDeep)(e);s.forEach((e=>{b(e,a)}));return s}function S(e,t,a,s){const n=(0,l.includes)(e,"?");const{excludeEsignatures:i}=window.sharedFilesManager;return`${e}${n?"&":"?"}sectionId=${t}&offset=${a}&limit=${s}${i?"&excludeEsignatures=true":""}`}var C=a(72239);var x=a(26570);function T(e){const t=(0,C.Z)();const a=25;const{sectionId:n,selectedFiles:r,handleFileSelection:l,handleToggleRequired:d,tooltipScrollOffset:h,filesEndpoint:p,editFileProperty:m}=e;const[g,b]=(0,i.useState)(0);const[T,E]=(0,i.useState)(true);const[k,Z]=(0,i.useState)([]);const[F,I]=(0,i.useState)(true);function N(){const e=w(k,r);const t=e=>{if(e.meta===undefined){return{disabled:false}}return e.meta};return e.map((e=>(0,s.Z)(v,{file:{...e,meta:t(e)},handleFileSelection:l,handleToggleRequired:d,tooltipScrollOffset:h,editFileProperty:m},`${e.file_section_id}_${e.id}`)))}function A(t){const{sectionName:a}=e;let i=(0,s.Z)(y.Message,{em:{tag:"div"},params:[a],text:x._('The "{1}" *Folder is Empty*')});let o=false;const r=x.__("Upload your Company Files here");const l="/files/";if(n==="all"){i=(0,s.Z)(y.Message,{text:x._("You Currently Have no Company Files in BambooHR")});o=true}return(0,s.Z)("div",{className:f()(t.blankStateWrapper)},void 0,(0,s.Z)(u.BlankState,{icon:"fab-file-question-mark-60x72",subtitle:o?(0,s.Z)("a",{className:"blankState__link",href:l,onClick:c.Mr,rel:"noopener noreferrer",target:"_blank"},void 0,r):null,title:i}))}return o().createElement(o().Fragment,null,(0,s.Z)("div",{className:f()(t.fileListContentWrapper)},void 0,(0,s.Z)("ul",{className:f()({[t.scrollableFileList]:!!k.length}),id:"js-FileList"},void 0,k.length>0&&N()),k.length===0&&!F&&A(t),(0,s.Z)(u.ProgressiveLoader,{endpoint:S(p,n,g,a),hasMore:T,onFetch:e=>{let{data:{files:{records:t,totalCount:s}}}=e;const n=g+a;const i=window.sharedFilesManager._mergeFileData(t);b(n);E(n<s);Z([...k].concat(i));I(false)},pageSize:a,preload:{startsAt:0,limit:a},preloadUntilScroll:true,wrapper:"#js-FileList"})))}var E=a(24379);var k=a(26570);function Z(e){const t=[{text:k.__("All Files"),value:"all"}];e.forEach((e=>{if(e.visibility!=="hidden"){t.push({text:e.name,value:e.id})}}));return t}function F(e,t){const a=t.find((t=>t.id===e));return a?a.name:""}function I(e){const t=(0,E.Z)();const{sections:a,updateFilesInForm:n,initialSelections:o=[],modalContainerId:r,modalCallback:l,tooltipScrollOffset:d,filesEndpoint:h}=e;const[p,m]=(0,i.useState)(o);const[g,v]=(0,i.useState)(["all"]);const[y,b]=(0,i.useState)(true);function w(){(0,c.YB)(r)}function S(e,t){b(false);if(t){m((t=>[...t,e]))}else{const t=[...p];t.splice(t.findIndex((t=>t.fileId===e.fileId)),1);m(t)}}function C(e,t){const a=p.findIndex((t=>t.fileId===e));m((e=>{e[a].required=t?"yes":"no";return e}))}function x(){n(p);if(l){l(p)}w()}function I(e,t,a){const s=[...p];const n=s.findIndex((t=>t.fileId===e));if(n!==-1){const e={...p[n]};e[t]=a;s.splice(n,1,e);m(s)}}return(0,s.Z)(u.StandardModal,{isOpen:true,onRequestClose:w},void 0,(0,s.Z)(u.StandardModal.Body,{renderFooter:(0,s.Z)(u.StandardModal.Footer,{actions:[(0,s.Z)(u.Button,{clickAction:x,isDisabled:p.length===0||y,type:"button"},"primary",k.__("Add Selected")),(0,s.Z)(u.TextButton,{clickAction:w,type:"button"},"secondary","Cancel")]}),renderHeader:(0,s.Z)(u.StandardModal.Header,{hasCloseButton:true,title:k.__("Add Files")})},void 0,(0,s.Z)(u.StandardModal.Constraint,{},void 0,(0,s.Z)("div",{className:f()(t.addFileModal)},void 0,(0,s.Z)("form",{className:f()(t.addFileForm)},void 0,(0,s.Z)("div",{className:f()(t.fileListModalSubheader)},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)(u.Select,{isClearable:g[0]!=="all",items:Z(a),onClear:()=>{v(["all"])},onSelect:e=>{v([e])},selectedValues:g,width:6})),(0,s.Z)("div",{className:f()(t.fileListCount)},void 0,k.__n("%s File Selected","%s Files Selected",p.length))),(0,s.Z)(T,{editFileProperty:I,filesEndpoint:h,handleFileSelection:S,handleToggleRequired:C,sectionId:g[0],sectionName:F(g[0],a),selectedFiles:p,tooltipScrollOffset:d},g[0]))))))}var N=a(17842);function A(e){return N.ajax.get(e)}var M=a(26570);const D=".js-FilesWrapper__files";let P=null;class L{static get className(){return"SharedFilesManager"}constructor(e){(0,n.Z)(this,"getFilesFromArray",(e=>this[e]));(0,n.Z)(this,"mergeFieldIntoArray",((e,t,a)=>{if(this[t].length){this[e]=(0,l.union)(this[e],Object.keys(this[t]).map((e=>this[t][e][a])))}}));this.sections=[];try{this.sections=JSON.parse(document.getElementById("FileSections").textContent)}catch(e){console.warn("File sections have not been loaded. If you want this to load by default, please include in view template.")}this.currentFiles=[];this.editFiles=[];this.modalFiles=[];this.changedFiles=[];this.filesEndPoint="/ajax/dialog/files/load_files.php";this.sectionEndpoint="/ajax/files/loadSections";this.excludeEsignatures=false;this.selectedSection="all";this.submitButton=null;this.theme="dark";this.modalCallBack=null;if(e&&e.length){this.populateFiles(e)}this._addListeners()}_addListeners(){const e=this;document.addEventListener("fileCard:remove",(function(t){e.currentFiles=e.currentFiles.filter((e=>e.fileId!==t.detail.fileId));e._pushToChangedFiles(t.detail.fileId)}),false);M(document).on("change",".js-fc-toggle-required",(function(){const{fileId:t}=this.dataset;const a=this.checked?"yes":"no";e._updateRequired(t,a,e.currentFiles)}))}_mergeFileData(e){let t=(0,l.cloneDeep)(this.modalFiles);e.forEach((e=>{this._addFileMeta(e,t)}));t=null;return e}_addFileMeta(e,t){e.meta={};if(t.length){const a=(0,l.findIndex)(t,(t=>t.fileId==e.id));if(a>-1){e.meta.checked=true;e.meta.required=t[a].required;t.splice(a,1)}}}_pushToChangedFiles(e){if(this.changedFiles.indexOf(e)===-1){this.changedFiles.push(e)}}_updateRequired(e,t,a){const s=(0,l.findIndex)(a,(function(t){return t.fileId==e}));const n=document.querySelector(`[data-file-id="${a[s].fileId}"]`);const i=a[s].id.replace(/[^-]+$/,t);a[s].id=i;a[s].required=t;n.id=i}_updateFilesInForm(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.modalFiles;M('input[name="file_ids[]"]').remove();this.currentFiles=(0,l.cloneDeep)(e);r.ZP.renderFileCards(D,this.currentFiles,"attachment",this.theme);M(".dot-ellipsis").dotdotdot({wrap:"letter"});window.BambooHR.Components.Tooltip.init()}addModalCallBack(e){if(typeof e==="function"){this.modalCallBack=e}}addCompanyFiles(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"dark";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=this.sectionEndpoint;this.excludeEsignatures=t;if(t){a+="?esignatures=false"}if(this.sections.length===0){const t=this;A(a).then((a=>{t.sections=a.data.data.sections.records;if(t.sections.length){t.openModal(e)}})).catch((()=>{window.setMessage("We weren't able to get some information for you. Perhaps a page refresh would help?","error")}));return}if(this.sections.length){this.openModal(e)}}openModal(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"dark";const t=this;this.theme=e;this.modalFiles=(0,l.cloneDeep)(this.currentFiles);const a="js-SharedFilesManagerMod";const n=(0,c.u0)(a);const i=window.scrollY;(0,d.s)((0,s.Z)(I,{filesEndpoint:this.filesEndPoint,initialSelections:this.modalFiles,modalCallback:this.modalCallBack,modalContainerId:a,sections:this.sections,tooltipScrollOffset:i,updateFilesInForm:e=>t._updateFilesInForm(e)}),n)}createTooltip(e){const t=e.querySelector("input");let a=M.__("Optional");let s=M.__("required");if(t===null||P){return null}if(t.checked){a=M.__("Required");s=M.__("optional")}P=BambooHR.Components.Tooltip.create(e,{className:"bhrTooltip--autoWidth",content:M.__("Click to make the signature %s.",s),delay:800,lead:M.__("Signature %s",a),placement:"top"}).show()}destroyTooltip(){if(P){P.destroy();P=null}}emptySelectedFiles(){this.currentFiles=[]}populateFiles(e){this.currentFiles=[];if(this._filesDataIsValid(e)){e=r.ZP.fileCardFromArray(e);this.currentFiles=(0,l.cloneDeep)(e);r.ZP.renderFileCards(D,e,"attachment")}this.resetCache()}_filesDataIsValid(e){if(!e||!e.length){return false}for(let t=0;t<e.length;t++){const a=e[t];if(!a){return false}}return true}resetCache(){this.editFiles=(0,l.cloneDeep)(this.currentFiles)}}let O=null;function R(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(O){return O}O=new L(e);return O}},4955:(e,t,a)=>{"use strict";a.d(t,{l:()=>o});var s=a(51889);var $=a(26570);class n extends s.Z{static get className(){return"OfferLetterFilesManager"}constructor(e){super(e);this.filesEndPoint="/applicant_tracking/offer_letter/load_files"}_addFileMeta(e,t){super._addFileMeta(e,t);e.meta.disabled=!e.attachableToOffer;if(e.meta.disabled){e.meta.disabledText=$.__("Signature templates need to have the employee as the first signer and can only have specific people as additional signers in order to be added to an offer.")}}}let i=null;function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(i){i.populateFiles(e);return i}i=new n(e);return i}},41633:(e,t,a)=>{"use strict";a.d(t,{l:()=>o});var s=a(51889);class n extends s.Z{static get className(){return"TrainingFilesManager"}constructor(e){super(e);this.filesEndPoint=`${this.filesEndPoint}?excludeEsignatures=true`;this.sectionEndpoint=`${this.sectionEndpoint}?esignatures=false`}}let i=null;function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(i){return i}i=new n(e);return i}},60658:(e,t,a)=>{"use strict";a.d(t,{K4:()=>c,Mr:()=>l,YB:()=>u,u0:()=>d});var s=a(98853);var n=a.n(s);var i=a(77512);var $=a(26570);let o;let r;function l(){if(o){if(!r&&window.ENV!=="prod"){console.warn("You closed the modal before setting the modal isOpen to false, this will cause issues with the intended functionality. You should handle the isOpen state of the modal before calling this function")}$(".ReactModal__Content",o).addClass("ReactModal__Content--before-close");$(".ReactModal__Overlay",o).addClass("ReactModal__Overlay--before-close");setTimeout((()=>{(0,s.unmountComponentAtNode)(o);document.body.removeChild(o);o=undefined}),250)}}function c(e){if(!o){o=d()}r=e.props.isOpen===false;(0,i.s)(e,o)}function d(e){const t=document.createElement("div");if(e)t.setAttribute("id",e);document.body.appendChild(t);return t}function u(e){const t=document.getElementById(e);if(t){(0,s.unmountComponentAtNode)(t);document.body.removeChild(t)}}},28046:(e,t,a)=>{"use strict";a.d(t,{N:()=>O,D:()=>P});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(42579);function l(){const[e,t]=(0,n.useState)(true);const[a,s]=(0,n.useState)();(0,n.useEffect)((()=>{t(true);(0,r.Z)().then((e=>{s(e?.name||"");t(false)}))}),[]);return{companyName:a,loading:e}}var c=a(17842);var d=a.n(c);var u=a(51341);function h(e){return d().post(`/employees/inactiveTerminated/status/${e}`,{employeeStatus:"Active"})}function p(e){const t={...e,termDate:(0,u.Z)(e.termDate).format(),finalPayDate:(0,u.Z)(e.finalPayDate).format()};return d().post("/ajax/employees/termination.php",d().prepareData(t,d().prepareDataTypes.FORM_DATA))}async function m(e){const{data:t}=await d().get(`/employees/inactiveTerminated/${e}`);return{employee:t.employee,fields:t.fields,hasGusto:!!t.hasGusto,showFinalPayDate:!!t.showFinalPayDate}}function f(e,t){const[a,s]=(0,n.useState)(true);const[i,o]=(0,n.useState)();const[r,l]=(0,n.useState)();const[c,d]=(0,n.useState)(false);const[u,h]=(0,n.useState)(false);(0,n.useEffect)((()=>{if(t){s(true);m(e).then((e=>{let{hasGusto:t,employee:a,fields:n,showFinalPayDate:i}=e;o(a);l(n);d(t);h(i);s(false)}))}}),[e,t]);return{employee:i,fields:r,hasGusto:c,showFinalPayDate:u,loading:a}}var g=a(72806);var v=a(94228);var $=a(26570);const y=(0,o.makeStyles)((e=>{let{spacing:t}=e;return{avatar:{display:"inline-flex",width:54,height:54}}}));function b(e){let{employee:t}=e;const a=y();return(0,s.Z)(o.Avatar,{alt:$.__("Image of %1 %2",t.preferredName,t.lastName),className:a.avatar,src:t.photoUrl})}var w=a(26570);const S=(0,o.makeStyles)((e=>{let{spacing:t}=e;return{boxes:{alignItems:"flex-start",display:"flex",gap:t(2),justifyContent:"center",marginTop:t(2)},boxIcon:{marginTop:-1}}}));function C(e){let{companyName:t,employed:a,employee:n,onCancel:i,onChange:r,onNext:l,renderHeader:c}=e;const d=S();return(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{onClick:()=>l()},"next",w.__("Next")),(0,s.Z)(o.TextButton,{onClick:i},"cancel",w.__("Cancel"))]}),renderHeader:c,size:o.CardSize.MEDIUM},void 0,(0,s.Z)(o.StandardModal.Constraint,{spacingOverrides:{top:o.StandardModal.Constraint.Spacing.LARGE}},void 0,(0,s.Z)(o.StandardModal.HeroHeadline,{icon:(0,s.Z)(b,{employee:n}),subtext:w.__("Either way, we should update some things to make sure your data is sparkling clean."),text:w.__("Is %1 %2 still employed by %3?",n.preferredName,n.lastName,t)}),(0,s.Z)(o.SelectableBoxGroup,{type:"radio"},void 0,(0,s.Z)("div",{className:d.boxes},void 0,(0,s.Z)(o.SelectableBox,{boxWidth:"300px",description:w.__("%1 is actively working here and being paid.",n.preferredName),icon:(0,s.Z)(g.Z,{}),inputId:"statusMismatchYes",isChecked:a===true,name:"isStillEmployed",onChange:()=>r(true),title:w.__("%1 Is Still Employed",n.preferredName),type:"radio",value:"yes"}),(0,s.Z)(o.SelectableBox,{boxWidth:"300px",description:w.__("%1 no longer works here, and is not currently on our payroll.",n.preferredName),icon:(0,s.Z)("span",{className:d.boxIcon},void 0,(0,s.Z)(v.Z,{})),inputId:"statusMismatchNo",isChecked:a===false,name:"isStillEmployed",onChange:()=>r(false),title:w.__("%1 Is Not Employed",n.preferredName),type:"radio",value:"no"})))))}var x=a(88604);var T=a(35134);var E=a(59592);var k=a(26570);const Z=(0,o.makeStyles)((e=>{let{spacing:t}=e;return{benetracStatus:{gridColumn:"1 / -1"},comment:{gridColumn:"1 / -1"},effectiveDate:{gridColumn:"1 / -1"},fields:{display:"grid",gap:t(2),gridTemplateColumns:"min-content min-content 1fr"},finalPayDate:{gridColumn:"1 / -1"},runSpecialPayroll:{gridColumn:"1 / -2"},heading:{marginTop:t(3.5)},reason:{gridColumn:"2 / 3"},rehire:{gridColumn:"1 / -1"},type:{gridColumn:"1 / 2"}}}));function F(e){let{employee:t,fields:a,hasGusto:r,onCancel:l,onNext:c,onPrevious:d,renderHeader:u,showFinalPayDate:h}=e;const p=Z();const[m,f]=(0,n.useState)(false);const[g,v]=(0,n.useState)([]);const y=o.StandardModal.Constraint.Spacing.LARGE;const w=o.StandardModal.Constraint.Spacing.LARGE;const S=[{name:"employmentStatusComment",maxLength:255},{name:"rehire"},{name:"termDate",required:true},{name:"termReason"},{name:"termType",required:true}];if(a.benetracStatus){S.push({name:"benetracStatus",required:true})}if(h){S.push({name:"finalPayDate",required:true})}if(r){S.push({name:"runSpecialPayroll",defaultValue:"0"})}const{controlled:C,formState:{errors:F},fields:I,handleSubmit:N,setValue:A}=(0,o.useForm)(S);const M=()=>{(0,E.f)(k.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")};const D=e=>{c({id:t.id,...e})};return(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{onClick:N(D,M)},"next",k.__("Save")),(0,s.Z)(o.Button,{color:"secondary",onClick:()=>d(),variant:"outlined"},"previous",k.__("Previous")),(0,s.Z)(o.TextButton,{onClick:l},"cancel",k.__("Cancel"))]}),renderHeader:u,size:o.CardSize.MEDIUM},void 0,(0,s.Z)(o.StandardModal.Constraint,{spacingOverrides:{top:y,bottom:w}},void 0,(0,s.Z)(o.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,s.Z)(b,{employee:t}),subtext:k.__(`This applies even if %1 resigned voluntarily, and wasn't terminated for cause.`,t.preferredName),text:k.__("Okay! In that case %1 should have their employment ended in BambooHR.",t.preferredName)}),(0,s.Z)(o.Typography,{className:p.heading,color:"primary",variant:"h5"},void 0,k.__("Add End of Employment Info")),(0,s.Z)("div",{className:p.fields},void 0,C((e=>i().createElement(o.DatePicker,(0,x.Z)({},e,{className:p.effectiveDate,label:k.__("Effective Date"),status:F.termDate?"error":undefined}))),I.termDate),h?C((e=>i().createElement(o.DatePicker,(0,x.Z)({},e,{className:p.finalPayDate,label:k.__("Final Pay Date"),status:F.finalPayDate?"error":undefined}))),I.finalPayDate):null,C((e=>i().createElement(o.SelectField,(0,x.Z)({},e,{className:p.type,id:"endEmploymentType",items:a.termType.items,label:k.__("Type"),status:F.termType?"error":undefined,width:7}))),I.termType),C((e=>i().createElement(o.SelectField,(0,x.Z)({},e,{className:p.reason,id:"endEmploymentReason",items:[...a.termReason.items,...g],label:k.__("Reason"),onAdd:()=>{f(true);return Promise.resolve()},width:7}))),I.termReason),C((e=>i().createElement(o.SelectField,(0,x.Z)({},e,{className:p.rehire,id:"endEmploymentRehire",items:a.rehire.items,label:k.__("Eligible for Rehire"),width:5}))),I.rehire),a.benetracStatus?C((e=>i().createElement(o.SelectField,(0,x.Z)({},e,{className:p.benetracStatus,id:"benetracStatus",items:a.benetracStatus.items,label:k.__("BeneTrac Status"),status:F.benetracStatus?"error":undefined,width:7}))),I.benetracStatus):null,r?C((e=>i().createElement(o.RadioGroup,(0,x.Z)({},e,{className:p.runSpecialPayroll,items:[{label:k.__("Yes, I want to run a special termination payroll in order to pay the employee their last check on the spot."),value:"1"},{label:k.__(`No, the employee agrees to be paid the rest of their wages on the company's normal pay schedule.`),value:"0"}],label:k.__("Gusto")}))),I.runSpecialPayroll):null,C((e=>i().createElement(o.TextArea,(0,x.Z)({},e,{className:p.comment,label:k.__("Comment"),note:F.employmentStatusComment?k.__("Your comment needs to be less than 255 characters in length."):undefined,status:F.employmentStatusComment?"error":undefined,width:10}))),I.employmentStatusComment))),(0,s.Z)(T.T,{component:o.SheetModal,field:{label:k.__("Termination Reason Name"),id:a.termReason.fieldId},onCancel:()=>f(false),onSave:e=>{f(false);v((t=>[...t,e]));A("termReason",e.value)},open:m,title:k.__("Add Termination Reason")}))}var I=a(37194);var N=a(26570);const A=(0,o.makeStyles)((e=>{let{spacing:t}=e;return{heading:{marginTop:t(3.5)}}}));function M(e){let{employee:t,onCancel:a,onNext:n,onPrevious:i,renderHeader:r}=e;const l=A();const c=o.StandardModal.Constraint.Spacing.LARGE;const d=o.StandardModal.Constraint.Spacing.LARGE;return(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{onClick:n},"next",N.__("Save Status")),(0,s.Z)(o.Button,{color:"secondary",onClick:()=>i(),variant:"outlined"},"previous",N.__("Previous")),(0,s.Z)(o.TextButton,{onClick:a},"cancel",N.__("Cancel"))]}),renderHeader:r,size:o.CardSize.MEDIUM},void 0,(0,s.Z)(o.StandardModal.Constraint,{spacingOverrides:{top:c,bottom:d}},void 0,(0,s.Z)(o.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,s.Z)(b,{employee:t}),subtext:(0,s.Z)(I.Message,{link:(0,I.ExternalLink)("mailto: support@bamboohr.com"),text:N._(`Soon, inactive employees who are employed will be limited in what they can do in BambooHR. We're hoping to help you get ahead of that. Please reach out to [support@bamboohr.com] with any questions.`)}),text:N.__("Great! In that case %1 should be set to Active.",t.preferredName)}),(0,s.Z)(o.Typography,{className:l.heading,color:"primary",variant:"h5"},void 0,N.__("Update Status")),(0,s.Z)(o.SelectField,{disabled:true,id:"statusMismatchStatus",items:[{text:N.__("Active"),value:"active"}],label:N.__("Status"),value:["active"],width:7})))}var D=a(26570);function P(e){let{employeeId:t,onCancel:a,onSave:i,open:r}=e;const[c,d]=(0,n.useState)(0);const[u,m]=(0,n.useState)(true);const[g,v]=(0,n.useState)(false);const{fields:y,employee:b,hasGusto:w,loading:S,showFinalPayDate:x}=f(t,r);const{companyName:T,loading:E}=l();(0,n.useEffect)((()=>{if(r){d(0);m(true);v(false)}}),[r]);const k=()=>[(0,s.Z)(C,{companyName:T,employed:u,employee:b,onCancel:a,onChange:e=>m(e),onNext:()=>d(1)},"step1"),u?(0,s.Z)(M,{employee:b,onCancel:a,onNext:async()=>{v(true);try{await h(b.id);setMessage(D.__("Got it. The status for %1 is updated.",b.preferredName),"success");i()}catch(e){setMessage(D.__("Oops. Something went wrong. Please try again."),"error");v(false)}},onPrevious:()=>d(0)},"updateStatusStep"):(0,s.Z)(F,{employee:b,fields:y,hasGusto:w,onCancel:a,onNext:async e=>{v(true);try{await p(e);setMessage(D.__(`Got it. %1's end of employment information has been updated.`,b.preferredName),"success");i()}catch(e){setMessage(D.__("Oops. Something went wrong. Please try again."),"error");v(false)}},onPrevious:()=>d(0),showFinalPayDate:x},"endEmploymentStep")];const Z=E||S;return(0,s.Z)(o.MultiStepModal,{currentStep:c,isLoading:Z,isOpen:r,isProcessing:g,onRequestClose:a,steps:!r||Z?[]:k(),title:b?D.__("Update %1 %2",b.preferredName,b.lastName):""})}var L=a(26570);function O(e){let{employee:t}=e;const[a,r]=(0,n.useState)(true);const[l,c]=(0,n.useState)(false);return i().createElement(i().Fragment,null,(0,s.Z)(o.SlidedownPortal,{action:(0,s.Z)(o.TextButton,{dark:true,onClick:()=>{r(false);c(true)},size:"small"},void 0,L.__("View and Fix »")),message:L.__(`%1 is an inactive employee, but isn't terminated. This could cause problems.`,t.preferredName),onDismiss:()=>r(false),show:a}),(0,s.Z)(P,{employeeId:t.id,onCancel:()=>c(false),onSave:()=>window.location.reload(),open:l}))}},87740:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p,a:()=>m});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);function r(e){const t=new URLSearchParams(e).toString();return o().post("/inbox/details.php",t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function l(e){return o().post("/ajax/employee_comments.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function c(e){return o().get("/inbox/details.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}var d=a(57607);var u=a(56445);var h=a(59155);var $=a(26570);function p(e,t,a,n,i,c,h){let p=arguments.length>7&&arguments[7]!==undefined?arguments[7]:Function.prototype;window.BambooHR.Modal.setState({isLoading:true});o().get(`/time_off/requests/${e}/bypass`,{status:a}).then((e=>{if(e&&e.data){window.BambooHR.Modal.setState({alternativeAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:e.data.html}}),headerType:(0,u.ifFeature)("encore","stacked","text"),headline:$.__("You'll be bypassing some approvers."),icon:a==="approve"?(0,u.ifFeature)("encore","thumbs-up-regular","fab-thumbs-up-18x18"):(0,u.ifFeature)("encore","thumbs-down-regular","fab-thumbs-down-18x18"),isLoading:false,isOpen:true,onOpen:()=>{$("textarea.autosize").autosize();$("#requestByPassForm span.truncate").each(((e,t)=>{if(t.offsetWidth<t.scrollWidth){const e=[];for(let a=0;a<t.childElementCount;a++){if(t.children[a].offsetLeft+12>t.offsetLeft+t.offsetWidth){e.push(t.children[a])}}if(e.length>0){$(this).next(".MsgApproverSmall__more").html(`+${e.length} more`)}}}))},primaryAction:()=>{const e={id:t,status:a,action:a,name:n,type:i,assigned:c,ajax:true,bypass:true};const s=(0,d.commentExistsInADenialModal)();const o=$("#requestByPassForm").serialize();window.BambooHR.Modal.setState({isProcessing:true},true);r(e).then((e=>{if(e.data.success||e.data.result){if(e.data.message&&h){window.setMessage(e.data.message,"success")}if(a==="deny"&&s){l(o)}p(e.data)}else if(e.data.error){window.setMessage(e.data.error,"error")}else{window.errorFallBack()}window.BambooHR.Modal.setState({isOpen:false})})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))},primaryActionText:a==="approve"?$.__("Approve Anyway"):$.__("Deny Anyway"),title:$.__("Just Checking...")})}})).catch((e=>{setMessage(e.error,"error")}))}function m(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Function.prototype;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Function.prototype;const n={ajax:true,denial:true,id:e,name:t};const i=()=>{window.BambooHR.Modal.setState({isProcessing:true},true);const e=(0,d.commentExistsInADenialModal)();const t=$(".denialModal form").serialize();if(e){l(t).then((()=>{window.BambooHR.Modal.setState({isOpen:false});a()})).catch((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))}};c(n).then((e=>{if(e.data.success){window.BambooHR.Modal.setState({alternativeActionText:$.__("No Thanks, I'm Done"),dangerousContent:e.data.html,icon:(0,u.ifFeature)("encore","thumbs-down-regular","fab-thumbs-down-54x54"),onOpen:()=>{$(".ui-dialog-titlebar-close").hide();$("textarea.autosize").autosize();const e=$("textarea");e.on("keyup",(()=>{if($(e).val().length>0){window.BambooHR.Modal.setState({primaryAction:i},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}));$("#js-denialAction").attr("name","action")},isOpen:true,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false});s()},primaryActionText:e.data.save,primaryAction:null,title:e.data.title})}else{window.setMessage(e.error,"error")}})).catch(window.errorFallBack)}},25337:(e,t,a)=>{"use strict";a.d(t,{v:()=>d});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(17145);var r=a(59155);var l=a.n(r);var c=a(31611);var $=a(26570);function d(e){const{endString:t,note:a,isViewOnly:n,projectName:i,renderProjectAndTask:l,startString:d,taskName:u,type:h}=e;const p=(0,c.y)({isViewOnly:n});let m="";if(i&&u){m=h==="hour"?`${i} » ${u}`:$.__("on %1",`${i} » ${u}`)}else if(i){m=h==="hour"?i:$.__("on %1",`${i}`)}const f=h==="hour"?null:`${d} - ${t}`;return(0,s.Z)("div",{className:p.wrapper},void 0,l&&(0,s.Z)("span",{className:p.projectTaskNote},void 0,m),a&&(0,s.Z)("span",{className:p.noteIcon,id:"entry-note-icon"},void 0,n&&(0,s.Z)(o.Z,{settings:{title:f,content:a,position:"right"}},void 0,(0,s.Z)(r.Icon,{name:"fab-page-9x11"})),!n&&(0,s.Z)(r.Icon,{name:"fab-page-9x11"})))}},73013:(e,t,a)=>{"use strict";a.d(t,{x:()=>p});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(17863);var c=a(25337);var d=a(24956);var u=a(71141);const h=(0,u.isEnabled)("ttLocationUpdates");function p(e){const{canEdit:t,hasLightBackground:a,hourEntries:n,isViewOnly:r,onEditClick:u,renderProjectAndTask:p,type:m}=e;const f=(0,d.y)({canEdit:t,isViewOnly:r,ttLocationUpdatesEnabled:h});return n.map((e=>{const{hours:a,id:n,note:d,projectName:g,taskName:v}=e;const y=g||v||d;const b=r&&!h?null:()=>u(n,"edit");return(0,s.Z)("div",{className:f.root,"data-bi-id":"time-tracking-hour-entry",onClick:b},n,(0,s.Z)("span",{className:f.hours},void 0,(0,l.mr)(a)),y&&i().createElement(i().Fragment,null,(g||v)&&(0,s.Z)("span",{className:f.arrow},void 0,(0,s.Z)(o.Icon,{name:"fab-arrow-right-6x5"})),(0,s.Z)(c.v,{isViewOnly:r,note:d,projectName:g,renderProjectAndTask:p,taskName:v,type:m})),t&&(0,s.Z)("span",{className:f.editIcon,id:"entry-edit-icon"},void 0,(0,s.Z)(o.Icon,{name:"fab-pencil-12x12"})))}))}},78922:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(89835);var n=a(23321);var i=a(21198);var o=a(59155);var r=a(17145);var $=a(26570);function l(e){return e?$.__("Update Project or Note"):$.__("Add Project or Note")}function c(e){return e?"fab-page-13x16":"fab-page-plus-13x16"}function d(e){const{customCSS:t,disabled:a,hasNote:n,onNoteIconClick:d}=e;const u={TTnoteIconWrapper:true};const h=(0,i.classNameFromObject)({...u,...t});const p=(0,i.classNameFromObject)({TTnoteIcon:true,"TTnoteIcon--add":!n,"TTnoteIcon--hasNote":n,"TTnoteIcon--disabled":a});const m=l(n);const f=c(n);const g=a?null:d;return(0,s.Z)("div",{className:h,onClick:g},void 0,(0,s.Z)(r.Z,{settings:{content:m,suppressed:a}},void 0,(0,s.Z)("div",{className:p},void 0,(0,s.Z)(o.Icon,{name:f}))))}},16495:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(21198);var r=a.n(o);var l=a(51341);var c=a(59155);var d=a.n(c);var u=a(71141);var h=a(68003);var p=a(17863);var m=a(25337);var $=a(26570);const f=(0,u.isEnabled)("timeTrackingGeolocation");function g(e){const{clockEntries:t,renderProjectAndTask:a,canEditEntries:n,currentEntryClick:i,elapsedTimeToday:r,isForgotClockDay:d,isViewOnly:u,onEditClick:g,hasLightBackground:v,type:y}=e;return t.map((e=>{const{start:t,end:b,timezone:w,hours:S,id:C,note:x,projectName:T,taskName:E}=e;const{clockInLatitude:k,clockInLongitude:Z,clockOutLatitude:F,clockOutLongitude:I}=e;const N=!!(k&&Z||F&&I);const A=typeof g==="function"?g:Function.prototype;let M=b&&C?()=>A(C,"view",w):i;if(n&&!d){M=b&&C?()=>A(C,"edit",w):i}const D=t?l.Z.tz(t,w).format(h.T_):"12:00 AM";const P=b?l.Z.tz(b,w).format(h.T_):$.__("Now");const L=b?(0,p.mr)(S):(0,p.mr)(r);const O=(0,o.classNameFromObject)({TimeEntry__arrowIcon:true,"TimeEntry__arrowIcon--forgotClockOut":d});return(0,s.Z)("div",{"data-bi-id":"time-tracking-time-entry",className:(0,o.classNameFromObject)({TimeEntry:true,"TimeEntry--active":!b,"TimeEntry--showEditIcon":n&&!d,"TimeEntry--viewable":true,"TimeEntry--light":v,"TimeEntry--forgotClockOut":d}),onClick:M},C,(0,s.Z)("span",{className:"TimeEntry__start"},void 0,D),"-",(0,s.Z)("span",{className:"TimeEntry__end"},void 0,P),(0,s.Z)("span",{className:O},void 0,(0,s.Z)(c.Icon,{name:"fab-arrow-right-6x5"})),(0,s.Z)("span",{className:"TimeEntry__total"},void 0,L),(0,s.Z)(m.v,{endString:P,isViewOnly:u,note:x,projectName:T,renderProjectAndTask:a,startString:D,taskName:E,type:y}),f&&N&&(0,s.Z)("span",{className:"TimeEntry__locationIcon"},void 0,(0,s.Z)(c.Icon,{name:"fab-location-9x12"})),n&&!d&&(0,s.Z)("span",{className:"TimeEntry__editIcon"},void 0,(0,s.Z)(c.Icon,{name:"fab-pencil-12x12"})))}))}},2224:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(21198);var r=a.n(o);function l(e){const{backgroundColor:t,fillColor:a}=e;const n=(0,o.classNameFromObject)({TimeSpinner:true,"TimeSpinner--orange":a==="orange"});const i=(0,o.classNameFromObject)({TimeSpinner__fill:true,"TimeSpinner__fill--orange":a==="orange"});return(0,s.Z)("div",{className:n},void 0,(0,s.Z)("div",{className:i,style:{color:t}}))}},42006:(e,t,a)=>{"use strict";a.d(t,{Z:()=>St});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(73641);var l=a(13296);var c=a(39454);var d=a(71141);var u=a(17309);var h=a(66327);var p=a(17863);var m=a(68003);var f=a(45548);var g=a(88604);const{Provider:v,Consumer:y}=(0,i.createContext)();const b=w(y);function w(e){return function t(a,n){return function t(i){return(0,s.Z)(e,{},void 0,(e=>o().createElement(n,(0,g.Z)({},(0,r.pick)(e,a),i),i.children)))}}}var S=a(9932);var C=a(59155);var x=a(97342);var T=a(37194);var E=a(21198);var k=a(77512);var Z=a(82543);var F=a.n(Z);var I=a(17842);var N=a.n(I);var A=a(98675);var M=a(17145);var D=a(393);var $=a(26570);function P(e){return e.map((e=>{const{detailType:t,from:a,to:n}=e;switch(t){case"clockedIn":{return $.__("Clocked in")}case"clockedInProject":{return(0,s.Z)(T.Message,{params:[n],text:$._("Clocked in to **{1}**")})}case"clockInUpdated":{return(0,s.Z)(T.Message,{params:[a,n],text:$._("Clock in updated from **{1}** to **{2}**")})}case"clockedOut":{return $.__("Clocked out")}case"projectSet":{return(0,s.Z)(T.Message,{params:[n],text:$._("Project set to **{1}**")})}case"projectUpdated":{return(0,s.Z)(T.Message,{params:[n],text:$._("Project updated to **{1}**")})}case"projectRemoved":{return(0,s.Z)(T.Message,{params:[a],text:$._("Removed project **{1}**")})}case"timeEntryAdded":{return(0,s.Z)(T.Message,{params:[n],text:$._("Time entry added for **{1}**")})}case"timeEntryUpdated":{return(0,s.Z)(T.Message,{params:[a,n],text:$._("Time entry updated from **{1}** to **{2}**")})}case"timeEntryDeleted":{return(0,s.Z)(T.Message,{params:[a],text:$._("Deleted time entry: **{1}**")})}case"dailyTotalAdded":{return(0,s.Z)(T.Message,{params:[n],text:$._("Daily total added for **{1}**")})}case"dailyTotalUpdated":{return(0,s.Z)(T.Message,{params:[a,n],text:$._("Daily total updated from **{1}** to **{2}**")})}case"dailyTotalDeleted":{return(0,s.Z)(T.Message,{params:[a],text:$._("Deleted daily total: **{1}**")})}case"noteAdded":{return $.__("Note added")}case"noteUpdated":{return $.__("Note updated")}case"noteRemoved":{return $.__("Note Removed")}case"timesheetSentForApproval":{return $.__("Timesheet sent for approval")}default:{return JSON.stringify(e)}}}))}var L=a(26570);const O={added:"fab-circle-plus-16x16",edited:"fab-pencil-16x16",clockedOut:"fab-clock-up-16x16",clockedIn:"fab-clock-down-16x16",deleted:"fab-trash-can-14x16",timesheetSentForApproval:"fab-paper-airplane-16x16"};function R(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return e.map((e=>{let{date:t,historyEventCount:a}=e;const s=F()(t,"YYYY-MM-DD").format("dddd, MMM D");const n=`${s} (${L.__n("%1$s event","%1$s events",a)})`;return{text:n,value:t}}))}function B(e){const{days:t,selectedDate:a,setSelectedDate:n}=e;const{preferredName:o,lastName:r,photoURL:l,jobTitle:c}=window.Employee;return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)(D.Z,{imageAlt:"Image of employee",imageSrc:l,subTitle:c,title:`${o} ${r}`}),(0,s.Z)("div",{className:"ChangeHistoryModal__select"},void 0,(0,s.Z)(C.Select,{isClearable:false,items:R(t),onSelect:e=>n(e),selectedValues:[a],size:"large",width:8})),(0,s.Z)("div",{className:"ChangeHistoryModal__separator"}))}function j(e){const{historyData:t,timeEarned:a}=e;const n=t.changeHistoryEvents?.length??0;const i=F()(t.date,"YYYY-MM-DD");return(0,s.Z)("div",{className:"ChangeHistoryModal__content"},void 0,n>0&&(0,s.Z)("div",{className:"History"},void 0,(0,s.Z)("div",{className:"History__block"},void 0,(0,s.Z)("div",{className:"History__icon"},void 0,(0,s.Z)(C.Icon,{name:"fab-calendar-alt-16x16"})),(0,s.Z)("div",{},void 0,(0,s.Z)("span",{className:"History__header"},void 0,L.__("Timesheet history for %1$s",i.format("dddd, MMM D"))),(0,s.Z)("div",{className:"History__details"},void 0,L.__n("%2$s total time · %1$s event","%2$s total time · %1$s events",n,a)))),t.changeHistoryEvents.map((e=>{const{clientType:t}=e;const a=t==="android"||t==="ios";const n=F().tz(e.dateTime,e.timezone);const o=i.isSame(n,"day");let r=n.format(m.T_);if(!o){r=L.__("%1$s on %2$s",n.format(m.T_),n.format("dddd, MMM D"),{note:'e.g. "1:11 PM on Tuesday, Sep 15"'})}return(0,s.Z)("div",{className:"History__block"},e.eventType+e.dateTime,(0,s.Z)("div",{className:"History__icon History__icon--outlined"},void 0,(0,s.Z)(C.Icon,{name:O[e.eventType]??"fab-circle-plus-16x16"})),(0,s.Z)("div",{},void 0,P(e.details).map(((e,t)=>(0,s.Z)("div",{},t,e))),e.note&&(0,s.Z)("div",{className:"History__note"},void 0,e.note),(0,s.Z)("div",{className:"History__meta"},void 0,e.user),(0,s.Z)("div",{className:"History__meta"},void 0,r,a&&H(t))))}))),!n>0&&(0,s.Z)(S.Z,{className:"ChangeHistoryModal__blankState",icon:"fab-clock-reverse-72x66",title:L.__(`There wasn't any time tracking activity on this day`)}))}function H(e){return(0,s.Z)("span",{className:"ChangeHistoryModal__mobileIcon"},void 0,(0,s.Z)(M.Z,{settings:{content:{ios:L.__("Via iOS App"),android:L.__("Via Android App")}[e]}},void 0,(0,s.Z)(C.Icon,{name:"fab-mobile-phone-9x12"})))}function q(e){const{days:t,initialDate:a=t[0]?.date}=e;const[n,o]=(0,i.useState)(true);const[r,l]=(0,i.useState)(false);const[c,d]=(0,i.useState)(a);const[u,h]=(0,i.useState)({});const m=(0,p.mr)(t.find((e=>e.date===c))?.hours??0);const f=(0,s.Z)(B,{days:t,selectedDate:c,setSelectedDate:d});const g=(0,s.Z)(j,{historyData:u,timeEarned:m});(0,i.useEffect)((()=>{window.setTimeout((()=>{l(true)}))}),[]);(0,i.useEffect)((()=>{o(true);N().get(`/time_tracking/employee/${window.Employee.id}/change_history`,{date:c}).then((e=>{let{data:t}=e;h(t)})).catch((()=>{window.errorFallBack()})).finally((()=>{o(false)}))}),[c]);return(0,s.Z)(A.u_,{alternativeActionText:null,content:g,contentHasPadding:false,header:f,isLoading:n,isOpen:r,onClose:()=>l(false),primaryAction:()=>l(false),primaryActionText:L.__("Close"),title:L.__("Timesheet Change History"),type:"medium"})}function W(e,t){(0,k.s)((0,s.Z)(q,{days:e,initialDate:t}),document.createElement("div"))}var U=a(26570);var moment=a(82543);function z(e){const{employeeTimesheets:t,focusedTimesheet:{id:a},latestTimesheetId:n,latestPreviousTimesheetId:i}=e;const o=t.map((e=>{let t;const a=Number(e.id);if(n===a){t=U.__("This Pay Period")}else if(i===a){t=U.__("Previous Pay Period")}else{t=`${moment(e.start).format()} – ${moment(e.end).format()}`}return{text:t,value:a}}));function r(e){window.location=Y(n,e)}return(0,s.Z)("div",{className:"TimesheetHeader__dropdown"},void 0,(0,s.Z)("div",{className:"TimesheetHeader__dropdownLabel"},void 0,U.__("Show")),(0,s.Z)("div",{className:"TimesheetHeader__period"},void 0,(0,s.Z)(C.Select,{isClearable:false,items:o,onChange:r,selectedValues:[a],showSearch:"never",size:"small",width:"7"})))}var V=b(["employeeTimesheets","focusedTimesheet","latestTimesheetId","latestPreviousTimesheetId"],z);function Y(e,t){const a=e===t[0]?"":`&et_id=${t[0]}`;return`/employees/timesheet/?id=${window.Employee.id}${a}`}var G=a(26570);const K=[{key:"showWeekends",text:G.__("Weekends")},{key:"showDailyGraph",text:G.__("Daily Graph")},{key:"showPayPeriodTotal",text:G.__("Pay Period Total")}];function X(e){const{timesheetOptions:t,changeViewOption:a}=e;if(!t||!a){return null}const n=[{text:G.__("Show"),type:"group",items:[{isDisabled:true,text:"",value:"",render:()=>(0,s.Z)("div",{className:"fab-CheckboxGroup"},void 0,K.map((e=>{const n=`timesheetOptionDropdown-${e.key}`;return(0,s.Z)("div",{className:"fab-Checkbox"},e.key,(0,s.Z)("input",{checked:t[e.key],className:"fab-Checkbox__input",id:n,onChange:()=>a(e.key,!t[e.key]),readOnly:true,type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:n},void 0,e.text))})))}]}];return(0,s.Z)("div",{className:"TimesheetOptionDropdown"},void 0,(0,s.Z)(C.Dropdown,{buttonSettings:{icon:"fab-gear-14x13",secondary:true,outline:true,size:"small"},items:n,renderOptionContent:e=>e.render?e.render():e.text}))}var J=a(26570);const Q=(0,d.isEnabled)("timesheetChange");function ee(e){const{focusedTimesheet:t,showHeader:a,isOwnTimesheet:n,isApprovalShowing:r,isLatestTimesheet:l,timesheetOptions:c,changeViewOption:d,employeeTimesheets:u,getFocusedDays:h,getToday:m,isViewOnly:f}=e;const g=n&&!r;const v={timesheetOptions:c,changeViewOption:d};const y=l?m().date:undefined;return(0,s.Z)(i.Fragment,{},void 0,a&&(0,s.Z)("div",{className:"TimesheetHeader"},void 0,(0,s.Z)("div",{className:"TimesheetHeader__content"},void 0,(0,s.Z)("div",{className:"TimesheetHeader__icon"},void 0,(0,s.Z)(C.Icon,{brand:"true",name:"fab-timesheet-29x22"})),(0,s.Z)("div",{className:"TimesheetHeader__header"},void 0,(0,s.Z)("h3",{},void 0,J.__("Timesheet"))),(0,s.Z)("div",{className:"TimesheetHeader__controls"},void 0,u.length>1&&(0,s.Z)(V,{}),g&&o().createElement(X,v),(0,s.Z)(C.Tooltip,{content:J.__("Download PDF")},void 0,(0,s.Z)(C.IconButton,{"data-bi-id":"time-tracking-print-timesheet-button",color:"secondary",icon:(0,s.Z)(x.Z,{}),onClick:()=>window.open(`/timesheet/${t.id}/print`,"_blank"),target:"_blank",type:"button",variant:"outlined"}))))),Q&&!f&&(0,s.Z)("div",{className:"TimesheetSecondHeader"},void 0,(0,s.Z)("div",{className:"TimesheetSecondHeader__dates"},void 0,(0,s.Z)("span",{className:"TimesheetSecondHeader__datesIcon"},void 0,(0,s.Z)(C.Icon,{brand:"true",name:"fab-stopwatch-20x24"})),(0,s.Z)("h4",{},void 0,(0,p.Rs)(t.start,t.end))),(0,s.Z)("div",{className:"TimesheetSecondHeader__controls"},void 0,(0,s.Z)(C.TextButton,{clickAction:()=>W(h(),y),iconBefore:"fab-clock-reverse-16x15",muted:true,size:"small",text:J.__("Change History"),type:"button"}))),t.workWeekStartsOn?.changed&&(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetHeader__workWeekWarning:true,"TimesheetHeader__workWeekWarning--hiddenHeader":!a})},void 0,(0,s.Z)("span",{className:"TimesheetHeader__workWeekWarning__icon"},void 0,!Q&&(0,s.Z)(C.Icon,{name:"fab-triangle-exclamation-20x20"}),Q&&(0,s.Z)(C.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,s.Z)("p",{className:"TimesheetHeader__workWeekWarning__text"},void 0,(0,s.Z)(T.Message,{params:[t.workWeekStartsOn.count],text:J._n("The work week start day has changed. There is {1} day where overtime cannot be calculated.","The work week start day has changed. There are {1} days where overtime cannot be calculated.",t.workWeekStartsOn.count)}))))}var te=b(["isOwnTimesheet","isApprovalShowing","isLatestTimesheet","employeeTimesheets","focusedTimesheet","timesheetOptions","changeViewOption","showHeader","isViewOnly","getFocusedDays","getToday"],ee);function ae(){return(0,s.Z)("button",{type:"submit",style:{width:0,height:0,overflow:"hidden",padding:0,border:"none",position:"absolute"}})}function se(e,t){const a=t.length<=2&&t.every((e=>{const t=e.moment.day();return t===0||t===6}));if(!t||!e&&a){return false}return!!t.length}function ne(e,t,a){let s=null;let n=null;let i=null;if(e){s=t[0].isToday;n=t[t.length-1].isToday;i=a.length&&a[0].isToday}else{const e=t.filter((e=>{let{moment}=e;const t=moment.day();return t!==0&&t!==6}));s=e.length?e[0].isToday:false;n=e.length?e[e.length-1].isToday:false;const o=a.filter((e=>{let{moment}=e;const t=moment.day();return t!==0&&t!==6}));i=o.length?o[0].isToday:false}return{previousMoveUp:s,nextMoveDown:n,nextMoveUp:i}}var ie=a(26570);function oe(e){const{side:t,showWeekends:a,previousPeriodEntries:n,nextPeriodEntries:i,nudges:o}=e;if(!se(a,t==="top"?n:i)){return null}const r=t==="top"?ie.__("Pay Period Begins"):ie.__("Pay Period Ends");const l=(0,E.classNameFromObject)({[`TimesheetSeparator TimesheetSeparator--${t}`]:true,"TimesheetSeparator--up":t==="top"?o.previousMoveUp:o.nextMoveUp,"TimesheetSeparator--down":t==="top"?false:o.nextMoveDown});return(0,s.Z)("div",{className:l,"data-text":r})}var re=a(18669);var le=a(51341);var ce=a(1895);var de=a(88306);var ue=a(62705);var he=a(16495);var pe=a(73013);var me=a(78922);var fe=a(52326);var ge=a(26570);let ve=null;let _e=null;let ye=null;const be=(0,d.isEnabled)("timesheetChange");class we extends i.Component{static get className(){return"Slat"}constructor(e){super(e);(0,n.Z)(this,"_getIsForgotClockDay",(()=>{const{forgotClockOut:e,clock:t,date:a}=this.props;return e&&t&&t.latest!==null?(0,le.Z)(a).isSameOrAfter((0,le.Z)(t.latest.start).startOf("day")):false}));(0,n.Z)(this,"_expandEntriesList",(()=>{this.setState({isExpanded:true});ge(this.collapseButtonRef).fadeIn(200);ge(this.clockEntriesRef).slideDown(200)}));(0,n.Z)(this,"_collapseEntriesList",(()=>{this.setState({isExpanded:false});ge(this.collapseButtonRef).fadeOut(200);ge(this.clockEntriesRef).slideUp(200)}));(0,n.Z)(this,"_handleShowChangeHistory",(()=>{const{date:e,getFocusedDays:t}=this.props;W(t(),e)}));(0,n.Z)(this,"_handleCollapseButtonClick",(e=>{e.preventDefault();this._collapseEntriesList()}));(0,n.Z)(this,"_launchAddEditModal",((e,t,a)=>{const{canEdit:s,isViewOnly:n,changeViewOption:i,clock:o,clockEntries:r,date:l,hourEntries:c,employee:d,hours:u,projectsWithTasks:h,timesheetOptions:p,type:m}=this.props;const f={canEdit:s&&!n,openAsSheet:n,clockedIn:o&&o.clockedIn,clockEntries:r,currentEntryId:e,date:l,dayTotal:u,employeeId:d.id,hourEntries:c,onHintDismiss:i,projectsWithTasks:h,showTimeEntryHint:p.showTimeEntryHint,timesheetType:m,timezone:a,type:t};(0,ue.Z)(f).then(this.props.refreshTimesheet).then((()=>{if(!this.props.isToday&&this.props.clockEntries.length){this._expandEntriesList()}}))}));(0,n.Z)(this,"_onInputFocus",(()=>{document.dispatchEvent(new CustomEvent("SiteFooter:open"));if(this.props.hours!==null&&this.props.userEdit===null){let e=(0,r.round)(this.props.hours,2);if(window.GLOBAL_DECIMAL_CHAR===","){e=String(e).replace(".",",")}this.props.editSingleEntrySlat(this.props.date,e)}if(ye!==null){clearTimeout(ye);ye=null}ye=setTimeout((()=>{ye=null;const e=ge(this.inputRef);e.select().one("mouseup",(t=>{t.preventDefault();e.select()}))}));if(_e){_e.setAnchor(this.inputRef);if(this.state.validInput){_e.show()}}if(!this.state.validInput){(0,ce.n)(this._errorMessage,this.inputRef);ve.show()}}));(0,n.Z)(this,"_onInputBlur",(()=>{if(_e){_e.hide()}ve.hide()}));(0,n.Z)(this,"_onInputChange",(()=>{const{value:e}=this.inputRef;const t=(0,p.TD)(e);const a=t!==p.ch&&t!==p.w9;if(a){this.setState({validInput:true});if(_e){_e.show()}ve.hide()}else{this.setState({validInput:false});this._errorMessage=t===p.w9?m.m6:m.RG;if(_e){_e.hide()}(0,ce.n)(this._errorMessage,this.inputRef);ve.show()}this.props.editSingleEntrySlat(this.props.date,e)}));(0,n.Z)(this,"_handleNoteIconClick",(()=>{const{canEdit:e,date:t,employee:a,hours:s,note:n,refreshTimesheet:i,isViewOnly:o,projectId:r,projectName:l,projectsWithTasks:c,taskId:d,taskName:u}=this.props;const h={projectId:r,projectName:l,taskId:d,taskName:u};const p={canEdit:e,employeeId:a.id,note:n,timezone:a.timezone,today:le.Z.tz(t,a.timezone),totalTime:s,type:"single",isViewOnly:o,projectData:h,projectsWithTasks:c};(0,fe.Z)(p).then(i)}));(0,n.Z)(this,"_handleCurrentEntryClick",(()=>{const{canEdit:e,employee:t,clock:a,refreshTimesheet:s,isViewOnly:n,projectsWithTasks:i}=this.props;const o={projectId:a.latest.projectId,projectName:a.latest.projectName,taskId:a.latest.taskId,taskName:a.latest.taskName};const r={canEdit:e,clock:a,employeeId:t.id,isViewOnly:n,note:a.latest.note,projectData:o,projectsWithTasks:i,timezone:a.latest.timezone,today:le.Z.tz(a.latest.start,a.latest.timezone),type:"clock"};(0,fe.Z)(r).then(s)}));this.isMultipleEntryUI=e.type==="multiple"||e.type==="hour";this.state={validInput:true,isExpanded:false,isForgotClockDay:this._getIsForgotClockDay()};if(e.type==="single"){if(!ve){ve=(0,ce.Z)()}if(e.timesheetOptions.showTimeEntryHint&&!_e){_e=(0,de.Z)();_e.onClose((()=>{_e.destroy();_e=null;e.changeViewOption("showTimeEntryHint",false)}))}}}componentDidUpdate(e,t){if(e.userEdit!==null&&this.props.userEdit===null){this.inputRef.blur();this.setState({validInput:true})}if(e.clockEntries.length&&!this.props.clockEntries.length){this._collapseEntriesList()}const a=this._getIsForgotClockDay();if(t.isForgotClockDay!==a){this.setState({isForgotClockDay:a})}}_renderOvertimeHours(){const e=this.props.overtimeSummary;const t=(0,E.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--overtimePush":this.isMultipleEntryUI});const a=this.props.overtimeSummary.length>1;return e.map((e=>(0,s.Z)("div",{className:t},e.multiplier,(0,s.Z)("span",{className:"TimesheetSlat__overtimeIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-stopwatch-alert-12x12"})),(0,s.Z)("div",{className:"TimesheetSlat__overtimeWarning"},void 0,ge.__("%1$s Overtime",(0,p.mr)(e.hours,true))," ",a&&`(${e.multiplier}x)`))))}_renderTimeOffInfoItems(){const{timeOff:e,type:t}=this.props;return e.map(((e,t)=>{const a=e.icon?m.Mj[e.icon]:"fab-briefcase-clock-16x12";const n=e.unit==="hours"?ge.__("hours"):ge.__("days");const i=(0,E.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--clockPush":this.isMultipleEntryUI});return(0,s.Z)("div",{className:i},t,(0,s.Z)("span",{className:"TimesheetSlat__infoIcon"},void 0,(0,s.Z)(C.Icon,{name:a})),e.amount," ",n," ",e.type)}))}_renderHolidayInfoItems(){return this.props.holidays.map(((e,t)=>{const a=(0,re.VR)((0,re.wG)(e.multiplier));const n=(0,E.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--clockPush":this.isMultipleEntryUI});let i=`${e.name} ${e.multiplier?`(${ge.__("pays")} ${a}x)`:""}`;if(e.paidHours>0){i=(0,p.Rr)(e)}return(0,s.Z)("div",{className:n},t,(0,s.Z)("span",{className:"TimesheetSlat__infoIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-fireworks-16x16"})),i)}))}_renderClockEntries(){const{clockEntries:e,canEdit:t,clock:a,isToday:n,forgotClockOut:i,isViewOnly:r,type:l}=this.props;const{isForgotClockDay:c}=this.state;return!!e.length&&o().createElement("div",{ref:e=>this.clockEntriesRef=e,style:{display:n?"":"none"}},(0,s.Z)("div",{className:"TimesheetSlat__contentDivider"}),(0,he.Z)({canEditEntries:t,clockEntries:e,elapsedTimeToday:a?a.earned:0,hasLightBackground:n,onEditClick:this._launchAddEditModal,forgotClockOut:i,isForgotClockDay:c,currentEntryClick:this._handleCurrentEntryClick,isViewOnly:r,renderProjectAndTask:true,type:l}))}_renderHourEntries(){const{hourEntries:e,canEdit:t,isToday:a,isViewOnly:n,type:i}=this.props;return!!e?.length&&o().createElement("div",{ref:e=>this.clockEntriesRef=e,style:{display:a?"":"none"}},(0,s.Z)("div",{className:"TimesheetSlat__contentDivider"}),(0,s.Z)(pe.x,{canEdit:t,hasLightBackground:a,hourEntries:e,isViewOnly:n,onEditClick:this._launchAddEditModal,renderProjectAndTask:true,type:i}))}_renderProjectTaskText(){const{canEdit:e,isToday:t,isViewOnly:a,note:n,projectName:i,taskName:o}=this.props;const r=(0,p.Vh)(i,o);return(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetSlat__projectTaskTextWrapper:true,"TimesheetSlat__projectTaskTextWrapper--today":t})},void 0,(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetSlat__projectTaskText:true,"TimesheetSlat__projectTaskText--editable":!a,"TimesheetSlat__projectTaskText--expanded":a}),onClick:!a?this._handleNoteIconClick:null},void 0,(0,s.Z)("div",{},void 0,r),(0,s.Z)("div",{className:(0,E.classNameFromObject)({"TimesheetSlat__projectTaskText--note":true,"TimesheetSlat__projectTaskText--note--expanded":a})},void 0,n),e&&(0,s.Z)("span",{className:"TimesheetSlat__projectTaskText__editIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-pencil-12x12"}))))}_renderSingleEntryUi(){const{canEdit:e,hours:t,isToday:a,note:n,slatDisabled:r,isViewOnly:l,projectName:c}=this.props;const d=(0,E.classNameFromObject)({"TimesheetSlat__input fab-TextInput fab-TextInput--biggie":true,"TimesheetSlat__input--disabled":!this.props.canEdit,"fab-TextInput--error":!this.state.validInput});const u={TimesheetSlat__noteIconWrapper:true,"TimesheetSlat__noteIconWrapper--today":a&&t!==null,"TimesheetSlat__noteIconWrapper--hasNote":n,"TimesheetSlat__noteIconWrapper--disabled":r,"TimesheetSlat__noteIconWrapper--hasHours":t!==null&&e};const h=this.props.userEdit===null?(0,p.mr)(this.props.hours):this.props.userEdit;return(0,s.Z)(i.Fragment,{},void 0,l&&(0,s.Z)("div",{className:"TimesheetSlat__viewOnlyHours"},void 0,h?h:(0,p.mr)(0)),!l&&(0,s.Z)(i.Fragment,{},void 0,o().createElement("input",{className:d,ref:e=>this.inputRef=e,value:h,onFocus:this._onInputFocus,onBlur:this._onInputBlur,onChange:this._onInputChange,disabled:!this.props.canEdit}),!!n===false&&!c&&(0,s.Z)(me.Z,{customCSS:u,hasNote:!!n,onNoteIconClick:this._handleNoteIconClick})),(0,s.Z)("div",{className:"TimesheetSlat__extraInfo"},void 0,this._renderOvertimeHours(),this._renderTimeOffInfoItems(),this._renderHolidayInfoItems()))}_renderFirstAndLast(){const e=this.props.clockEntries.length;const t=!!e;const a=!!this.props.clock;const n=a&&this.props.clock.clockedIn;const i=ge.__("Now");let o=this.props.clockEntries[0];let r=this.props.clockEntries[e-1];let l="";if((!this.props.isToday||!a)&&!t){return null}if(!this.props.isToday&&t){o=le.Z.tz(o.start,o.timezone).format(m.T_);r=le.Z.tz(r.end,r.timezone).format(m.T_);l=`${o} - ${r}`}if(this.props.isToday&&!t&&a){l=this.props.serverTime.format(m.T_)}if(this.props.isToday&&!n&&t){o=le.Z.tz(o.start,o.timezone).format(m.T_);r=le.Z.tz(r.end,r.timezone).format(m.T_);l=`${o} – ${r}`}if(this.props.isToday&&n){o=le.Z.tz(o.start,o.timezone).format(m.T_);r=i;l=`${o} - ${r}`}const c=(0,E.classNameFromObject)({TimesheetSlat__firstAndLast:true,"TimesheetSlat__firstAndLast--forgotClockOut":this.props.forgotClockOut&&this.state.isForgotClockDay});return(0,s.Z)("div",{className:c},void 0,l,t&&(0,s.Z)("span",{className:"TimesheetSlat__entriesCount"},void 0," (",ge.__n("%1$s Entry","%1$s Entries",e,{note:"number of entries"}),")"))}_renderMultipleEntryUi(){const{canEdit:e,clock:t,employee:a,forgotClockOut:n,hasMidnightEntry:r,holidays:l,hours:c,isToday:d,isFuture:u,slatDisabled:h,timeOff:m,type:f,historyEventCount:g,isViewOnly:v}=this.props;const{isForgotClockDay:y}=this.state;const b=t&&t.clockedIn;const w=(0,E.classNameFromObject)({TimesheetSlat__dayTotal:true,"TimesheetSlat__dayTotal--active":d&&b&&!n,"TimesheetSlat__dayTotal--forgotClockOut":n&&y});const S=!!m.length||!!l.length;const x=d||u;const T=f==="single"||b&&x||!e||v||h||r;const k=ge.__n("See change history (%1$s event)","See change history (%1$s events)",g);return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("div",{className:"TimesheetSlat__multipleContent"},void 0,(0,s.Z)("h4",{className:w},void 0,(0,p.mr)(c||0)),f==="multiple"&&this._renderFirstAndLast(),this._renderOvertimeHours(),S&&(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("div",{className:"TimesheetSlat__contentDivider"}),this._renderTimeOffInfoItems(),this._renderHolidayInfoItems()),f==="multiple"&&this._renderClockEntries(),f==="hour"&&this._renderHourEntries(),!T&&(0,s.Z)("a",{className:"TimesheetSlat__addEntryLink",onClick:()=>{this._launchAddEditModal(null,"add",a.timezone)}},void 0,"+ ",ge.__("Add Time Entry"))),be&&o().createElement("div",{ref:e=>this.collapseButtonRef=e,className:"TimesheetSlat__expandedActions",style:{display:"none"}},!v&&g>0&&(0,s.Z)(M.Z,{settings:{content:k}},void 0,(0,s.Z)(C.FloatingIconButton,{"data-buttonname":"timesheet-change-history",clickAction:this._handleShowChangeHistory,icon:"fab-clock-reverse-16x15",secondary:true,size:"teenie",type:"button"})),(0,s.Z)(C.FloatingIconButton,{clickAction:this._handleCollapseButtonClick,"data-buttonname":"timesheet-change-collapse",icon:"fab-double-chevron-up-14x16",secondary:true,size:"teenie",type:"button"})),!be&&o().createElement("button",{ref:e=>this.collapseButtonRef=e,className:"TimesheetSlat__collapseButton btn",onClick:this._handleCollapseButtonClick,style:{display:"none"}},(0,s.Z)("span",{className:"TimesheetSlat__collapseButtonIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-double-chevron-up-11x12"}))))}render(){const{isExpanded:e}=this.state;const{clock:t,clockEntries:a,hasWorkWeekStartsOnChanged:n,hourEntries:i,isFuture:o,isToday:r,isWeekend:l,moment,note:c,projectName:d,slatDisabled:u,timesheetOptions:h,type:p}=this.props;const m=a?.length||i?.length;const f=!r&&!e&&m&&this.isMultipleEntryUI;const g=r&&t&&t.clockedIn;const v=d||!!c;const y=(0,E.classNameFromObject)({TimesheetSlat:true,"TimesheetSlat--clock":this.isMultipleEntryUI,"TimesheetSlat--future":o&&!u,"TimesheetSlat--disabled":u,"TimesheetSlat--today":r,"TimesheetSlat--hide":l&&!h.showWeekends,"TimesheetSlat--expandable":f,"TimesheetSlat--expanded":e,"TimesheetSlat--futurePadClockedIn":g,"js-timesheet-showWeekends":l});return(0,s.Z)("div",{className:y,onClick:f?this._expandEntriesList:null},void 0,(0,s.Z)("div",{className:"TimesheetSlat__day"},void 0,this.isMultipleEntryUI&&(0,s.Z)("div",{className:"TimesheetSlat__arrowLine"}),(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetSlat__dayOfWeek:true,"TimesheetSlat__dayOfWeek--active":g})},void 0,n&&(0,s.Z)("div",{className:"TimesheetSlat__dayOfWeek__warningIconWrapper"},void 0,(0,s.Z)(M.Z,{settings:{content:ge.__("Overtime cannot be calculated for this day."),tailOnBalloon:"40px"}},void 0,(0,s.Z)("span",{className:"TimesheetSlat__dayOfWeek__warningIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-triangle-exclamation-16x16"})))),moment.format("ddd")),(0,s.Z)("div",{className:"TimesheetSlat__dayDate"},void 0,moment.format("MMM D"))),(0,s.Z)("div",{className:"TimesheetSlat__dataWrapper"},void 0,(0,s.Z)("div",{className:(0,E.classNameFromObject)("TimesheetSlat__data",{"TimesheetSlat__data--hasProjectSection":p==="single"&&v})},void 0,p==="single"&&this._renderSingleEntryUi(),this.isMultipleEntryUI&&this._renderMultipleEntryUi()),v&&p==="single"&&this._renderProjectTaskText()))}}var Se=b(["employee","serverTime","timesheetOptions","clock","focusedTimesheet.holidayPayType","isViewOnly","projectsWithTasks","changeViewOption","editSingleEntrySlat","refreshTimesheet","forgotClockOut","getFocusedDays"],we);function Ce(e){const{clock:t,workflow:{userCanEdit:a},focusedTimesheet:n,timesheetOptions:r,saveTimesheet:l,getPadStartDays:c,getFocusedDays:u,getPadEndDays:h,showSheetPadDays:m,isViewOnly:f}=e;const v=e=>{e.preventDefault();l()};const y=c();const b=u();const w=h();const S=t?(0,p.RG)(t.latest):false;const C={slatDisabled:true,type:n.type,forgotClockOut:S};const x={slatDisabled:false,type:n.type,canEdit:(0,d.isEnabled)("ttLocationUpdates")?a:a&&!f,forgotClockOut:S};const T={showWeekends:r.showWeekends,previousPeriodEntries:y,nextPeriodEntries:w,nudges:ne(r.showWeekends,b,w)};return(0,s.Z)("div",{className:"TimesheetEntries"},void 0,(0,s.Z)("form",{onSubmit:v},void 0,m&&(0,s.Z)(i.Fragment,{},void 0,y.map((e=>o().createElement(Se,(0,g.Z)({key:e.date},e,C)))),o().createElement(oe,(0,g.Z)({side:"top"},T))),b.map((e=>o().createElement(Se,(0,g.Z)({key:e.date},e,x)))),m&&(0,s.Z)(i.Fragment,{},void 0,o().createElement(oe,(0,g.Z)({side:"bottom"},T)),w.map((e=>o().createElement(Se,(0,g.Z)({key:e.date},e,C))))),(0,s.Z)(ae,{})))}var xe=b(["workflow","focusedTimesheet","timesheetOptions","clock","showSheetPadDays","isViewOnly","saveTimesheet","getPadStartDays","getFocusedDays","getPadEndDays"],Ce);var Te=a(26570);function Ee(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>0;return e.reduce(((e,a)=>{if(t instanceof Function){return e+t(a)}return e+a[t]}),0)}function ke(e){return e.reduce(((e,t)=>e+t.hours+t.timeOffHours+t.paidHolidayHours),0)}function Ze(e,t,a){if(e===t){return Te.__("This Pay Period")}else if(e===a){return Te.__("Previous Pay Period")}return Te.__("Pay Period")}function Fe(e,t){const a=(0,le.Z)(e).diff((0,le.Z)(t),"days",true);return Math.ceil(a)}function Ie(e,t){const a=(0,le.Z)(e);const s=(0,le.Z)(t);const n="MMM D";const i=a.isSame(s,"month")?"D":n;return`${a.format(n)} – ${s.format(i)}`}function Ne(e,t,a){const s=Fe(t,a);const n=s>0?` (${Te.__("%s days left",s)})`:"";return`${Ie(e,t)}${n}`}var Ae=a(69835);var Me=a(26570);function De(e){const{periodOvertime:t,periodTimeOff:a,periodHoliday:n}=e;const o=t.length>1;return(0,s.Z)(i.Fragment,{},void 0,!!t.length&&t.map((e=>(0,s.Z)("div",{className:"TimesheetSummary__breakdownItem TimesheetSummary__breakdownItem--warning"},e.multiplier,(0,p.mr)(e.hours,true)," ",Me.__("Overtime")," ",o&&`(${e.multiplier}x)`))),!!a&&(0,s.Z)("div",{className:"TimesheetSummary__breakdownItem"},void 0,(0,p.mr)(a,true)," ",Me.__("Time Off")),!!n&&(0,s.Z)("div",{className:"TimesheetSummary__breakdownItem"},void 0,(0,p.mr)(n,true)," ",Me.__("Holiday")))}var Pe=a(26570);class Le extends i.Component{constructor(){super(...arguments);(0,n.Z)(this,"state",{approveTimesheetPending:false});(0,n.Z)(this,"_approvalDisabledTooltip",null);(0,n.Z)(this,"_buttonRef",(0,i.createRef)());(0,n.Z)(this,"_afterApproveTimesheet",(()=>this.setState({approveTimesheetPending:false})));(0,n.Z)(this,"_approveTimesheet",(()=>{const{focusedTimesheet:e,workflow:t,approveTimesheet:a}=this.props;this.setState({approveTimesheetPending:true});a(e.id,t.hoursLastChangedAt).then(this._afterApproveTimesheet).catch(this._afterApproveTimesheet)}))}static get className(){return"SummaryApproval"}_createDisabledApprovalTooltip(){return Ae.Z.create(this._buttonRef.current,{html:`\n\t\t\t\t<div class="ApprovalSummary__tooltip">\n\t\t\t\t\t${Pe.__("Make sure your changes are saved before you approve.")}\n\t\t\t\t</div>\n\t\t\t`})}_renderStatus(){const{userCanApprove:e,status:t}=this.props.workflow;if(t==="approved"){return this._renderApproved()}else if(t==="pending"&&!e){return this._renderPendingWithoutPermission()}else if(t==="pending"&&e){return this._renderPendingWithPermission()}}_renderApproved(){const{approverName:e,approvalMoment:t}=this.props.workflow;return(0,s.Z)("div",{className:"ApprovalSummary__status ApprovalSummary__status--approved"},void 0,(0,s.Z)("div",{className:"ApprovalSummary__stamp"},void 0,(0,s.Z)(C.Icon,{name:"fab-approved-stamp-121x39"})),Pe.__("Approved by %1$s on %2$s.",e,t.format("MMM D, YYYY"),{note:'e.g. "Approved by Jane Smith on Sep 4, 2017"'}))}_renderPendingWithoutPermission(){const{approverName:e}=this.props.workflow;return(0,s.Z)("div",{className:"ApprovalSummary__status ApprovalSummary__status--waiting baseBgColor"},void 0,e?Pe.__("Waiting for approval from %1$s",e,{note:'e.g. "Waiting for approval from John Henry'}):Pe.__("Waiting for approval"))}_renderPendingWithPermission(){const{workflow:{dueMoment:e},getChangedEntries:t}=this.props;const a=Boolean(t().length);if(a&&!this._approvalDisabledTooltip){this._approvalDisabledTooltip=this._createDisabledApprovalTooltip()}else if(!a&&this._approvalDisabledTooltip){this._approvalDisabledTooltip.destroy();this._approvalDisabledTooltip=null}return(0,s.Z)("div",{className:"ApprovalSummary__status ApprovalSummary__status--showButton baseBgColor"},void 0,o().createElement("div",{className:"ApprovalSummary__buttonWrapper",ref:this._buttonRef},(0,s.Z)(C.Button,{clickAction:this._approveTimesheet,iconBefore:"fab-check-circle-16x16",outline:true,size:"large",text:Pe.__("Approve"),width:100})),Pe.__("Must approve by %1$s",e.format("MMM D"),{note:'e.g. "Must approve by May 17"'}))}render(){const{employeeId:e,employeeName:t,employeePhotoUrl:a,focusedTimesheet:n,payPeriodTitleText:o,payPeriodRangeText:r,workflow:l,getFocusedDays:c,summaryTotals:d,isViewOnly:u}=this.props;const{periodOvertime:h,periodTimeOff:m,periodHoliday:f}=d;const g=l.status==="approved";const v=c();return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("img",{className:"TimesheetSummary__photo",src:a,alt:Pe.__("employee avatar")}),(0,s.Z)("div",{className:"TimesheetSummary__title"},void 0,u?t:o),(0,s.Z)("div",{className:"TimesheetSummary__text"},void 0,r),(0,s.Z)("div",{className:(0,E.classNameFromObject)({ApprovalSummary:true,"ApprovalSummary--approved":g,"ApprovalSummary--viewOnly":u})},void 0,(0,s.Z)("div",{className:(0,E.classNameFromObject)({ApprovalSummary__payPeriodTotal:true,"ApprovalSummary__payPeriodTotal--approved":g})},void 0,(0,p.mr)(ke(v))),De({periodOvertime:h,periodTimeOff:m,periodHoliday:f}),!u&&this._renderStatus()),u&&(0,s.Z)("a",{className:"fab-Link fab-Link--muted",href:`/employees/timesheet?id=${e}&et_id=${n.id}`},void 0,Pe.__("Go to timesheet")," »"))}}var Oe=b(["focusedTimesheet","workflow","summaryTotals","isViewOnly","approveTimesheet","getFocusedDays","getChangedEntries"],Le);var Re=a(13686);var Be=a(38592);var $e=a(1765);var je=a(46471);var He=a(26570);const qe=je.l.find((e=>e.name===(0,Be.getBrandColor)()));const We=qe.base;const Ue=$e.colors.gray4;const ze=$e.colors.gray5;const Ve=$e.colors.attention;class Ye extends i.Component{constructor(){super(...arguments);(0,n.Z)(this,"drawChart",(e=>{const t=this.props.hideWeekends?115:170;if(!this.chartRef){this.chartRef=e}this.chart=new Re.vz(e,{className:"TimesheetDailyGraph",height:70,width:t,paddingTop:0,bars:{classNameModifier:"hide",mouseEvents:{mouseenter:function(){const t=this.parentNode.getAttribute("data-index");const a=e.querySelectorAll(".ba-BarChart__title")[t];const s=this.getAttribute("fill");if(s.indexOf(Ve.replace("#",""))===-1){a.classList.add("TimesheetDailyGraph__title--hover","baseFillColor")}else{a.classList.add("TimesheetDailyGraph__title--hover","TimesheetDailyGraph__title--overtime")}},mouseleave:function(){const t=this.parentNode.getAttribute("data-index");const a=e.querySelectorAll(".ba-BarChart__title")[t];const s=this.getAttribute("fill");if(s.indexOf(Ve.replace("#",""))===-1){a.classList.remove("TimesheetDailyGraph__title--hover","baseFillColor")}else{a.classList.remove("TimesheetDailyGraph__title--hover","TimesheetDailyGraph__title--overtime")}}}},barTitles:{classNameModifier:"today",padding:2},barValues:{show:false},responsive:false});this.chart.draw(Ge(this.props.lastWeek,this.props.thisWeek,this.props.serverTime,this.props.hideWeekends))}))}static get className(){return"DailyGraph"}componentDidUpdate(){this.drawChart(this.chartRef)}render(){return o().createElement("div",{ref:this.drawChart})}}function Ge(e,t,a,s){e=e.map((e=>{if(e.moment.day()<a.day()){return{...e,hours:0}}return e}));return Array.from({length:7}).map(((s,n)=>{const i=e[n];const o=t[n];const l=o.moment.isSame(a,"day");const c=o.overtimeHours;const d=(0,r.round)(i.hours,2)||0;const u=(0,r.round)(o.hours,2)||0;let h=ze;if(l&&c){h=Ve}else if(l&&!c){h=We}return[{color:Ue,modifyBar:i.moment.day()<=a.day(),title:i.moment.format("dddd")[0],tooltip:He.__("Last %s",i.moment.format("dddd, MMMM D"),{note:"e.g. Last Thursday, October 5"}),tooltipLead:He.__("%s Hours",d,{note:"Number of hours"}),value:d},{color:c?Ve:We,displayType:l?"partial":"solid",modifyTitle:l,titleColor:h,title:o.moment.format("dddd")[0],tooltip:`${l?He.__("Today"):o.moment.format("dddd")}, ${o.moment.format("MMMM D")}`,tooltipLead:He.__("%s Hours",u,{note:"Number of hours"}),value:u}]})).filter(((e,a)=>{const n=t[a].isWeekend;return!s||s&&!n}))}function Ke(e){const{fadeGraph:t,fadeWeekTotal:a,hideWeekends:n,lightTheme:i,lastWeekDays:o,thisWeekDays:r,serverTime:l,weekTitleText:c,weekRangeText:d,weekTotal:u}=e;const h=(0,E.classNameFromObject)({"js-timesheet-showDailyGraph TimesheetSummary__dailyGraph":true,"TimesheetSummary__dailyGraph--fade":t});const p=(0,E.classNameFromObject)({"TimesheetSummary__weekTotal baseColor":true,"TimesheetSummary__weekTotal--fade":a,"TimesheetSummary__weekTotal--light":i});return(0,s.Z)("div",{className:"TimesheetSummary__thisWeek"},void 0,(0,s.Z)("div",{className:"TimesheetSummary__title TimesheetSummary__title--week"},void 0,c),(0,s.Z)("div",{className:"TimesheetSummary__text"},void 0,d),(0,s.Z)("div",{className:h},void 0,(0,s.Z)(Ye,{lastWeek:o,thisWeek:r,serverTime:l,hideWeekends:n})),(0,s.Z)("div",{className:p},void 0,(0,s.Z)("span",{className:"TimesheetSummary__weekClockIcon"},void 0,(0,s.Z)(C.Icon,{brand:"true",name:"fab-clock-20x20"})),u))}var Xe=a(26570);function Je(e){const{approvalMonthAndDayStr:t,fadePayPeriod:a,payPeriodTitleText:n,payPeriodRangeText:i,payPeriodTotal:o,periodOvertime:r,periodTimeOff:l,periodHoliday:c}=e;return(0,s.Z)("div",{className:"TimesheetSummary__payPeriod js-timesheet-showPayPeriodTotal"},void 0,(0,s.Z)("div",{className:"TimesheetSummary__divider"}),(0,s.Z)("div",{className:"TimesheetSummary__title TimesheetSummary__title--payPeriod"},void 0,n),(0,s.Z)("div",{className:"TimesheetSummary__text"},void 0,i),(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetSummary__payPeriodBreakdown:true,"TimesheetSummary__payPeriodBreakdown--fade":a})},void 0,(0,s.Z)("div",{className:"TimesheetSummary__payPeriodTotal"},void 0,(0,s.Z)("span",{className:"TimesheetSummary__payPeriodClockIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-clock-20x20"})),o),De({periodOvertime:r,periodTimeOff:l,periodHoliday:c})),(0,s.Z)("div",{className:"TimesheetSummary__text TimesheetSummary__text--approval"},void 0,(0,s.Z)("span",{className:"TimesheetSummary__approvalIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-check-circle-12x12"})),Xe.__("Will be sent for approval on %s",t,{note:"placeholder is a date/time"})))}var Qe=a(80544);var et=a(2224);var tt=a(99827);var at=a(11656);var st=a(26570);const nt=(0,d.isEnabled)("anybodyClock");const it=(0,d.isEnabled)("timeTrackingGeolocation");class ot extends i.Component{static get className(){return"ClockInOut"}constructor(e){super(e);(0,n.Z)(this,"_toggleClocking",((e,t)=>{const{preventingDoubleClick:a}=this.state;const{clock:s,clockIn:n,clockOut:i,employee:o,refreshTimesheet:r}=this.props;const l=s?(0,p.RG)(s.latest):false;if(this.userCanEdit&&l&&s.latest){(0,tt.Z)(o.id,s.latest).then(r);return}if(!this.userCanEdit&&l){(0,at.Z)(i,o.id,(()=>{this._toggleRequesting()})).then((()=>{this._toggleRequesting()}));return}if(a){return}if(window.ASSUMED_USER){window.disabledForPermsTest();return}this._preventDoubleClick();this._toggleRequesting();const c=s.clockedIn?i:n;c(o.id,e,t).finally(this._toggleRequesting)}));(0,n.Z)(this,"_toggleRequesting",(()=>{this.setState({requesting:!this.state.requesting})}));(0,n.Z)(this,"_preventDoubleClick",(()=>{this.setState({preventingDoubleClick:true});setTimeout((()=>{this.setState({preventingDoubleClick:false})}),400)}));(0,n.Z)(this,"_handleAddNoteClick",(()=>{const{clock:e,employee:t,refreshTimesheet:a,workflow:s,isViewOnly:n,projectsWithTasks:i}=this.props;if(e.clockedIn){const o={projectId:e.latest.projectId,projectName:e.latest.projectName,taskId:e.latest.taskId,taskName:e.latest.taskName};const r={canEdit:s.userCanEdit,clock:e,employeeId:t.id,note:e.latest.note,projectData:o,projectsWithTasks:i,today:le.Z.tz(e.latest.start,e.latest.timezone),timezone:e.latest.timezone,type:"clock",isViewOnly:n};(0,fe.Z)(r).then(a)}}));(0,n.Z)(this,"_handleProjectDropdownClick",(e=>{const[t,a]=(0,p.a6)(e);this._toggleClocking(t,a)}));this.userCanEdit=e.workflow.userCanEdit;this.state={requesting:false,preventingDoubleClick:false}}_hasFutureEntry(){const{clock:{latest:e},serverTime:t}=this.props;return(0,p.ff)(e,t)}_renderClockButton(){const{clock:e,clock:{clockedIn:t,latest:a}}=this.props;const{requesting:n}=this.state;const i=t?"fab-stop-14x14":"fab-stopwatch-11x14";const o=this._hasFutureEntry();const r=e?(0,p.RG)(a):false;let l=t?"clock-out":"clock-in";if(r){l="verify-and-clock-out"}return(0,s.Z)(C.Button,{clickAction:()=>this._toggleClocking(),"data-bi-id":`my-info-timesheet-${l}-button`,iconBefore:i,isDisabled:n||o,isProcessing:n,size:"small",text:(0,p.qu)(e.clockedIn,n,r,this.userCanEdit),type:"button",width:100})}_renderProjectTrackingButton(){const{clock:e,isOwnTimesheet:t,projectsWithTasks:a}=this.props;const{requesting:n}=this.state;const i=(0,p.aC)(a);const o=this._hasFutureEntry();let r=this._renderClockButton();if(!e.clockedIn&&a.allIds.length>0){r=(0,s.Z)(C.ButtonGroup,{className:"TimesheetSummary__clockButtonGroup",color:"primary"},void 0,this._renderClockButton(),(0,s.Z)(C.Dropdown,{buttonSettings:{isProcessing:n,size:"small"},isDisabled:n||o,items:i,onSelect:this._handleProjectDropdownClick,showSearch:"auto"}))}return(0,s.Z)(Qe.Z,{condition:t&&o,wrap:e=>(0,s.Z)(M.Z,{settings:{content:m._3},wrapperClassName:"TimesheetSummary__clockButtonTooltip"},void 0,e)},void 0,r)}render(){const{clock:e,focusedTimesheet:t,getToday:a,serverTime:n,isOwnTimesheet:o}=this.props;const{clockInLatitude:r,clockInLongitude:l,clockOutLatitude:c,clockOutLongitude:d}=e.latest||{};const u=!!(r&&l||c&&d);const h=a();const{holidayPayType:m}=t;const{showEditActions:f}=t;const g=e?(0,p.RG)(e.latest):false;const v=g?"orange":null;const y=h.holidays.map((e=>{if(e.paidHours!==null){const t=(0,p.Rr)(e);return(0,s.Z)("div",{className:"baseColor"},e.name,t)}}));const b=y.length>0;const w=(0,E.classNameFromObject)({TimesheetSummary__todayClockTotal:true,"TimesheetSummary__todayClockTotal--withHoliday":m==="normal"&&b});const S=(0,E.classNameFromObject)({TimesheetSummary__todayClockActive:true,"TimesheetSummary__todayClockActive--withHoliday":m==="normal"&&b,"TimesheetSummary__todayClockActive--forgotClockOut":g});const x=(0,E.classNameFromObject)({TimesheetSummary__text:true,"TimesheetSummary__text--clock":true,"TimesheetSummary__text--forgotClockOut":g});const T=(0,E.classNameFromObject)({TimesheetSummary__note:true,"TimesheetSummary__note--clockedIn":e.clockedIn});return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("div",{className:"TimesheetSummary__title TimesheetSummary__title--clock"},void 0,e.clockedIn?st.__("Clocked In"):st.__("Not Clocked In")),(0,s.Z)("div",{className:T,onClick:this._handleAddNoteClick},void 0,e.clockedIn&&(0,s.Z)("div",{className:S},void 0,(0,p.mr)(e.earned+e.midnightTotals),(0,s.Z)(et.Z,{backgroundColor:"#f6f6f6",fillColor:v})),!e.clockedIn&&(0,s.Z)("div",{className:w},void 0,st.__("%1$s Today",(0,p.mr)(h.hours||0))),(0,s.Z)("div",{className:x},void 0,e.latest&&(0,p.Tz)(e.latest,n),e.clockedIn&&e.latest.note&&(0,s.Z)("span",{className:"TimesheetSummary__textIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-page-9x11"})),it&&e.clockedIn&&u&&(0,s.Z)("span",{className:"TimesheetSummary__textIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-location-9x12"}))),(0,s.Z)("div",{className:"TimesheetSummary__noteIconWrapper"},void 0,(0,s.Z)("span",{className:"TimesheetSummary__noteIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-page-plus-13x16"})))),m==="normal"&&y.length>0&&(0,s.Z)("div",{className:"TimesheetSummary__holidayMessage"},void 0,y),(o||nt&&f)&&(0,s.Z)("div",{className:"TimesheetSummary__clockButtonWrapper"},void 0,this._renderProjectTrackingButton()),(0,s.Z)("div",{className:"TimesheetSummary__divider"}))}}var rt=b(["employee","isOwnTimesheet","clock","serverTime","focusedTimesheet.holidayPayType","focusedTimesheet.showEditActions","workflow.userCanEdit","isViewOnly","projectsWithTasks","clockIn","clockOut","refreshTimesheet","getToday"],ot);var lt=a(26570);class ct extends i.Component{constructor(){super(...arguments);(0,n.Z)(this,"_defaultAnimationState",{focusedDaysUpdated:false,lastWeekDaysUpdated:false,thisWeekDaysUpdated:false});(0,n.Z)(this,"state",{...this._defaultAnimationState,focusedDays:this.props.getFocusedDays(),lastWeekDays:this.props.getLastWeekDays(),thisWeekDays:this.props.getThisWeekDays()});(0,n.Z)(this,"_weekTitleText",lt.__("This Week"));(0,n.Z)(this,"_weekRangeText",Ne(this.props.thisWeek.start,this.props.thisWeek.end,this.props.serverTime));(0,n.Z)(this,"_payPeriodTitleText",Ze(this.props.focusedTimesheet.id,this.props.latestTimesheetId,this.props.latestPreviousTimesheetId));(0,n.Z)(this,"_payPeriodRangeText",Ne(this.props.focusedTimesheet.start,this.props.focusedTimesheet.end,this.props.serverTime))}static get className(){return"TimesheetSummary"}_renderApproval(){const e={employeeId:this.props.employee.id,employeeName:this.props.employee.name,employeePhotoUrl:this.props.employee.photoUrl,payPeriodTitleText:this._payPeriodTitleText,payPeriodRangeText:this._payPeriodRangeText};return o().createElement(Oe,e)}_renderSummary(){const{isOwnTimesheet:e,employee:t,workflow:a,serverTime:n,timesheetOptions:r,clock:l,summaryTotals:c}=this.props;const{focusedDaysUpdated:d,lastWeekDaysUpdated:u,thisWeekDaysUpdated:h,focusedDays:m,lastWeekDays:f,thisWeekDays:g}=this.state;const{weekTotal:v,periodTotal:y,periodOvertime:b,periodTimeOff:w,periodHoliday:S}=c;const C=l?l.earned:0;const x={fadeGraph:h||u,fadeWeekTotal:h,hideWeekends:e&&!r.showWeekends,lightTheme:!!l,lastWeekDays:f,thisWeekDays:g,serverTime:n,weekTitleText:this._weekTitleText,weekRangeText:this._weekRangeText,weekTotal:(0,p.mr)(v+C)};const T={approvalMonthAndDayStr:a.approvableMoment.format("MMM D"),fadePayPeriod:d,focusedDays:m,payPeriodTitleText:this._payPeriodTitleText,payPeriodRangeText:this._payPeriodRangeText,payPeriodTotal:(0,p.mr)(y+C),periodOvertime:b,periodTimeOff:w,periodHoliday:S};return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("img",{alt:lt.__("employee avatar"),className:"TimesheetSummary__photo",src:t.photoUrl}),!!l&&(0,s.Z)(rt,{}),o().createElement(Ke,x),o().createElement(Je,T))}componentWillReceiveProps(e){const t={focusedDays:this.props.getFocusedDays(),lastWeekDays:this.props.getLastWeekDays(),thisWeekDays:this.props.getThisWeekDays()};const a=this.props.clock&&e.clock.clockedIn!==this.props.clock.clockedIn;const s=this.props.clock&&e.clock.clockedIn&&e.clock.earned!==this.props.clock.earned;if(a||s){this.setState(t)}else{const e={focusedDaysUpdated:ke(this.state.focusedDays)!==ke(t.focusedDays),lastWeekDaysUpdated:ke(this.state.lastWeekDays)!==ke(t.lastWeekDays),thisWeekDaysUpdated:ke(this.state.thisWeekDays)!==ke(t.thisWeekDays)};if(e.focusedDaysUpdated||e.lastWeekDaysUpdated||e.thisWeekDaysUpdated){this.setState(e);setTimeout((()=>this.setState({...this._defaultAnimationState,...t})),300)}}}render(){const{isApprovalShowing:e,isViewOnly:t}=this.props;return(0,s.Z)("div",{className:"TimesheetSummaryContainer"},void 0,o().createElement("div",{className:(0,E.classNameFromObject)({TimesheetSummary:true,"TimesheetSummary--viewOnly":t}),ref:e=>{this._timesheetSummaryRef=e}},e||t?this._renderApproval():this._renderSummary()))}}var dt=b(["isApprovalShowing","isOwnTimesheet","serverTime","timesheetOptions","employee","workflow","focusedTimesheet","latestTimesheetId","latestPreviousTimesheetId","thisWeek","clock","summaryTotals","showHeader","isViewOnly","getFocusedDays","getLastWeekDays","getThisWeekDays"],ct);var ut=a(26570);function ht(e){const{getChangedEntries:t,isOpen:a,isProcessing:n,onClose:i,primaryAction:o}=e;const r=t().length;const l=r===1?ut.__("This time entry has a note associated with it. You will lose the note if you continue."):ut.__("You’re clearing out at least one time entry with a note. You will lose the note(s) associated with these entries if you continue.");return(0,s.Z)(A.u_,{header:l,icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:a,isProcessing:n,onClose:i,primaryAction:o,primaryActionText:r===1?ut.__("Clear Time Entry + Note"):ut.__("Clear Time Entries + Notes"),title:ut.__("Just Checking...")})}var pt=a(26570);function mt(e){pt(`.js-timesheet-${e}`).slideToggle(200)}function ft(e){const{isApprovalShowing:t,isOwnTimesheet:a,timesheetOptions:s,getChangedEntries:n}=e;if(a&&!t){(0,r.each)(s,((e,t)=>{if(!e){pt(`.js-timesheet-${t}`).hide()}}))}gt(n)}function gt(e){pt(document).on("click","a:not(.history-modal):not(.no-form-changed-popup)",(function t(a){const s=pt(a.target).closest("a").attr("href");if(s&&s!==""&&s!==`javascript:void(0)`&&s.indexOf("#")===-1&&e().length){a.preventDefault();vt(s)}}))}function vt(e){window.BambooHR.Modal.setState({headline:pt.__(`You haven't saved your changes`),content:(0,s.Z)("p",{},void 0,pt.__("Your changes will be lost if you navigate away from this page without saving.")),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,primaryAction:function(){window.BambooHR.Modal.setState({isOpen:false},true)},primaryActionText:pt.__("Continue Working"),secondaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);window.location=e},secondaryActionText:pt.__(`Don't Save`),alternativeAction:null,title:pt.__("Just Checking...")})}var _t=a(82543);const yt=(0,d.isEnabled)("timeTrackingWebSockets");let bt=!yt;let wt=true;class St extends i.Component{static get className(){return"EmployeeTimesheet"}constructor(e){var t;super(e);t=this;(0,n.Z)(this,"_saveTimesheetFail",(()=>{this.setState({saveTimesheetPending:false,showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false})}));(0,n.Z)(this,"_saveTimesheetSuccess",(()=>{this.actions.refreshTimesheet().then((()=>{document.dispatchEvent(new CustomEvent("SiteFooter:close"));this.setState({showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false});window.setMessage(m.Te,"success")})).catch(this._saveTimesheetFail)}));(0,n.Z)(this,"_handleFooterAction",(()=>{this.actions.saveTimesheet()}));(0,n.Z)(this,"_handleFooterCancel",(()=>{this.actions.resetSingleEntryUserEdits()}));(0,n.Z)(this,"actions",{changeViewOption:(e,t)=>{const{timesheetOptions:a}=this.state;(0,h.updateViewOption)(e,t);mt(e);this.setState({timesheetOptions:{...a,[e]:t}})},editSingleEntrySlat:(e,t)=>{let{days:a}=this.state;a={...a};a[e]={...a[e],userEdit:t};this.setState({days:a})},resetSingleEntryUserEdits:()=>{const{days:e}=this.state;const t=(0,r.flow)((0,l.map)((e=>{e.userEdit=null;return e})),(0,l.keyBy)("date"))(this.queries.getFocusedDays());this.setState({days:{...e,...t}})},saveTimesheet:()=>{if(window.ASSUMED_USER){window.disabledForPermsTest();return}if(this.queries.areChangedEntriesValid()){const e=this.queries.getEntriesWithClearedTimeAndNotesCount();if(e>0){this.setState({showClearNoteWarningModal:true})}else{this.actions.submitTimesheetChanges()}}},submitTimesheetChanges:()=>{const e=this.queries.getChangedEntries().map((e=>({date:e.date,hours:(0,p.TD)(e.userEdit),employeeId:window.Employee.id})));this.setState({saveTimesheetPending:true,clearNoteWarningModalProcessing:true});if(e.length){(0,h.saveSingleDailyHours)(e).then(this._saveTimesheetSuccess).catch(this._saveTimesheetFail)}else{this._saveTimesheetSuccess()}},refreshTimesheet:()=>{const{focusedTimesheet:e,clock:t}=this.state;return(0,h.refreshTimesheet)(e.id).then((e=>{const a=e.data;const s=(0,f.Z)(a);if(s.clock&&!t.clockedIn&&s.clock.clockedIn){this.earnedTimerOffset=0}this.setState(s)}))},approveTimesheet:(e,t)=>{if(this.queries.getChangedEntries().length){return Promise.reject(null)}return(0,h.approveTimesheet)(e,t,this.actions.refreshTimesheet).then(this.actions.refreshTimesheet)},clockIn:(e,t,a)=>{wt=false;return(0,h.clockIn)(e,t,a).then((()=>{const{employee:e,serverTime:t,days:a,clock:s}=this.state;const n={timezone:e.timezone,start:_t.tz(t.clone(),e.timezone).format("YYYY-MM-DD HH:mm:ss"),end:null,hours:null,id:-1};const i=Object.assign({},s,{clockedIn:true,latest:n});const o={...this.queries.getToday()};o.clockEntries.push(n);a[o.date]=o;this.earnedTimerOffset=_t.tz(this.serverTimer.ms,e.timezone).diff(t.clone().startOf("minute"));this.setState({clock:i,days:a},this.actions.refreshTimesheet)})).catch(this.actions.refreshTimesheet)},clockOut:e=>{wt=false;clearTimeout(this.earnedTimer);return(0,h.clockOut)(e).then(this.actions.refreshTimesheet).catch(this.actions.refreshTimesheet)},updateServerTime:e=>{const{employee:t,serverTime:a,clock:s}=this.state;const n=_t.tz(e,t.timezone);if(!n.isSame(a,"day")){window.location.reload(true)}this.setState({serverTime:n},(()=>{if(s&&s.clockedIn){this.earnedTimer=setTimeout(this.actions.updateEarnedTime,this.earnedTimerOffset)}}))},updateEarnedTime:()=>{const{clock:e,days:t,serverTime:a}=this.state;if(e&&!e.clockedIn){return}const s={...e};const n={...t};const i=this.queries.getToday();const o=(0,r.last)(i.clockEntries);const l=_t.tz(o.start,o.timezone);s.earned=(0,p.MS)(l,a);i.hours=i.clockEntries.reduce(((e,t)=>e+t.hours),s.earned);n[i.date]=i;this.setState({clock:s,days:n})},pollClockStatus:function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(document.hidden&&!e){return}const{employee:{id:a},clock:{clockedIn:s,latest:n}}=t.state;(0,h.getClockStatus)(a).then((e=>{let{isClockedIn:a,clockTime:i}=e;const o=(0,p.Am)(s,n,a,i);if(o){t.actions.refreshTimesheet()}}))}});(0,n.Z)(this,"queries",{getPadStartDays:()=>{const{padStartTimesheet:e,days:t}=this.state;return Ct(e,t)},getFocusedDays:()=>{const{focusedTimesheet:e,days:t}=this.state;return Ct(e,t)},getPadEndDays:()=>{const{padEndTimesheet:e,days:t}=this.state;return Ct(e,t)},getLastWeekDays:()=>{const{lastWeek:{start:e,end:t},days:a}=this.state;return(0,p.eK)(e,t,a)},getThisWeekDays:()=>{const{thisWeek:{start:e,end:t},days:a}=this.state;return(0,p.eK)(e,t,a)},getChangedEntries:()=>this.queries.getFocusedDays().filter((e=>e.userEdit!==null)).filter((e=>(0,p.TD)(e.userEdit)!==e.hours)),areChangedEntriesValid:()=>!this.queries.getChangedEntries().map((e=>{let{userEdit:t}=e;return(0,p.TD)(t)})).filter((e=>e===p.ch||e===p.w9)).length,getEntriesWithClearedTimeAndNotesCount:()=>this.queries.getChangedEntries().filter((e=>{let{note:t,userEdit:a}=e;const s=(0,p.TD)(a);if(t&&s===null){return true}return false})).length,getToday:()=>{const{days:e,serverTime:t}=this.state;return e[t.format("YYYY-MM-DD")]||null}});const{days:a,serverTime:s,clock:i,focusedTimesheet:o}=e.initialState;const d=s?!!a[s.format("YYYY-MM-DD")]||false:false;if(i&&d){const e=(0,l.random)(5e3,55e3);s.add(Math.ceil(window.performance.now()),"ms");this.earnedTimer=null;this.earnedTimerOffset=0;this.serverTimer=(new u.Z).everyMinute((t=>{this.actions.updateServerTime(t);if(bt){setTimeout(this.actions.pollClockStatus,e)}})).start(s.valueOf());if(yt){const e=()=>{if(wt){this.actions.pollClockStatus(true)}wt=true};c.Z.subscribe({channel:"timeTracking",subjectId:o.id,events:{clockIn:e,clockOut:e}}).catch((()=>{bt=true}))}}this.state={...e.initialState,...this.actions,...this.queries,saveTimesheetPending:false,isViewOnly:e.isViewOnly,showHeader:e.showHeader,showSheetPadDays:e.showSheetPadDays,showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false}}componentDidMount(){const e=document.querySelector('[data-form-id="timesheetFooter"]');if(e){e.addEventListener("click",(e=>{if(e.target.closest('button[data-action="SiteFooterAction:submit"]')){this._handleFooterAction()}else if(e.target.closest('button[data-action="SiteFooterAction:cancel"]')){this._handleFooterCancel()}}))}ft((0,r.pick)(this.state,["isApprovalShowing","isOwnTimesheet","timesheetOptions","getChangedEntries"]))}render(){const{clearNoteWarningModalProcessing:e,focusedTimesheet:t,showClearNoteWarningModal:a}=this.state;const n=t.type==="none";return(0,s.Z)(v,{value:this.state},void 0,(0,s.Z)("div",{className:"TimesheetTab"},void 0,(0,s.Z)(te,{}),(0,s.Z)("div",{className:"TimesheetContent js-timesheet-content"},void 0,n?o().createElement(S.Z,m.qN):(0,s.Z)(xe,{}),!n&&(0,s.Z)(dt,{}))),(0,s.Z)(ht,{getChangedEntries:this.queries.getChangedEntries,isOpen:a,isProcessing:e,onClose:()=>this.setState({showClearNoteWarningModal:false}),primaryAction:this.actions.submitTimesheetChanges}))}}function Ct(e,t){if(e===null){return[]}return(0,p.eK)(e.start,e.end,t)}},45548:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var s=a(51341);var n=a(73641);var i=a(13296);var o=a(71141);var r=a(17863);function l(){const e=!!window.ASSUMED_USER;if(e){return window.ASSUMED_USER.employeeId===window.Employee.id}return window.Employee&&window.SESSION_USER.employeeId===window.Employee.id}function c(e,t,a,n,i){if(a==="clock"&&n&&i&&e.status!=="approved"){return false}return e&&s.Z.unix(e.approvableDate).isBefore(t)}function d(e){return(0,n.flow)(n.values,(0,i.sortBy)("date"))(e)}function u(e){const t=d(e);return{start:t[0].date,end:t[t.length-1].date}}function h(e){if(!e){return{id:-1,type:"none"}}const{id:t,holidayPayType:a,showEditActions:s}=e;let{type:n,dailyDetails:i}=e;if(n!=="single"&&n!=="hour"){n="multiple"}i=d(i);return{id:t,type:n,start:i[0].date,end:i[i.length-1].date,holidayPayType:a,workWeekStartsOn:(0,r.lo)(i),showEditActions:s}}function p(e,t,a){return(0,n.flow)((0,i.map)((e=>{e.moment=s.Z.tz(e.date,a);e.isWeekend=e.moment.day()===0||e.moment.day()===6;e.isToday=e.moment.isSame(t,"day");e.isFuture=e.moment.isAfter(t,"day");e.userEdit=null;return e})),(0,i.keyBy)("date"))(e)}const m=(0,o.isEnabled)("multipleEntriesByHour");function f(e){e=(0,n.cloneDeep)(e);const{employeeId:t,employeeName:a,employeePhotoUrl:o,employeeTimesheets:d,currentTimesheetId:m,previousTimesheetId:f,previousTimesheet:g,timesheet:v,nextTimesheet:y,lastWeek:b,thisWeek:w,timesheetOptions:S,today:C,thisWeekHours:x,projectsWithTasks:T}=e;const E=s.Z.tz(C.date,C.timezone);const k=h(v);const Z=k.id===m;const F=l();const I=c(v,E,k.type,Z,F);if(k.type==="none"){return{isOwnTimesheet:F,isApprovalShowing:I,employeeTimesheets:d,timesheetOptions:S,focusedTimesheet:{id:-1,type:"none"}}}if(!d.find((e=>Number(e.id)===Number(k.id)))){d.push(k)}const N=p({...Z?b:{},...Z?w:{},...g?g.dailyDetails:{},...v.dailyDetails,...y?y.dailyDetails:{}},E,C.timezone);const A=N[E.format("YYYY-MM-DD")];let M=null;if(v.type==="clock"){M={clockedIn:!!e.lastClockEntry&&!e.lastClockEntry.end,latest:e.lastClockEntry,earned:0,midnightTotals:0};if(M.clockedIn){const e=(0,n.flow)(n.values,(0,i.sortBy)("date"),n.last)(N).moment;const t=s.Z.tz(M.latest.start,M.latest.timezone);const a=e.isSameOrAfter(t,"day");const o=E.isSame(t,"day");if(a&&!o){const e=t.format("YYYY-MM-DD");const a=E.format("YYYY-MM-DD");(0,r.eK)(e,a,N).forEach((e=>{e.hasMidnightEntry=true}));M.midnightTotals=(0,r.MS)(t,E.clone().startOf("day"))}if(A){const e=(0,n.last)(A.clockEntries);const t=s.Z.tz(e.start,e.timezone);M.earned=(0,r.MS)(t,E);A.hours=A.clockEntries.reduce(((e,t)=>e+t.hours),M.earned)}}}const D={weekTotal:x,periodTotal:v.totalHours,periodOvertime:v.overtimeSummary,periodTimeOff:v.totalTimeOffHours,periodHoliday:v.totalHolidayHours};return{isApprovalShowing:I,isOwnTimesheet:F,isLatestTimesheet:Z,serverTime:E,timesheetOptions:S,employeeTimesheets:d,employee:{id:t,name:a,photoUrl:o,timezone:C.timezone},clock:M,workflow:{approvableDate:v.approvableDate,approvableMoment:s.Z.unix(v.approvableDate),approvalDate:v.approvalDate,approvalMoment:s.Z.unix(v.approvalDate),approverName:v.approverName,dueDate:v.dueDate,dueMoment:s.Z.unix(v.dueDate),hoursLastChangedAt:v.hoursLastChangedAt,hoursLastChangedAtMoment:s.Z.unix(v.hoursLastChangedAt),status:v.status,userCanApprove:v.canApprove,userCanEdit:v.showEditActions},focusedTimesheet:k,summaryTotals:D,padStartTimesheet:g&&h(g),padEndTimesheet:y&&h(y),latestTimesheetId:m,latestPreviousTimesheetId:f,lastWeek:u(b),thisWeek:u(w),days:N,projectsWithTasks:T||{allIds:[],byId:{}}}}},68003:(e,t,a)=>{"use strict";a.d(t,{$J:()=>b,$T:()=>p,Bo:()=>o,C5:()=>C,Ep:()=>m,HU:()=>w,Mj:()=>x,QY:()=>d,RG:()=>i,T_:()=>s,Te:()=>r,Vl:()=>T,_3:()=>y,_v:()=>l,jw:()=>g,ki:()=>h,m6:()=>n,qN:()=>E,qe:()=>f,rX:()=>v,wR:()=>u,x9:()=>c,yq:()=>S});var $=a(26570);const s="h:mm A";const n=$.__("Whoa. Try entering time like %s or 1:30.",`1${window.GLOBAL_DECIMAL_CHAR||"."}5`);const i=$.__("Where are we, Venus? Please enter 24 hours or fewer.");const o=$.__("Where are we, Venus? Please enter 24 total hours or fewer.");const r=$.__("Done! Your time has been saved.");const l=$.__("Uh oh...something went wrong, and your time wasn't saved. Try it again?");const c=$.__("Sorry, something went awry and we weren't able to clock you in. Try again?");const d=$.__("Sorry, something went awry and we weren't able to clock you out. Try again?");const u=$.__("Oh no... Sorry, there was a problem approving hours. Please try again.");const h=$.__("Your hours worked have been successfully recorded.");const p=$.__("Success! The time entry has been deleted.");const m=$.__("There seems to be a problem deleting that entry. Please try again.");const f=$.__("Oops. Please fix any incorrect time entries and try again.");const g=$.__(`Your timesheet has already been approved.`);const v=$.__(`If your time needs to be adjusted, contact your manager or HR administrator.`);const y=$.__("Clocking is disabled because you have a time entry saved for sometime in the future.");const b=$.__("There are conflicting entries that already exist.");const w=$.__("You can't clock in in the future.");const S=$.__("Uh oh...something went wrong, and your note wasn't saved. Try it again?");const C=$.__("Uh oh...something went wrong. Please refresh the page and try again.");const x={"time-off-luggage":"fab-briefcase-clock-14x12","time-off-calendar":"fab-calendar-clock-14x14","happy-calendar":"fab-calendar-smiling-14x14","palm-trees":"fab-palm-tree-14x13","camping-trailer":"fab-trailer-14x14",airplane:"fab-airplane-13x14","band-aid":"fab-band-aid-14x14","first-aid-kit":"fab-medical-clipboard-11x14","joining-hands":"fab-hands-joined-14x13",selfie:"fab-person-circle-14x14",graduation:"fab-graduation-cap-14x12",family:"fab-family-14x13",home:"fab-home-14x14","teddy-bear":"fab-teddy-bear-14x14","baby-carriage":"fab-stroller-14x14","birthday-cake":"fab-cake-13x14",gavel:"fab-gavel-14x14",medal:"fab-medal-13x14"};const T="fab-briefcase-clock-14x12";const E={title:$.__("There is no timesheet for this pay period."),subtitle:$.__("A pay schedule is required to enable time tracking."),icon:"fab-tumbleweed-96x120",className:"TimesheetBlankState"}},66327:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addEdit:()=>L,approveTimesheet:()=>A,cancelTimeTrackingTrial:()=>j,clockIn:()=>M,clockOut:()=>D,deleteEntry:()=>P,getClockStatus:()=>O,postNewActivationTrialValues:()=>H,refreshTimesheet:()=>N,requestTimeTrackingSubscription:()=>B,saveClockInData:()=>R,saveSingleDailyHours:()=>I,setTrialStarted:()=>q,updateViewOption:()=>F});var s=a(73641);var n=a(17842);var i=a.n(n);function o(e){return i().post("/timesheet/options/save",e)}function r(e){return i().post("/timesheet/hours",JSON.stringify(e),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function l(e){return i().get(`/timesheet/${e}`)}function c(e){return i().post("/timesheet/approve",e)}function d(e,t){return i().post(`/timesheet/clock/in/${e}`,t)}function u(e){return i().post(`/timesheet/clock/out/${e}`)}function h(e,t){return i().post(`/timesheet/${e}/entries`,JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function p(e,t){return i()["delete"](`/timesheet/${e}/entries`,JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function m(e){return i().get(`/timesheet/employee/${e}/is_clocked_in`)}function f(e,t){return i().post(`/timesheet/employee/${e}/clock/in/data`,t)}function g(){return i().post("/settings/time_tracking/subscribe")}function v(e){return i().post("/settings/time_tracking/cancelTrial",e)}function y(e){return i().post(`/settings/time_tracking/startTrial`,e)}function b(){return i().post("/settings/time_tracking/trialStarted")}var w=a(68003);var S=a(89835);var C=a(23321);var x=a(51341);var T=a(95361);var $=a(26570);var E=(e,t)=>{let a="";let s="";let n=[];if(t?.today&&t?.datetime){const e=x.Z.tz(t.today.date,t.today.timezone);a=x.Z.tz(t.datetime.date,t.datetime.timezone).calendar(e)}if(e==="clockOut"){s=$.__("Clocked Out");n=[$.__("You were clocked out elsewhere%1$s.",a?` <b class="fontSemibold">${a}</b>`:""),w.rX]}else if(e==="clockIn"){s=$.__("Clocked In");n=[$.__("You were clocked in elsewhere%1$s.",a?` <b class="fontSemibold">${a}</b>`:"")]}else if(e==="clockInFutureEntry"){s=$.__(`You can't be clocked in right now`);n=[w._3]}else if(e==="alreadyApproved"){s=$.__("Timesheet already approved");n=[$.__(`You can't be clocked in because your timesheet has already been approved.`),w.rX]}const i=microTemplate(T.Z,{iconName:"fab-timesheet-exclamation-84x57",paragraphs:n});const o=$.__("Close");window.BambooHR.Modal.setState({isOpen:true,content:(0,S.Z)("div",{dangerouslySetInnerHTML:{__html:i}}),alternativeAction:null,primaryActionText:o,primaryAction(){if(e==="alreadyApproved"){window.location.reload(true)}else{window.BambooHR.Modal.setState({isOpen:false})}},title:s})};var k=a(42202);var Z=a(87197);function F(e,t){return o({[e]:t})}function I(e){return r({hours:e}).then((e=>{if(e.data&&(0,s.startsWith)(e.data,"Error")){window.setMessage(w._v,"error");throw e.data}})).catch((e=>{if(e.response.status===403){(0,k.Z)("save")}else{window.setMessage(w._v,"error")}throw e.response}))}function N(e){return l(e)}function A(e,t,a){return c({id:e,hoursLastChangedAt:t}).catch((t=>{const s=t.response.data;if(s.status==="staleData"){(0,k.Z)("approve")}else if(s.status==="clockOut"){(0,Z.Z)(s.timesheets,(t=>{A(e,t.hoursLastChangedAt,a).then(a)}))}else{window.setMessage(w.wR,"error")}throw t}))}function M(e,t,a){const s=t?{projectId:t,taskId:a}:null;return d(e,s).catch((e=>{const t=e.response.data?.error?.code;if(t==="CLOCKED_IN"){E("clockIn",e.response.data)}else if(t==="FUTURE_ENTRY"){E("clockInFutureEntry")}else if(t==="APPROVED"){E("alreadyApproved")}else{window.Rollbar.error("clock in",e);window.setMessage(w.x9,"error")}throw e}))}function D(e){return u(e).catch((e=>{const t=e.response;if(t.status===403||t.status===409){E("clockOut",t.data)}else{window.Rollbar.error("clock out",e);window.setMessage(w.QY,"error")}throw e}))}function P(e,t){return p(e,{entries:[t]}).then((()=>{window.setMessage(w.$T,"success")})).catch((e=>{window.setMessage(w.Ep,"error");throw e.response}))}function L(e,t){const a=e==="hour"?{hours:t}:{entries:t};return h(e,a).then((e=>{if(e.status===200){window.setMessage(w.ki,"success")}else{window.setMessage(w.C5,"error")}})).catch((e=>{if(e.response.status===403){(0,k.Z)("save")}else{window.setMessage(w._v,"error")}}))}function O(e){return m(e).then((e=>e.data)).catch((e=>{throw e.response}))}function R(e,t){return f(e,t).catch((e=>{if(e.response.status===409){window.setMessage(w.$J,"error")}else if(e.response.data.error.code==="FUTURE_CLOCK_IN_TIME"){window.setMessage(w.HU,"error")}else{window.setMessage(w.yq,"error")}throw e.response}))}function B(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return g().finally((()=>{if(e){window.location.href="/settings/time_tracking"}}))}function j(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return v(e).finally((()=>{if(t){window.location.href="/settings/time_tracking"}}))}function H(e){return y(e)}function q(){return b()}},62705:(e,t,a)=>{"use strict";a.d(t,{Z:()=>j});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(77512);var r=a(89835);var l=a(44119);var c=a(51341);var d=a(73641);var u=a(59155);var h=a(21198);var p=a(56445);var m=a(17863);var f=a(66327);var g=a(68003);var v=a(98675);class y extends n.Component{constructor(){super(...arguments);(0,l.Z)(this,"_handleOnInput",(e=>{this._inputVal.value=(0,m.Xw)(e.target.value,this._previousVal);this._previousVal=this._inputVal.value}));(0,l.Z)(this,"_previousVal","")}static get className(){return"ClockFieldBox"}componentDidUpdate(){this._previousVal=this.props.timeVal}render(){const{autoFocus:e,label:t,timeVal:a,handleInputChange:s,handleInputBlur:n,handleInputFocus:o,selectProps:l,error:c,disabled:p}=this.props;const m=e?"autofocus":null;const f=typeof s==="function"?s:d.noop;const g=typeof n==="function"?n:d.noop;const v=typeof o==="function"?o:d.noop;const y={ClockField:true,error:c};const b=(0,d.uniqueId)("clockField");return(0,r.Z)("div",{className:(0,h.classNameFromObject)(y)},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:b},void 0,t),(0,r.Z)("div",{className:"fieldDiv fab-FormField"},void 0,i().createElement("input",{autoFocus:m,className:"ClockField__formInput fab-TextInput fab-TextInput--width2",disabled:p,id:b,onBlur:g,onChange:f,onFocus:v,onInput:this._handleOnInput,ref:e=>this._inputVal=e,type:"text",value:a}),i().createElement(u.Select,l)))}}var b=a(71141);var w=a(33743);var S=a(78922);var C=a(41783);var $=a(26570);function x(e){const t=(0,C.y)();const{canEdit:a,id:n,onAddNote:o,onProjectChange:l,projectData:c,projectTaskSelectStyles:d,projectsWithTasks:h,showNoteInput:p}=e;let f=null;if(c&&c.projectId&&c.taskId){f=`${c.projectId}-${c.taskId}`}else if(c&&c.projectId){f=c.projectId}const g={items:(0,m.aC)(h),onSelect:e=>l(n,e),onClear:()=>l(n,null),placeholder:`--${$.__("Select Project/Task")}--`,renderToggleContent:e=>(0,m.m7)(e,c.projectName,c.taskName),selectedValues:[f],width:7};return(0,r.Z)("div",{className:t.wrapper},void 0,h.allIds.length>0&&(0,r.Z)("span",{className:[t.projectTaskSelect,d].join(" ")},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:"projectSelect"},void 0,$.__("Save time to...")),i().createElement(u.Select,(0,s.Z)({isDisabled:!a,name:"projectSelect"},g))),(p||a)&&(0,r.Z)(S.Z,{customCSS:{AddEditEntry__noteIconWrapper:true},disabled:!a||p,hasNote:p,onNoteIconClick:()=>o(n)}))}var T=a(26570);const E=(0,b.isEnabled)("timeTrackingGeolocation");var k=e=>{const{canEdit:t,endTime:a,showRemoveButton:s,id:o,geolocationData:{clockInAddress:l,clockInLatitude:c,clockInLongitude:d,clockInLocationAccuracy:p,clockOutAddress:f,clockOutLatitude:g,clockOutLongitude:v,clockOutLocationAccuracy:y},handleRemoveButtonClick:b,note:S,onNoteChange:C,overlappingError:k,showNoteInput:I,total:N,type:A}=e;const[M,D]=(0,n.useState)(false);const P=(0,h.classNameFromObject)({AddEditEntry__clocks:true,"AddEditEntry__clocks--add":A==="add"});const L=!!(l||f);const O=p===-1;const R=y===-1;const B=a!=="1"&&N<0;let j=null;if(B){j=T.__("Oops, try again")}else if(k){j=T.__("Overlapping entry")}else if(N){j=(0,m.mr)(N)}let H=[];let q=null;if(E){H=[{accuracy:p,coordinates:{lat:c,lng:d},label:"Clock In"},{accuracy:y,coordinates:{lat:g||null,lng:v||null},label:"Clock Out"}];const e=(0,m.Pz)([c,d],[g,v]);if(c&&d&&g&&v&&e<=50){H=[{accuracy:p,coordinates:{lat:c,lng:d},label:"Clock In/Out"}]}if(e<100&&e>50){q=17}}return(0,r.Z)("div",{className:P},void 0,s&&(0,r.Z)("span",{className:"AddEditEntry__removeEntry",onClick:()=>{b(o)}},void 0,(0,r.Z)(u.Icon,{name:"fab-x-10x10"})),(0,r.Z)("div",{className:"fieldRow AddEditEntry__fieldRow"},void 0,Z(true,e),(0,r.Z)("span",{className:"AddEditEntry__formDash"},void 0,"–"),Z(false,e,true),i().createElement(x,e),(0,r.Z)("p",{className:"fab-FormNote AddEditEntry__formNote"},void 0,j)),E&&(L||O||R)&&(0,r.Z)("div",{className:"AddEditEntry__location"},void 0,(0,r.Z)("span",{className:"fab-Label"},void 0,T.__("Location")),E&&(l||O)&&(0,r.Z)("div",{className:(0,h.classNameFromObject)({AddEditEntry__address:true,"AddEditEntry__address--withWarning":O})},void 0,(0,r.Z)("span",{className:"AddEditEntry__address__label"},void 0,T.__("Clocked In Near")),O?F("clock-in"):l),E&&(f||R)&&(0,r.Z)("div",{className:(0,h.classNameFromObject)({AddEditEntry__address:true,"AddEditEntry__address--withBorder":true,"AddEditEntry__address--withWarning":R})},void 0,(0,r.Z)("span",{className:"AddEditEntry__address__label"},void 0,T.__("Clocked Out Near")),R?F("clock-out"):f),!M&&(!O||!R)&&(0,r.Z)(u.TextButton,{clickAction:()=>D(true),iconAfter:"fab-double-chevron-down-6x8",iconBefore:"fab-location-11x14",text:T.__("Show Map"),type:"button"}),M&&(!O||!R)&&(0,r.Z)(w.D,{markers:H,height:"291px",width:"396px",zoom:q})),I&&(0,r.Z)("textarea",{autoFocus:I,className:"AddEditEntry__noteInput fab-Textarea",cols:"55",defaultValue:S,disabled:!t,maxLength:"200",onChange:e=>{C(e,o)},placeholder:T.__("Add note..."),rows:"2",type:"text"}))};function Z(e,t,a){const{canEdit:s,startTime:n,startMeridiem:o,endTime:r,endMeridiem:l,id:c,total:d,handleInputBlur:u,handleInputChange:h,handleSelectChange:p,overlappingError:m}=t;const f=e?T.__("Start Time"):T.__("End Time");const g=e?n:r;const v=e?o:l;const b={isDisabled:!s,isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[v],onSelect:t=>{p(t,e,c)}};const w=r!=="1"&&d<0;const S={disabled:!s,label:f,timeVal:g,selectProps:b,error:w||m,hasNote:a,autoFocus:e,handleInputChange:t=>{h(t.target.value,e,c)},handleInputBlur:t=>{u(t.target.value,e,c);t.target.setAttribute("placeholder","")},handleInputFocus:e=>{e.target.setAttribute("placeholder","hh:mm");e.target.select()}};return i().createElement(y,S)}function F(e){const t=e==="clock-in"?"in":"out";return(0,r.Z)("div",{className:"AddEditEntry__location__warningMessage"},void 0,(0,r.Z)("span",{className:"AddEditEntry__location__warningMessage__icon"},void 0,(0,r.Z)(u.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,r.Z)("p",{className:"AddEditEntry__location__warningMessage__text"},void 0,T.__(`There wasn’t a strong signal where they clocked %1, so we can’t show it on the map.`,t)))}var I=a(1895);var N=a(88306);var A=a(85323);var M=a(26570);let D=null;let P=null;function L(e){const t=(0,A.y)();const a=(0,n.createRef)();const{canEdit:o,showRemoveButton:l,hours:c,hoursError:d,id:p,note:f,onHintDismiss:v,onInputChange:y,onInputFocus:b,onNoteChange:w,onRemoveButtonClick:S,projectsWithTasks:C,showNoteInput:T,showTimeEntryHint:E}=e;(0,n.useEffect)((()=>{if(!D){D=(0,I.Z)()}if(E&&!P){P=(0,N.Z)();P.onClose((()=>{P.destroy();P=null;v()}))}}),[]);const k=()=>{setTimeout((()=>{if(P){P.hide()}}),200);D.hide()};const Z=e=>{const{value:t}=e.target;const s=(0,m.TD)(t);const n=s!==m.ch&&s!==m.w9;if(n){if(P){P.show()}D.hide()}else{const e=s===m.w9?g.m6:g.RG;if(P){P.hide()}(0,I.n)(e,a.current);D.show()}y(e,p)};const F=e=>{if(P){P.setAnchor(a.current);if(P){P.show()}}if(d){const{value:t}=e.target;const s=(0,m.TD)(t);const n=s===m.w9?g.m6:g.RG;(0,I.n)(n,a.current);D.show();return}b(p)};return(0,r.Z)("div",{className:t.root},void 0,(0,r.Z)("div",{className:t.entryRow},void 0,l&&(0,r.Z)("span",{className:t.removeButton,onClick:()=>{S(p)}},void 0,(0,r.Z)(u.Icon,{name:"fab-x-10x10"})),(0,r.Z)("div",{},void 0,(0,r.Z)("label",{className:(0,h.classNameFromObject)("fab-Label",{"fab-Label--error":d}),htmlFor:"hoursWorked"},void 0,M.__("Hours Worked")),(0,r.Z)("div",{className:"fab-InputWrapper"},void 0,i().createElement("input",{className:(0,h.classNameFromObject)("fab-TextInput fab-TextInput--width3",{"fab-TextInput--error":d}),disabled:!o,id:"hoursWorked",onBlur:k,onChange:e=>Z(e),onFocus:F,ref:a,type:"text",value:c}))),C.allIds.length>0&&(0,r.Z)("span",{className:t.dash},void 0,"–"),i().createElement(x,(0,s.Z)({},e,{projectTaskSelectStyles:t.projectTaskSelect}))),T&&(0,r.Z)("textarea",{autoFocus:T,className:"AddEditEntry__noteInput fab-Textarea",cols:"55",defaultValue:f,disabled:!o,maxLength:"200",onChange:e=>{w(e,p)},placeholder:M.__("Add note..."),rows:"2",type:"text"}))}var O=a(26570);class R extends n.Component{static get className(){return"AddEditEntry"}constructor(e){super(e);(0,l.Z)(this,"_handleAddEntryClick",(()=>{const e=this.state.entries.slice();const t=++this.state.idIncrementer;const a={startTime:"",startMeridiem:"AM",endTime:"",endMeridiem:"AM",hours:"",hoursError:false,total:0,id:t,isEdit:false,key:t||(0,d.uniqueId)(),showRemoveButton:true,timezone:this.props.timezone,projectData:{projectId:null,projectName:null,taskId:null,taskName:null},geolocationData:{clockInAddress:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockOutAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null}};e.push(a);this.setState({entries:e,idIncrementer:t})}));(0,l.Z)(this,"_handleEntryRemoveClick",(e=>{this.setState({entries:this.state.entries.filter((t=>t.id!==e))})}));(0,l.Z)(this,"_checkForHourEntriesError",(()=>{const{hourEntries:e,type:t}=this.props;const{entries:a}=this.state;const s=a.slice();const n=s.reduce(((e,t)=>e+(0,m.TD)(t.hours)),0);const i=e.reduce(((e,t)=>{const a=s.find((e=>e.id===t.id));if(a){return e}return e+t.hours}),0);return n+i>24}));(0,l.Z)(this,"_handleInputChange",((e,t,a)=>{const{date:s}=this.props;const n=this.state.entries.slice();const i=n.find((e=>e.id===a));i.overlappingError=false;if(t){i.startTime=e;i.startMoment=e?c.Z.tz(`${s} ${(0,m.Vd)(e,i.startMeridiem)}`,i.timezone):null;i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}else{i.endTime=e;if(i.startTime){const t=(0,m.YZ)(e);const a=Number(t.split(":")[0]);if(i.startMeridiem==="AM"&&e!=="1"&&a&&a<i.startMoment.hour()){i.endMeridiem="PM"}else if(i.startMeridiem==="AM"&&(0,d.startsWith)(t,"12")){i.endMeridiem="PM"}else if(i.startMeridiem==="PM"&&t==="12:00"){i.endMeridiem="AM"}}const t=(0,m.v3)(i.endTime,i.endMeridiem,s);i.endMoment=e?c.Z.tz(`${t} ${(0,m.Vd)(e,i.endMeridiem)}`,i.timezone):null;i.total=this._getIndividualEntryTotal(i,false);this.setState({entries:n})}}));(0,l.Z)(this,"_handleInputBlur",((e,t,a)=>{if(e){const s=(0,m.YZ)(e);this._handleInputChange(s,t,a)}}));(0,l.Z)(this,"_handleSelectChange",((e,t,a)=>{const{date:s}=this.props;const n=this.state.entries.slice();const i=n.find((e=>e.id===a));i.overlappingError=false;if(t){if(e==="PM"&&i.endMeridiem!=="PM"){i.startMeridiem=e;i.startMoment=c.Z.tz(`${s} ${(0,m.Vd)(i.startTime,e)}`,i.timezone);i.endMeridiem=i.endTime==="12:00"?i.endMeridiem:"PM";const t=(0,m.v3)(i.endTime,i.endMeridiem,s);i.endMoment=c.Z.tz(`${t} ${(0,m.Vd)(i.endTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}else{i.startMeridiem=e;i.startMoment=c.Z.tz(`${s} ${(0,m.Vd)(i.startTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}}else{i.endMeridiem=e;const t=(0,m.v3)(i.endTime,i.endMeridiem,s);i.endMoment=c.Z.tz(`${t} ${(0,m.Vd)(i.endTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,false);this.setState({entries:n})}}));(0,l.Z)(this,"_handleAddNote",(e=>{const{entries:t}=this.state;t.map((t=>{if(t.id===e){t.showNoteInput=!t.showNoteInput}}));this.setState({entries:t})}));(0,l.Z)(this,"_handleNoteChange",((e,t)=>{const a=e.target.value;const{entries:s}=this.state;s.map((e=>{if(e.id===t){e.note=a}}));this.setState({entries:s})}));(0,l.Z)(this,"_handleProjectChange",((e,t)=>{const{projectsWithTasks:a}=this.props;const{entries:s}=this.state;const n=s.map((s=>{if(s.id===e){s.projectData=(0,m.Tr)(t,a)}return s}));this.setState({entries:n})}));(0,l.Z)(this,"_handleHourInputFocus",(e=>{const{entries:t}=this.state;const a=t.slice();const s=a.find((t=>t.id===e));if(s.hours!==null&&s.hours!==""){s.hours=(0,d.round)(s.hours,2);if(window.GLOBAL_DECIMAL_CHAR===","){s.hours=String(s.hours).replace(".",",")}this.setState({entries:a})}}));(0,l.Z)(this,"_handleHourInputChange",((e,t)=>{const{value:a}=e.target;const{entries:s}=this.state;const n=s.slice();const i=n.find((e=>e.id===t));const o=(0,m.E)(a);i.hours=a;if(o){i.hoursError=false;i.total=(0,m.TD)(a)}else{i.hoursError=true}this.setState({entries:n})}));(0,l.Z)(this,"_saveEntry",(()=>{const{afterAction:e}=this.props;const t=this.hourTimesheetType?"hour":"clock";this.setState({isModalProcessing:true});const a=this._handleFormSave();if(a){(0,f.addEdit)(t,a).then((()=>{this.setState({isModalOpen:false});if(e&&typeof e==="function"){e()}})).catch((e=>{this.setState({isModalProcessing:false});if(e.status===409){this._handleSaveError(JSON.parse(e.responseText).trackingIds)}}))}}));(0,l.Z)(this,"_deleteEntry",(()=>{const{afterAction:e,currentEntryId:t}=this.props;const a=this.hourTimesheetType?"hour":"clock";this.setState({isSheetProcessing:true});(0,f.deleteEntry)(a,t).then((()=>{this.setState({isModalOpen:false,isSheetOpen:false});if(e&&typeof e==="function"){e()}})).catch((()=>{this.setState({isSheetProcessing:false})}))}));const{canEdit:t,type:a,clockEntries:s,currentEntryId:n,hourEntries:i,timesheetType:o}=e;this.hourTimesheetType=o==="hour";let r="";let u="AM";let h=null;let p="";let g="AM";let v=null;let y=1;let b="";const w=false;let S=0;let C=e.dayTotal;let x=false;let T="";let E={projectId:null,projectName:null,taskId:null,taskName:null};let k={clockInAddress:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockOutAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null};if(!this.hourTimesheetType&&["edit","view"].includes(a)&&Array.isArray(s)){const t=s.find((e=>e.id===n));if(t&&t.start&&t.end){h=c.Z.tz(t.start,t.timezone);v=c.Z.tz(t.end,t.timezone);r=h.format("h:mm");u=(0,m.xX)(h);p=v.format("h:mm");g=(0,m.xX)(v);S=(0,m.I1)(h,v,"hours");C=e.dayTotal-S;T=t.note;x=t.note!==null;E={projectId:t.projectId,projectName:t.projectName,taskId:t.taskId,taskName:t.taskName};k={clockInAddress:t.clockInAddress,clockInLatitude:t.clockInLatitude,clockInLongitude:t.clockInLongitude,clockInLocationAccuracy:t.clockInLocationAccuracy,clockOutAddress:t.clockOutAddress,clockOutLatitude:t.clockOutLatitude,clockOutLongitude:t.clockOutLongitude,clockOutLocationAccuracy:t.clockOutLocationAccuracy}}y=n}if(this.hourTimesheetType&&a==="edit"&&Array.isArray(i)){const e=i.find((e=>e.id===n));if(e){y=n;E={projectId:e.projectId,projectName:e.projectName,taskId:e.taskId,taskName:e.taskName};T=e.note;b=e.hours;S=b;x=e.note!==null;C-=b}}this.state={entries:[{startTime:r,startMeridiem:u,startMoment:h,endTime:p,endMeridiem:g,endMoment:v,hours:b,hoursError:w,total:S,showNoteInput:x,note:T,projectData:E,geolocationData:k,timezone:this.props.timezone,id:y,key:y||(0,d.uniqueId)(),showRemoveButton:false,isEdit:a==="edit"}],idIncrementer:y,dayTotal:C,isModalOpen:false,isModalProcessing:false,isSheetOpen:false,isSheetProcessing:false,canEdit:t,canSave:a==="edit"&&t}}componentDidMount(){this._handleValidation();setTimeout((()=>{this.setState({isModalOpen:true})}))}componentDidUpdate(){const{canEdit:e,canSave:t}=this.state;const a=this._handleValidation();if(e&&t!==a){this.setState({canSave:a})}}_checkForOverlappingError(){const e=this.state.entries.slice();const t=this._getExistingEntriesWithMoments();let a=false;e.forEach((s=>{t.forEach((e=>{if(this.props.type==="edit"&&s.id!==e.id){if((0,m.gi)(s,e)){s.overlappingError=true;a=true}}else if(this.props.type==="add"){if((0,m.gi)(s,e)){s.overlappingError=true;a=true}}}));e.forEach((e=>{if(s.id!==e.id){if((0,m.gi)(s,e)){s.overlappingError=true;a=true}}}))}));return a?e:a}_getExistingEntriesWithMoments(){return this.props.clockEntries.map((e=>{e.startMoment=c.Z.tz(e.start,e.timezone);e.endMoment=c.Z.tz(e.end,e.timezone);return e}))}_getRequestData(){const{entries:e}=this.state;return e.map((e=>{const{hours:t,id:a,note:s,projectData:n,startMoment:i,endMoment:o}=e;const{type:r,employeeId:l,date:c}=this.props;if(this.hourTimesheetType){return{id:r==="edit"?a:null,dailyEntryId:r==="edit"?null:a,employeeId:l,date:c,hours:(0,m.TD)(t),note:s,projectId:n.projectId,taskId:n.taskId}}return{id:r==="edit"?a:null,trackingId:r==="edit"?null:a,employeeId:l,date:c,start:i.format("HH:mm"),end:o.isSame(i,"day")?o.format("HH:mm"):"24:00",note:s,projectId:n.projectId,taskId:n.taskId}}))}_getIndividualEntryTotal(e,t){const{startTime:a,startMeridiem:s,endTime:n,endMeridiem:i}=e;const{date:o}=this.props;const r=(0,m.v3)(n,i,o);const l=t?(0,m.YZ)(a):(0,m.YZ)(n);const d=l?(0,c.Z)(l,"h:mm").format("h:mm"):null;let u;let h;if(t&&n&&d){u=(0,c.Z)(`${o} ${(0,m.Vd)(d,s)}`);h=(0,c.Z)(`${r} ${(0,m.Vd)(n,i)}`)}else if(!t&&a&&d){u=(0,c.Z)(`${o} ${(0,m.Vd)(a,s)}`);h=(0,c.Z)(`${r} ${(0,m.Vd)(d,i)}`)}else{return 0}return(0,m.I1)(u,h,"hours")}_getDayTotal(){return this.state.entries.reduce(((e,t)=>e+t.total),this.state.dayTotal)}_handleValidation(){const{entries:e}=this.state;let t;if(this.hourTimesheetType){t=(0,m.bY)(e)}else{t=(0,m.Ui)(e)}return t}_handleFormSave(){let e;if(this.hourTimesheetType){const e=this._checkForHourEntriesError();if(e){this.setState({isModalProcessing:false});window.setMessage(g.Bo,"error");return false}}else{e=this._checkForOverlappingError()}if(e){this.setState({entries:e,isModalProcessing:false});window.setMessage(g._v,"error");return false}return this._getRequestData()}_handleSaveError(e){const t=this.state.entries.slice();e.forEach((e=>{t.forEach((t=>{if(t.id===e){t.overlappingError=true}}))}));this.setState({entries:t})}_renderAddEntryLink(){return(0,r.Z)("div",{className:"AddEditEntry__addEntryLink"},void 0,(0,r.Z)("a",{onClick:this._handleAddEntryClick},void 0,"+ ",O.__("Add Entry")))}_renderDayTotal(){const e=this._getDayTotal();return(0,r.Z)("div",{className:(0,h.classNameFromObject)("AddEditEntry__dayTotal",{"AddEditEntry__dayTotal--error":e>24})},void 0,O.__("Day Total: %1",(0,m.mr)(e)))}_renderClockEntrySlats(){const{canEdit:e,projectsWithTasks:t,type:a}=this.props;return(0,r.Z)("form",{className:"BhrForms"},void 0,this.state.entries.map((n=>i().createElement(k,(0,s.Z)({},n,{canEdit:e,date:this.props.date,onAddNote:this._handleAddNote,onNoteChange:this._handleNoteChange,onProjectChange:this._handleProjectChange,handleRemoveButtonClick:this._handleEntryRemoveClick,handleInputBlur:this._handleInputBlur,handleInputChange:this._handleInputChange,handleSelectChange:this._handleSelectChange,key:n.key,projectsWithTasks:t,type:a})))))}_renderHourEntrySlats(){const{canEdit:e,onHintDismiss:t,projectsWithTasks:a,showTimeEntryHint:n,timesheetType:o,type:l}=this.props;const{entries:c}=this.state;return(0,r.Z)("form",{},void 0,c.map((o=>i().createElement(L,(0,s.Z)({key:o.id},o,{canEdit:e,onAddNote:this._handleAddNote,onHintDismiss:()=>t("showTimeEntryHint",false),onInputBlur:this._handleHourInputBlur,onInputChange:this._handleHourInputChange,onInputFocus:this._handleHourInputFocus,onNoteChange:this._handleNoteChange,onProjectChange:this._handleProjectChange,onRemoveButtonClick:this._handleEntryRemoveClick,projectsWithTasks:a,showTimeEntryHint:n,type:l})))))}render(){const{clockEntries:e,openAsSheet:t,currentEntryId:a,date:s,hourEntries:n,modalTitle:i,timezone:o,timesheetType:l,type:d,canEdit:h}=this.props;const{canSave:f,isModalOpen:y,isModalProcessing:b,isSheetOpen:w,isSheetProcessing:S}=this.state;const C=c.Z.tz(s,o);const x=(0,r.Z)("div",{className:"AddEditEntry"},void 0,(l==="multiple"||l==="clock")&&this._renderClockEntrySlats(),l==="hour"&&this._renderHourEntrySlats(),(0,r.Z)("div",{className:"AddEditEntry__totalRow"},void 0,d==="add"&&this._renderAddEntryLink(),this._renderDayTotal()));let T=null;if(d==="edit"){let t;if(this.hourTimesheetType){const e=n.find((e=>e.id===a));t=O.__("Are you sure you want to delete this %1 entry?",(0,m.mr)(e.hours))}else{const s=e.find((e=>e.id===a));const n=c.Z.tz(s.start,s.timezone).format(g.T_);const i=c.Z.tz(s.end,s.timezone).format(g.T_);t=O.__("Are you sure you want to delete the %1 to %2 entry?",n,i)}const s=(0,r.Z)("div",{className:"AddEditEntry__deleteSheet"},void 0,(0,r.Z)("span",{className:"AddEditEntry__deleteSheetIcon"},void 0,(0,r.Z)(u.Icon,{name:"fab-trash-can-43x48"})),(0,r.Z)("h5",{},void 0,t));T={content:s,isOpen:w,isProcessing:S,onClose:()=>this.setState({isSheetOpen:false}),primaryAction:this._deleteEntry,primaryActionText:O.__("Yes, Delete Entry"),title:O.__("Just Checking...")}}const E=()=>this.setState({isModalOpen:false});let k=null;let Z=E;if(h){k=E;Z=f?this._saveEntry:null}let[F,I]=(0,p.ifFeature)("encore",["stopwatch-regular","calendar-regular"],["fab-stopwatch-plus-18x20","fab-calendar-15x16"]);return(0,r.Z)(v.u_,{additionalAction:d==="edit"&&h?()=>this.setState({isSheetOpen:true}):null,additionalActionText:O.__("Delete Time Entry"),alternativeAction:k,isOpen:y,isProcessing:b,onClose:E,primaryAction:Z,primaryActionText:h?O.__("Save"):O.__("Done"),sheetProps:T,title:i,icon:this.hourTimesheetType?F:I,header:C.format("dddd, MMM D"),headerType:"text",type:t?"largeSheet":(0,p.ifFeature)("encore","largeSheet","medium")},void 0,x)}}var B=a(26570);function j(e){return new Promise((t=>{let a=B.__("Time Worked");if(e.canEdit){a=e.type==="edit"?B.__("Edit Time Worked"):B.__("Enter Time Worked")}const n=document.createElement("div");(0,o.s)(i().createElement(R,(0,s.Z)({},e,{afterAction:t,modalTitle:a})),n)}))}},52326:(e,t,a)=>{"use strict";a.d(t,{Z:()=>S});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(77512);var r=a(89835);var l=a(44119);var c=a(82543);var d=a.n(c);var u=a(21198);var h=a(71141);var p=a(98675);var m=a(59155);var f=a(17863);var g=a(66327);var v=a(33743);var y=a(2224);var $=a(26570);const b=(0,h.isEnabled)("timeTrackingGeolocation");class w extends n.Component{static get className(){return"AddNote"}constructor(e){super(e);(0,l.Z)(this,"_handleTimeInput",(e=>{const{startTimeMeridiem:t,startTime:a}=this.state;const s=e.target.value;this.timeInputRef.current.value=(0,f.Xw)(s,a);let n=this._getWorkedTime(this.timeInputRef.current.value,t);if(n<0){n=0}this.setState({startTime:this.timeInputRef.current.value,workedTime:n})}));(0,l.Z)(this,"_handleNoteInput",(e=>{const t=e.target.value;this.setState({noteText:t})}));(0,l.Z)(this,"_handleProjectChange",(e=>{const{projectsWithTasks:t}=this.props;const a=(0,f.Tr)(e,t);this.setState({projectData:a})}));(0,l.Z)(this,"_getModalData",(()=>{const{noteText:e,startTimeMeridiem:t,startTime:a}=this.state;const{clock:s,today:n,timezone:i}=this.props;const o=n.format("YYYY-MM-DD");const r="YYYY-MM-DD h:mm A";const l=d().tz(`${o} ${a} ${t}`,r,i);let c=false;if(s){const e=d()(s.latest.start).tz(i);c=!e.isSame(l)}const u={note:e,selectedTime:l,timeWasChanged:c,timezone:i};return u}));(0,l.Z)(this,"_getWorkedTime",((e,t)=>{const{today:a,timezone:s}=this.props;const n=a.format("YYYY-MM-DD");const i="YYYY-MM-DD h:mm A";const o=d().tz(`${n} ${e} ${t}`,i,s);return(0,f.I1)(o,d()().tz(s),"hours")}));(0,l.Z)(this,"_saveNote",(()=>{const{projectData:{projectId:e,taskId:t}}=this.state;const{afterSave:a,canEdit:s,employeeId:n,totalTime:i,type:o}=this.props;const r=this._getModalData();this.setState({isModalProcessing:true});if(o==="clock"){const i={note:r.note,projectId:e,taskId:t};if(r.timeWasChanged&&s){i.start=r.selectedTime.format("HH:mm");i.timezone=r.timezone}g.saveClockInData(n,i).then((()=>{this.setState({isModalOpen:false});a()})).catch((()=>{this.setState({isModalProcessing:false})}))}else if(o==="single"){const s={employeeId:n,hours:i,date:r.selectedTime.format("YYYY-MM-DD"),note:r.note,projectId:e,taskId:t};g.saveSingleDailyHours([s]).then((()=>{this.setState({isModalOpen:false});a()})).catch((()=>{this.setState({isModalProcessing:false})}))}}));const{clock:t,hours:a,note:s,today:i,timezone:o,projectData:r}=e;let c=null;let u=null;let h="";let p=null;if(t&&t.latest){c=i.format("A");u=i.format("h:mm");p=(0,f.I1)(i,d()().tz(o),"hours")}if(s){h=s}this.state={noteText:h,startTimeMeridiem:c,startTime:u,workedTime:p,isModalOpen:false,isModalProcessing:false,projectData:r,showMap:false};this.timeInputRef=(0,n.createRef)()}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{isModalOpen:e,isModalProcessing:t,noteText:a,showMap:n,startTimeMeridiem:o,startTime:l,workedTime:c,projectData:d}=this.state;const{canEdit:h,clock:g,note:w,today:S,type:C,isViewOnly:x,projectsWithTasks:T}=this.props;const E=g&&g.clockedIn;const k=E?g?.latest.clockInAddress:false;const{clockInLatitude:Z,clockInLongitude:F,clockInLocationAccuracy:I}=g?.latest||{};const N=g?.latest.clockInLocationAccuracy===-1||false;let A=$.__("Update Time Entry");if(C==="single"){A=w?$.__("Update Note"):$.__("Add Note")}const M={isClearable:false,isDisabled:!h,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[o],onSelect:e=>{const{startTime:t}=this.state;let a=e;let s=this._getWorkedTime(t,a);if(s<0){s=0}this.setState({startTimeMeridiem:a,workedTime:s})}};const D=(0,u.classNameFromObject)({AddNote__noteArea:true,"AddNote__noteArea--hasStartTime":g,fieldRow:true,BhrForms:true});let P=null;if(d&&d.projectId&&d.taskId){P=`${d.projectId}-${d.taskId}`}else if(d&&d.projectId){P=d.projectId}const L={items:T?(0,f.aC)(T):[],onSelect:this._handleProjectChange,onClear:()=>this._handleProjectChange(null),placeholder:d.projectName?(0,f.m7)(null,d.projectName,d.taskName):`--${$.__("Select Project/Task")}--`,renderToggleContent:e=>(0,f.m7)(e,d.projectName,d.taskName),selectedValues:[P],width:7};const O=T&&T.allIds.length>0;const R=(0,r.Z)("div",{className:"AddNote__projectSelect"},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:"projectSelect"},void 0,$.__("Save time to...")),i().createElement(m.Select,(0,s.Z)({isDisabled:!h&&!E,name:"projectSelect"},L)));const B=(0,r.Z)("div",{className:"AddNote__timeWrapper"},void 0,(0,r.Z)("div",{className:"AddNote__timeWrapper__startTime"},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:"startTime"},void 0,$.__("Start Time")),(0,r.Z)("div",{className:"fab-InputWrapper"},void 0,i().createElement("input",{className:"AddNote__timeInput fab-TextInput fab-TextInput--width2",defaultValue:l,disabled:!h,name:"startTime",onInput:this._handleTimeInput,placeholder:"hh:mm",ref:this.timeInputRef,required:true,type:"text"}),i().createElement(m.Select,M))),O?R:null,(0,r.Z)("div",{className:"AddNote__timeSpinnerWrapper"},void 0,(0,r.Z)("div",{className:"AddNote__timeSpinner"},void 0,(0,r.Z)(y.Z,{})),(0,r.Z)("p",{},void 0,(0,f.mr)(c))));const j=(0,u.classNameFromObject)({AddNote__textAreaWrapper:true,"AddNote__textAreaWrapper--viewOnly":x,fieldDiv:true});const H=(0,u.classNameFromObject)({AddNote__textArea:true,"fab-Textarea":true,"fab-Textarea--width100":true});const q=(0,r.Z)("div",{className:"AddNote__location__warningMessage"},void 0,(0,r.Z)("span",{className:"AddNote__location__warningMessage__icon"},void 0,(0,r.Z)(m.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,r.Z)("p",{className:"AddNote__location__warningMessage__text"},void 0,$.__(`There wasn’t a strong signal where they clocked in, so we can’t show it on the map.`)));const W=(0,r.Z)("div",{className:"AddNote"},void 0,g&&B,C==="single"&&O?R:null,b&&k&&(0,r.Z)("div",{className:"AddNote__location"},void 0,(0,r.Z)("span",{className:"fab-Label"},void 0,$.__("Location")),(0,r.Z)("div",{className:(0,u.classNameFromObject)({AddNote__address:true,"AddNote__address--withWarning":N})},void 0,(0,r.Z)("span",{className:"AddNote__address__label"},void 0,$.__("Clocked In Near")),N?q:k),!n&&!N&&(0,r.Z)("div",{className:"AddNote__location__showMapButton"},void 0,(0,r.Z)(m.TextButton,{clickAction:()=>this.setState({showMap:true}),iconAfter:"fab-double-chevron-down-6x8",iconBefore:"fab-location-11x14",text:$.__("Show Map"),type:"button"})),n&&!N&&(0,r.Z)(v.D,{markers:[{accuracy:I,coordinates:{lat:Z,lng:F},label:"Clock In"}],height:"291px",width:"396px",zoom:17})),(0,r.Z)("div",{className:D},void 0,(0,r.Z)("div",{className:"fieldBox fullWidth"},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:"note"},void 0,$.__("Note")),(0,r.Z)("div",{className:j},void 0,(0,r.Z)("textarea",{"aria-label":"Note",autoFocus:true,className:H,defaultValue:a,disabled:!h&&!E,maxLength:"200",name:"note",onInput:this._handleNoteInput})))));return(0,r.Z)(p.u_,{headerType:"text",header:S.format("dddd, MMM D"),icon:"fab-calendar-15x16",isOpen:e,isProcessing:t,onClose:()=>this.setState({isModalOpen:false}),primaryAction:h&&x===false||E?this._saveNote:null,primaryActionText:$.__("Save"),title:A,type:"small"},void 0,W)}}function S(e){return new Promise((t=>{const a=document.createElement("div");(0,o.s)(i().createElement(w,(0,s.Z)({afterSave:t},e)),a)}))}},87197:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Z});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(77512);var r=a(88604);var l=a(44119);var c=a(73641);var d=a(82543);var u=a.n(d);var h=a(59155);var p=a(98675);var m=a(17842);var f=a.n(m);var g=a(17863);var v=a(68003);var y=a(18613);var b=a(51341);var w=e=>{const{firstName:t,lastName:a,start:n,timezone:i,id:o,today:r,handleDateChange:l}=e;const c=b.Z.tz(n,i);const d=b.Z.tz(r,i);const u=b.Z.tz.zone(i).abbr(c);const p=c.isSame(d,"day")?d.format("MMM D"):`${c.format("MMM D")} - ${d.format("MMM D")}`;const m={start:n,timezone:i};const f=e=>{l(e,o)};return(0,s.Z)("div",{className:"ClockOutSlat"},void 0,(0,s.Z)("div",{className:"ClockOutSlat__header"},void 0,(0,s.Z)("div",{className:"ClockOutSlat__employee"},void 0,(0,s.Z)(h.Icon,{brand:true,name:"fab-person-circle-16x16"}),(0,s.Z)("span",{className:"ClockOutSlat__name baseColor"},void 0,t," ",a),(0,s.Z)("span",{className:"ClockOutSlat__timezone"},void 0,"(",u,")")),(0,s.Z)("div",{className:"ClockOutSlat__dateRange"},void 0,p)),(0,s.Z)(y.Z,{lastClockEntry:m,onDateChange:f,showTotal:"true"}))};var S=a(95824);var C=a.n(S);var $=a(26570);function x(e,t){window.SimpleModal.openModal({callbacks:{close:{after:function(){if(e){window.setMessage(v.qe,"error")}}}},html:window.microTemplate(C(),{}),title:$.__("Whoa, something changed"),footer:{buttons:{primary:{text:$.__("Got it"),action:()=>{window.SimpleModal.closeModal();t()}},cancel:{show:false}}}})}var T=a(26570);class E extends n.Component{static get className(){return"ApproverClockOut"}constructor(e){super(e);(0,l.Z)(this,"_clockOutEmployees",(()=>{const{afterAction:e}=this.props;let{url:t}=this.props;this.setState({isModalProcessing:true});let a={clockOuts:this._handleFormSave()};if(t==="/timesheet/clock/out/approval"){t="/timesheet/clock/out/datetime"}if(a){f().post(t,JSON.stringify(a),{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((t=>{this.setState({isModalOpen:false});e(t.data)})).catch((e=>{let t;if(e.response.data.data){t=e.response.data.data.timesheets}else{t=e.response.data.timesheets}this.setState({isModalProcessing:false});this._handleSaveError(t)}))}}));const t=e.employees.map((e=>{const t={};const a=u().tz(e.start.date,e.start.timezone);t.endTime="";t.endMeridiem=a.format("A");t.startTime=a.format("h:mm");t.start=e.start.date;t.today=e.today.date;t.timezone=e.today.timezone;t.firstName=e.firstName;t.lastName=e.lastName;t.id=e.id;t.employeeId=e.employeeId;t.clockOutDateTime=null;return t}));this.state={employees:t,isModalOpen:false,isModalProcessing:false,canSave:true};this._handleInputBlur=this._handleInputBlur.bind(this);this._handleInputChange=this._handleInputChange.bind(this);this._handleSelectChange=this._handleSelectChange.bind(this);this._handleDateChange=this._handleDateChange.bind(this)}componentDidMount(){this._handleValidation();setTimeout((()=>{this.setState({isModalOpen:true})}))}componentDidUpdate(){this._handleValidation()}render(){const{canSave:e,isModalOpen:t,isModalProcessing:a}=this.state;const{title:n}=this.props;return(0,s.Z)(p.u_,{isOpen:t,isProcessing:a,onClose:()=>this.setState({isModalOpen:false}),primaryAction:e?this._clockOutEmployees:null,primaryActionText:T.__("Clock Out & Approve"),title:n,type:"medium"},void 0,(0,s.Z)("div",{className:"ApproverClockOut"},void 0,this._renderWarning(),this._renderClockOutSlats()))}_getIndividualEntryTotal(e){const{start:t,endMeridiem:a,endTime:s,today:n}=e;const i=(0,g.v3)(s,a,u()(n).format("YYYY-MM-DD"));const o=(0,g.YZ)(s);const r=o?u()(o,"h:mm").format("h:mm"):null;let l;if(s&&r){l=`${i} ${(0,g.Vd)(r,a)}`}else{return 0}const c=u()(t);const d=u()(l);return(0,g.I1)(c,d,"hours")}_handleValidation(){const{employees:e}=this.state;return(0,g.Lq)(e)}_handleFormSave(){const{employees:e}=this.state;return e.map((e=>({employeeId:e.employeeId,datetime:e.clockOutDateTime.toISOString(true),timezone:e.timezone})))}_handleSaveError(e){let t=this.state.employees.slice();let a=false;let s=false;t=t.filter((t=>{const n=e.find((e=>e.employeeId===t.employeeId));if(n.status==="failure"&&n.error==="CLOCKED_OUT"){a=true}else if(n.status==="failure"){s=true;return true}else{return true}return false}));if(a){x(s,(()=>{if(t.length===0){window.SimpleModal.closeModal()}}))}else if(s){window.setMessage(v.qe,"error")}if(t.length>0){this.setState({employees:t})}}_handleInputBlur(e,t){if(e){const a=(0,g.YZ)(e);this._handleInputChange(a,t)}}_handleInputChange(e,t){const{canSave:a}=this.state;const s=this.state.employees.slice();const n=s.find((e=>e.id===t));n.endTime=e;const i=(0,g.YZ)(e);const o=Number(i.split(":")[0]);const r=u()(n.start);const l=r.format("A");if(l==="AM"&&e!=="1"&&o&&o<r.hour()){n.endMeridiem="PM"}else if(l==="AM"&&(0,c.startsWith)(i,"12")){n.endMeridiem="PM"}else if(l==="PM"&&i==="12:00"){n.endMeridiem="AM"}n.total=this._getIndividualEntryTotal(n);const d=this._handleValidation();this.setState({employees:s,canSave:d})}_handleDateChange(e,t){const{canSave:a,employees:s}=this.state;const n=s.slice();const i=n.find((e=>e.id===t));i.clockOutDateTime=e;const o=this._handleValidation();this.setState({employees:s,canSave:o})}_handleSelectChange(e,t){const{canSave:a}=this.state;const s=this.state.employees.slice();const n=s.find((e=>e.id===t));n.endMeridiem=e;n.total=this._getIndividualEntryTotal(n);const i=this._handleValidation();this.setState({employees:s,canSave:i})}_renderClockOutSlats(){const{employees:e}=this.state;return e.map((e=>i().createElement(w,(0,r.Z)({},e,{handleDateChange:this._handleDateChange,handleInputBlur:this._handleInputBlur,handleInputChange:this._handleInputChange,handleSelectChange:this._handleSelectChange,key:e.id.toString()}))))}_renderWarning(){const{employees:e}=this.props;const t=T.__("Some employees are still clocked in.");const a=T.__("Enter clock out times below before approving.");const n=T.__("%1$s might have forgotten to clock out.",e[0].firstName);const i=T.__("Enter a clock out time below before approving hours.");const o=e.length>1;const r=(0,s.Z)("div",{},void 0,(0,s.Z)("h4",{className:"ApproverClockOut__warningHeader"},void 0,o?t:n),(0,s.Z)("p",{className:"ApproverClockOut__warningText"},void 0,o?a:i));const l="fab-stopwatch-exclamation-51x54";return(0,s.Z)("div",{className:"ApproverClockOut__warning"},void 0,(0,s.Z)("div",{className:"ApproverClockOut__warningIcon"},void 0,(0,s.Z)(h.Icon,{name:l})),r)}}var k=a(26570);function Z(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"/timesheet/clock/out/approval";const n=e.length>1?k.__("People are still clocked in"):k.__("%1$s is still clocked in",e[0].firstName);const i=typeof t==="function"?t:c.noop;const r=document.createElement("div");(0,o.s)((0,s.Z)(E,{afterAction:i,employees:e,title:n,url:a}),r)}},99827:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var s=a(89835);var n=a(23321);var i=a(77512);var o=a(44119);var r=a(17842);var l=a.n(r);var c=a(98675);var d=a(59155);var u=a(17863);var h=a(18613);var $=a(26570);const p={INVALID_CLOCK_TIME:$.__("The clock out time is before the clock in time."),MISSING_EMPLOYEE_IDS:$.__("Missing employee ID(s)"),MISSING_TOOL:$.__("Time Tracking is not enabled."),PERMISSIONS:$.__("You don't have permission to do that"),FUTURE_TIMESHEET:$.__("You can't perform that action on a future timesheet."),TIMESHEET_NOT_FOUND:$.__("Timesheet not found"),INVALID_ID:$.__("Invalid employee or timesheet id."),PREVIEW:$.__("Cannot change a clock out date while previewing as another user."),CLOCKED_OUT:$.__("The employee is currently clocked out."),TIMESHEET_TYPE:$.__("Invalid timesheet type"),INVALID_TIMEZONE:$.__("Employee has an invalid timezone setup"),NO_CLOCK_ENTRIES:$.__("The employee hasn't clocked in yet."),SERVER_ERROR:$.__("Internal error."),OVERLAP:$.__("Overlapping timesheets found. Please contact support.")};class m extends n.Component{static get className(){return"ChooseClockOutDate"}constructor(e){super(e);(0,o.Z)(this,"_handleDateChange",((e,t)=>{this.setState({selectedDateTime:e,totalTime:t})}));(0,o.Z)(this,"_getClockOutDateTime",(()=>{const{selectedDateTime:e}=this.state;return e}));(0,o.Z)(this,"_clockOut",(()=>{const{selectedDateTime:e}=this.state;const{afterClockOut:t,employeeId:a}=this.props;const s={clockOuts:[{employeeId:a,datetime:e.toISOString(true),timezone:e.tz()}]};this.setState({isModalProcessing:true});l().post("/timesheet/clock/out/datetime",s).then((()=>{this.setState({isModalOpen:false});t()})).catch((e=>{if(e.response.data.error){const t=e.response.data.error.code;setMessage(p[t],"error")}else{window.errorFallBack()}this.setState({isModalProcessing:false})}))}));this.state={selectedDateTime:null,totalTime:null,isModalOpen:false,isModalProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{isModalOpen:e,isModalProcessing:t,totalTime:a}=this.state;const{lastClockEntry:n}=this.props;const i="fab-stopwatch-exclamation-51x54";const o=(0,s.Z)("div",{className:"ChooseClockOutDate"},void 0,(0,s.Z)("div",{className:"ChooseClockOutDate__icon"},void 0,(0,s.Z)(d.Icon,{name:i})),(0,s.Z)("h4",{className:"ChooseClockOutDate__headingText"},void 0,$.__("Looks like you forgot to clock out.")),(0,s.Z)("p",{className:"ChooseClockOutDate__text"},void 0,$.__("When should you have clocked out?")),(0,s.Z)("hr",{className:"ChooseClockOutDate__divider"}),(0,s.Z)(h.Z,{lastClockEntry:n,onDateChange:this._handleDateChange}),(0,s.Z)("p",{className:"ChooseClockOutDate__totalTime"},void 0,$.__("Total Time: %1",a>0?(0,u.mr)(a):(0,u.mr)(0))));return(0,s.Z)(c.u_,{biId:"my-info-timesheet-clock-out",isOpen:e,isProcessing:t,onClose:()=>this.setState({isModalOpen:false}),primaryAction:this._clockOut,primaryActionText:$.__("Clock Out"),title:$.__("Verify Time & Clock Out"),type:"medium"},void 0,o)}}function f(e,t){return new Promise((a=>{const n=document.createElement("div");(0,i.s)((0,s.Z)(m,{afterClockOut:a,employeeId:e,lastClockEntry:t}),n)}))}},5223:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(56445);var r=a.n(o);var l=a(78144);var $=a(26570);function c(e,t,a){$.post("/time_tracking/employees/disable",{employeeIds:[e]}).done((e=>{if(e.error){setMessage($.__("Whoops! Something went wrong with disabling time tracking. Please refresh and try again."),"error");return}window.BambooHR.Modal.setState({isOpen:false});a()})).fail(d)}function d(){setMessage($.__("Sorry, something went wrong. Try giving it another shot?"),"error");window.SimpleModal.Footer.Buttons.Primary.stopProcessing()}function u(e,t,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Function.prototype;const i=$.__("Just Checking...");const r=$.__("Are you sure you want to disable time tracking for %1$s?",`${t} ${a}`);const d=$.__("%1$s will not get any new timesheets, but will still be able to log time on their current timesheet and it will still be sent for approval.",(0,l.H$)(t));const u=$.__("Yes, Disable Time Tracking");window.BambooHR.Modal.setState({title:i,headline:r,content:(0,s.Z)("div",{className:"DisableTimeTrackingModal__content"},void 0,d),icon:(0,o.ifFeature)("encore","stopwatch-regular","fab-stopwatch-exclamation-51x54"),iconColor:"attention",isOpen:true,primaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);c(e,t,n)},primaryActionText:u})}t["Z"]={openModal:u}},72521:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(82543);var r=a.n(o);var l=a(44816);var c=a(17842);var d=a.n(c);var u=a(71141);var $=a(26570);const h=(0,u.isEnabled)("timeTrackingFutureScheduling");function p(e,t,a){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=$.__("Time Tracking Start Date");const l=$.__("Save");let c;let u=[];d().get(`/time_tracking/employee/${e.id}/schedule_dates`).then((d=>{const p=d.data.canEnableNow;c=d.data.paySchedules.allIds[0];const g=d.data.paySchedules.byId[c].dates;const v=d.data.paySchedules.byId[c].hireDate;u=g.map((e=>{const t=r()(e);return{date:e,display:t.format("MMM D")}}));const y=window.BambooHR.Modal.isOpen();let b=h?"":"immediately";let w=[];if(h){if(p){w.push({displayText:$.__("Immediately"),value:"immediately"})}if(v){const e=r()(v);w.push({text:$.__("Hire Date"),type:"group",items:[{displayText:e.format("MMM D"),value:v}]})}const e=[{text:$.__("Next Pay Periods"),type:"group",items:[...u.map((e=>({displayText:e.display,value:e.date})))]}];w=[...w,...e]}else{w=[{displayText:$.__("Immediately"),value:"immediately"},...u.map((e=>({displayText:e.display,value:e.date})))]}const S={isOpen:true,title:o,icon:"fab-calendar-stopwatch-54x54",headline:$.__("When do you want time tracking to start?"),content:(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("div",{className:"EnableTimeTracking__forWho"},"text",$.__("Select when %1$s will start tracking time.",e.preferredName)),(0,s.Z)("div",{className:"EnableTimeTracking__date-select"},"select",(0,s.Z)(f,{effect:e=>{b=e},items:w,value:b}))),primaryActionText:l,primaryAction(){if(y){window.BambooHR.Modal.setState({sheetProps:{isOpen:false},isProcessing:true},true)}else{window.BambooHR.Modal.setState({isProcessing:true},true)}m(b,e.id,t,a,i,c)},alternativeAction(){window.BambooHR.Modal.setState({isOpen:false})},onClose(){window.BambooHR.Modal.setState({isOpen:false})}};if(y){window.BambooHR.Modal.setState({sheetProps:S},true)}else{window.BambooHR.Modal.setState({...S})}})).catch((e=>{a(e.response.data.error)}))}function m(e,t,a,s,n,i){let o="/time_tracking/employees/reschedule";let r={employeeIds:[t],...e==="immediately"?{}:{paySchedules:{[i]:e}}};r.setSessionMessage=n;return d().post(o,r).then((t=>{window.BambooHR.Modal.setState({isOpen:false});a(t.data,e)})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);s(e.response.data.error)}))}function f(e){let{items:t,value:a,effect:i=(()=>{})}=e;const[o,r]=(0,n.useState)(a);const c={notClearable:true,width:5};const d={items:t};d.items.forEach((e=>{if(e.items){e.items.forEach((e=>{e.selected=e.value===o}))}e.selected=e.value===o}));(0,n.useEffect)((()=>{i(o)}));return(0,s.Z)(l.ZP,{data:d,onChange:e=>{r(e.value)},placeholder:`– ${$.__("Select Date")} –`,settings:c})}},11656:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(89835);var n=a(23321);var i=a(77512);var o=a(44119);var r=a(98675);var l=a(59155);var $=a(26570);class c extends n.Component{static get className(){return"ForgotClockOutWarning"}constructor(e){super(e);(0,o.Z)(this,"_clockOut",(()=>{const{afterClockOut:e,beforeClockOutAction:t,clockOutAction:a,employeeId:s}=this.props;this.setState({isProcessing:true});t();a(s).then((()=>{this.setState({isOpen:false});e()}))}));this.state={isOpen:false,isProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isOpen:true})}))}render(){const{isOpen:e,isProcessing:t}=this.state;return(0,s.Z)(r.u_,{isOpen:e,isProcessing:t,onClose:()=>this.setState({isOpen:false}),primaryAction:this._clockOut,primaryActionText:$.__("Clock Out"),title:$.__("Clock Out")},void 0,(0,s.Z)("div",{className:"ForgotClockOutWarningModal"},void 0,(0,s.Z)("div",{className:"ForgotClockOutWarningModal__icon"},void 0,(0,s.Z)(l.Icon,{name:"fab-stopwatch-exclamation-51x54"})),(0,s.Z)("h4",{className:"ForgotClockOutWarningModal__heading"},void 0,$.__("Did you forget to clock out?")),(0,s.Z)("p",{className:"ForgotClockOutWarningModal__text"},void 0,$.__("If so, let your manager know and they can correct your timesheet."))))}}function d(e,t,a){return new Promise((n=>{const o=document.createElement("div");(0,i.s)((0,s.Z)(c,{afterClockOut:n,beforeClockOutAction:a,clockOutAction:e,employeeId:t}),o)}))}},92776:(e,t,a)=>{"use strict";a.d(t,{pL:()=>r,qk:()=>c,kv:()=>l});var s=a(78144);var n=a(91663);var i=a.n(n);var o=a(47747);var $=a(26570);function r(e,t){if(e==="no-pay-schedule"){l()}else{c(e,t)}}function l(){window.BambooHR.Modal.setState({isOpen:true,dangerousContent:`\n\t\t\t<div>\n\t\t\t\t${$.__(`You can select a pay schedule by editing the compensation information on this employee's Job tab.`)}\n\t\t\t</div>\n\t\t`,icon:"fab-timesheet-exclamation-84x57",iconColor:"danger",headline:$.__("To enable time tracking you must first select a pay schedule for this employee."),primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,primaryActionText:$.__("Got it, Thanks"),title:$.__(`Oops, sorry that won't work...`)})}function c(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const n=microTemplate(i(),{header:d(e,(0,s.H$)(t)),description:u(e,(0,s.H$)(t))});window.BambooHR.Modal.setState({isOpen:true,dangerousContent:n,primaryAction:()=>{if(a){(0,o.GC)()}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Got it, Thanks"),title:$.__(`Overtime Won't Be Calculated`)})}function d(e,t){switch(e){case"no-location":return $.__(`We can't calculate overtime for %1$s because a location isn't set.`,t);case"no-state":return $.__(`We can't calculate overtime for %1$s because a state isn't set.`,t);case"no-state-remote":return $.__(`We can't calculate overtime for %1$s because a home address state isn't set.`,t);case"non-overtime-country":return $.__(`Overtime cannot be calculated for %1$s because their address does not include a US state.`,t);default:throw new Error("no missing data")}}function u(e,t){let a=$.__(`%1$s will still be able to track time, but we won't calculate overtime.`,t);switch(e){case"no-location":return a+" "+$.__(`Add %1$s to a location with a US address to automatically calculate overtime based on the state overtime laws.`,t);case"no-state":return a+" "+$.__(`Add a US state to %1$s's location to automatically calculate overtime based on the state overtime laws.`,t);case"no-state-remote":return a+" "+$.__(`Add a US state to %1$s's home address to automatically calculate overtime based on the state overtime laws.`,t);case"non-overtime-country":return a+" "+$.__(`Add a US state to %1$s's location to automatically calculate overtime based on the state overtime laws.`,t);default:throw new Error("no missing data")}}},18613:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(59155);var l=a.n(r);var c=a(26136);var d=a(17863);var moment=a(82543);var $=a(26570);class u extends i.Component{static get className(){return"ChooseDate"}constructor(e){super(e);(0,n.Z)(this,"_handleDateChange",(e=>{const{clockOutMeridiem:t,clockOutTime:a}=this.state;const{lastClockEntry:s}=this.props;const n=this.getLastCLockDate(s);const i=this.getSelectedDateTime(e,t,a);const o=i.isBefore(n);let r=t;if(o){r="PM"}this.setState({clockOutDate:e,clockOutMeridiem:r});this.setTotalTime()}));(0,n.Z)(this,"_handleOnInput",(e=>{const{clockOutDate:t,clockOutMeridiem:a,clockOutTime:s}=this.state;const{lastClockEntry:n}=this.props;const i=e.target.value;const o=this.getLastCLockDate(n);const r=this.getSelectedDateTime(t,a,(0,d.YZ)(i));const l=r.isBefore(o);this.timeInputRef.current.value=(0,d.Xw)(i,s);let c=a;if(l){c="PM"}this.setState({clockOutTime:this.timeInputRef.current.value,clockOutMeridiem:c});this.setTotalTime()}));(0,n.Z)(this,"calculateTotalTime",((e,t,a)=>{const{lastClockEntry:s}=this.props;const n=this.getSelectedDateTime(e,t,a);const i=this.getLastCLockDate(s);return(0,d.I1)(i,n,"hours")}));(0,n.Z)(this,"setTotalTime",(()=>{const{onDateChange:e}=this.props;this.setState((t=>{const{clockOutDate:a,clockOutMeridiem:s,clockOutTime:n}=t;const i=this.calculateTotalTime(a,s,n);let o=this.getSelectedDateTime(a,s,n);if(i<0||this.timeInputRef.current.value===""){o._isValid=false}e(o,i);return{totalTime:i}}))}));(0,n.Z)(this,"getLastCLockDate",(e=>moment.tz(e.start,e.timezone)));(0,n.Z)(this,"getSelectedDateTime",((e,t,a)=>{const{lastClockEntry:s}=this.props;const n="YYYY-MM-DD h:mm A";return moment.tz(`${e} ${(0,d.Vd)(a,t)}`,n,s.timezone)}));const t=moment().tz(e.lastClockEntry.timezone);const a=t.format("YYYY-MM-DD");const s=(0,d.xX)(t);const o=t.format("h:mm");const r=this.calculateTotalTime(a,s,o);this.state={clockOutDate:a,clockOutMeridiem:s,clockOutTime:o,totalTime:r};this.timeInputRef=(0,i.createRef)();e.onDateChange(t,r)}render(){const{clockOutDate:e,clockOutMeridiem:t,clockOutTime:a,totalTime:n}=this.state;const{lastClockEntry:i,showTotal:l}=this.props;const u=this.getLastCLockDate(i);const h=u.format("YYYY-MM-DD");const p=(0,d.xX)(u);const m=u.format("h:mm");const f={min:h,max:moment.tz(moment(),i.timezone).format("YYYY-MM-DD"),start:e};const g={isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[t],onSelect:e=>{const{clockOutDate:t,clockOutTime:a}=this.state;const{lastClockEntry:s}=this.props;const n=this.getLastCLockDate(s);const i=this.getSelectedDateTime(t,event.value,a);const o=i.isBefore(n);let r=e;if(o&&a!==""){r="PM"}this.setState({clockOutMeridiem:r});this.setTotalTime()}};return(0,s.Z)("div",{className:"ChooseDate fab-FormRow"},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"clockInDate"},void 0,$.__("Clocked in")),(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)("input",{className:"ChooseDate__clockInDate fab-TextInput fab-TextInput--width4",disabled:true,type:"text",value:u.format()}),(0,s.Z)("input",{className:"ChooseDate__clockInTime fab-TextInput fab-TextInput--width3",defaultValue:`${m} ${p}`,disabled:true,placeholder:"hh:mm",type:"text"}))),(0,s.Z)("span",{className:"ChooseDate__formDash"},void 0,"–"),(0,s.Z)("div",{},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"clockOutDate"},void 0,$.__("Clocked out at...")),(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)(c.Z,{cssClasses:{single:"fab-TextInput--width5"},name:"clockOutDate",onChange:this._handleDateChange,required:true,settings:f,type:"date"}),o().createElement("input",{className:"ChooseDate__timeInput fab-TextInput fab-TextInput--width2",defaultValue:a,onInput:this._handleOnInput,placeholder:"hh:mm",ref:this.timeInputRef,required:true,type:"text"}),o().createElement(r.Select,g))),l&&(0,s.Z)("div",{className:"ChooseDate__totalTimeContainer"},void 0,(0,s.Z)("p",{className:"ChooseDate__totalTime"},void 0,(0,d.mr)(n))))}}},95361:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n.a});var s=a(47496);var n=a.n(s)},42202:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a.n(o);var l=a(95361);var $=a(26570);t["Z"]=(e,t)=>{const a=(0,o.startsWith)(e,"approve")?$.__("Hours have changed"):$.__("Hours were not saved");const n=$.__("Refresh");let i=[];if(e==="save"){i=[$.__("Your timesheet was approved before you submitted your hours."),$.__("Bad timing, but reach out to your manager or HR administrator and they should make sure you're taken care of.")]}else{i=[$.__("Some hours have been recently edited.")+" "+$.__('Click "Refresh" to see any recent changes.'),$.__("You will then be able to continue approving.")]}const r=microTemplate(l.Z,{iconName:"fab-stopwatch-exclamation-51x54",paragraphs:i});window.BambooHR.Modal.setState({isOpen:true,hasCloseButton:false,alternativeAction:null,title:a,content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:r}}),primaryActionText:n,primaryAction(){window.BambooHR.Modal.setState({isOpen:true,isProcessing:true},true);if(t){t()}else{window.location.reload(true)}}})}},32135:(e,t,a)=>{"use strict";a.d(t,{Z:()=>k});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a.n(o);var l=a(51341);var c=a(71141);var d=a(17842);var u=a.n(d);var h=a(18669);var p=a(69835);var m=a(21198);var f=a.n(m);var g=a(17863);var v=a(42006);var y=a(45548);var b=a(68003);var w=a(93151);var S=a.n(w);var $=a(26570);const C=(0,c.isEnabled)("newTimesheetDetailsModal");function x(e,t){let{canViewEmployeeTimesheet:a,employeePhotoUrl:s,employeeId:n,employeeName:i,timesheet:r}=t;let c=0;let d=0;let u=0;let h=0;let f=(0,o.sortBy)(r.dailyDetails,"date").map((e=>{let t=(0,l.Z)(e.date);e.dayOfWeek=t.format("ddd");e.dayDate=t.format("MMM D");e.extras=[...T(e.timeOff),...E(e.holidays)];c+=e.hours+e.timeOffHours+e.paidHolidayHours;d+=e.overtimeHours;u+=e.timeOffHours;h+=e.holidayHours+e.paidHolidayHours;return e}));let v=(0,g.pX)(f);let y=`${f[0].dayDate}–${f[f.length-1].dayDate}`;const b=(0,g.lo)(f);const w=$.__n("The work week start day has changed. There is %1$s day where overtime cannot be calculated.","The work week start day has changed. There are %1$s days where overtime cannot be calculated.",b.count);const C=window.microTemplate(S(),{entries:f,employeeName:i,employeePhotoUrl:s,dateSpan:y,totalTime:c,totalOvertime:d,totalTimeOff:u,totalHoliday:h,overtimeSummary:v,formatTime:g.mr,timeSheetLink:a?`/employees/timesheet/?id=${n}&et_id=${e}`:"",workWeekStartsOn:b,workWeekWarningMessage:w});const x=(0,m.fragFromHtml)(C);const k=Array.from(x.querySelectorAll(".js-time-details-modal-note"));k.forEach((e=>{const t=e.getAttribute("data-tooltip-index");const a=f[t].note;const s=(0,g.mr)(f[t].hours||0);p.Z.createStandard(e,{title:s,content:a,position:"right",tailOnBalloon:"12px"})}));return x}function T(e){return e.map((e=>{let t=e.unit==="hours"?$.__("hours"):$.__("days");e.info=`${e.amount} ${t} ${e.type}`;e.iconName=e.icon?b.Mj[e.icon]:"fab-briefcase-clock-14x12";return e}))}function E(e){return e.map((e=>{let t=(0,h.VR)((0,h.wG)(e.multiplier));e.info=`${e.name} ${e.multiplier?`(${$.__("pays")} ${t}x)`:""}`;if(isNaN(t)){e.info=(0,g.Rr)(e)}e.iconName="fab-fireworks-16x16";return e}))}function k(e){const t=$.__("Timesheet Detail");const a=`/timesheet/${e}`;u().get(a).then((a=>{const n=(0,y.Z)(a.data);window.BambooHR.Modal.setState({isOpen:true,dangerousContent:C===false?x(e,a.data):null,content:C?(0,s.Z)(v.Z,{initialState:n,isViewOnly:true,showHeader:false,showSheetPadDays:false}):null,headline:t,icon:"fab-timesheet-29x22",primaryActionText:$.__("Close"),primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,contentHasPadding:false,type:"fullScreen",onOpen(){const e=Array.from(document.querySelectorAll(".js-time-details-work-week-warning-icon"));e.forEach((e=>{const t=$.__("Overtime cannot be calculated for this day.");p.Z.createStandard(e,{content:t,position:"right"})}))}})}))}},35236:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(74713);var r=a(59155);var l=a.n(r);var c=a(56445);var d=a.n(c);var u=a(60042);var h=a.n(u);var p=a(92289);var m=a(66327);var f=a(38592);var g=a(82033);var $=a(26570);const v=e=>{let{isActivationOpen:t,setIsActivationOpen:a}=e;const[i,l]=(0,n.useState)(true);const[d,u]=(0,n.useState)();const[v,y]=(0,n.useState)();const[b,w]=(0,n.useState)(false);const S=(0,o.y)();(0,n.useEffect)((()=>{if(d&&v){l(false)}}),[d,v]);const C=[{text:"1-24",value:"1-24"},{text:"25-50",value:"25-50"},{text:"51-100",value:"51-100"},{text:"101-250",value:"101-250"},{text:"251-500",value:"251-500"},{text:"500+",value:"500+"}];const x=[{text:$.__("We use another time tracking product currently."),value:"use_another_product"},{text:$.__("We track time manually."),value:"track_manually"},{text:$.__("We want time tracking and are just getting started."),value:"want_time_tracking"}];const T=()=>{a(false)};const E=()=>{w(true);(0,g.fp)($.__("Getting your trial ready now! This may take a few moments, so hold tight."),"info");(0,m.postNewActivationTrialValues)({employeeCount:d,currentTimeTrackingProcess:v}).then((()=>{(0,m.setTrialStarted)();(0,f.redirect)("/settings/time_tracking")})).catch((()=>{window.errorFallBack();w(false)}))};const k=(0,s.Z)(r.TextButton,{onClick:T,processing:b},"button-2",$.__("Cancel"));const Z=(0,s.Z)(r.Button,{"data-bi-id":"time-tracking-trial-start-trial-button",disabled:i,onClick:E,processing:b},"button-1",$.__(`Start Free Trial`));return(0,s.Z)(r.StandardModal,{isOpen:t,onRequestClose:T},void 0,(0,s.Z)(r.StandardModal.Body,{renderFooter:(0,s.Z)(r.StandardModal.Footer,{actions:(0,c.ifFeature)("encore",[k,Z],[Z,k])}),renderHeader:(0,s.Z)(r.StandardModal.Header,{title:$.__("Time Tracking Trial")})},void 0,(0,s.Z)(r.StandardModal.Constraint,{},void 0,(0,s.Z)("div",{className:S.icon},void 0,(0,c.ifFeature)("encore",(0,s.Z)(r.IconV2,{name:"stopwatch-solid",size:48}),(0,s.Z)(p.Z,{}))),(0,s.Z)("p",{className:S.tryItText},void 0,$.__(`Try it Out For 14 Days!`)),(0,s.Z)("p",{className:S.topText},void 0,$.__(`This trial will allow you to access the full Time Tracking feature for 14 days. Add as many employees as you need to understand the impact this tool will have on your business.`)),(0,s.Z)("p",{className:S.bottomText},void 0,$.__(`Once activated, a BambooHR representative will reach out shortly. This rep will be a dedicated resource for you to rely on should you have any questions.`)),(0,s.Z)("hr",{className:S.separator}),(0,s.Z)("p",{className:S.subHeader},void 0,$.__(`Enough about us. We'd like to know more about you`)),(0,s.Z)("div",{},void 0,(0,s.Z)("label",{className:h()(S.label,S.labelTop),htmlFor:"employeeNeeds"},void 0,$.__(`Roughly how many of your employees need to track hours?*`)),(0,s.Z)(r.Select,{isClearable:false,items:C,onSelect:e=>u(e),selectedValues:[d],width:6})),(0,s.Z)("div",{},void 0,(0,s.Z)("label",{className:h()(S.label,S.labelBottom),htmlFor:"trackingProcess"},void 0,$.__(`How would you describe your current time tracking process?*`)),(0,s.Z)(r.Select,{isClearable:false,items:x,onSelect:e=>y(e),selectedValues:[v],width:10})))))};t["Z"]=v},88306:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(34387);var $=a(26570);function n(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.head;return s.Z.create(e,{triggerEvent:"none",position:"right",push:15,toggleOnClick:false,template:{name:"popover-standard",data:{title:$.__(`Entering time shouldn't be hard.`),content:$.__("Enter your time like %1$s or %2$s—whatever feels most natural.",`<b class="fontSemibold">1${window.GLOBAL_DECIMAL_CHAR||"."}5</b>`,'<b class="fontSemibold">1:30</b>'),rawContent:true}}})}},1895:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i,n:()=>o});var s=a(34387);let n;function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.head;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"🐼";n=s.Z.create(e,{closeX:false,html:`<span class="TimeTrackingErrorPopover js-tt-error-text">${t}</span>`,position:"right",themeClass:"Balloon--popover-error",persistent:true,toggleOnClick:false,triggerEvent:"none"});return n}function o(e,t){n.balloonContentElement.querySelector(".js-tt-error-text").innerText=e;if(t){n.setAnchor(t)}}},17863:(e,t,a)=>{"use strict";a.d(t,{Am:()=>X,E:()=>j,I1:()=>v,Lq:()=>W,MS:()=>z,Pz:()=>re,RG:()=>K,Rr:()=>G,Rs:()=>oe,TD:()=>m,Tr:()=>se,Tz:()=>E,Ui:()=>H,Vd:()=>g,Vh:()=>ie,Xw:()=>L,YZ:()=>O,a6:()=>ae,aC:()=>ee,bY:()=>q,ch:()=>h,eK:()=>V,ff:()=>te,gi:()=>U,lo:()=>J,m7:()=>ne,mr:()=>f,pX:()=>Y,qu:()=>T,v3:()=>y,w9:()=>u,xX:()=>Q});var s=a(73641);var n=a.n(s);var i=a(13296);var o=a.n(i);var r=a(51341);var $=a(26570);const l=/^(\d*)(?:[.,](\d*))?$/;const c=/^(\d{0,2}):(\d{0,2})$/;const d=/(?=.*[hm])^(?:(\d{1,2})h)?\s*(?:(\d{1,2})m?)?$/i;const u="INVALID_FORMAT";const h="OVER_24";function p(e){if(!e){return 0}return Number(e)}function m(e){const t=String(e).trim();if(!t){return null}let a=null;let n=t.match(l);if(n){a=p(n[1])+(n[2]?p(`.${n[2]}`):0)}else if(t.match(c)){n=t.match(c);a=p(n[1])+p(n[2].length<2?`${n[2]}0`:n[2])/60}else if(t.match(d)){n=t.match(d);a=p(n[1])+p(n[2])/60}if(typeof a!=="number"){return u}return a<=24?(0,s.round)(a,4):h}function f(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=parseFloat(e);if(isNaN(a)){return""}let n=parseInt(a);let i=Math.round(a*60%60);if(i===60){n++;i=0}if(t){if(i&&!n){return`${i}m`}else if(n&&!i){return`${n}h`}}return`${n}h ${(0,s.padStart)(i,2,0)}m`}function g(e,t){return(0,r.Z)(`${e} ${t}`,"h:mm A","en").format("HH:mm:ss")}function v(e,t,a){if(e&&e.isValid()&&t&&t.isValid()&&a){return r.Z.duration(t.diff(e)).as(a)}return 0}function y(e,t,a){const s=e&&t==="AM"&&O(e)==="12:00";return s?(0,r.Z)(a).add(1,"day").format("YYYY-MM-DD"):a}const b=$.__("Clock In");const w=$.__("Clocking In");const S=$.__("Clock Out");const C=$.__("Clocking Out");const x=$.__("Verify Time & Clock Out");function T(e,t,a,s){if(e&&!a){return t?C:S}else if(a){return s?x:S}return t?w:b}function E(e,t){const a=e.end?e.end:e.start;const s=r.Z.tz(a,e.timezone).calendar(t);const{projectName:n,taskName:i}=e;if(!e.end){if(e.projectName&&e.taskName){return`${n} » ${i}`}if(e.projectName){return n}return $.__("Clocked In: %1$s",s)}return $.__("Clocked Out: %1$s",s)}const k=/^(1[0-2]|0[1-9]|[2-9])$/;const Z=/^1[3-5]$/;const F=/^(?:1[0-2]|0?[1-9]):?$/;const I=/^(?:1[0-2]|0?[1-9]):(?:[0-5][0-9]?)$/;const N=/:/;const A=/.?:.*/;const M=/:[6-9]$/;const D=/.$/;const P=/^0?:/;function L(e,t){const a=e.length;const s=t.length;const n=Math.abs(s-a);if(a>s){if(k.test(e)){return(e.startsWith("0")?e.slice(1):e)+":"}if(t==="1"&&Z.test(e)){return e.split("").join(":")}if(e===""||e==="0"||F.test(e)||I.test(e)){return e}return t}if(n>1){return L(e,"")}if(n===1&&N.test(t)&&!N.test(e)&&a!==0){return t.replace(A,"")}if(M.test(e)){return e.replace(D,"")}if(P.test(e)){return""}return e}function O(e){if(typeof e==="string"){if(/:/.test(e)){return e.replace(/\d*$/,(e=>(0,s.padEnd)(e,2,"0")))}return e?e+":00":""}return""}const R=/^(?:1[0-2]|[1-9]):[0-5][0-9]$/;function B(e){return R.test(e)}function j(e){const t=m(e);return t!==h&&t!==u}function H(e){let t=true;if(!Array.isArray(e)){return false}e.forEach((e=>{let a=O(e.startTime);let s=O(e.endTime);if(!B(a)||!B(s)||e.total<0){t=false}}));return t}function q(e){let t=true;if(!Array.isArray(e)){return false}e.forEach((e=>{if(!j(e.hours)||e.total<0){t=false}}));return t}function W(e){const t=[];if(!Array.isArray(e)){return false}e.forEach((e=>{const a=e.clockOutDateTime!==null&&e.clockOutDateTime._isValid;t.push(a)}));return!t.includes(false)}function U(e,t){return e.startMoment.isBetween(t.startMoment,t.endMoment)||e.endMoment.isBetween(t.startMoment,t.endMoment)||t.startMoment.isBetween(e.startMoment,e.endMoment)||t.endMoment.isBetween(e.startMoment,e.endMoment)||e.startMoment.isSame(t.startMoment)&&e.endMoment.isSame(t.endMoment)}function z(e,t){let a=(0,r.Z)(e);let n=(0,r.Z)(t);a.startOf("minute");n.startOf("minute");return(0,s.round)(n.diff(a,"hours",true),4)}function V(e,t,a){return(0,s.flow)(s.values,(0,i.filter)((a=>a.date>=e&&a.date<=t)),(0,i.sortBy)("date"))(a)}function Y(e){const t=e.reduce(((e,t)=>{if(t.overtimeSummary!==undefined&&t.overtimeSummary.length>0){t.overtimeSummary.forEach((t=>{if(e[t.multiplier]===undefined){e[t.multiplier]=0}e[t.multiplier]+=t.hours}))}return e}),{});let a=[];for(let e in t){if(t[e]>0){a.push({multiplier:parseFloat(e),hours:t[e]})}}return a.sort(((e,t)=>e.multiplier-t.multiplier))}function G(e){let t;const a=e.paidHours%1!=0;if(e.paidHours===null){t=e.name}else if(a){t=$.__("%1$s for %2$s",f(e.paidHours),e.name,{note:"e.g. 7h 30m for New Years"})}else{t=$.__("%1$s Hours for %2$s",e.paidHours,e.name,{note:"8 Hours for New Years"})}return t}function K(e){if(e===null){return false}const t=(0,r.Z)();const a=(0,r.Z)(e.start);const s=(0,r.Z)(t).diff((0,r.Z)(a),"hours",true);const n=a.isBefore(t,"day");return e.end===null&&n&&s>14}function X(e,t,a,s){const n=a!==Boolean(e);let i=false;if(n){return true}if(t===null){i=s!==null}else{i=s!==(a?t.start:t.end)}return i}function J(e){const t=e.reduce(((e,t)=>{if(t.hasWorkWeekStartsOnChanged===true){return e+1}return e}),0);return{changed:t>0,count:t}}function Q(e){return e.clone().locale("en").format("A")}function ee(e){const{allIds:t,byId:a}=e;const s=t.map((e=>{let t=null;if(a[e].tasks.allIds.length>0){const s=a[e].tasks.byId;t=a[e].tasks.allIds.map((t=>({text:s[t].name,value:`${a[e].id}-${s[t].id}`})))}if(t!==null){return{items:t,text:a[e].name,value:a[e].id}}return{text:a[e].name,value:a[e].id}}));return[{items:s,text:$.__("All Projects"),type:"group",key:"projects"}]}function te(e,t){return!!e&&r.Z.tz(e.end,e.timezone).isAfter(t)}function ae(e){if(typeof e==="string"&&e.indexOf("-")>-1){const t=e.split("-");return t}return[e,null]}function se(e,t){if(e===null){return{projectId:null,projectName:null,taskId:null,taskName:null}}const{byId:a}=t;const[s,n]=ae(e);if(s&&n){return{projectId:a[s].id,projectName:a[s].name,taskId:a[s].tasks.byId[n].id,taskName:a[s].tasks.byId[n].name}}return{projectId:a[e].id,projectName:a[e].name,taskId:null,taskName:null}}function ne(e,t,a){if(t&&a){return`${t} » ${a}`}if(t){return t}return e[0].text}function ie(e,t){let a=null;if(e&&t){a=`${e} » ${t}`}else if(e){a=e}return a}function oe(e,t){const a=(0,r.Z)(e,"YYYY-MM-DD");const s=(0,r.Z)(t,"YYYY-MM-DD");const n=a.isSame(s,"day");const i=a.isSame(s,"month");const o=a.format("MMM D");const l=s.format(i?"D":"MMM D");return n?o:`${o}–${l}`}function re(e,t){let[a,s]=e;let[n,i]=t;const o=e=>Math.PI/180*e;const r=(e,t)=>Math.PI/180*(e-t);const l=6371;const c=r(n,a);const d=r(i,s);a=o(a);n=o(n);const u=Math.pow(Math.sin(c/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(a)*Math.cos(n);const h=2*Math.asin(Math.sqrt(u));let p=l*h;p*=1e3;return p}},81901:(e,t)=>{"use strict";const a={terminateEmployee:{url:"/modals/terminate-employee",title:"Terminate Employee"},rehireEmployee:{url:"/modals/rehire-employee",title:"Rehire Employee"},addEmploymentStatus:{url:"/modals/employment-status/add",title:"Employment Status - Add"},editEmploymentStatus:{url:"/modals/employment-status/edit",title:"Employment Status - Edit"},deleteEmploymentStatus:{url:"/modals/employment-status/delete",title:"Employment Status - Delete"},addCompensation:{url:"/modals/compensation/add",title:"Compensation - Add"},editCompensation:{url:"/modals/compensation/edit",title:"Compensation - Edit"},deleteCompensation:{url:"/modals/compensation/delete",title:"Compensation - Delete"},addJobInformation:{url:"/modals/job-information/add",title:"Job Information - Add"},editJobInformation:{url:"/modals/job-information/edit",title:"Job Information - Edit"},deleteJobInformation:{url:"/modals/job-information/delete",title:"Job Information - Delete"},addBonus:{url:"/modals/bonus/add",title:"Bonus - Add"},editBonus:{url:"/modals/bonus/edit",title:"Bonus - Edit"},deleteBonus:{url:"/modals/bonus/delete",title:"Bonus - Delete"},addCommission:{url:"/modals/commission/add",title:"Commission - Add"},editCommission:{url:"/modals/commission/edit",title:"Commission - Edit"},deleteCommission:{url:"/modals/commission/delete",title:"Commission - Delete"},addDependent:{url:"/modals/dependent/add",title:"Dependent - Add"},editDependent:{url:"/modals/dependent/edit",title:"Dependent - Edit"},deleteDependent:{url:"/modals/dependent/delete",title:"Dependent - Delete"},addBenefitClass:{url:"/modals/benefit-class/add",title:"Benefit Class - Add"},editBenefitClass:{url:"/modals/benefit-class/edit",title:"Benefit Class - Edit"},deleteBenefitClass:{url:"/modals/benefit-class/delete",title:"Benefit Class - Delete"},addEarnings:{url:"/modals/earnings/add",title:"Earnings - Add"},editEarnings:{url:"/modals/earnings/edit",title:"Earnings - Edit"},deleteEarnings:{url:"/modals/earnings/delete",title:"Earnings - Delete"},addVisa:{url:"/modals/visa/add",title:"Visa - Add"},editVisa:{url:"/modals/visa/edit",title:"Visa - Edit"},deleteVisa:{url:"/modals/visa/delete",title:"Visa - Delete"},addCard:{url:"/modals/credit-card/add",title:"Credit Card - Add"},editCard:{url:"/modals/credit-card/edit",title:"Credit Card - Edit"},deleteCard:{url:"/modals/credit-card/delete",title:"Credit Card - Delete"},addPassport:{url:"/modals/passport/add",title:"Passport - Add"},editPassport:{url:"/modals/passport/edit",title:"Passport - Edit"},deletePassport:{url:"/modals/passport/delete",title:"Passport - Delete"},addDriverLicense:{url:"/modals/driver-license/add",title:"Driver License - Add"},editDriverLicense:{url:"/modals/driver-license/edit",title:"Driver License - Edit"},deleteDriverLicense:{url:"/modals/driver-license/delete",title:"Driver License - Delete"},addAsset:{url:"/modals/asset/add",title:"Assets - Add"},editAsset:{url:"/modals/asset/edit",title:"Assets - Edit"},deleteAsset:{url:"/modals/asset/delete",title:"Assets - Delete"},addStockOption:{url:"/modals/stock-option/add",title:"Stock Options - Add"},editStockOption:{url:"/modals/stock-option/edit",title:"Stock Options - Edit"},deleteStockOption:{url:"/modals/stock-option/delete",title:"Stock Options - Delete"},addCertification:{url:"/modals/certification/add",title:"Certification - Add"},editCertification:{url:"/modals/certification/edit",title:"Certification - Edit"},deleteCertification:{url:"/modals/certification/delete",title:"Certification - Delete"}};function s(e){let t=window.dataLayer;if(!t){console.error("The virtual page viewer does not have access to the Google Tag Manager dataLayer variable.");return false}t.push({event:"Virtual Pageview",virtualPageURL:`/virtual${e.url}`.replace(/\/{2,}/,"/"),virtualPageTitle:e.title})}function n(e){let t=a[e];if(!t){console.error(`No virtual modal page view with a type of ${e} was found.`);return false}s(t)}let i={modal:n};t["Z"]=i},42579:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});function s(){return Promise.resolve({companyCountryId:a.g.GLOBAL_COMPANY_COUNTRY_ID,companyLogo:a.g.GLOBAL_COMPANY_LOGO,isTrial:a.g.GLOBAL_IS_TRIAL==="true",...a.g.SESSION_COMPANY})}},10047:(e,t,a)=>{"use strict";var s=a(8575);var $=a(26570);const n="/calendar";function i(e,t){const a=$.get(`${n}/time_off/${e}/${t}`);return(0,s.m)($.when(a),a)}function o(e,t){const a=$.get(`${n}/holidays/${e}/${t}`);return(0,s.m)($.when(a),a)}function r(e,t){const a=$.get(`${n}/birthdays/${e}/${t}`);return(0,s.m)($.when(a),a)}function l(e,t){const a=$.get(`${n}/anniversaries/${e}/${t}`);return(0,s.m)($.when(a),a)}function c(e){return $.get(`/time_off/requests/${e}/balance_details`)}function d(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a={option:e,...t};const i=$.post(`${n}/employee/filter`,a);return(0,s.m)($.when(i),i)}function u(e){const t=$.post(`${n}/period`,{period:e});return(0,s.m)($.when(t),t)}function h(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const t=e.reduce(((e,t)=>({...e,[t.filterKey]:t.selected})),{});const a=$.post(`${n}/menu/filters`,t);return(0,s.m)($.when(a),a)}function p(e,t){const a={id:e,action:t,name:"time_off_request",ajax:true};return $.post("/inbox/details.php",a)}t["ZP"]={getCompanyTimeOff:i,getCompanyHolidays:o,getCompanyBirthdays:r,getCompanyAnniversaries:l,getTimeOffRequestBalanceDetails:c,postEmployeeFilters:d,postPeriod:u,postFilters:h,postApproveOrDenyRequest:p}},39454:(e,t,a)=>{"use strict";var s=a(64624);var n=a.n(s);var i=a(84479);var o=a.n(i);var r=a(17842);var l=a.n(r);const c=(0,i.createLogger)("Nudge");let d=null;function u(){return new Promise(((e,t)=>{if(d&&d.connection.state==="connected"){e(d);return}d=new(n())(window.PUSHER_AUTH_KEY,{cluster:window.PUSHER_CLUSTER,forceTLS:true,authEndpoint:"/pusher/auth",auth:{headers:{"X-CSRF-Token":window.CSRF_TOKEN}}});d.connection.bind("connected",(()=>{e(d)}));d.connection.bind("unavailable",t);d.connection.bind("failed",t);d.connection.bind("disconnected",t)})).catch((e=>Promise.reject("Connection to external service failed...")))}function h(e){return l().get("/broadcast/channels?"+m(e)).then((e=>e.data)).catch((e=>Promise.reject("Getting channels failed...")))}function p(e){if(typeof e==="object"){const{channel:t,events:a}=e;return typeof t==="string"&&t.trim().length>0&&typeof a==="object"&&Object.keys(a).length>0}return false}function m(e){const t=new FormData;e.forEach(((e,a)=>{let{channel:s,subjectId:n}=e;t.append(`channels[${a}]`,s);t.append(`subjectIds[${a}]`,n)}));return new URLSearchParams(t).toString()}function f(e,t){const a=[];const s=[];for(let n=0;n<e.length;n++){const i=e[n];(t(i)?a:s).push(i)}return[a,s]}function g(e,t,a){const{channel:s,originalChannel:n,subjectId:i}=a;return{channel:n,subjectId:i,unsubscribe:()=>e.unsubscribe(s),on(e,a){if(!e||!a){return}t.bind(e,a)},off(e,a){t.unbind(e,a)}}}function v(e){document.addEventListener("AppSession:expired",(()=>{e.disconnect()}),{once:true})}function y(e){document.addEventListener("AppSession:csrfChanged",(()=>{d.config.auth.headers["X-CSRF-Token"]=window.CSRF_TOKEN;e.forEach((e=>{b(e)}))}),{once:true})}async function b(e){if(!Array.isArray(e)){e=[e]}const[t,a]=f(e,p);if(a.length){c.warn("Invalid connection objects were passed in. They have been ignored:",...a)}if(!t){return Promise.reject("No valid connection objects were used...")}const s=t.reduce(((e,t)=>{if(!e[t.channel]){e[t.channel]={}}e[t.channel][t.subjectId]=t;return e}),{});const n=await u();const i=await h(t);const o=i.map((e=>{const{originalChannel:t,subjectId:a}=e;const i=s[t][a].events;const o=n.subscribe(e.channel);Object.keys(i).forEach((e=>{o.bind(e,(()=>i[e]()))}));return g(n,o,e)}));v(n);y(t);return{connections:o,find(e,t){return o.find((a=>a.channel===e&&a.subjectId===t))}}}t["Z"]={subscribe:b}},20983:(e,t,a)=>{"use strict";a.d(t,{Z6:()=>i});function s(e,t){const a=[...e];const s=[...t];e.forEach(((e,t)=>{const n=a.indexOf(e);const i=s.indexOf(e);if(i>=0){a.splice(n,1);s.splice(i,1)}}));return[...a,...s]}function n(e,t){const a=e.name.toUpperCase();const s=t.name.toUpperCase();if(a<s){return-1}if(a>s){return 1}return 0}function i(e,t){const a=[];const s=[];for(let n=0;n<e.length;n++){const i=e[n];(t(i)?a:s).push(i)}return[a,s]}},38592:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{Dom:()=>_utils_dom__WEBPACK_IMPORTED_MODULE_5__,Form:()=>Form_util__WEBPACK_IMPORTED_MODULE_15__.ZP,History:()=>_utils_url_history__WEBPACK_IMPORTED_MODULE_10__,Image:()=>Image_util__WEBPACK_IMPORTED_MODULE_12__,Mediator:()=>Mediator_util__WEBPACK_IMPORTED_MODULE_13__.Z,Rect:()=>Rect_util__WEBPACK_IMPORTED_MODULE_14__.Z,XPath:()=>XPath,addClass:()=>addClass,allValuesEqual:()=>allValuesEqual,callFunctionQueue:()=>callFunctionQueue,canEmailFilesAndReports:()=>canEmailFilesAndReports,canUseLocalStorage:()=>_utils_localstorage__WEBPACK_IMPORTED_MODULE_4__.canUseLocalStorage,diffStrings:()=>diffStrings,elementHasClass:()=>elementHasClass,env:()=>env,eventTrack:()=>eventTrack,executeFunction:()=>executeFunction,extendURL:()=>_utils_url__WEBPACK_IMPORTED_MODULE_6__.extendURL,fnResult:()=>fnResult,formatCurrencyPercentToggle:()=>formatCurrencyPercentToggle,getArrayString:()=>getArrayString,getAttrs:()=>getAttrs,getBrandColor:()=>getBrandColor,getCurrentScript:()=>getCurrentScript,getExtFromFileName:()=>getExtFromFileName,getFabricBrandColor:()=>getFabricBrandColor,getFabricNonBrandColor:()=>getFabricNonBrandColor,getFileTypeFromExt:()=>getFileTypeFromExt,getFileTypeIconColor:()=>getFileTypeIconColor,getFileTypeIconFromExt:()=>getFileTypeIconFromExt,getFormData:()=>getFormData,getIconNameFromFileName:()=>getIconNameFromFileName,getJsonScriptVar:()=>getJsonScriptVar,getMaxZIndex:()=>_utils_dom__WEBPACK_IMPORTED_MODULE_5__.getMaxZIndex,getParameterByName:()=>_utils_url__WEBPACK_IMPORTED_MODULE_6__.getParameterByName,getRelativePosition:()=>getRelativePosition,getScriptConfig:()=>getScriptConfig,hasClass:()=>hasClass,hasFocusedElement:()=>hasFocusedElement,hasHtml:()=>hasHtml,hasTrax:()=>hasTrax,highlightTermInMarkup:()=>highlightTermInMarkup,htmldecode:()=>String_util__WEBPACK_IMPORTED_MODULE_3__.kB,htmlentities:()=>String_util__WEBPACK_IMPORTED_MODULE_3__.H$,humanFileSize:()=>humanFileSize,isJQueryPromise:()=>isJQueryPromise,isJquery:()=>isJquery,isJqueryElement:()=>isJqueryElement,isPromise:()=>isPromise,isSvg:()=>isSvg,isWidthBelowSupportedMinWidth:()=>isWidthBelowSupportedMinWidth,jQueryFabTableSorter:()=>jQueryFabTableSorter,makeUid:()=>makeUid,objContains:()=>objContains,ordinal:()=>ordinal,prefetch:()=>prefetch,printDiv:()=>printDiv,queryStringToObject:()=>_utils_url__WEBPACK_IMPORTED_MODULE_6__.queryStringToObject,redirect:()=>redirect,removeClass:()=>removeClass,sanitizeHtml:()=>sanitizeHtml,sanitizeSvg:()=>sanitizeSvg,setupWrappers:()=>setupWrappers,toArray:()=>toArray,toCamelCase:()=>toCamelCase,toPascalCase:()=>toPascalCase,toQueryString:()=>_utils_url__WEBPACK_IMPORTED_MODULE_6__.toQueryString,triggerEvent:()=>triggerEvent,ucfirst:()=>ucfirst,validateEmail:()=>_utils_validation_rules__WEBPACK_IMPORTED_MODULE_11__.validateEmail,waitUntilReady:()=>waitUntilReady,when:()=>when});var moment_lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51341);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(73641);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var leven__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33078);var leven__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(leven__WEBPACK_IMPORTED_MODULE_2__);var String_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(78144);var _utils_localstorage__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(89100);var _utils_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21198);var _utils_dom__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_utils_dom__WEBPACK_IMPORTED_MODULE_5__);var _utils_url__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85656);var _utils_url__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_utils_url__WEBPACK_IMPORTED_MODULE_6__);var _bamboohr_utils_lib_feature__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(56445);var _bamboohr_utils_lib_feature__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_bamboohr_utils_lib_feature__WEBPACK_IMPORTED_MODULE_7__);var _bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1765);var _bamboohr_fabric_dist_definitions_json_theme_colors_json__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(46471);var _utils_url_history__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(36029);var _utils_url_history__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_utils_url_history__WEBPACK_IMPORTED_MODULE_10__);var _utils_validation_rules__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(30424);var Image_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(47129);var Mediator_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(28513);var Rect_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(20907);var Form_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(45662);var $=__webpack_require__(26570);var jQuery=__webpack_require__(26570);function formatCurrencyPercentToggle(e,t){const a=$(e).data("currency-toggle");const s=$(t);const n=s.val();const i=window.getFloatFromStringJS(n.replace("$","").replace("%",""));if(a==="$"){s.addClass("currency-field");s.removeClass("percent-field")}else if(a==="%"){s.removeClass("currency-field");s.addClass("percent-field");if(i>100){s.val(100)}}else{throw new Error(`Invalid Radio Toggle data-currency-toggle value -- must be $ or %, currently set to: ${a}`)}s.blur()}function hasFocusedElement(document){if(!document.activeElement||document.activeElement===document.body){return false}return true}function eventTrack(e,t,a,s){const n=window._gaq||[];window._gaq=n;n.push(["_setAccount","UA-5806974-3"]);n.push(["_trackEvent",e,t,a,s]);if(window.BambooHR.env&&window.BambooHR.env.prod){(function(){const e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=`${document.location.protocol==="https:"?"https://ssl":"http://www"}.google-analytics.com/ga.js`;const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}}function setupWrappers(e){const t={};const a=Object.keys(e).reduce(((a,s)=>{a[s]={get(){t[s]=t[s]||$(e[s]);return t[s]}};return a}),{});return Object.defineProperties({},a)}function executeFunction(func){if(typeof func==="function"){return func()}const funcReg=/function *\(([^()]*)\)[ \n\t]*{(.*)}/gim;const match=funcReg.exec(func.replace(/\n/g," "));if(match){const e=new Function(match[1].split(","),match[2]);return e()}return eval(func)}function callFunctionQueue(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++){s[n-2]=arguments[n]}e.forEach((e=>e.call(t||undefined,...s)))}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function elementHasClass(e,t){return` ${e.className} `.includes(` ${t} `)}function getRelativePosition(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(e instanceof jQuery){e=e.get(0)}else if(typeof e==="string"){e=$(e).get(0)}const s=document.getElementsByTagName("HTML")[0].getBoundingClientRect();let n;try{n=e.getBoundingClientRect()}catch(e){console.log("Class Name, DOM or JQuery element required for getRelativePosition(reference)");return false}let i=Math.abs(s.top)+n.top;if(a){i-=parseInt(document.body.style.top||"0")}const o=Math.abs(s.left)+n.left;const r={top:i,bottom:i+n.height,left:o,right:o+n.width,width:n.width,height:n.height};if(r.hasOwnProperty(t)){return r[t]}return r}function allValuesEqual(e,t){const a=t===undefined?e[0]:t;for(let t=0;t<e.length;t++){if(e[t]!==a){return false}}return true}function toPascalCase(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_1__.upperFirst)((0,lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase)(e))}const toCamelCase=lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase;const toArray=lodash__WEBPACK_IMPORTED_MODULE_1__.toArray;function XPath(e){let t;if(typeof document.evaluate!=="undefined"){const a=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null);let s=a.iterateNext();t=[];while(s){t.push(s);s=a.iterateNext()}}return t||[]}function printDiv(e){const t="print-only-one-div";const a=document.querySelector(e).innerHTML;const s=document.head||document.getElementsByTagName("head")[0];const n=document.createElement("style");n.type="text/css";const i=document.createElement("div");const o=[`.${t}{display: none;}`,"@media print {",`.${t}{display: block;}`,`body >:not(.${t}) {display: none !important;}}`].join("");if(n.styleSheet){n.styleSheet.cssText=o}else{n.appendChild(document.createTextNode(o))}s.appendChild(n);i.innerHTML=a;i.className=t;document.body.appendChild(i);window.print();s.removeChild(n);document.body.removeChild(i)}function hasHtml(e){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){return true}const t=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/.exec(e);return!!(t&&t[1])}function sanitizeHtml(e,t){return _utils_dom__WEBPACK_IMPORTED_MODULE_5__.sanitize(e,{...(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isPlainObject)(t)?t:{},USE_PROFILES:{html:true}})}function sanitizeSvg(e,t){return _utils_dom__WEBPACK_IMPORTED_MODULE_5__.sanitize(e,{...(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isPlainObject)(t)?t:{},USE_PROFILES:{svg:true}})}function humanFileSize(e){const t=1024;if(Math.abs(e)<t){return`${e} B`}const a=["KB","MB","GB","TB","PB","EB","ZB","YB"];let s=-1;do{e/=t;++s}while(Math.abs(e)>=t&&s<a.length-1);return e.toFixed(1)+a[s]}function triggerEvent(e,t){let a;if(document.createEventObject){a=document.createEventObject();return e.fireEvent(`on${t}`,a)}a=document.createEvent("HTMLEvents");a.initEvent(t,true,true);return!e.dispatchEvent(a)}function getExtFromFileName(e){return e.toLowerCase().split(".").pop()}function getFileTypeFromExt(e){switch(getExtFromFileName(e)){case"pdf":return"pdf";case"docx":case"doc":case"docm":case"pages":case"odt":return"doc";case"xls":case"xlsx":case"csv":case"xlsm":case"ods":return"xls";case"ppt":case"key":case"kth":return"ppt";case"txt":case"rtf":return"txt";case"msg":case"eml":return"email";case"htm":case"html":case"url":case"mht":case"webarchive":return"webpage";case"zip":case"rar":return"archive";case"jpg":case"jpeg":case"tif":case"gif":case"png":case"ai":case"eps":case"tiff":case"psd":case"bmp":return"img";default:return"default"}}function getIconNameFromFileName(e,t,a){t=t||"16x20";const s=getFileTypeFromExt(e);let n=s;if(a){return`fab-file-esig-${t}`}switch(s){case"pdf":n="pdf";break;case"doc":n="doc";break;case"xls":n="excel";break;case"ppt":n="powerpoint";break;case"txt":n="text";break;case"email":n="mail";break;case"webpage":n="link";break;case"archive":n="zip";break;case"img":n="image";break;default:n="unknown";break}return(0,_bamboohr_utils_lib_feature__WEBPACK_IMPORTED_MODULE_7__.ifFeature)("encore",`file-${n}-regular`,`fab-file-${n}-${t}`)}function getFileTypeIconFromExt(e,t){let a=getFileTypeFromExt(e);if(t==="sm"||t==="lrg"){a+=`-${t}.png`}else{a+=".png"}return a}function getFileTypeIconColor(e){switch(e){case"pdf":return"#C42428";case"doc":return"#0772B3";case"esig":return"#883290";case"xls":return"#3FA146";case"ppt":return"#C36A00";case"txt":case"email":case"webpage":case"archive":case"img":default:return _bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_8__.colors.gray7}}function highlightTermInMarkup(e,t){const a=$("<div>").html(e);const s=a.find(".js-qsPrimaryText");const n=t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1");const i=s.html()||"";const o=i.replace(new RegExp(`(?![^&;]+;)(?!<[^<>]*)(\\b${n})(?![^<>]*>)(?![^&;]+;)`,"igm"),"<strong>$1</strong>");s.html(o);return a.html()}function addClass(e,t){if(!window.BambooHR.Utils.hasClass(e,t)){if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){e.setAttribute("class",`${e.getAttribute("class")} ${t}`.trim())}else{e.setAttribute("class",t)}}else{e.className=`${e.className} ${t}`.trim()}}}function removeClass(e,t){if(window.BambooHR.Utils.hasClass(e,t)){const a=new RegExp(`(\\s|^)${t}(\\s|$)`);if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){e.setAttribute("class",e.getAttribute("class").replace(a," ").trim())}}else{e.className=e.className.replace(a," ").trim()}}}function hasClass(e,t){if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){return!!e.getAttribute("class").match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return false}return!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}function canEmailFilesAndReports(){if(window.CAN_EMAIL_FILES_AND_REPORTS!=="undefined"){return window.CAN_EMAIL_FILES_AND_REPORTS}console.warn("CAN_EMAIL_FILES_AND_REPORTS is not available.")}function isSvg(e){return!!(e instanceof SVGElement)}function ordinal(e){return moment_lib__WEBPACK_IMPORTED_MODULE_0__.Z.localeData().ordinal(e)}function getCurrentScript(e){let t=document.currentScript;if(!t&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(e)&&e.length>0){t=$(`script.${e}:not(.${e}--loaded)`).first().addClass(`.${e}--loaded`)}if(!t){const e=document.getElementsByTagName("script");t=e[e.length-1]}return $(t)}function getScriptConfig(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e=$(e).first();const s=(e.html()||"").trim()||"{}";let n={};try{n=new Function("defaultConfig","$script",...(0,lodash__WEBPACK_IMPORTED_MODULE_1__.keys)(a),`return (${s});`).call(e[0],t,e,...(0,lodash__WEBPACK_IMPORTED_MODULE_1__.values)(a))}catch(e){console.error(e)}return(0,lodash__WEBPACK_IMPORTED_MODULE_1__.defaults)(n||{},t||{})}function getJsonScriptVar(e,t){const a=$(`script[type="application/json"]#${t}__${e}_json`);const s=a.text().trim();a.remove();return s?JSON.parse(s):null}function getAttrs(e,t){e=$(e)[0];const a={};const s=e?e.attributes:[];(0,lodash__WEBPACK_IMPORTED_MODULE_1__.each)(s,(e=>{if(!t||e.nodeName.match(new RegExp(t,"i"))){a[e.nodeName]=e.value}}));return a}function objContains(e,t){return(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEqual)((0,lodash__WEBPACK_IMPORTED_MODULE_1__.pick)(e,(0,lodash__WEBPACK_IMPORTED_MODULE_1__.keys)(t)),t)}function getFormData(e){return(0,_utils_url__WEBPACK_IMPORTED_MODULE_6__.queryStringToObject)($(e).serialize())}function redirect(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const i=new URL(e||"",window.location.href);const o=n&&(0,_utils_localstorage__WEBPACK_IMPORTED_MODULE_4__.canUseLocalStorage)();if(t!==null){i.searchParams.set("__message__",t);if(o){localStorage.setItem("__message__",t)}}if(a!==null){i.searchParams.set("__messageType__",a);if(o){localStorage.setItem("__messageType__",a)}}if(s!==null){i.searchParams.set("__messageTimeout__",s);if(o){localStorage.setItem("__messageTimeout__",s)}}window.location=i.href}const uids=[];function makeUid(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:8;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:36;let a="";while(a==""||!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(uids,a)){a=(Math.random()+1).toString(t).substr(2,e);uids.push(a)}while(a.length<e){a+=makeUid(e-a.length,t)}return a}function diffStrings(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}let n=2/3;if(typeof(0,lodash__WEBPACK_IMPORTED_MODULE_1__.last)(a)==="number"){n=a.pop()}n=Math.round(n*100)/100;e=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase)(e);a=a.map(lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase);const i=Math.min(...a.map((t=>leven__WEBPACK_IMPORTED_MODULE_2___default()(e,t))));const o=Math.round(i/e.length*100)/100;const r=o<=n;return{percentDiff:o,characterDiff:i,isMatch:r}}function getBrandColor(){let e=window.document.body.getAttribute("ba-theme");if(!e){e="lime1"}return e}function getFabricBrandColor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"base";const t=["base","light","lighter","lightest"];const a=getBrandColor();const s=_bamboohr_fabric_dist_definitions_json_theme_colors_json__WEBPACK_IMPORTED_MODULE_9__.l.find((e=>e.name===a||e.base===a));if(!t.includes(e)){console.warn("Invalid Fabric variant. Valid options are: base, light, lighter, lightest");e="base"}return s[e]}function getFabricNonBrandColor(e){if(!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(e)){throw new Error("Invalid input type.")}const{colors:t}=_bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_8__;const a=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase)(e);const s=t[a];if(!s){console.warn("Invalid Fabric non-brand color name.");return}return s}function when(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return $.when(...t.map((e=>{const t=$.Deferred();if(isJQueryPromise(e)){return e.done(((e,a)=>{if((!e.success||a!=="success")&&e.error&&e.errorMessage){window.setMessage(e.errorMessage,"error");console.error(e.error);t.reject(e)}})).fail((function(){window.setMessage($.__("Uh Oh! There was an error. Please try again or contact BambooHR support."),"error");t.reject(...arguments)}))}t.resolve(e);return t.promise()})))}function isJquery(e){return e instanceof jQuery&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(e.selector)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(e.jquery)&&e.jquery===$.fn.jquery}function isJQueryPromise(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isPlainObject)(e)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.always)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.done)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.fail)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.pipe)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.progress)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.promise)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.state)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.then)}function isPromise(e){return isJQueryPromise(e)||e instanceof Promise}function isJqueryElement(e){return isJquery(e)&&e.length>0&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isElement)(e[0])}function fnResult(e,t){if((0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e)){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++){s[n-2]=arguments[n]}return t?e.apply(t,s):e(...s)}return e}const{env}=window.BambooHR;const prefetchedUrls={};function prefetch(e,t){if(!prefetchedUrls.hasOwnProperty(e)){prefetchedUrls[e]={content:null,callbacks:typeof t==="undefined"?[]:[t]};$.get(e,(t=>{prefetchedUrls[e].content=t;prefetchedUrls[e].callbacks.forEach((e=>e(t)))}))}else if(typeof t!=="undefined"){if(prefetchedUrls[e].content===null){prefetchedUrls[e].callbacks.push(t)}else{t(prefetchedUrls[e].content)}}}function getArrayString(e){return`["${e.join('", "')}"]`}function waitUntilReady(e,t){const a=1e4;const s=1e3;const n=100;const i=(new Date).getTime();if(!e()){const o=setInterval((()=>{const n=(new Date).getTime()-i;const r=n>=a;if(r){window.Rollbar.error("The waitUntilReady util function timed out when testing this function",{testFunc:e})}if(r||e()){if(!r&&n>=s){window.Rollbar.warning(`The waitUntilReady util function took longer than ${s}ms to resolve.`,{timePassed:n})}clearInterval(o);t()}}),n);return}t()}function jQueryFabTableSorter(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[[0,0]];e.tablesorter({sortList:t,onRenderHeader(e,t){const a=$(this);if(!this[0].classList.contains("noSort")){a.addClass("fab-Table__header--sortable").wrapInner("<span></span>")}},headers:{0:{sorter:"text"}}});e.bind("sortEnd",(function(e,t){const a=Array.from(this.querySelectorAll(".fab-Table__header"));a.forEach((e=>{const t=e.querySelector("span");if(t){if(e.classList.contains("sort-descending")){t.className="fab-Table__sorted fab-Table__sorted--dsc"}else if(e.classList.contains("sort-ascending")){t.className="fab-Table__sorted fab-Table__sorted--asc"}else{t.className=""}}}))}))}function isWidthBelowSupportedMinWidth(){return window.innerWidth<1124}function hasTrax(){return!!window.companyHasTrax||!!window.hasTrax||false}},17309:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});class s{static get className(){return"StopWatch"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;this.accuracy=e;this.ms=0;this.running=false;this._startTime=null;this._timer=null;this._watchers=[]}_requestTick(e){this._timer=setTimeout((()=>{this._tick()}),e)}_tick(){const e=(new Date).getTime();this.ms=e-this._startTime;const t=Math.floor(this.ms/this.accuracy);const a=t*this.accuracy;const s=this.ms-a;const n=this.accuracy-s;this._watchers.forEach((e=>{const t=Math.floor(this.ms/e.amount);if(t!==e._count){e._count=t;e.cb(this.ms)}}));this._requestTick(n)}_addWatcher(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Function.prototype;let a=Math.floor(this.ms/e);this._watchers.push({amount:e,cb:t,_count:a})}start(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(this.running){return this}this._watchers.forEach((t=>{t._count=Math.floor(e/t.amount)}));this._startTime=(new Date).getTime()-e;this._requestTick(this.accuracy);this.running=true;return this}stop(){if(!this.running){return this}clearTimeout(this._timer);this._watchers.forEach((e=>{e._count=0}));this.running=false;return this}every(e,t){this._addWatcher(e,t);return this}everySecond(e){this._addWatcher(1e3,e);return this}everyMinute(e){this._addWatcher(6e4,e);return this}}},67572:(e,t,a)=>{"use strict";a.d(t,{l:()=>n,w:()=>s});function s(e){if(e){return e.toString().replace(/\D/g,"")/Math.pow(10,2)}return 0}function n(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"$";if(t!=="$"){return e}const a=/^(\d*,*\d*)(\.(\d*)){0,1}$/.exec(e.replace(t,""));if(a){if(a[3]&&a[3].length===2){return e}if(!a[2]){return`${e}.00`}if(a[2].length===1){return`${e}00`}if(a[3].length===1){return`${e}0`}}return e}},76725:(e,t,a)=>{"use strict";a.d(t,{L:()=>n,V:()=>s});function s(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=null;const s=document.querySelector(e);if(s!==null){try{a=JSON.parse(s.textContent)}catch(e){console.warn(`What?!!! -> You passed in some bad joojoo. ${e}`);return false}if(!t){s.parentNode.removeChild(s)}}return a}function n(e){try{return JSON.parse(e)}catch(t){return e}}},54417:(e,t,a)=>{"use strict";a.d(t,{T:()=>n,Z:()=>i});var s=a(51341);function n(e,t){const a=o(e);const s=o(t);return s.diff(a,"day")}function i(e,t){const a=o(e);const s=o(t);return s.diff(a,"year")}function o(e){if(e&&(0,s.Z)(e,"YYYY-MM-DD",true).format("YYYY-MM-DD")!==e){e=(0,s.Z)(e).format("YYYY-MM-DD")}return(0,s.Z)(e,"YYYY-MM-DD")}},71141:(e,t,a)=>{"use strict";a.r(t);a.d(t,{encoreEnabled:()=>i,isEnabled:()=>s,isSetEnabled:()=>n});function s(e){const{featureToggles:t=""}=document.body.dataset;return!!(e&&typeof e==="string"&&t.split(/\s+/g).includes(e))}function n(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return!!t.length&&!t.map((e=>s(e))).includes(false)}function i(){return document.getElementsByTagName("body")[0]?.dataset?.fabricTheme==="encore"}},45662:(e,t,a)=>{"use strict";a.d(t,{BB:()=>c,Eq:()=>o,Nh:()=>n,VT:()=>d,Zd:()=>u,ak:()=>l});var $=a(26570);function s(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{type:"json"};e=$(e);if(e.attr("submitting")=="true"){return}const a=e[0];const s=e.attr("action");const i=n(a);i.CSRFToken=window.CSRF_TOKEN;e.attr("submitting","true");setTimeout((()=>{e.removeAttr("submitting")}),3e3);return $.post(s,i,null,t.type).promise()}function n(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{excludeHidden:false};const a=Array.prototype.slice.call(e.querySelectorAll("input, textarea, select"));return a.reduce(((e,a)=>{let s;if(!a.name||a.type==="hidden"&&t.excludeHidden){return e}if(a.type==="checkbox"||a.type==="radio"){if(a.checked){s=a.value}}else if(a.type==="select-one"){s=a.selectedIndex>=0?a.options[a.selectedIndex].value:null}else if(a.type==="select-multiple"){s=[].slice.call(a.options).reduce(((e,t)=>{if(t.selected){e.push(t.value)}return e}),[])}else{s=a.value}if(s!==undefined){e[a.name]=s}return e}),{})}function i(e,t){const a=Array.prototype.slice.call(e.querySelectorAll("input, textarea, select"));a.forEach((e=>{if(!e.name||!t[e.name]||e.type==="button"){return}if(e.type==="checkbox"||e.type==="radio"){e.checked=t[e.name]}else if(e.type==="select-one"){[].slice.call(e.options).forEach((a=>{if(a.value==t[e.name]){a.selected=true;$(e).trigger("liszt:updated")}}))}else if(e.type==="select-multiple"){[].slice.call(e.options).forEach((a=>{const s=t[e.name];if(s.indexOf(a.value)>-1){a.selected=true;$(e).trigger("liszt:updated")}}))}else{e.value=t[e.name]}}))}function o(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;$.each(e,(function(e,s){if(a){$(t).find("input[name*="+s+"]").addClass("fab-TextInput--error");$(t).find("ba-select.js-"+s).attr("error","true");$(t).find("ba-select#"+s).attr("error","true")}else{$(t).find("select[name="+s+"]").closest(".fieldBox").addClass("error");$(t).find("input[name*="+s+"]").closest(".fieldBox").addClass("error")}}))}function r(e){if(e.closest(".js-PowerEditIndividual").length>0){const t=e.closest(".fab-Table__row");const a=t.find(".js-pay-schedule ba-option:selected");const s=a.length>0?Number.parseInt(a[0].value):null;const n=t.find(".js-employeeName").data("employeeid");return{employeeId:n,payScheduleId:s}}return{employeeId:Number.parseInt($(".js-PowerEditGroup").data("employee-id-in-syncing-pay-schedule"))}}function l(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=e.closest(".js-PowerEditForm").length>0;const{employeeId:s="0",isOnboardingUser:n=false}=window.SESSION_USER;if(a&&!t){return r(e)}if(n){return{employeeId:Number.parseInt(s),payScheduleId:null}}const{Employee:i={id:undefined}}=window;const o=$(".js-paySchedule ba-option:selected");const l=o.length>0?Number.parseInt(o[0].value):null;return{employeeId:i.id,payScheduleId:l}}function c(){document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"))}function d(){document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}function u(){window.formChanged=true}t["ZP"]={ajaxSubmit:s,getFormPayRollDetails:l,getPowerEditPayRollDetails:r,highlightErrorFields:o,populateForm:i,serializeForm:n}},26871:(e,t,a)=>{"use strict";a.d(t,{P:()=>i,s:()=>o});var s=a(85656);var n=a.n(s);function i(e,t){const a=t?(0,s.extendURLDeep)(e):(0,s.extendURL)(e);window.history.replaceState(null,null,a)}function o(e){const t=(0,s.deleteParams)(e);window.history.replaceState(null,null,t)}},47129:(e,t,a)=>{"use strict";a.r(t);a.d(t,{clipPath:()=>n});var $=a(26570);let s=0;function n(e,t){for(let a=0;a<e.length;a++){s++;const n=t;const i=$(e[a]).attr("src");const o=$(e[a]).outerWidth();const r=$(e[a]).outerHeight();const l=$(e[a]).attr("alt");const c=$(`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="svgMask" width="${o}" height="${r}" viewBox="0 0 ${o} ${r}"><defs><clipPath id="maskID${s}">${n}</clipPath>  </defs><desc>${l}</desc><image clip-path="url(#maskID${s})" width="${o}" height="${r}" xlink:href="${i}" /></svg>`);$(e[a]).replaceWith(c)}}},28513:(e,t,a)=>{"use strict";var s=a(44119);class n{constructor(){(0,s.Z)(this,"channels",{})}static get className(){return"Mediator"}subscribe(e,t,a){let s=false;if(!this.channels[e]){this.channels[e]=[]}this.channels[e].forEach((e=>{if(e.callback.toString()===t.toString()){s=true;return false}}));if(!s){this.channels[e].push({context:a||window,callback:t})}return this}publish(e){if(!this.channels[e]){return false}const t=Array.prototype.slice.call(arguments,1);for(let a=0,s=this.channels[e].length;a<s;a++){const s=this.channels[e][a];try{s.callback.apply(s.context,t)}catch(t){console.log(`subscription error when calling: BambooHR.Utils.Mediator.publish('${e}')`);console.log({subscription:s});throw t}}return this}installTo(e){e.channels={};e.subscribe=this.subscribe;e.publish=this.publish}}t["Z"]=new n},18669:(e,t,a)=>{"use strict";a.d(t,{Q0:()=>i,VR:()=>n,wG:()=>s});function s(e){return Number(String(e).replace(/0+$/,""))}function n(e){return String(e).replace(".",window.GLOBAL_DECIMAL_CHAR)}function i(e){const t=e+1;const a=t%26;let s=t/26|0;const n=a?String.fromCharCode(64+a):(s--,"Z");return s?i(s)+n:n}},33098:(e,t,a)=>{"use strict";a.d(t,{_:()=>s});function s(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}},20907:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});class s{static get className(){return"Rect"}static intersects(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height}static contains(e,t){return e.left<=t.left&&e.left+e.width>=t.left+t.width&&e.top<=t.top&&e.top+e.height>=t.top+t.height}static distance(e,t){const a=t.x<e.left?e.left-t.x:Math.max(t.x-(e.left+e.width),0);const s=t.y<e.top?e.top-t.y:Math.max(t.y-(e.top+e.height),0);return Math.sqrt(a*a+s*s)}static grow(e,t){const a={};const s=t/2;if("height"in e){a.height=e.height+t}if("width"in e){a.width=e.width+t}if("left"in e){a.left=e.left-s}if("right"in e){a.right=e.right+s}if("top"in e){a.top=e.top-s}if("bottom"in e){a.bottom=e.bottom+s}return a}}},48578:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});function s(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return Promise.all(t).then((e=>{let t={ready:true};e.forEach((e=>{t={...t,...e}}));n(t);return t}))}function n(e){const t=document.querySelector("body");t.dataset.screenshot=JSON.stringify(e)}},78144:(e,t,a)=>{"use strict";a.d(t,{H$:()=>l,Ho:()=>u,Jk:()=>h,b0:()=>d,bB:()=>m,dN:()=>i,j6:()=>r,kB:()=>c,wU:()=>f});var s=a(73641);var n=a.n(s);function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if((0,s.isString)(e)){e=o(e)}e=Number(e);if((0,s.isNil)(e)||isNaN(e)){throw new Error("Invalid value supplied")}return e.toLocaleString(undefined,{minimumFractionDigits:2})}function o(e){if(!(0,s.isString)(e)){throw new Error("Invalid value supplied")}const t=e.startsWith("-");let a=e.replace(/[^\d\.]/g,"");a=`${t?"-":""}${a}`;return a}function r(e){return e.replace(/(^\s+|\s+$)/gm,"")}function l(e){return(0,s.escape)(e)}function c(e){return(0,s.unescape)(e)}function d(e){const t=/&(?!(?:apos|quot|[gl]t|amp);|#)/g;e=e.replace(t,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#x27;");return e}function u(e){return e.replace(/\\(u00|x)([0-9A-F]{2})/gi,((_,$,e)=>String.fromCharCode(parseInt(e,16))))}function h(e){const t=document.createElement("div");const a=/&.{1,7}\b;/g;const s=e.matchAll(a);let n=s.next();let i=e;while(!n.done){const e=n.value[0];t.innerHTML=e;i=i.replace(e,t.textContent);n=s.next()}return i}function p(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;if(e.length<2){return e[0]}if(e.length===2){return e.join(a)}const s=e.slice(0,-1).join(t);const n=e.slice(-1);return[s,n].join(a)}function m(e,t){if(typeof e!=="string"||!Array.isArray(t)){return false}for(const a of t){if(!e.includes(a)){return false}}return true}function f(e){const t=/^\d{5}(-\d{4})?$/;return t.exec(e)!==null}},68618:(e,t,a)=>{"use strict";a.d(t,{Gv:()=>l,LP:()=>c,c7:()=>o,o4:()=>d,pe:()=>u,yM:()=>r});var s=a(73641);var n=a.n(s);var i=a(89100);var $=a(26570);function o(){if(!(0,s.isUndefined)(window.CSRF_TOKEN)){r();$.ajaxSetup({beforeSend(e,t){if(t.crossdomain){return}if(t.type!="GET"){e.setRequestHeader("X-CSRF-Token",window.CSRF_TOKEN)}}})}}function r(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form";if(!(0,s.isUndefined)(window.CSRF_TOKEN)){$(e).each(((e,t)=>{const a=$(t);const s=a.attr("method")||"";const n=a.find(":input[name=CSRFToken]");if(n.length===0&&s.toLowerCase()==="post"){a.append(`<input type="hidden" name="CSRFToken" value="${window.CSRF_TOKEN}">`)}else if(n.length&&s.toLowerCase()!=="post"){n.remove()}}))}}function l(e){let t=0;let a;let s;if(e.length===0){return t}for(a=0,s=e.length;a<s;a++){t=(t<<5)-t+e.charCodeAt(a);t|=0}return t}function c(){return window.CSRF_TOKEN}function d(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=window.CSRF_TOKEN;window.CSRF_TOKEN=e;if((0,i.canUseLocalStorage)()){u(e,t)}$('input[name="CSRFToken"]').val(window.CSRF_TOKEN);if(e!=a){document.dispatchEvent(new CustomEvent("AppSession:csrfChanged"))}}function u(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!(0,i.canUseLocalStorage)()){throw new Error("Cannot set hashed token. Local Storage is unavailable.")}const a=`hashed_token${t?"_onboarding":""}`;window.localStorage.setItem(a,l(e).toString())}},12382:(e,t,a)=>{"use strict";a.d(t,{K:()=>i,u:()=>n});const s={"dd MMM YYYY":"dd MMM yyyy","dd/mm/yyyy":"dd/MM/yyyy","mm/dd/yyyy":"MM/dd/yyyy","yyyy-mm-dd":"yyyy-MM-dd"};function n(){return s[window.GLOBAL_DATE_MASK]}function i(){return document.querySelector("html")?.getAttribute("lang")}},41201:(e,t,a)=>{"use strict";a.d(t,{yG:()=>x,n$:()=>h,Sv:()=>S,s7:()=>p,hP:()=>m,uW:()=>l,pK:()=>g,_c:()=>c,m1:()=>b,NC:()=>w,uf:()=>d});var s=a(73641);function n(e){const{esignatures:t}=e;return c(e)&&t.completed}function i(e){const{company_file_data:t,employee_file_data:a,esignatures:n}=e;if(c(e)&&(0,s.isNil)(a)&&(0,s.isNil)(t)){return true}return c(e)&&(typeof a==="object"&&!(0,s.isNil)(a.id)&&a.can_see_file||typeof t==="object"&&!(0,s.isNil)(t.id)&&t.can_see_file)}function o(e){const{workflow_instance_id:t}=e;return c(e)&&t!==undefined}function r(e){const{esignatures:t}=e;return c(e)&&t.cancelled}function l(e){const{esignatures:t}=e;return c(e)&&(t.completed||t.employee_has_signed)}function c(e){const{esignatures:t,is_esignature_template:a}=e;return!(0,s.isNil)(a)&&a==="yes"&&!(0,s.isNil)(t)&&t.setup_complete}function d(e){const{esignatures:t,required:a}=e;return c(e)&&a&&t.employee_has_signed&&!t.completed}var u=a(38592);function h(e){const t=c(e);const a=(0,u.getIconNameFromFileName)(e.original_file_name,"16x20",t);return{isEsig:t,isComplete:l(e),waitingOnSig:d(e),file_id:f(e),icon:a,name:e.name}}function p(e,t){let a;const{can_generate_preview:n,can_see_file:i,employee_file_data:o,esignatures:r,esignature_template_id:l,company_file_data:d,file_id:u,most_recent_file_data_id:h,name:p,workflow_instance_id:m}=e;if(c(e)){if(r.cancelled){return null}switch(true){case typeof o==="object"&&o.id&&o.can_see_file:a="previewEmployeeFile";break;case typeof d==="object"&&d.id&&d.can_see_file:a=d.can_generate_preview?"companyPreviewFile":"companyShowFile";break;case r.can_sign&&!t:a="esigOpenModal";break;case!(0,s.isNil)(m)&&m>0&&i:a="esigOpenPreviewModeModal";break;default:break}}if(!a){if(i){return n?"previewFile":"showFile"}return"showFileNoAccess"}return a}function m(e){const{company_file_data:t,employee_file_data:a,esignature_instance_id:s,esignature_template_id:n,esignatures:i,file_id:o,most_recent_file_data_id:r,name:l,workflow_instance_id:c}=e;let d={companyFileId:v(t,"file_id"),companyFileMostRecentId:v(t,"most_recent_file_data_id"),companyFileName:v(t,"name"),employeeFileMostRecentId:v(a,"most_recent_employee_file_data_id"),employeeFileId:v(a,"id"),employeeFileName:v(a,"name"),esignature_instance_id:s,esignature_template_id:n,esignatureWorkflowId:v(i,"workflow_id"),file_id:o,most_recent_file_data_id:r,name:l,workflow_instance_id:c};return{"action-data":JSON.stringify(y(d))}}function f(e){const{company_file_data:t,file_id:a}=e;return t?t.file_id:a}function g(e){const{can_see_file:t}=e;if(!t){return true}if(c(e)&&(r(e)||!i(e))){return true}return false}function v(e,t){if(e&&e[t]){return e[t]}return null}function y(e){let t={};(0,s.each)(e,((e,a)=>{if(!(0,s.isNil)(e)){t[(0,s.camelCase)(a)]=e}}));return t}const b=e=>{if((0,s.isNil)(e)){return false}const t=e.split(".");const a=t[t.length-1];const n=["png","jpg","jpeg","gif","bmp"];return n.indexOf(a.toLocaleLowerCase())!==-1};function w(e,t,a,s,n,i,o){let r=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;let c=arguments.length>9&&arguments[9]!==undefined?arguments[9]:null;let d=arguments.length>10&&arguments[10]!==undefined?arguments[10]:false;window.previewFile(...arguments)}function S(e){const{fileData:t,fileName:a,mimeType:s="text/plain;charset=utf-8"}=e;if(!t||!a){throw new Error("A file name and file data must be supplied")}const n=new Blob([t],{type:s});const i=window.URL.createObjectURL(n);const o=document.createElement("a");o.style.display="none";o.href=i;o.setAttribute("download",a);if(typeof o.download==="undefined"){o.setAttribute("target","_blank")}document.body.appendChild(o);o.click();document.body.removeChild(o);window.URL.revokeObjectURL(i)}function C(e){return new Promise(((t,a)=>{const s=new FileReader;s.readAsArrayBuffer(e);s.onload=function(){const e=new Blob([s.result],{type:"application/pdf"});e.text().then((e=>{let a=e.includes("Encrypt");a|=e.substring(e.lastIndexOf("<<"),e.lastIndexOf(">>")).includes("/Encrypt");t(a)})).catch((e=>{a(new DOMException("Problem parsing input file: ",e))}))};s.onerror=()=>{s.abort();a(new DOMException("Problem reading input file."))}}))}function x(e){const t=e.find((e=>c(e)&&e.esignatures.completed&&e.required&&(0,s.isNil)(e.company_file_data)));return(0,s.isNil)(t)}},85642:(e,t,a)=>{"use strict";a.d(t,{Y:()=>i});var s=a(59155);var n=a.n(s);function i(){const e=document.body.dataset.fabricMode;const t=document.body.dataset.fabricTheme;const a=Object.values(s.ModeOptions).includes(e)?e:undefined;const n=Object.values(s.ThemeNameOptions).includes(t)?t:undefined;return{mode:a,themeName:n}}},48635:(e,t,a)=>{"use strict";a.d(t,{c3:()=>p,uM:()=>d});var s=a(38592);var $=a(26570);const n="ok";const i=128;const o=$.__("Whoops, try to keep it under 128 characters.");const r="max-length-error-msg";const l="error--maxLength";function c(e){const t=5;let a=0;const i={length:"#pass-length",number:"#pass-number",upper:"#pass-upper",lower:"#pass-lower",match:".validCheck"};for(let t=0;t<e.length;t++){switch(e[t]){case"length":case"number":case"upper":case"lower":$(i[e[t]]).addClass(n);a++;break;case"match":$(".validCheck").each((function(){(0,s.addClass)(this,"valid")}));a++;break}}return a===t}function d(e){$(".validCheck").each((function(){(0,s.removeClass)(this,"valid")}));$(".js-passwordRequirements li").removeClass(n);u(c(e))}function u(e){const t=document.querySelector(".js-ChangePasswordForm__submitButton, .js-createAccountBtn");t.disabled=!e}function h(e,t){const a=$(e.target);const s=a.closest(".fab-FormRow");let n=s.find(`.${r}`);if(a.val().length===i){if(!t&&!n.length){n=$("<span />",{class:`fab-Label fab-Label--error ${r}`,text:o});s.prepend(n)}s.addClass(l)}else{n.remove();s.removeClass(l)}}function p(e,t){e.on("keyup",h);t.on("keyup",(e=>h(e,true)))}},55482:(e,t,a)=>{"use strict";a.d(t,{j:()=>s,J:()=>o});function s(e,t,a){t=t||window.GLOBAL_DECIMAL_CHAR||".";a=a||window.GLOBAL_THOUSANDS_SEPARATOR||",";if(t===a){throw new Error("The decimal point and thousands separator characters must be different.")}if(e===undefined){return""}const s=e.toString();const[n,i]=s.split(".");const o=[];let r=n;while(r.length){const e=r.slice(-3);o.unshift(e);r=r.slice(0,-e.length)}const l=o.join(a);const c=i?`${t}${i}`:"";const d=`${l}${c}`;return d}var n=a(19969);var i=a.n(n);function o(e,t,a){t=t||window.GLOBAL_DECIMAL_CHAR||".";const s=new RegExp(`[^\\d\\${t}-]`,"gi");e=e.replace(s,"");e=e.replace(/-/g,((e,t)=>t===0?e:""));const n=new RegExp(`\\${t}`,"gi");e=e.replace(n,".");let o=true;e=e.replace(/\./g,(e=>{if(!o){return""}o=false;return e}));if(!e){return}try{const t=new(i())(e);const s=t.toFixed(a);const n=Number(s);if(Number.isNaN(n)){return}return n}catch{return undefined}}},73361:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(60042);var r=a.n(o);var l=a(49037);var c=a(64207);var d=a(68174);var u=a(12130);var $=a(26570);class h extends n.PureComponent{static get className(){return"DirectoryApp"}componentWillMount(){$.get("/employee_directory/ajax/get_directory_info").done((e=>{this.setState({currentUser:e.currentUser,selectedFilter:{displayText:e.currentUser.selectedFilter.displayText,value:e.currentUser.selectedFilter.value},filters:e.filters,allEmployees:e.employees,filteredEmployees:(0,u.Z)(e.employees,e.currentUser,e.currentUser.selectedFilter.value,e.currentUser.customFilter),groupByOptions:e.groupByOptions,customFilterIds:e.currentUser.customFilter})}))}componentDidMount(){document.getElementById("root").classList.remove("circleDotLoader")}constructor(e){super(e);this.state={currentUser:{},selectedFilter:{displayText:"",value:""},filters:[],allEmployees:[],filteredEmployees:[],groupBy:{displayText:"Name",value:"name"},groupByOptions:[],inputText:"",customFilterIds:[]};this.handleInputText=this.handleInputText.bind(this);this.handleFilterChange=this.handleFilterChange.bind(this);this.handleGroupByChange=this.handleGroupByChange.bind(this)}handleInputText(e){this.setState({inputText:e})}handleFilterChange(e,t,a,s){const{allEmployees:n,currentUser:i,groupBy:o}=this.state;if(t===o.value){this.setState({groupBy:{displayText:$.__("Name"),value:"name"}})}$.post(`/employee_directory/ajax/save_filter/${t}`,s).done((a=>{this.setState({currentUser:{...i,customFilter:a},filteredEmployees:(0,u.Z)(n,i,t,a),selectedFilter:{displayText:e,value:t}})}))}handleGroupByChange(e,t){this.setState({groupBy:{displayText:e,value:t}})}render(){const{isAnytime:e}=this.props;const{currentUser:t,filteredEmployees:a,filters:n,groupBy:i,groupByOptions:o,inputText:u,selectedFilter:h}=this.state;return(0,s.Z)("div",{className:r()("DirectoryAppContainer",{"DirectoryAppContainer--anytime":e})},void 0,(0,s.Z)(c.Z,{filters:n,groupBy:i,groupByOptions:o,inputValue:u,isAnytime:e,onFilterChange:this.handleFilterChange,onGroupByChange:this.handleGroupByChange,onInputText:this.handleInputText,selectedFilter:h}),(0,s.Z)(l.R7,{selectedFilter:h}),(0,s.Z)(d.Z,{currentUser:t,employees:a,groupBy:i,inputValue:u,isAnytime:e,onFilterChange:this.handleFilterChange,selectedFilter:h}))}}t["Z"]=h},63917:(e,t,a)=>{"use strict";a.d(t,{z:()=>s.z});var s=a(66773)},69321:(e,t,a)=>{"use strict";a.d(t,{b:()=>m});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(56445);var c=a.n(l);var d=a(60042);var u=a.n(d);var h=a(63917);var p=a(98885);var $=a(26570);const m=e=>{const t=(0,p.Z)();const{isOpen:a,handleCloseModal:i,initialSelection:r,onConfirm:c,folderOptions:d=[],folders:m,maxFolderDepth:f,canEditPage:g,isEsig:v=false}=e;const[y,b]=(0,n.useState)(r);const w=()=>{c(y);i()};(0,n.useEffect)((()=>{if(a){b(r)}}),[a,r]);const S=v?o.SheetModal:o.StandardModal;return a?(0,s.Z)(S,{isOpen:a,onRequestClose:i},void 0,(0,s.Z)(S.Body,{renderFooter:(0,s.Z)(S.Footer,{actions:(0,l.ifFeature)("encore",[(0,s.Z)(o.TextButton,{onClick:i,type:"button"},"secondary",$.__("Cancel")),(0,s.Z)(o.Button,{disabled:!y,onClick:w,type:"button"},"primary",v?$.__("Choose Folder"):$.__("Save"))],[(0,s.Z)(o.Button,{disabled:!y,onClick:w,type:"button"},"primary",v?$.__("Choose Folder"):$.__("Save")),(0,s.Z)(o.TextButton,{onClick:i,type:"button"},"secondary",$.__("Cancel"))])}),renderHeader:(0,s.Z)(S.Header,{hasCloseButton:true,title:$.__("Save to...")}),size:(0,l.ifFeature)("encore","medium")},void 0,(0,s.Z)(S.UpperContent,{},void 0,a&&(0,s.Z)("div",{},void 0,(0,s.Z)("p",{className:t.boldText},void 0,$.__("Select the folder you'd like to save to.")),(0,s.Z)("div",{className:t.row},void 0,(0,l.ifFeature)("encore",(0,s.Z)(o.IconV2,{color:y?"primary-strong":"neutral-medium",size:16,name:y?"circle-check-solid":"circle-check-regular"}),(0,s.Z)(o.Icon,{brand:!!y,name:y?"fab-check-circle-12x12":"fab-check-circle-outline-12x12"})),(0,s.Z)("p",{className:u()(t.grayText,{[t.brandText]:!!y})},void 0,y?m[y].name:$.__("No folder selected"))))),(0,s.Z)(S.Constraint,{},void 0,(0,s.Z)(h.z,{folderOptions:d,initialSelection:y,isFolder:false,onChange:b,maxFolderDepth:f,canEditPage:g})))):null}},13384:(e,t,a)=>{"use strict";a.d(t,{$1:()=>p,BM:()=>h,RH:()=>u,TL:()=>r,X5:()=>v,Y8:()=>y,Zh:()=>c});var s=a(75982);var n=a(99579);var $=a(26570);const i="canEdit";const o="canUploadFiles";const r=(e,t,a)=>{const s=e=>{if(!a){return!e.parentId}return e.parentId==a};const n=Object.values(e).filter(s);n.sort(((e,t)=>{if(e.sortOrder&&t.sortOrder){return e.sortOrder-t.sortOrder}return e.name.localeCompare(t.name)}));return[...n,...t]};const l=e=>e==="true";const c=e=>{if(!e){return s.Sc.None}if(!e.sectionType){return s.Sc.Custom}if(e.sectionType==="employee_upload"){return s.Sc.EmployeeUploads}return s.Sc.Default};const d=(e,t,a,n)=>{let r=e[t];if(r.hasOwnProperty(a)){return r[a]}while(!r.hasOwnProperty(a)){if(e[r.parentId]){r=e[r.parentId]}else{break}}const l=c(r);switch(l){case s.Sc.Custom:return r[a];case s.Sc.Default:if(a===i){return r[o]}break;case s.Sc.EmployeeUploads:if(a===i){return n}break;default:}return r[a]};const u=(e,t)=>{const a=Object.values(e);return a.reduce(((s,n)=>{let r=0;let l=0;if(n.parentId){r++;let{parentId:t}=n;while(t){if(e[t].parentId){r++;t=e[t].parentId}else{t=null}}}let c=a.filter((e=>e.parentId===n.id));if(c.length){while(c.length){l++;const e=c.map((e=>e.id));c=a.filter((t=>e.includes(t.parentId)))}}const u=a.filter((e=>e.parentId===n.id));const h=()=>{if(n.hasOwnProperty("employeeCanSee")){return n.employeeCanSee}return true};s[n.id]={...n,employeeCanSee:h(),isDefault:!!n.sectionType,depth:r,childrenDepth:l,subfolderCount:u.length,canUploadFiles:n.canUploadFiles||!!d(e,n.id,o,t),canEdit:n.canEdit||!!d(e,n.id,i,t)};return s}),{})};const h=(e,t,a)=>{const n=Object.values(e).filter((e=>{if(a){const a=c(e);if(a===s.Sc.EmployeeUploads){return t}}return e.canUploadFiles}));const i=e=>{if(n.some((t=>t.parentId===e.id))){const t=n.filter((t=>t.parentId===e.id)).map((e=>({text:e.name,value:e.id,depth:e.depth,childrenDepth:e.childrenDepth,items:i(e),canEdit:e.canEdit})));t.sort(((e,t)=>e.text.localeCompare(t.text)));return t}return[]};const o=n.filter((e=>!e.parentId));o.sort(((e,t)=>e.sortOrder-t.sortOrder));const r=o.reduce(((e,t)=>{e.push({text:t.name,value:t.id,depth:t.depth,childrenDepth:t.childrenDepth,items:i(t),isDefault:t.isDefault,canEdit:t.canEdit});return e}),[]);return r};const p=(e,t)=>({id:e,name:t.name,type:t.type,size:t.size});const m="drag_move_file";const f=e=>e.hasOwnProperty("size");const g=(e,t,a)=>{const s=document.createElement("div");s.classList.add(t);s.id=m;s.appendChild(a);const n=document.createElement("span");n.innerText=e;s.appendChild(n);document.body.appendChild(s);return s};const v=(e,t,a,s)=>{if(!e){return{}}const{dragImageClass:n,dragTargetClass:i,selectedItemClass:o}=a;const r=new Image;if(f(t)){r.src=`/images/files/types/${t.img_sizes.small}`}else{r.src=`/images/files/small_folder.png`}return{draggable:e,"data-drag-id":t.id,onDragStart:e=>{let a=t.name;if(s){s(true)}const l=$(e.target);if(f(t)){if(l.hasClass(o)){const e=$(`.${o}`);e.each(((e,t)=>{t.classList.add(i);t.classList.add("dragTarget")}));a=`${e.length} files`}}if(!f(t)){const e=$("div[data-drop-id]");e.each(((e,a)=>{const s=a.getAttribute("data-folder-depth");if(+s+t.childrenDepth>=3){a.classList.add(i)}}))}l.addClass(i);l.addClass("dragTarget");const c=g(a,n,r);e.dataTransfer.setDragImage(c,0,0);e.dataTransfer.setData("isFile",f(t).toString());e.dataTransfer.setData("draggingId",t.id)},onDragEnd:e=>{if(s){s(false)}const t=$(`#${m}`);if(t){t.remove()}$("div[data-drop-id]").each(((e,t)=>{t.classList.remove(i)}));$(e.target).removeClass(i);$(e.target).removeClass("dragTarget");$(`.${o}`).each(((e,t)=>{t.classList.remove(i);t.classList.remove("dragTarget")}))}}};const y=(e,t,a,s)=>{if(!e){return{}}const{dropTargetClass:i,preventDropClass:o,selectedItemClass:r}=a;return{onDrop:async e=>{if(e.dataTransfer.files.length){return}const a=e.target;if(a.classList.contains(o)||$(a).parents().hasClass(o)){return}e.preventDefault();const c=e.dataTransfer.getData("draggingId");const d=l(e.dataTransfer.getData("isFile"));a.classList.remove(i);if(c!==t.id){if(d){const e=$(`[data-drag-id="${c}"]`);const a=[];if(e.hasClass(r)){$(`.${r}`).each(((e,t)=>{a.push(t.getAttribute("data-drag-id"))}))}else{a.push(c)}const s=await(0,n._C)(a,t.id);window.setMessage(s.success_message||$.__("Sucessfully moved file."),"success")}else{const e=await(0,n.J1)(c,t.id);window.setMessage(e.success_message||$.__("Successfully moved folder."),"success")}return s()}},onDragEnter:e=>{if(e.dataTransfer.types.includes("Files")){return}const a=e.target;if(a.classList.contains(o)){return}e.preventDefault();if(a.getAttribute("data-drop-id")===t.id&&!a.classList.contains("dragTarget")){const e=$(`[data-drop-id=${t.id}]`);e.addClass(i)}},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{if(e.dataTransfer.types.includes("Files")){return}const a=e.target;if(a.classList.contains(o)){return}e.preventDefault();if(a.getAttribute("data-drop-id")===t.id){const e=$(`[data-drop-id=${t.id}]`);e.removeClass(i)}},"data-drop-id":t.id,"data-children-depth":t.childrenDepth,"data-folder-depth":t.depth}}},47747:(e,t,a)=>{"use strict";a.d(t,{Cn:()=>C,GC:()=>b,UN:()=>S});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(71141);var r=a(77512);var l=a(1891);var c=a(73641);var d=a.n(c);var u=a(98853);var h=a.n(u);var p=a(5223);var m=a(72521);var f=a(92776);var $=a(26570);function g(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;window.setMessage(e||$.__("Sorry, something went wrong. Try giving it another shot?"),"error")}function v(e){if(e.status==="SUCCESS"||e.status==="success"){window.location="/employees/timesheet/?id="+window.Employee.id;return}if(e.status==="FAIL"&&e.reason&&e.reason==="no_pay_schedule"){window.BambooHR.Modal.setState({isOpen:false});openNoPayScheduleModal()}}function y(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;g(e)}function b(){x("enable-time-tracking-modal",(()=>{const e=document.querySelector(".js-emp-menu-tt-toggle ba-icon");const t=document.querySelector(".js-emp-menu-tt-toggle-enable");const a=document.querySelector(".js-emp-menu-tt-toggle-disable");const s=document.querySelector(".js-emp-menu-tt-status-enable");const n=document.querySelector(".js-emp-menu-tt-status-disable");t.insertBefore(e,t.childNodes[0]);t.classList.add("disabled");a.classList.remove("disabled");n.classList.remove("TT_EmpMenu__status--selected");s.classList.add("TT_EmpMenu__status--selected");fetch("/time_tracking/settings").then((e=>e.json())).then((e=>{let{mode:t,configurations:a}=e;if(t==="group"&&a.length>1){document.querySelector(".js-emp-menu-tt-change-group").hidden=false}})).finally((()=>{localStorage.setItem("__message__",$.__("Time tracking has been enabled for this employee!"));localStorage.setItem("__messageType__","success");window.location.reload()}))}))}function w(){const{id:e,preferredName:t,lastName:a}=window.Employee;p.Z.openModal(e,t,a,(()=>{const e=document.querySelector(".js-emp-menu-tt-toggle ba-icon");const t=document.querySelector(".js-emp-menu-tt-toggle-enable");const a=document.querySelector(".js-emp-menu-tt-toggle-disable");const s=document.querySelector(".js-emp-menu-tt-status-enable");const n=document.querySelector(".js-emp-menu-tt-status-disable");a.insertBefore(e,a.childNodes[0]);a.classList.add("disabled");t.classList.remove("disabled");s.classList.remove("TT_EmpMenu__status--selected");n.classList.add("TT_EmpMenu__status--selected");document.querySelector(".js-emp-menu-tt-change-group").hidden=true;localStorage.setItem("__message__",$.__("OK, this employee will no longer be able to track time worked or access the timesheet."));localStorage.setItem("__messageType__","success");window.location.reload()}))}function S(e){const{ttAction:t,ttMissingData:a}=e;const s=document.querySelector(".js-emp-menu-tt-toggle.disabled");const n=s.dataset.ttAction;if(t===n){return}if((0,o.isEnabled)("custom-overtime")){if(t==="enable"){b()}else{w()}return}if(t==="enable"){if(a.length){try{(0,f.pL)(a,window.Employee.preferredName);return}catch(e){if(e!=="no missing data"){throw e}}}b()}else{w()}}function C(){x("change-group-modal")}function x(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:c.noop;const a=document.createElement("div");document.body.appendChild(a);(0,r.s)((0,s.Z)(l.x5,{employee:window.Employee,onCloseComplete:()=>(0,u.unmountComponentAtNode)(a),onSuccess:t,route:`/time-tracking/${e}`}),a)}},79056:(e,t,a)=>{"use strict";a.d(t,{u:()=>s.u});var s=a(9200)},86499:(e,t,a)=>{"use strict";a.d(t,{O:()=>d});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(56445);var c=a.n(l);var $=a(26570);const d=e=>{let{allStates:t=[],clearNewPayeeId:a,deductionType:i,federalStateObject:r,globalPayeeId:c,isSetUpPayees:d,selectedPayee:u,selectedState:h,setSelectedState:p}=e;const[m,f]=(0,n.useState)(false);const[g,v]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=t.map((e=>({text:e.name,value:e.id,key:e.id})));const a=[{items:e,type:"group",value:"allStates"}];const s=(i==3||i==18)&&u&&c===null;if(s){f(true)}if(i==18){const e=[{text:"Federal",value:r.id,key:r.id}];a.push({anchor:"bottom",items:e,type:"group",value:"federal"})}v(a)}),[t,i,v]);const y=e=>{p(e);a()};return(0,s.Z)(o.Flex,{flexDirection:"column"},void 0,!d&&(0,s.Z)(o.Label,{},void 0,$.__("State")),(0,s.Z)(o.Select,{canSelectMultiple:false,id:"stateFilter",isClearable:true,isDisabled:m,items:g,onClear:()=>p([]),onDeselect:(e,t)=>p(t),onSelect:(e,t)=>y(t),placement:{side:"top"},selectedValues:h,size:(0,l.ifFeature)("encore",d&&"small"),width:4}))}},87579:(e,t,a)=>{"use strict";a.d(t,{X:()=>s.X});var s=a(22597)},8432:(e,t,a)=>{"use strict";a.d(t,{Ed:()=>S,O:()=>k,fV:()=>y,gE:()=>v,l8:()=>x,s7:()=>b,sA:()=>T,sT:()=>w,tu:()=>g,zD:()=>E});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(59833);var c=a(16793);var d=a(75302);var u=a(56445);var h=a.n(u);var p=a(73641);var m=a.n(p);var f=a(50425);var $=a(26570);var moment=a(82543);let g=(0,f.a)();const v=e=>{g=e};const y=(e,t)=>{$(e).on("keyup paste",(e=>{const{target:a}=e;const s=Number($(a).attr("data-max-count"))||0;const n=a.value.length;const i=s-n;const o=i>0?i:0;let r="";$(".js-WordCount__left").remove();if(s<=n){a.value=a.value.substring(0,s);r="WordCount__left--urgent"}else if(s>100&&s-50<=n){r="WordCount__left--urgent"}else if(s<=100&&s-15<=n){r="WordCount__left--urgent"}else if(s-150<=n){r="WordCount__left"}else{r="hidden"}$(t?t:a).after(`<span class="${r} js-WordCount__left">${o}</span>`)}))};const b=e=>{const t=e?.map(((e,t)=>{const{employeeName:a,feedbackAssignments:s,userId:n}=e;return{assignmentCount:s,text:a,value:n,key:`${a}-${t}`}}));return t||[]};const w=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{response:{data:{error:t=$.__("Uh Oh! There was an error. Please try again or contact BambooHR support.")}={}}={}}=e;window.setMessage(t,"error")};const S=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=(0,p.get)(e,"response");const n=s?.status>=500&&s?.status<600;if(n){window.Rollbar.error(t,e)}if(a){w(e)}};const C=(e,t)=>{let a=false;if(e==="goals"){const{mode:e}=t;a=!!(e==="inProgress"||e==="completed"||e==="closed")}else if(e==="feedback"){const{start:e,end:s}=t;a=!!(moment(e).isValid()&&moment(s).isValid)}else if(e==="assessments"){const{reviewPeriodId:e}=t;a=!!Number(e)}return a};function x(e,t){if(!t){return}const a=t[e];if(a){const{filters:t=[]}=a;return t.reduce(((t,a)=>{if(C(e,a)){return{...t,...a}}return t}),{})}return{}}function T(e){const{appliedFilters:t,subPageId:a,employeeId:s,currentPageId:n}=e;const i=window.location.origin;const o=a===3;const r=a===2;const l=`id=${s}&page=${n}&subpage=${a}`;const c=`${i}/employees/performance/index.php?${l}`;const d=`${i}/performance/${s}/assessments`;const u=`${i}/performance/${s}/feedback`;const h=t?t[E(a)].default:true;let p={};if(!h){p=x(E(a),t)}if(o){const e=window.location.href.includes("reviewPeriod/");if(e){return}window.history.replaceState({},"",d);return}let m="";let f=false;for(const e in p){if(!f&&r){m+=`?${e}=${p[e]}`;f=true}else{m+=`&${e}=${p[e]}`}}if(r){const e=window.location.href.includes("presetSelectionValue");const t=!m&&e;const a=window.location.search;if(t){window.history.replaceState({},"",`${u}${a}`);return}window.history.replaceState({},"",`${u}${m||""}`);return}window.history.replaceState({},"",`${c}${m}`)}function E(e){const t={1:"goals",2:"feedback",3:"assessments"};return t[e]}const k=e=>{switch(e){case"goals":return{title:$.__("Goals"),icon:(0,u.ifFeature)("encore",(0,s.Z)(o.IconV2,{name:"bullseye-arrow-regular",size:16}),(0,s.Z)(l.Z,{}))};case"feedback":return{title:$.__("Feedback"),icon:(0,u.ifFeature)("encore",(0,s.Z)(o.IconV2,{name:"users-regular",size:16}),(0,s.Z)(c.Z,{}))};case"assessments":return{title:$.__("Assessments"),icon:(0,u.ifFeature)("encore",(0,s.Z)(o.IconV2,{name:"temperature-half-regular",size:16}),(0,s.Z)(d.Z,{}))};default:break}}},94445:(e,t,a)=>{"use strict";a.d(t,{k:()=>s});const s={HEALTH:"health",DENTAL:"dental",VISION:"vision",SUPPLEMENTAL:"supplemental",RETIREMENT:"retirement",REIMBURSEMENT:"reimbursement",HSA:"hsa",FLEX:"flex",LIFE:"life",DISABILITY:"disability",OTHER:"other"}},12267:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addTooltipsToDisabledRequestFields:()=>q,customApproval:()=>K,getEmployeeModalHeader:()=>W,renderReactForm:()=>re,updateHireDates:()=>Y,updateInfoColumn:()=>V});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a(56445);var l=a(60658);var c=a(72716);var d=a(35987);var u=a.n(d);var h=a(7641);var p=a.n(h);var m=a(393);var $=a(26570);function f(e,t,a,s,n){let i=n?n:$.__("-- Add New --");let o=$(e);return o.each((function(){if($(this).hasClass("js-insertableListModal-complete")){return}$(this).addClass("js-insertableListModal-complete");if(this.options){this.appendChild(new Option(i,"new"));$(this).trigger("liszt:updated")}$(this).change(g.bind(this,t,a,s))}))}function g(e,t,a){if($(this).val()==="new"){e(...t,v.bind(this,a))}}function v(e,t){if(t.ret==="SAVED"){let a=t[e].name;let s=t[e].listValueId?t[e].listValueId:t[e].id;let n=new Option(this.options[this.options.length-1].text,this.options[this.options.length-1].value);this.add(n,null);this.options[this.options.length-2].text=a;this.options[this.options.length-2].value=s;this.selectedIndex=this.options.length-2;$(this).trigger("liszt:updated");$(this).change()}}var y={insertListModal:f};var b=a(66147);var w=a(34825);var S=a(82543);var C=a.n(S);var x=a(17842);var T=a.n(x);var E=a(17876);var k=a(45662);var Z=a(77512);var F=a(26297);var I=a(76725);var N=a(40589);var A=a(91395);var M=a(71141);var D=a(59155);var P=a(26570);function L(e,t){if(e===null||t===null||e>t){return false}var a=t.getFullYear()-e.getFullYear();if(t.getMonth()<e.getMonth()){--a}if(t.getMonth()==e.getMonth()&&t.getDate()<e.getDate()){--a}return a}function O(e){var t=new Date;var a=typeof GLOBAL_DATEPICKER_MASK==="undefined"?"mm/dd/yy":GLOBAL_DATEPICKER_MASK;try{var s=P.datepicker.parseDate(a,e.value,{shortYearCutOff:30})}catch(e){return false}var n=L(s,t);if(n&&!(0,o.isNaN)(n)){P(".age").show();P(".dob-age").text(n)}else{P(".dob-age").text("");P(".age").hide()}}function R(e,t){var a,s,n;var i;if(e===null||t===null){return""}if(e.getDate()>t.getDate()){var o=32-new Date(e.getFullYear(),e.getMonth(),32).getDate();s=t.getDate()+o-e.getDate();i=1}else{s=t.getDate()-e.getDate();i=0}if(e.getMonth()+i>t.getMonth()){a=t.getMonth()+12-e.getMonth()-i;i=1}else{a=t.getMonth()-e.getMonth()-i;i=0}n=t.getFullYear()-e.getFullYear()-i;var r=[];if(n){r.push(sprintf(P.__n("%1 year","%1 years",n),n))}if(a){r.push(sprintf(P.__n("%1 month","%1 months",a),a))}if(s){r.push(sprintf(P.__n("%1 day","%1 days",s),s))}if(n<0){return""}return r.join(", ")}function B(e){var t=new Date;var a=typeof GLOBAL_DATEPICKER_MASK==="undefined"?"mm/dd/yy":GLOBAL_DATEPICKER_MASK;try{var s=P.datepicker.parseDate(a,e.value,{shortYearCutOff:30})}catch(e){return false}try{if(P(".termination-field").length>0){var n=P(".termination-field").val();t=P.datepicker.parseDate(a,n,{shortYearCutOff:30});if(t===null){t=new Date}}else{var i=P(".hiredate-los").data("termdate");if(i!="0000-00-00"&&i!=""){t=P.datepicker.parseDate("yy-mm-dd",i)}}}catch(e){return false}var o=R(s,t);if(o){P(".los").show();P(".hiredate-los").text(o)}else{P(".hiredate-los").text("");P(".los").hide()}}function j(e,t){t.find("option").hide();t.find("option.state_"+e).css("display","block");if(t.find(":selected").css("display")=="none"){t.val("")}P(t).trigger("liszt:updated");P(t).trigger("change")}function H(){P(".state-filing-status-field").each((function(e){var t=P(this);var a="select[name="+P(this).data("withholding-state-field")+"]";window.setTimeout((function(){P(a).change((function(){var e=P(this).find(":selected").text();j(e,t)}));P(a).change();window.formChanged=false}),500)}))}function q(){P(".request.disabled").each((function(){q.count++;P(this).attr("disabled",true);var e=false;if(P(this).siblings("a").children().length||P(this).parent().siblings("label").children().length){e=true}if(!P(this).hasClass("hidden")&&!e&&P(this).is(":visible")){var t=P(this).attr("id");var a=P(this).attr("data-pending-id");var s=P.__("Pending Approval");var n=P.__("The latest change to this field is waiting for approval. Click to go to the original request.");var i="/inbox/details.php?id="+a+"&name=information_update&type=sent";if(P(this).hasClass("notice")){i="/inbox/details.php?id="+a+"&name=information_update&type=inbox"}var o=P(this).attr("type");var r='<ba-icon class="baseInvertOnHover request-icon request-'+(t||q.count)+'" name="fab-edit-approval-required-16x16"></ba-icon>';if(o==="checkbox"){P(this).parent().siblings("label").append('<a href="'+i+'" class="request-icon-container" >'+r+"</a>")}else{P(this).before('<a href="'+i+'" >'+r+"</a>")}if(t.indexOf(":idx:")===-1){BambooHR.Components.Tooltip.create(".request-icon.request-"+(t||q.count),{lead:s,content:n,placement:"right",textAlign:"left"})}}}))}q.count=0;function W(){if(window.Employee){return(0,r.ifFeature)("encore",i().createElement(i().Fragment,null,(0,s.Z)(D.StyledBox,{padding:"20px"},void 0,(0,s.Z)(D.BadgeV2,{icon:(0,s.Z)(D.BadgeV2.Avatar,{alt:"Image of employee",src:window.Employee.photoURL}),size:"large",subtitle:window.Employee.jobTitle,title:window.Employee.preferredName+" "+window.Employee.lastName})),(0,s.Z)(D.Divider,{marginX:"20px"})),(0,s.Z)(m.Z,{imageAlt:"Image of employee",imageSrc:window.Employee.photoURL,subTitle:window.Employee.jobTitle,title:window.Employee.preferredName+" "+window.Employee.lastName}))}return null}P((function(){const e=P("#employeePhoto .empPhoto").attr("src");P("#employeeNav .js-employeePhotoSmall").attr("src",e);q();window.enableFormChangeTracking(document.forms.employee);if(P(".termination-field").val()==""){P(".rehire-field").parent().parent().children("td,th").css("display","none")}P(".termination-field").change((function(){if(this.value!=""){P(".rehire-field").parent().parent().children("td,th").css("display","table-cell")}var e=P(".hiredate-field");if(e.length>0){B(e[0])}}));H();var t=P(".dob-field");if(t.length>0){t.change((function(){O(this)})).keypress((function(){O(this)})).find(":last").after(`<span>${P.__("Age: ")}<span class="dob-age"></span></span>`);O(t[0])}var a=P(".hiredate-field");if(a.length>0){var n=P.__("Length of service: ");a.change((function(){B(this)})).keypress((function(){B(this)})).find(":last").after(`<span>${n}<span class="hiredate-los"></span></span>`);B(a[0])}P(document).on("blur",".work-email-field, .home-email-field",i);function i(){if(typeof window.empStatus==="undefined"){window.empStatus="Active"}var e=P(".employee-status-field").val()||window.empStatus;window.empHasEmail=false;P(".checkEmailExists").each((function(e,t){if(window.validateEmail(P(t).val())){window.empHasEmail=true}}));if(typeof empHasEmail!="undefined"){if((P(".work-email-field").val()!=""&&window.validateEmail(P(".work-email-field").val())||P(".home-email-field").val()!=""&&window.validateEmail(P(".home-email-field").val()))&&e=="Active"){P("#ssa_msg_on").hide()}else if((!window.empHasEmail||e=="Inactive")&&P('[id^="ea_disabled_field"]').is(":checked")){P("#ssa_msg_on").css("display","inline-block")}else if(!window.empHasEmail||e=="Inactive"){P("#ssa_msg_on").css("display","inline-block")}d()}}function d(){if(P('[id^="ea_disabled_field"]:checked').length>0){P("#ssa_msg_off").css("display","inline-block");P("#ssa_msg_on").hide()}else{P("#ssa_msg_off").hide()}}P(".employee-status-field").change(i);P(".ess-field").change(i);P("#resetPassword").click((function(e){e.preventDefault();if(!window.empHasEmail){showModalPopup(P.__("Error"),P.__("Please enter a valid work or home email for this employee before resetting the password."));return false}var t=P(this).data("userid");if(window.formChanged){if(window.trackedFormId){var a='<div class="navigateAwayModal"><img src="/images/bicons/warning-icon-lrg.png"/><div class="navHeader">'+P.__("You haven't saved your changes")+"</div>";a+='<p class="navMessage">'+P.__("Your changes will be lost if you navigate away from this page without saving.")+"</p></div>";var s="<button type='button' id='saveChangesButton' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only btn btnAction' role='button' aria-disabled='false'><span class='ui-button-text'>"+P.__("Save Changes")+"</span></button>";return showModalDialog(P.__("Just Checking..."),a,P.__("Don't Save"),(function(){h(t)}),null,{additional_footer_html:s,open_callback:function(){P("#saveChangesButton").click((function(){P("#"+window.trackedFormId).submit()}));P("button:not(#saveChangesButton)").removeClass("btnAction")},width:"450px"})}modalDialogAlert(P.__("Discard Changes"),P.__("You have not saved your changes. Do you want to discard your changes?"),P.__("Yes"),(function(){closeModalDialog();h(t)}))}else{h(t)}return false}));function h(e){P.ajax({type:"post",dataType:"json",url:"/settings/permissions/edit.php",data:{id:e,action:"password"},success:function(e){if(e.success){location.reload()}else{let t=e.message==""||e.message==undefined?P.__("There was an error resetting the password. Please try again."):e.message;setMessage(window.msg,"error")}}})}P('[id^="ea_enabled_field"], [id^="ea_disabled_field"]').click((function(){if(P('[id^="ea_disabled_field"]').is(":checked")){P(".js-essAccessLevelSelect, #resetPassword").hide()}else{P("#resetPassword").show();P(".js-essAccessLevelSelect").show()}}));i();function m(){P.getJSON("/ajax/employee_current_job_info.php",{id:window.currentlyEditingEmployeeId},(function(e){e.currentlyEditingEmployeeId=window.currentlyEditingEmployeeId;var t=window.microTemplate(u(),{empInfo:e});w.ZP.openModal({html:t,classes:"jquery-padding no-chosen-breakout",header:{title:{text:P.__("Delete Employee?")}},deleteModal:{active:true,selector:"#deleteConfirm"},footer:{buttons:{primary:{text:P.__("Yes, Delete this Employee"),performActionOnKeyCode:13,action:function(){let e=P('[name="position[reportsToEmployeeId]"]');if(e.length>0&&e.val()===""){setMessage(P.__("Please select a new hiring lead before deleting this employee"),"error");return}if(P("#deleteConfirm").val().toUpperCase()!=="DELETE"){setMessage(P.__("Please type %1$s to confirm deleting this employee",'"DELETE"'),"error");P("#deleteConfirm").focus();return}w.ZP.Footer.Buttons.Primary.startProcessing();let t="/employees/delete_employee.php";let a={id:window.currentlyEditingEmployeeId};if(e.length>0&&!(0,o.isNaN)(parseInt(e.val(),10))){a.newHiringLeadId=e.val()}var s=P.post(t,a);s.done((function(e){var t=JSON.parse(e);if(t.canDeletePayrollEmployee){w.ZP.closeModal();window.location=t.redirect}else{w.ZP.openModal({html:microTemplate(p(),{}),classes:"jquery-padding",header:{title:{text:P.__("Just so you know...")}},footer:{buttons:{primary:{show:true,text:P.__("OK, Thanks"),action:function(){w.ZP.closeModal();w.ZP.closeModal();window.location=t.redirect}},cancel:{show:false}}}})}}))}},secondary:{show:true,text:P.__("No, Keep this Employee"),action:function(){w.ZP.closeModal()}},cancel:{show:false}}},callbacks:{open:{after:function(){P("#deleteConfirm").focus()}}}})}))}P(".deleteEmployee").on("click",m);function f(){if(P("#deleteConfirm").val()!==P.__("DELETE").toUpperCase()){var e=P.__('Please type the word "DELETE" to continue.');if(P("#deleteEmployeeModal p:last-child").html()!=e){P("#deleteEmployeeModal").append('<p style="margin-bottom:0">'+e+"</p>")}P("#deleteConfirm").focus();return}closeModalDialog();P.post("/employees/delete_employee.php",{id:window.currentlyEditingEmployeeId},(function(e){if(e.success){window.location=e.redirect}else{setMessage(e.message,"error")}}),"json")}P(".js-customizeViewLink").click((function(){function e(){(0,l.K4)((0,s.Z)(c.Z,{}))}if(window.formChanged){if(window.trackedFormId){window.BambooHR.Modal.setState({headline:P.__(`You haven't saved your changes`),dangerousContent:`<div class="Forms__confirmationMessage">${P.__("Your changes will be lost if you navigate away from this page without saving.")}</div>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,isProcessing:false,primaryAction:function(){const e=P("#"+window.trackedFormId);if(e.valid()){window.BambooHR.Modal.setState({isProcessing:true},true);P("#"+window.trackedFormId).submit()}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:P.__("Save Changes"),secondaryAction:function(){window.BambooHR.Modal.setState({isOpen:false});e()},secondaryActionText:P.__(`Don't Save`),title:P.__("Just Checking...")})}}else{e()}}));if(P(".termination-field").val()==""){P(".rehire-field").parent().parent().children("td,th").css("display","none")}P(".js-directReport-toggle").click((function(){var e=P(".directReports__overflow");var t=e.children().first().outerHeight()+parseInt(e.children().first().css("margin-bottom"));var a=e.children().length;if(!e.outerHeight()>0){e.css("height",t*a+"px");e.addClass("show");P(this).hide()}}));const g=P("#employeeGearMenu");function v(){P.ajax({type:"GET",url:"/ajax/employees/terminate.php",data:{id:window.currentlyEditingEmployeeId},dataType:"JSON",success:function(e){var t="#terminateEmployeeForm";var a=P("#terminateEmployeeTemplate").tmpl({fields:e});w.ZP.openModal({callbacks:{open:{after:function(){var a=w.ZP.getTopModalSelector();var s=a.find(t);var n=s.find("#termDate").focus();if(e.minDate){var i=C()(e.minDate);n.attr("data-mindate",i.toISOString()).datepicker("option","minDate",i.toDate()).addClass("js-validate-mindate")}var o=s.find("textarea");o.on("autosize:resized",(function(){w.ZP.setPosition()}));s.bhrValidate({customMessages:{termDate:{validateMinDate:"This date must be after the current employment status date."}}});BambooHR.VirtualPageView.modal("terminateEmployee")}}},footer:{buttons:{primary:{action:function(e){var a=e.find(t);if(!a.valid()){return}w.ZP.Footer.Buttons.Primary.startProcessing();P.ajax({type:"POST",url:"/ajax/employees/termination.php",data:P("form#terminateEmployeeForm").serializeArray(),success:function(e){w.ZP.closeModal();setMessage(P.__("Success"),"success");location.reload()},error:function(e){e=e.responseText===""?P.__("Whoops... No worries. Please fix any missing or incorrect information and try again."):e.responseText;setMessage(e,"error");w.ZP.Footer.Buttons.Primary.stopProcessing()}})}}}},html:a,title:P.__("Terminate Employment")})}})}g.on("click",".terminateEmployee",v);var y=false;var b=false;var S;if(typeof employeeTab!=="undefined"&&window.employeeTab==1){x()}P(window).scroll((function(){if(typeof employeeTab!=="undefined"&&window.employeeTab==1){x()}}));g.on("mouseenter",".down-list .hasSublist",(function(){var e=P(this).children(".sub-list");var t=e.width()+2;if(e.is(":visible")){clearTimeout(S)}e.addClass("hover").css("left","-"+t+"px")}));g.on("mouseleave",".down-list .hasSublist",(function(){var e=P(this);S=window.setTimeout((function(){P(e).children(".sub-list").removeClass("hover")}),100)}));function x(){if(P(window).scrollTop()>200&&!y&&!b){const e=(0,r.ifFeature)("encore","#js-GlobalSiteHeader",".js-SiteHeader");const t=P(e).outerHeight(true);b=true;P("#employeeNav").wrap('<div id="employeeNavFixed">');P("#employeeNavFixed").addClass("branded-border");P("#employeeNavFixed").find(".employeeDetails").show();P("#employeeNavFixed").animate({top:t},250,(()=>{y=true}))}else if(P(window).scrollTop()<200&&y&&b){P("#employeeNavFixed").animate({top:"0px"},0,(function(){P("#employeeNavFixed").find(".employeeDetails").hide();let e=document.getElementById("employeeNavFixed");let t=e.parentNode;t.insertBefore(e.firstChild,e);t.removeChild(e);y=false;b=false}))}}P(".footer__empWrapper .stickyFooterSaveButton").attr("onclick","return false;").addClass("disabled");P("#employee").on("keydown change",":input",(function(){P(".footer__empWrapper .stickyFooterSaveButton").attr("onclick",'return $("#employee").submit()').removeClass("disabled")}));function T(){const e=P(".ess-field").length>=1&&P(".ess-field:checked").val()=="enabled"||!!window.companyHasTrax||!!window.hasTrax;const t=P(".js-validate-ss-required").length==2;const a=t?P(".js-validate-ss-required").closest(".fieldGroup").hasClass("oneEmailRequired"):false;if(e&&t&&!a){P(".js-validate-ss-required").closest(".fieldGroup").addClass("oneEmailRequired").find(".fab-Label").attr("onerequired",P.__("(One Email Required)")).append('<span class="fab-Label--required" />')}else if(!e&&t&&a){P(".js-validate-ss-required").closest(".fieldGroup").removeClass("oneEmailRequired").find(".fab-Label").removeAttr("onerequired").find("span").remove()}}P("form#employee").one("focusin",T);P('[id^="ea_enabled_field"], [id^="ea_disabled_field"]').on("click",T)}));P(document).on("submit",document.forms.employee,(e=>{if(e.target.id==="custom_approval"){return false}if(typeof validate_employee==="function"){P("[class*='email-field']").each((function(){const e=P.trim(P(this).val());P(this).val(e)}));if(!window.validate_employee(document.employee)){return false}}return true}));P.registerElementInitializer(".js-pay-schedule-insertable-list",(function(){const e=P.__(`You don't have any pay schedules set up. Add them in settings.`);const t=P(".js-pay-schedule-insertable-list");if(t.length&&t.find('ba-option[value!=""]').length===0){const a=document.createElement("ba-option");a.innerText=e;a.setAttribute("disabled","disabled");t.append(a)}}));const U=".js-location-insertable-list";P.registerElementInitializer(U,(function(){y.insertListModal(U,b.Z.showModal,[null,{},false],"savedLocation")}));document.addEventListener("ba:selectAddItem",(e=>{if(e.target.classList.contains("js-location-insertable-list")){const{resolve:t,reject:a}=e.detail;const s=window.BambooHR.Modal.isOpen();const n=()=>{a();window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)};const i=e=>{const{ret:s,extra:n}=e;if(s==="SAVED"){const{id:e,label:a}=n;t([{text:a,value:e,selected:true}]);return}a()};b.Z.showModal(null,{},false,i,n,{isSheet:s})}}));function z(e){return e.replace(/([^a-z0-9])/gi,"")}function V(){if(typeof currentlyEditingEmployeeId=="undefined"){return}P.post("/ajax/employees/info_column.php",{employeeId:window.currentlyEditingEmployeeId},(function(e){var t=P(".infoColumn").html(e);var a=t.find("img.grayscale");if(a.length>0&&P.isFunction(P.fn.gray)){a.gray()}}));P.get("/ajax/employees/job_title.php",{employeeId:window.currentlyEditingEmployeeId},(function(e){P(".js_jobTitle").html(e)}))}function Y(){if(typeof currentlyEditingEmployeeId==="undefined"){return}P.getJSON("/employees/hireDate/"+window.currentlyEditingEmployeeId,(function(e){var t=P('[name="field_'+e.hire_date.field_id+'"]');var a=P('[name="field_'+e.original_hire_date.field_id+'"]');if(t.length){t.val(C()(e.hire_date.value).format())}if(a.length){a.val(C()(e.original_hire_date.value).format())}}))}function G(e,t,a){window.BambooHR.Modal.setState({isProcessing:true},true);function s(){window.BambooHR.Modal.setState({isProcessing:false},true)}P.post(P("#custom_approval").attr("action"),P("form").serializeIncludeDisabled(),(function(e){s();if(e.success){if(e.message){setMessage(e.message,"success")}var t=P("#comment").val();if(t.length>0&&e.threadId&&e.authorId){P.post("/ajax/employee_comments.php",{threadId:e.threadId,authorId:e.authorId,action:"add",comment:t})}if(a&&typeof a==="function"){a()}window.BambooHR.Modal.setState({isOpen:false,isProcessing:false})}else if(e.error){const{data:t={}}=e;const{fields:a=[]}=t;setMessage(e.error,"error");if(a.length>0){(0,k.Eq)(a,"#custom_approval")}s()}else{s();errorFallBack()}}),"json").fail((function(){errorFallBack();s()}))}function K(e,t){T().get(`/ajax/dialog/approvals/custom.php?id=${e}&wid=${t}`).then((a=>{let{data:n}=a;let i;if(n){const{title:a,html:o,save:r,templateName:l}=n;const c=(0,N.Y)(l);const d=".js-customApproval input, .js-customApproval select, .js-customApproval textarea, .js-paidPer, .js-payType";const u=()=>{ne(m)};const h=()=>{document.querySelectorAll(d).forEach((e=>{e.addEventListener("keyup",u);P(e).on("change",u)}));P("#custom_approval").on("change",ie);P(".js-paySchedule").on("change",X);P(".payRateGroup .js-paidPer").on("change",ee);P(".js-payType").on("change",J);P(".payRateGroup .js-rate").on("change",Q);P(".payRateGroup .js-currency-picker-type").on("change",te);P(".js-overtimeRate").on("change",E.ZP.handleOvertimeRateChange);if(P(".js-jobDate").length!==0&&P(".js-startDate").length!==0){P(".js-startDate").on("change",(()=>P(".js-jobDate").val(P(".js-startDate").val())))}window.Employees.Job.EmploymentStatusModal.init();P(".js-employmentStatusSelect").on("change",oe);setTimeout((()=>{window.Employees.Job.EmploymentStatusModal.updateTaxTypeInitialOptions(P(".js-employmentStatusSelect").find("[selected]").attr("value"),"0")}),0);const e=`\n\t\t\t\t\t<div class="regrettableInfo">\n\t\t\t\t\t\t<p><b>${P.__("Regrettable")}:</b>&nbsp;${P.__("Employees that the organization would have liked to keep but who decided to leave.")}</p>\n\t\t\t\t\t\t<p><b>${P.__("Non-Regrettable")}:</b>&nbsp;${P.__("Employees who left the company whose departure did not hurt the company.")}</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a target='_blank' aria-label="${P.__("Learn more about Regrettable vs Non-Regrettable")}" href="https://www.bamboohr.com/blog/employee-turnover-vs-attrition-context-is-the-key">\n\t\t\t\t\t\t\t\t${P.__("Learn more")}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t`;if(document.querySelector(".js-term-regret-selector-tooltip")){window.BambooHR.Popover.create(".js-term-regret-selector-tooltip",{html:e,position:"right",afterCreation:e=>{e.balloonContentElement.querySelector("a").setAttribute("target","_blank")}})}};const p=()=>{document.querySelectorAll(d).forEach((e=>{e.removeEventListener("keyup",u);P(e).off("change",u)}));P("#custom_approval").off("change",ie);P(".js-paySchedule").off("change",X);P(".payRateGroup .js-paidPer").off("change",ee);P(".js-payType").off("change",J);P(".payRateGroup .js-rate").off("change",Q);P(".js-overtimeRate").off("change",E.ZP.handleOvertimeRateChange);if(P(".js-jobDate").length!==0&&P(".js-startDate").length!==0){P(".js-startDate").off("change")}P(".js-employmentStatusSelect").off("change",oe)};const m=()=>{if(!se()){window.setMessage(P.__("The selected start date must come before the end date. Please try again."),"error");return}if(!E.ZP.paidPerAndPayTypeValid()){window.setMessage(P.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error");return}ne(m);if(!i.valid()){return}window.BambooHR.Modal.setState({isProcessing:true},true);G(e,t,p)};const f=document.createElement("div");f.innerHTML=o;let g=P(f);const v=g.find(".js-customApprovalModalHeader").remove().html();window.BambooHR.Modal.setState({content:(0,s.Z)("div",{className:"js-request-form-wrapper",dangerouslySetInnerHTML:{__html:g.html()}}),contentHasPadding:false,header:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:v}}),headerType:v?"filled":"",title:a,isOpen:true,onOpen:()=>{E.ZP.setupForm("requestChangeApproval");E.ZP.initializeForm("requestChangeApproval");const e=g.find("#dynamic-form-data");if(e&&(0,M.isEnabled)("ReactApprovals")){re("dynamic-form-approval","dynamic-form-data",A.EmployeeApprovals);return}P(".js-request-form-wrapper").initializeElements();i=P("#custom_approval");i.bhrValidate();h();if(P(".employee_contacts.repeat").find(".blankState:visible").length>0){P(".js-contactAddInitial").trigger("click");P(".employee_contacts.repeat")[0].repeat.add()}ie();E.ZP.handleOvertimeRateChange();E.ZP.addFormNote();E.ZP.handlePayScheduleChange()},onClose:()=>{p()},primaryActionText:r,primaryAction:null,type:c})}})).catch(window.errorFallBack)}function X(){E.ZP.handlePayScheduleChange()}function J(){E.ZP.handlePayTypeChange("requestChangeApproval")}function Q(){E.ZP.handlePayRateChange()}function ee(){E.ZP.handlePaidPerChange()}function te(){E.ZP.handleCurrencyChange()}const ae={"dd MMM YYYY":"DD MMM YYYY","mm/dd/yyyy":"MM/DD/YYYY","dd/mm/yyyy":"DD/MM/YYYY","yyyy-mm-dd":"YYYY-MM-DD"};function se(){const e=P(".js-customApproval").find(".js-startDate");const t=P(".js-customApproval").find(".js-endDate");if(!e.length||!t.length||!t.val()){return true}const a=ae[window.GLOBAL_DATE_MASK];const s=C()(e.val(),a);const n=C()(t.val(),a);return s.isBefore(n,"day")}function ne(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:()=>{};var t=true;P(".js-customApproval :input[name*='field'], .js-customApproval ba-select[name*='field']").each((function(){if(this.tagName==="SELECT"){var e;P(this).children("option").each((function(){if(this.defaultSelected){e=this.value;return false}}));this.defaultValue=e}if(this.defaultChecked!=P(this).is(":checked")){t=false;return false}if(this.value!==this.defaultValue){t=false;return false}}));if(t){window.BambooHR.Modal.setState({primaryAction:null},true)}else{window.BambooHR.Modal.setState({primaryAction:e},true)}}function ie(e){const t=P(".js-overtimeRate").closest(".fieldBox");const a=P(".js-exemptStatus");const s=a.attr("name");const n=P(`select[name="${s}"]`).val();const i=P(".js-payType ba-option:selected").text().toLowerCase();const o=i==="hourly";(0,E.$m)(t,n,o)}function oe(e){const t=P(e.target);const a=t.closest("form");a.addClass("customApprovalEmploymentStatusForm");if(window.Employees.Job.EmploymentStatusModal.checkIfPayrollCustomer()){window.Employees.Job.EmploymentStatusModal.employmentStatusChangeHandler(e,"0",a.find(".js-employeeTaxTypeFieldSelect select"),(()=>{window.Employees.Job.EmploymentStatusModal.addInfoStylesToTaxTypeSelect({taxTypeSelector:a.find(".js-employeeTaxTypeFieldSelect"),fieldRowSelector:".fieldRow",infoIconClass:"customApprovalEmploymentStatusIconWrapper"})}))}}function re(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"dynamic-form-data";let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:F.F3;const n=document.getElementById(e);const i=document.getElementById(t);if(n&&i){const e=(0,I.V)(`#${t}`);const i=e&&e.root?e.root:null;const o=document.getElementById(i);if(i&&o){o.parentNode.removeChild(o)}(0,Z.s)((0,s.Z)(a,{data:e}),n)}}},12142:(e,t,a)=>{"use strict";a.r(t);a.d(t,{openEsignatureSigningModal:()=>s.n});var s=a(37995)},90733:(e,t,a)=>{"use strict";a.d(t,{$G:()=>p,FF:()=>g,Go:()=>S,Op:()=>m,Wu:()=>v,gC:()=>f,wu:()=>C});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(20928);var r=a(73641);var l=a.n(r);var c=a(17842);var d=a.n(c);var u=a(60658);var h=a(49175);var $=a(26570);function p(e,t,a,s){m($(`[data-file_id=${e}]`),t,a,s)}function m(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let n=false;let i=null;let o=0;let r=false;if(e.selector.match(/(\d+)/)){i=parseInt(e.selector.match(/(\d+)/)[1])}if(e.length||i){const l=[];if(e.length){e.each((function(){if($(this).data("can_delete")==="yes"||$(this).data("can_delete")===undefined){l.push($(this).data("file_id"))}else{o++;if($(this).data("is-implementation")==="yes"){r=true}}}));if(l.length>3||e.hasClass("js-tasklist")||e.hasClass("js-esignature")){n=true}}else if(i){l.push(i)}if(l.length<1){return}C(l,t,a,n,s,o,r)}}function f(e,t){m($(`[data-file_id=${e}]`),t,true)}function g(e,t){m(e,t,true)}function v(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let a=arguments.length>2?arguments[2]:undefined;let n=arguments.length>3?arguments[3]:undefined;let i=arguments.length>4?arguments[4]:undefined;$.get(`/${appPrefix}employees/files/getDeleteFolderCounts`,{id:a},(function(e){let n=0;let o=0;const r=e.counts;if(r){for(const e in r){o++;n+=parseInt(r[e].count)||0}}else{for(const t in e){o++;n+=parseInt(e[t].count)}}const l=(e,t,a)=>{if(i&&typeof i==="function"){i(t)}return y(e,t,a)};const c=e.templates||false;(0,u.K4)((0,s.Z)(h.A,{affectedEmployees:r,deleteAction:l,employeeCount:o||0,employeeId:t,fileCount:n||0,hasTemplates:c,sectionId:a}))}),"json")}function y(e,t,a){return c.ajax.post(`/employees/${appPrefix}ajax/folder/delete/${e}`,{id:t,employeeId:e}).then((function(e){if(e.data.success){const s=$(`[data-section_id=${t}]`);if(s.hasClass("selected")){loadSectionFiles("all",$("select[name=sort-files]").val());$("#file-sections .sectionLink.all").addClass("selected")}s.remove();if(a>0&&$("#file-sections .sectionLink.selected").hasClass("all")){loadSectionFiles("all",$("select[name=sort-files]").val())}setMessage(e.data.success_message,"success")}else{setMessage(e.data.error,"error")}})).catch((function(e){setMessage(e,"error")}))}function b(e,t){return _jsx("div",{},void 0,_jsx("h4",{className:"FileDelete__header",dangerouslySetInnerHTML:{__html:e}}),t&&_jsx("h6",{className:"FileDelete__subHeader",dangerouslySetInnerHTML:{__html:t}}))}function w(e,t,a){return _jsx("div",{className:"FileDelete__wrapper"},void 0,_jsx("div",{className:"FileDelete__imgWrapper"},void 0,_jsx("img",{alt:"Delete Folder",className:"FileDelete__img",src:"/images/files/folderx.svg"})),_jsx("div",{className:"FileDelete__details"},void 0,_jsx("div",{className:"FileDelete__name"},void 0,t),_jsx("div",{className:"FileDelete__fileCount"},void 0,$.__("%1 total files",e))),_jsx("div",{className:"FileDelete__userList",dangerouslySetInnerHTML:{__html:a.html()}}))}function S(e){const t=e.find("span.count").text().replace(/[\(\)]/g,"");let a=$.__('Are you sure you want to delete the folder "%1"?',e.data("foldername"));if(t>0){a=$.__n('Are you sure you want to delete the folder "%2" and its %1 file?','Are you sure you want to delete the folder "%2" and all of its %1 files?',t,e.data("foldername"))}window.BambooHR.Modal.setState({aggressiveConfirmationText:"Type <strong>“Delete”</strong> to permanently remove the folder and its files.",headline:a,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);$.ajax({url:`/ajax/${appPrefix}files/edit_folder.php`,type:"post",data:{action:"delete",id:e.data("section_id")},success(a){if(a.success){if(e.parent().hasClass("selected")){window.resetFiles();loadSectionFiles("all",$("select[name=sort-files]").val());$(".allFilesListItem").addClass("selected")}e.parent().remove();if(t>0&&$("#file-sections .sectionLink.selected").hasClass("all")){window.resetFiles();loadSectionFiles("all",$("select[name=sort-files]").val())}setMessage(a.success_message,"success");window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true);setMessage(a.error,"error")}},dataType:"json"})},primaryActionText:$.__("Delete Folder"),isOpen:true,title:$.__("Just Checking..."),type:"aggressiveConfirmation"})}function C(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let l=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;const d=a?`/employees/files/delete_files`:`/files/delete_files`;const u=window.$filesTableWrapper||false;const h=(0,r.uniq)(e);const p=`${d}?${$.param({fileIds:h,filesRemoved:i,hasImplementationFilesRemoved:l?1:0,sort:$('select[name="sort-files"]').val()})}`;(0,o.QK)(t,true,{isLoading:true});c.ajax.get(p).then((e=>{const i=document.createElement("div");i.innerHTML=e.data;const r=$(i);if(r.find("#js-confirmDelete").val()){s=true}const l=r.find(".js-headLine").text();const c=r.find(".js-content").html();const p=a?"small":"smallSheet";const m={alternativeAction:null,dangerousContent:c,contentHasPadding:true,headline:l,footer:null,icon:s===true?"":"fab-trash-can-43x48",iconColor:"danger",isLoading:false,onClose:()=>{(0,o.QK)(t,false,{sheetProps:null})},primaryAction:()=>{$.ajax({url:d,type:"post",data:{action:"delete",fileIds:h},success(e){if(e.success){if(typeof n==="function"){n(h)}h.forEach((e=>{let t=$(`tr[data-file_id="${e}"]`);const a=$(".file-wrapper, .FileWrapper, .FileUploadsEmployee__File");let s=a.filter(`[id="file-${e}"], [id="${e}"], [data-fileid="${e}"]`);if(s.length===0){s=a.find(`[data-file-id="${e}"]`)}t=t.add(s);if(t.length){const e=t.closest(".EmployeeFiles");const a=t.closest(".FileUploadsEmployee");t.remove();if(e.length>0&&e.find(".file-wrapper").length===0){e.find(".EmployeeFiles__FilesList").toggleClass("hidden",true);$(".MsgListing__taskEeFiles").toggleClass("hidden",true)}if(a.length>0&&a.find(".FileUploadsEmployee__File").length===0){a.remove();$(".List__FilesEmployee").remove()}}}));if(!a&&u&&u.find("tr").length<=0){u.find(".blankState").show()}const t=window.updateFileSectionCounts||o.l3;t(e.employeeId||false);setMessage(e.success_message,"success");window.BambooHR.Modal.setState({isOpen:false})}else{setMessage(e.error,"error")}},dataType:"json"})},primaryActionKey:"Enter",primaryActionText:$.__n("Delete File","Delete Files",h.length),secondaryAction:()=>{(0,o.QK)(t,false,{sheetProps:null})},secondaryActionText:$.__n("Keep File","Keep Files",h.length),isOpen:true,title:$.__("Just Checking..."),type:s||h.length>3?"aggressiveConfirmation":p};if(t){m.type=m.type==="aggressiveConfirmation"?m.type:"smallSheet";window.BambooHR.Modal.setState({sheetProps:null},true)}(0,o.QK)(t,true,m)}))}},74372:(e,t,a)=>{"use strict";a.r(t);a.d(t,{EmployeeFolderClicked:()=>r.UB,addFile:()=>o.N2,addFolderSuccess:()=>r.TX,deleteCompanyFile:()=>s.$G,deleteCompanyFiles:()=>s.Op,deleteEmployeeFile:()=>s.gC,deleteEmployeeFiles:()=>s.FF,deleteEmployeeFolder:()=>s.Wu,deleteFolder:()=>s.Go,downloadCompanyFiles:()=>n.H0,downloadEmployeeFiles:()=>n.M9,downloadMultipleFiles:()=>n.tg,duplicateFile:()=>r.Ag,editFolder:()=>r.tb,editSignatureTemplate:()=>r.ZU,emailFile:()=>r.b,emailSecureLink:()=>l.K,firstFolderSuccess:()=>r.W9,getErrorState:()=>r.ZC,handleStackableModalState:()=>r.QK,kickOffDataCleaner:()=>d.$,openESignatureTemplatingPreviewer:()=>c.w,openEmployeeFilePreviewer:()=>c.u,previewEmployeeFile:()=>r.td,previewFile:()=>r.NC,previewFileWithEsignatureTemplating:()=>r.NR,reloadFileList:()=>r.VL,renameFile:()=>r.gQ,renameFileSuccess:()=>r.RT,renameFolderSuccess:()=>r.Yf,resetProcessingButton:()=>r.i8,runScan:()=>r.Lk,scanFiles:()=>r.KG,setupDraggable:()=>r.$Y,setupDroppable:()=>r.aU,setupShareInputs:()=>r.pS,shareEmployeeFile:()=>i.ur,shareFile:()=>i.u5,shareFolder:()=>i.T,showDeleteModal:()=>s.wu,showEmployeeFile:()=>r.vd,showFile:()=>r.Eu,showFileNoAccess:()=>r.sK,showImage:()=>r.od,unshareFileOrFolder:()=>i.fX,updateButtonForProcessing:()=>r.pJ,updateFileSectionCounts:()=>r.l3,updateFooterModal:()=>o.CX,updateHeadingCount:()=>r.yB,updateUploadInputs:()=>o.DG,upload:()=>o.ws,uploadEmployeeFile:()=>o.v4});var s=a(90733);var n=a(8098);var i=a(64305);var o=a(78195);var r=a(20928);var l=a(82692);var c=a(26582);var d=a(2898)},87808:(e,t,a)=>{"use strict";a.d(t,{J7:()=>u,O4:()=>c,nK:()=>d});var s=a(23321);var n=a.n(s);var i=a(77512);var o=a(97240);var r=a(27357);const l=document.createElement("div");document.body.appendChild(l);function c(e){(0,i.s)(n().createElement(o.o,e),l)}const d=r.nK;const u=()=>{c({defaultModal:r.nK.CLEAR_DEMO_DATA_MODAL,onDefaultModalClose:()=>c({defaultModal:undefined})})}},92102:(e,t,a)=>{"use strict";a.d(t,{VY:()=>u,dL:()=>o,jO:()=>c,uu:()=>h,xx:()=>l,zJ:()=>r});var s=a(23211);var n=a(86347);var $=a(26570);let i=false;function o(e,t){e();window.setTimeout((()=>{o(e,t)}),t)}function r(e,t,a,s){const n=$(`.${a}`);if(e&&t.startLink!=="undefined"){n.removeClass(`${s}--hide`);n.on("click",(function(){t.startLink()}))}else{n.off("click");n.addClass(`${s}--hide`)}}function l(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"19325311-7882-4043-b503-b08e69b88da8";return new Promise(((t,a)=>{let s=false;let n=document.getElementById("snapengage");if(!n){n=document.createElement("script");n.id="snapengage";n.type="text/javascript";n.async=true;n.src=`//storage.googleapis.com/code.snapengage.com/js/${e}.js`;let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}const i=function(){if(!s&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){s=true;window.SnapEngage.hideButton();t(window.SnapEngage)}};n.addEventListener("load",i);n.addEventListener("readystatechange",i)}))}const c=(e,t)=>{const a=document.querySelector(".js-help-center-button");if(a){a.addEventListener("click",(async()=>{const a=await h("19325311-7882-4043-b503-b08e69b88da8");a.getAgentStatusAsync((s=>{r(s,a,e,t)}))}))}};const d=()=>{const e=(0,s.y)();const t=`${e}/manifest.json`;return fetch(t).then((e=>e.json())).then((t=>{const a=t["salesforce-chat.js"];return new Promise((t=>{const s=document.createElement("script");s.src=a.startsWith("http")?a:(0,n.j)(e,a);s.async=true;s.onload=()=>t();document.head.appendChild(s)}))})).catch((e=>{console.warn(e)}))};const u=(e,t)=>{const a=window.sessionStorage.getItem("salesforce-chat-active");if(a){d()}const s=document.querySelector(".js-help-center-button");if(!s||!window.IS_WITHIN_SALESFORCE_CHAT_BUSINESS_HOURS){return}if(!i){r(false,{},e,t)}s.addEventListener("click",(async()=>{if(!i){i=true;window.addEventListener("SALESFORCE_CHAT_READY",(function(a){const s=a.detail.isAgentAvailable;r(s,{startLink:()=>{window.embedded_svc.bootstrapEmbeddedService()}},e,t)}));await d()}}))};const h=e=>{if(window.SnapEngage){return new Promise((t=>{window.SnapEngage.switchWidget(e,(()=>{t(window.SnapEngage)}))}))}else{return l(e).then((e=>e))}}},13369:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addTasklist:()=>R,bhrFormCancel:()=>H,deleteTasklist:()=>j,enableFormChangeTracking:()=>I,handleFormChange:()=>k,importAddress:()=>O,markFormChanged:()=>F,openRegisteredModal:()=>A,registerModalLink:()=>N,renameTasklist:()=>B,showMaskedValue:()=>S,showNewCurrencyPicker:()=>P,validateEmail:()=>m.validateEmail});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(73641);var c=a.n(l);var d=a(17842);var u=a.n(d);var h=a(21198);var p=a.n(h);var m=a(38592);var f=a(45662);var g=a(78144);var v=a(71141);var y=a(77512);var b=a(80817);var w=a.n(b);var $=a(26570);var jQuery=a(26570);function S(e){$("."+e).css("display","none");$("."+e+"_value").css("display","inline-block")}const C=(0,v.isEnabled)("jade");const x=(0,v.isEnabled)("CORE_TOGGLE_ADD_ENTRY_REDESIGN");function T(e){e+="";while(e.indexOf(window.GLOBAL_THOUSANDS_SEPARATOR)!=-1){e=e.replace(window.GLOBAL_THOUSANDS_SEPARATOR,"")}let t=e.split(window.GLOBAL_DECIMAL_CHAR);let a=t[0];let s=t.length>1?window.GLOBAL_DECIMAL_CHAR+t[1]:"";var n=/(\d+)(\d{3})/;while(n.test(a)){a=a.replace(n,"$1"+window.GLOBAL_THOUSANDS_SEPARATOR+"$2")}return a+s}(function($){jQuery.fn.toggleSwitch=function(){$(this).each((function(e,t){$(`\n\t\t\t\t<input\n\t\t\t\t\ttype="hidden"\n\t\t\t\t\tname="${xmlEntities(t.name)}"\n\t\t\t\t\tvalue="${xmlEntities(t.value)}"\n\t\t\t\t\t${t.checked?"":'disabled="disabled"'}\n\t\t\t\t/>\n\t\t\t\t<span class="toggleSwitch ${t.checked?"":"off"}"></span>\n\t\t\t`).insertAfter(t);$(t).remove();$(`input[name="${t.name}"]`).next("span").click((function(){if($(this).prev("input").is(":disabled")){$(this).removeClass("off").prev("input").removeAttr("disabled")}else{$(this).addClass("off").prev("input").attr("disabled","disabled")}}))}))};jQuery.fn.serializeIncludeDisabled=function(){let e=this.find(":input:disabled, ba-select:disabled").removeAttr("disabled");let t=this.serialize();e.attr("disabled","disabled");return t}})(jQuery);(function($){$.fn.formatCurrency=function(e){e=jQuery.extend({decimal:".",global:true,name:"formatCurrency",oldSymbol:"",position:0,symbol:"$",thousands:",",useHtml:false},e);function t(t){var a=new RegExp("[^-0-9.,]+","gi");var s="";if(e.thousands!==""){s=new RegExp("\\"+e.thousands,"gi")}t=t.replace(e.symbol,"").replace(a,"").replace(s,"");if(e.decimal===t[0]){t="0"+t}return Number(t.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"))}return this.each((function(){var a=$(this)[e.useHtml?"html":"val"]();if(a!==""){a=t(a);if(isNaN(a)){a="0"}var s=a==(a=Math.abs(a));a=Math.floor(a*100+.50000000001);var n=a%100;a=Math.floor(a/100).toString();if(n<10){n="0"+n}for(var i=0;i<Math.floor((a.length-(1+i))/3);i++){a=a.substring(0,a.length-(4*i+3))+e.thousands+a.substring(a.length-(4*i+3))}let o=e.position?(s?"":"-")+a+e.decimal+n+e.symbol:(s?"":"-")+e.symbol+a+e.decimal+n;$(this)[e.useHtml?"html":"val"](o)}}))}})(jQuery);function E(e,t,a){var s=$("#"+e).val();var n=s.length;if(n>t){$("#"+a).html($.__("You cannot write more then %1 characters!",t));$("#"+e).val(s.substr(0,t));return false}$("#"+a).html($.__("This field can accept %1 more characters.",t-n));return true}function k(e,t,a){if(e&&typeof e==="string"&&e!==""&&e!==`javascript:void(0)`&&!~e.indexOf("#")&&window.formChanged){if(t&&t.preventDefault){t.preventDefault()}const a=typeof window.customFormChangedAction==="function"?window.customFormChangedAction:null;Z($(`#${window.trackedFormId}`),e,a);return false}if(a){a()}}$((function(){if(!(0,l.isUndefined)($('.calendar-field:not([name*=":idx:"])').bhrdatepicker)){try{$('.calendar-field:not([name*=":idx:"])').bhrdatepicker(window.HSHQ_DATEPICKER_OPTIONS).attr("autocomplete","off")}catch(e){Rollbar.error("Error setting bhrdatepicker with window.HSHQ_DATEPICKER_OPTIONS",{error:e,options:window.HSHQ_DATEPICKER_OPTIONS})}$('.calendar-field:not([name*=":idx:"])').each((function(){if($(this).attr("defaultDate")!==""){$(this).datepicker("option","defaultDate",$(this).attr("defaultDate"))}}))}$(document).click((function(e){var t=$(e.target);if(t.closest("#ui-datepicker-div").prop("tagName")!=="DIV"&&!t.closest(".ui-datepicker").hasClass("ui-datepicker")&&!t.closest(".ui-icon").hasClass("ui-icon")&&!t.closest(".ui-datepicker-next").hasClass("ui-datepicker-next")&&!t.closest(".ui-datepicker-prev").hasClass("ui-datepicker-prev")&&!t.closest(".hasDatepicker").hasClass("hasDatepicker")){$(".hasDatepicker").datepicker("hide")}}));$(document).on("blur",`.currency-field:not('.dynamic-field-react')`,(function(){var e=$(this).data("thousands-separator")||window.GLOBAL_THOUSANDS_SEPARATOR||",";var t=$(this).data("decimal-char")||window.GLOBAL_DECIMAL_CHAR||".";var a=window.GLOBAL_CURRENCY_SYMBOL||"$";var s=a;a=$(this).data("cursymbol")||s;$(this).formatCurrency({decimal:t,oldSymbol:$(this).data("oldcursymbol"),position:$(this).data("currencysymbolposition"),symbol:a,thousands:e}).trigger("bhr:format")}));$(document).on("blur",".percent-field",(function(){var e=$(this).val();var t=new RegExp("[^-?0-9.,]+","gi");var a=e.replace(t,"");var s=window.GLOBAL_DECIMAL_CHAR||".";if(a.indexOf(s)>0){a=a.replace(new RegExp("\\"+s+"*?(0)*$"),"")}if(a!=""){a+="%"}$(this).val(a)}));$("body").on("blur",".number-field:not(.no-commas)",(function(){this.value=T(this.value);$(this).trigger("bhr:format")}));$("body").on("click",`a[target!='_blank']:not('.history-modal,.no-form-changed-popup')`,(function(e){k(this.href,e)}));$("#quicksearchform").submit((function(){var e=$(this);if(window.formChanged){return modalDialogAlert($.__("Discard Changes"),$.__("Do you want to discard your changes?"),$.__("Yes"),(function(){window.formChanged=false;e.submit()}),"",{cancel_message:$.__("No")})}}));$("body").on("focus",".BhrForms input[type='text'], .BhrForms input[type='email']",(function(){$(this).parent(".inputIcons").addClass("focused");$(this).parent(".inputGrabHandle").addClass("focused")}));$("body").on("blur",".BhrForms input[type='text'], .BhrForms input[type='email']",(function(){$(this).parent(".inputIcons").removeClass("focused");$(this).parent(".inputGrabHandle").removeClass("focused")}))}));function Z(e,t,a){const s=e.validate();if(C){window.BambooHR.Modal.setState({headline:$.__(`You haven't saved your changes`),dangerousContent:`<div class="Forms__confirmationMessage">${$.__("Your changes will be lost if you navigate away from this page without saving.")}</div>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,isProcessing:false,primaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);if(typeof a==="function"){a()}else{e.submit();if(s.numberOfInvalids()>0){window.BambooHR.Modal.setState({isOpen:false})}}},primaryActionText:$.__("Save Changes"),secondaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);window.location=t},secondaryActionText:$.__(`Don't Save`),title:$.__("Just Checking...")});return}let n={title:$.__("Just Checking..."),html:window.microTemplate(w(),{}),footer:{show:true,buttons:{primary:{show:true,text:$.__("Save Changes"),action:function(){if(typeof a==="function"){SimpleModal.Footer.Buttons.Primary.startProcessing();SimpleModal.Footer.Buttons.Secondary.disable();a()}else{e.submit();if(s.numberOfInvalids()===0){SimpleModal.Footer.Buttons.Primary.startProcessing();SimpleModal.Footer.Buttons.Secondary.disable()}}}},secondary:{show:true,text:$.__(`Don't Save`),action:function(){SimpleModal.Footer.Buttons.Primary.disable();SimpleModal.Footer.Buttons.Secondary.startProcessing();window.location=t}},cancel:{show:true}}}};window.SimpleModal.openModal(n)}function F(){window.formChanged=true}window.trackedFormId=(0,l.isUndefined)(window.trackedFormId)?false:window.trackedFormId;function I(e){let t=$(e);let a=t.attr("id");if(!t.length||!a){return}window.trackedFormId=t.attr("id");t.find("input,textarea,select").filter(":not(.control-field):not(.js-no-sticky-footer)").change(F);t.find("input[type=checkbox]").click(F);t.on("ba:selectChange",F)}function N(e,t,a,s,n,i){$(document).on("click",e,(function(){var e=$(this);var o={cancel_message:$.__("Cancel"),open_callback:function(){e.removeAttr("modalClicked")},initCompensationModal:function(){if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.initializeForm("updateCompensation")}}};if(!(0,l.isUndefined)(n)){$.extend(o,n)}if(e.attr("modalClicked")!=="true"){e.attr("modalClicked","true");A({settings:o,chosenModalSize:e.data("modal-size"),url:e.attr("url"),options:n,saveHandler:s,presubmit:i,accept_message:a,dialog_title:t})}return false}))}function A(e){let{settings:t,chosenModalSize:a="small",url:n,options:i,saveHandler:r,presubmit:l,accept_message:c,dialog_title:d,rowDisplayType:h,historyId:p,secondaryAction:m}=e;const f=a;let v=null;let b=null;if(window.Employee){const{jobTitle:e,lastName:t,photoURL:a,preferredName:n}=window.Employee;const i=a||"/images/photo_person_150x150.png";const o=`${n} ${t}`;v=(0,s.Z)("div",{className:"historyModalHeader"},void 0,(0,s.Z)("img",{className:"historyModalHeader__avatar",src:(0,g.Jk)(i)}),(0,s.Z)("span",{className:"historyModalHeader__info"},void 0,(0,s.Z)("div",{className:"historyModalHeader__infoName",dangerouslySetInnerHTML:{__html:BambooHR.Utils.sanitizeHtml(o)}}),(0,s.Z)("div",{className:"historyModalHeader__infoTitle",dangerouslySetInnerHTML:{__html:BambooHR.Utils.sanitizeHtml(e)}})));b="filled"}function w(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:n;let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";u().get(e).then((e=>{const s=$("#historyModalContent");s.html(e.data);const n=s.find("h3");const o=`${$.__("Update")} ${n.first().text()}`;n.remove();window.BambooHR.Modal.setState({isLoading:false,title:o},true);window.setTimeout((()=>{if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.setupForm("updateCompensation")}if($.isPlainObject(i)&&!i.omit_validation&&$.isFunction($.fn.bhrValidate)){s.find('.BhrForms:not(".js-noValidate")').bhrValidate({})}t.open_callback();t.initCompensationModal();s.initializeElements();if(typeof window.addTooltipsToDisabledRequestFields==="function"){window.addTooltipsToDisabledRequestFields()}if(s.find("div.js-EmploymentStatusForm").length===1){window.Employees.Job.EmploymentStatusModal.updateTaxTypeInitialOptions(s.find('[name="employmentStatusId"]').find("[selected]").attr("value"))}if(x&&p&&document.querySelector("div#compensation-update-or-correct-section")){window.Employees.Job.CompensationForm.displayUpdateOrCorrectSection(h,S,a)}}))})).catch((()=>{window.BambooHR.Modal.setState({isLoading:false,isOpen:false});window.setMessage("An error has occurred while getting the data. Please reload the page and try again.","error")}))}function S(e){const t=document.querySelector("#historyEdit");const a=t.querySelector("fieldset");if(a){(0,y.s)((0,s.Z)(o.LayoutBox,{margin:"10px 0"},void 0,(0,s.Z)(o.Loader,{})),a)}const i=/\/\d+$/;const r=n?.match(i);let l=n;if(e&&r){const e=r?.[0];l=l.replace(e,"")}const c=e?"update":"correction";w(l,c)}window.BambooHR.Modal.setState({alternativeActionText:t.cancel_message,alternativeAction:function(){window.BambooHR.Modal.setState({isOpen:false});m()},biId:"employee-benefits-add-dependent",content:(0,s.Z)("div",{id:"historyModalContent"}),isLoading:true,header:v,headerType:b,isOpen:true,onClose:m,primaryAction:function(){event.preventDefault();if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest()}else{const e=$("#fabricModalContent");const t=e.find("form[bhrvalidate-initiated]");window.modalIdSelector=e.selector;if(t.length>0&&!t.valid()){return}window.modalSubmit(r,l)}},primaryActionText:c,title:d,type:f});w(n)}var M;function D(e){const t=e.siblings(".js-overtime-rate, .js-overtimeRate, .js-rate").length>0;return!t?{}:(0,f.ak)(e)}function P(e,t,a,s,n){const{employeeId:i,payScheduleId:o=null}=D($(e));let r=$(e).data("employee-id")||i;if(o!==null){r=null}var c=$(t);if((0,l.isUndefined)(a)){a=$(t+"_code")}M=$("#newCurrencyPickerWidget");if(M.length===0){$.getJSON("/ajax/get_currency",{field:t,employeeId:r,payScheduleId:o},(function(t){M=$('<div id="newCurrencyPickerWidget"><ul></ul></div>').hide();let i=M.find("ul");$.each(t.data,(function(t,o){let r;if(t==4){r=$('<li class="divider"><hr></li>');r.appendTo(i)}r=$(`\n\t\t\t\t\t<li class="linkColor baseBgColor-hover">\n\t\t\t\t\t\t<span class="code">${window.js(this.code)}</span> - ${this.name}\n\t\t\t\t\t</li>`);r.data("cursymbol",this.symbol).data("curid",this.id);r.bind("click.bhr.selectCurrency",(function(t){t.stopPropagation();var i=$(this);c.data("oldcursymbol",c.data("cursymbol"));c.data("cursymbol",i.data("cursymbol"));c.data("currencysymbolposition",o.symbolPosition);$(a).val(o.code).trigger("change");c.blur();$(e).text(o.code);if(n){$(n).text(o.code)}$(".pickerOn").removeClass("pickerOn");M.hide().remove();if(typeof s==="function"){s()}$(document).unbind("click.bhr.currencyHideWidget")}));r.appendTo(i)}));if($(".ui-dialog").length>0){M.css("z-index",$(".ui-dialog").css("z-index"))}M.appendTo("body");P(e,t.field,a)}))}else{e=$(e);e.addClass("pickerOn");L();M.show();var d=(0,h.getMaxZIndex)()+1;M.css("z-index",d);$(document).bind("click.bhr.currencyHideWidget",(function(t){e.removeClass("pickerOn");$("#newCurrencyPickerWidget").hide().remove();if(typeof s==="function"){s()}$(document).unbind("click.bhr.currencyHideWidget")}))}}function L(){var e=$(".pickerOn");let t=0;if(C){const e=getComputedStyle(document.body);if(e.position==="fixed"){t=parseInt(e.top.replace("px",""))}}if(e.length){M.css({top:(0,m.getRelativePosition)(e,"bottom")-t,left:(0,m.getRelativePosition)(e,"left")})}}function O(e){var t=$(e).data("params");const{countryId:a,stateId:s}=t;const n=$("[name=countryId]");$(":input[name=stateId], ba-select[name=stateId]").attr("data-csz-value",s);if(a){n.val(a);n.trigger("ba:selectChange")}$.each(t,(function(e,t){if(e!="countryId"&&e!="stateId"){$("[name="+e+"]").val(t);if(t!==""){$("[name="+e+"]").trigger("paste")}}}))}$((function(){$(window).resize((function(){L()}))}));$(".js-pdf-export").bind("click",(function(e){e.preventDefault();const t=this.getAttribute("href");const a=this.getAttribute("hide-font-size");const s=this.dataset.orientations?this.dataset.orientations.split(/\s+/):[];const n={hideFontSize:a};if(s.length){n.orientations=s}window.Reports.exportPdf(t,n)}));function R(){return ajaxModalDialog($.__("Add a new tasklist"),"/ajax/dialog/manage/tasklist/add_tasklist.php",$.__("Save"),(function(){if($.trim($("#add_tasklist input").val())===""){var e=$.__("Please enter a tasklist name.");if($("#add_tasklist p.please").html()!=e){$("#add_tasklist").append("<p class='please'>"+e+"</p>")}}else{modalFormSubmit($("#add_tasklist")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function B(e){return ajaxModalDialog($.__("Rename Selected Tasklist"),"/ajax/dialog/manage/tasklist/rename_tasklist.php?id="+e,$.__("Save"),(function(){if($.trim($("#rename_tasklist input").val())===""){var e=$.__("Please enter a tasklist name.");if($("#rename_tasklist p.please").html()!=e){$("#rename_tasklist").append("<p class='please'>"+e+"</p>")}}else{modalFormSubmit($("#rename_tasklist")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function j(e){return ajaxModalDialog($.__("Delete Selected Tasklist"),"/ajax/dialog/manage/tasklist/delete_tasklist.php?id="+e,$.__("Yes"),(function(){modalFormSubmit($("#delete_tasklist")[0],(function(e){if(e.ret=="DELETED"){document.location.reload()}}))}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function H(e,t){var a=$(".BhrPage-wrap + footer:not(.SiteFooter)");$(e).addClass("BhrForms--view");if(!t){$(e).trigger("reset");const t=document.querySelector(e);if(t){t.querySelectorAll("ba-select").forEach((e=>e.__ba.resetSelect()));if($(e)&&$(e).data("validator")&&$(e).data("validator").resetForm){$(e).data("validator").resetForm()}}}$(e).addClass("BhrForms--view");$("select").trigger("liszt:updated");$(".fieldBox.masked_value").removeAttr("style");$(".fieldBox.masked").removeAttr("style");$(".fieldBox").children(".formNote.error").remove();$(".fieldGroup.validate-group-error").removeClass("validate-group-error");$(".fieldBox.error").removeClass("error");$(".js-country-value-initialized").removeClass("js-country-value-initialized");a.css("bottom","0px");a.addClass("fixedFooter");a.animate({bottom:"-60px"},400,(function(){$(this).removeClass("fixedFooter");$("#content").css("margin-bottom","0px");$("#footerHolder").remove()}));window.formChanged=false}$(document).on("reset",".BhrForms",(function(){var e=$(this).find(":input[data-initial-value], ba-select[data-initial-value]");setTimeout((function(){e.each((function(){var e=$(this);e.val(e.attr("data-initial-value"));if(e.is("select")){e.trigger("liszt:updated")}if(e.is("[class*=bhrToggle]")){e.trigger("change")}if(e.hasClass("currency-field")||e.hasClass("percent-field")){e.blur()}}))}),0)}));$((function(){if($(".BhrForms").find(document.activeElement).length>0){$(".BhrForms").removeClass("BhrForms--view")}$(".BhrForms--view").on("click chzn:chzn-choice-close","input[type=checkbox]:not(:disabled) + label, input[type=radio]:not(:disabled) + label, select:not(:disabled):not(.js-no-sticky-footer) + div.chzn-container, select:not(:disabled):not(.js-no-sticky-footer) + div.chzn-container + .chzn-single > .search-choice-close",(function(){$(this).closest(".BhrForms--view").trigger("focusin")}));$(".BhrForms--view").on("focusin",(function(e){if(this!==e.target&&!$(e.target).is(":focusable")){return false}if($(e.target).closest(".chzn-container").hasClass("js-no-sticky-footer")){e.stopPropagation();return false}if($(e.target).parent(".chzn-container").hasClass("chzn-disabled")||$(e.target).is("a")||$(e.target).parents("ba-select").hasClass("disabled")||$(e.target).parents("ba-select").attr("disabled")==="disabled"){return false}if($(e.target).closest(".js-no-sticky-footer").length===0){document.dispatchEvent(new CustomEvent("SiteFooter:open"))}var t=$("footer:not(.SiteFooter)");$(this).removeClass("BhrForms--view");if(!t.hasClass("fixedFooter")&&!$(this).hasClass("js-no-sticky-footer")){t.after('<div id="footerHolder" style="height: 60px"></div>');t.css("bottom","-60px").addClass("fixedFooter");t.css("display","block");t.animate({bottom:"0px"},400)}$("select:not(.ui-datepicker-month):not(.ui-datepicker-year):visible").chosen(bhrChosenOptions);if(e&&e.target.id&&/_masked$/.test(e.target.id)){$("#"+e.target.id.replace("_masked","")).focus()}$(this).initialTraxValidation()}));$(document).on("modalDialog:closed",(function(){$("#currencyPickerWidget").hide().remove()}));$(document).on("modalDialog:closed",(function(){$("#newCurrencyPickerWidget").hide().remove()}))}));(function(){var e={selector:"[name]",name:null,value:null,action:"show",method:"if",container:"form",class:null},t={show:"hide",hide:"show",addClass:"removeClass",removeClass:"addClass"};$.fn.toggleIf=function(a){a=$.extend({},e,a);a.target=$(this);a.action=(0,m.toCamelCase)(a.action);a.container=this.closest(a.container)||$(document.body);var s=a.container.find(a.selector).filter((function(){if(this.name){return a.name.split("|").indexOf(this.name.toLowerCase())>=0}}));s.each((function(){var e=$(this),n=e.data("toggleIf");if((0,l.isUndefined)(n)){e.data("toggleIf",{});e.on("change",(function(){$.each(e.data("toggleIf"),(function(a,n){$.each(n,(function(n,i){var o=[];$.each(s,(function(){var t=$(this).val();switch(i.method){case"if":o.push(i.value.split("|").indexOf(t)>=0);break;case"in":if(e.is([':not([type="checkbox"]:checked)',':not([type="radio"]:checked)'].join(", "))){o.push(t.indexOf(i.value)>=0)}break;case"re":var a=new RegExp(i.value,"g");o.push(a.exec(t));break;case"gt":break;case"lt":break}}));i.target[o.indexOf(true)>=0?a:t[a]](i.class)}))}))}))}n=e.data("toggleIf")||{};n[a.action]=n[a.action]||[];n[a.action].push(a);e.data("toggleIf",n)})).change()}})();$((function(){var e;if(!(0,l.isUndefined)(document.evaluate)){e=$([].concat((0,m.XPath)("//form//*[@*[starts-with(name(), 'ba-show-')]]"),(0,m.XPath)("//form//*[@*[starts-with(name(), 'ba-hide-')]]"),(0,m.XPath)("//form//*[@*[starts-with(name(), 'ba-add-class-')]]"),(0,m.XPath)("//form//*[@*[starts-with(name(), 'ba-remove-class-')]]"))).hide()}else{e=$("form *")}e.each((function(){var e=$(this);$.each((0,m.toArray)(this.attributes),(function(){var t=this,a=t.name.match(/^ba\W(show|hide|add-class|remove-class)\W?(.+)*?\W(if|in|re|gt|lt)\W(.+)$/);if(a){e.toggleIf({action:a[1],class:a[2],method:a[3],name:a[4],value:t.value})}}))}))}))},82033:(e,t,a)=>{"use strict";a.d(t,{GJ:()=>h.G,K4:()=>d.K4,LP:()=>o.L,MM:()=>p.M,Mr:()=>d.Mr,PX:()=>l.P,UJ:()=>n.UJ,_7:()=>c.Z,_J:()=>n._J,dN:()=>u.d,e1:()=>r.ZP,fp:()=>s.f,gB:()=>n.gB,lf:()=>n.lf,r:()=>u.r,sY:()=>i.s,zJ:()=>n.zJ});var s=a(59592);var n=a(24531);var i=a(77512);var o=a(84612);var r=a(77457);var l=a(1591);var c=a(51341);var d=a(60658);var u=a(50858);var h=a(55298);var p=a(34675)},94122:(e,t,a)=>{"use strict";a.d(t,{BY:()=>P,Bu:()=>b.Bu,CN:()=>I,ED:()=>q,Em:()=>L,Gc:()=>F,Gp:()=>b.Gp,IG:()=>O,JF:()=>b.JF,LH:()=>X,NC:()=>K,Q6:()=>W,Yb:()=>Z,Z$:()=>U,eJ:()=>D,iJ:()=>M,q1:()=>A,t4:()=>N,v5:()=>z,wg:()=>H});var s=a(17842);var n=a.n(s);var i=a(90046);var o=a.n(i);var r=a(2011);var l=a(68283);var c=a(16415);var d=a(73641);var u=a.n(d);var h=a(85656);var p=a.n(h);var m=a(41201);var f=a(38592);var g=a(17301);var v=a(21198);var y=a.n(v);var b=a(78853);var $=a(26570);var moment=a(82543);const w=$.__("Unable to preview the requested file. If the issue persists, please contact support.");const S=(0,c.Uo)({serialize:{immutable:o()}});const C=S((0,r.md)(l.Z));const x=(e,t)=>{const a=fromJS(e);if(a!==null&&a.size>0){if(typeof t==="function"){return t(a)}return a}return null};const T=(e,t)=>{if(e!==null){return createStore(t,e,C)}return createStore(t,C)};const E=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"text/javascript";let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const n=document.createElement("script");t=t||document.getElementsByTagName("body");if(e){n.src=e}n.type=a;n.async=false;each(s,((e,t)=>{n.dataset[t]=e}));t.appendChild(n)};const k=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:CANDIDATE_LIST_FILTERS;e=atob(decodeURIComponent(e));const a=queryStringToObject(e);return{...t,...a}};const Z=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:g.eo;e={...t,...e};const a=(0,h.toQueryString)(e);return encodeURIComponent(btoa(a))};const F=e=>n().post("/applicant_tracking/index.php/sendEmails",e).then((e=>{const{data:t}=e;if(t?.success){window.setMessage(t.message,"success")}else{window.setMessage(t.error,"error")}return t})).catch((e=>{if(e.response.status===413){window.setMessage($.__("Whoops! Looks like that image is too large to add to this email. Try a smaller one!"),"error")}else{window.setMessage(g.PC,"error")}}));const I=e=>{let t=null;if(e){const a=new window.DOMParser;const s=a.parseFromString(e,"text/html");const n=s.querySelector("#placeholders");if(n!==null){try{t=JSON.parse(n.textContent)}catch(e){console.warn(`Missing placeholder data from Template. ${e}`);return false}}return t}};const N=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let s=`/applicant_tracking/index.php/emailTemplate?templateId=${e}`;if(t.length===1){s=`${s}&positionApplicantId=${t[0]}`}if(a){s=`${s}&positionId=${a}`}return n().get(s).then((e=>{if(!(0,d.isEmpty)(e.data)){return e.data}window.setMessage(g.ws,"error")})).catch((e=>{window.setMessage(g.PC,"error")}))};const A=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let t=arguments.length>1?arguments[1]:undefined;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;const i="/applicant_tracking/index.php/sendEmail";const o="/applicant_tracking/index.php/sendBulkEmail";if(e.length===1){const o={id:e[0],pid:s,templateId:t,isReply:a};return n().get(i,o).then((e=>{if(!(0,d.isEmpty)(e.data)){return e.data}window.setMessage(g.ws,"error")})).catch((e=>{window.setMessage(g.PC,"error")}))}const r={ids:e,templateId:t};return n().post(o,r).then((e=>{if(!(0,d.isEmpty)(e.data)){return e.data}window.setMessage(g.ws,"error")})).catch((e=>{window.setMessage(g.PC,"error")}))};const M=e=>n().get(`/hiring/jobs/${e}/pendingOffers`).then((e=>e.data)).catch((e=>{console.warn("Unable to retrieve pending offers")}));const D=e=>n().get(`/hiring/api/job-openings/${e}/scheduled-emails`).then((e=>e.data.result)).catch((e=>{console.warn("Unable to retrieve scheduled emails")}));const P=e=>{const{locale:t,timezone:a}=e;const s=t?.replace("_","-");const n=Intl.DateTimeFormat(s,{timeZone:a,timeZoneName:"short"})?.formatToParts();if(!(0,d.isEmpty)(n)){return n.find((e=>e.type==="timeZoneName"))?.value||moment.tz(a).format("z")}return moment.tz(a).format("z")};const L=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!(0,d.isEmpty)(e?.user)&&!!e?.user?.timezone){return e.user}if(!(0,d.isEmpty)(e?.company)&&!!e?.company?.timezone){return e.company}try{const e=Intl.DateTimeFormat().resolvedOptions();if(!(0,d.isEmpty)(e)){return{locale:e.locale,timezone:e.timeZone}}return false}catch{return{locale:moment.locale(),timezone:moment.tz.guess()}}};const O=e=>n().post(`/hiring/candidates/bulk`,e).then((e=>{if(!e.data.allIds.length){window.setMessage(g.ws,"error")}return e.data})).catch((e=>{window.setMessage(g.PC,"error")}));const R=()=>Ajax.get(`/hiring/jobs/sources`).then((e=>{const{data:t}=e;if(t.response==="SUCCESS"){return t}window.setMessage(t.error||RESPONSE_ERROR,"error")})).catch((e=>{window.setMessage(GENERAL_ERROR,"error")}));const B=e=>{let{status:t}=e;if(t.code===HIRED_STATUS){return HIRED_STATUS}return""};const j=e=>{const t=["NEW","ACTIVE","INACTIVE"];if(e){t.push(e)}return t};const H=(e,t,a)=>{const s=[];t.map((t=>{const n=q(e,t)[a];s.push(n)}));return s};const q=(e,t)=>{if(e.hasOwnProperty("byId")){return(0,d.get)(e,`byId[${t}]`)}return(0,d.get)(e,`byIds[${t}]`)};const W=e=>(0,d.toArray)((0,d.get)(e,"byIds"));const U=(e,t)=>{const a=(0,d.toArray)((0,d.get)(e,"byIds"));const s=a.filter((e=>{if(t.indexOf(e.code||e.name)>=0){return(0,d.get)(e,"id")}}));return s};const z=e=>{const t=[{items:[{text:$.__("New Blank Email"),value:"",key:"blankEmail"}],type:"group",key:`group-blankEmail`},{items:[],type:"group",key:`group-email`,text:$.__("Email Templates")}];e.map((e=>{t[1].items.push({text:e.name,value:e.id,key:`template-${e.id}`})}));return t};const V=function(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e||t){const n={anchor:"bottom",items:[],type:"group",key:`group-customOption`};if(e){n.items.push(Y(a,s))}if(t){n.items.push(G(a,s))}return n}};const Y=(e,t)=>{const{invalidStatusActionIds:a,status:{code:s,id:n}}=e;const i={text:$.__("Create Offer Letter"),value:"createOfferLetter",isDisabled:false,icon:t?"fab-pen-signing-19x16":"",key:`offerLetterAction`};if(s===OFFER_STATUSES.offerSent||s===OFFER_STATUSES.offerSigned||a.indexOf(n)>-1){return{...i,text:$.__("Offer Letter Sent"),isDisabled:true}}return i};const G=(e,t)=>{const{invalidStatusActionIds:a,isAlreadyInBamboo:s,status:{code:n,id:i}}=e;const o={text:$.__("Hire"),value:HIRED_STATUS,isDisabled:false,icon:t?"fab-check-starburst-18x18":"",key:`hireAction`};if(n===HIRED_STATUS||a.indexOf(i)>-1&&n===HIRED_STATUS){return{...o,isDisabled:true}}if(s){return{...o,text:IS_ALREADY_IN_BAMBOO,isDisabled:true}}return o};const K=e=>{const{id:t,name:a,fileDataId:s}=e;const n=(0,f.getExtFromFileName)(a);const i=(0,m.m1)(n.toLowerCase())?"img":"";try{window.previewFile(s,t,a,false,null,false,i)}catch(t){window.setMessage(w,"error");window.Rollbar.error("previewFile erred when called.",{...e})}};const X=(e,t)=>n().get(`/offer_letter/full_templates_for_position_applicant/${e}/${t}`).then((e=>{if(e?.data?.data){const a=e.data.data.templates?.records?.find((e=>e?.id===t));return a?.placeholderSections?.data?.sections?.records||[]}else{return[]}})).catch((e=>{console.warn(`Unable to retrieve full templates for position applicant, error: ${e}`)}))},8121:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var $=a(26570);function l(e){let{showForgotPassword:t=true,inputId:a="password"}=e;const[i,r]=(0,n.useState)("password");const[l,c]=(0,n.useState)($.__("Show Password"));const d=()=>{r(i==="password"?"text":"password");c(l===$.__("Show Password")?$.__("Hide Password"):$.__("Show Password"))};const u=(0,o.makeStyles)((()=>({marginContainer:{marginBottom:"26px"}})));const h=u();return(0,s.Z)("div",{className:t?h.marginContainer:""},void 0,(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)("input",{autoComplete:"off",className:"fab-TextInput fab-TextInput--withNub fab-TextInput--width9 fab-TextInput--biggie",id:a,name:"password",placeholder:$.__("Password"),tabIndex:window.location.pathname.includes("self_onboarding")?0:4,type:i}),(0,s.Z)("span",{className:"fab-TextInputNub"},void 0,(0,s.Z)("span",{className:"fab-TextInputNub__icon"},void 0,(0,s.Z)("ba-icon",{name:"fab-key-18x18"})))),(0,s.Z)(o.Flex,{alignItems:"center",justifyContent:t?"space-between":"flex-end"},void 0,t&&(0,s.Z)("button",{className:"fab-TextButton fab-TextButton--muted ffront forgot",type:"button"},void 0,$.__("Forgot Password?")),(0,s.Z)(o.TextButton,{color:"secondary",onClick:d,type:"button"},void 0,l)))}var c=null&&l},81539:(e,t,a)=>{"use strict";var s=a(28284)},61468:(e,t,a)=>{"use strict";a.d(t,{g:()=>y});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(53527);var c=a.n(l);var d=a(21198);var u=a.n(d);var h=a(37194);var p=a.n(h);var m=a(60658);var f=a(98216);var g=a(38857);var $=a(26570);const v=new d.BEM("InterstitialSetup");function y(e){const{userEmail:t,secret:a}=e;const n=window.location.hostname;const i=(0,g.EZ)(t,a,n);return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:v.elem("Instructions")},void 0,(0,s.Z)(h.Message,{text:$._("**Follow these instructions to set up your Authenticator App.**")})),(0,s.Z)("div",{className:v.elem("Setup")},void 0,(0,s.Z)("div",{className:v.elem("Steps")},void 0,(0,s.Z)("div",{className:v.elem("Step")},void 0,(0,s.Z)("div",{className:v.elem("StepNumber")},void 0,"1"),(0,s.Z)("div",{className:v.elem("StepText")},void 0,(0,s.Z)(h.Message,{text:$._("Visit the App Store on your mobile device.")}))),(0,s.Z)("div",{className:v.elem("Step")},void 0,(0,s.Z)("div",{className:v.elem("StepNumber")},void 0,"2"),(0,s.Z)("div",{className:v.elem("StepText")},void 0,(0,s.Z)(h.Message,{text:$._("Search and download an Authenticator app.")}),(0,s.Z)("br",{}),(0,s.Z)(h.Message,{link1:(0,h.ExternalLink)(g.dO),link2:(0,h.ExternalLink)(g.hS),text:$._("Google Authenticator for example [iOS](1) | [Android](2).")}))),(0,s.Z)("div",{className:v.elem("Step")},void 0,(0,s.Z)("div",{className:v.elem("StepNumber")},void 0,"3"),(0,s.Z)("div",{className:v.elem("StepText")},void 0,(0,s.Z)(h.Message,{text:$._("Scan the QR Code to the right with the Google Authenticator app.")})))),(0,s.Z)("div",{className:v.elem("QR")},void 0,(0,s.Z)("div",{className:v.elem("QRCode")},void 0,(0,s.Z)(c(),{value:i})),(0,s.Z)("div",{className:v.elem("QRManual")},void 0,(0,s.Z)(o.TextButton,{clickAction:()=>{(0,m.K4)((0,s.Z)(f.MO,{code:a,onClose:m.Mr}))},size:"small",text:$.__("Enter Code Manually"),type:"button"})))))}},63039:(e,t,a)=>{"use strict";a.d(t,{U:()=>r});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73565);function r(e){const{userId:t,onEndProcessing:a,onStartProcessing:n,printRequestCount:r}=e;return i().createElement(i().Fragment,null,(0,s.Z)("div",{className:"InterstitialBackupCodes__content"},void 0,(0,s.Z)("div",{className:"InterstitialBackupCodes__codes"},void 0,(0,s.Z)(o.N8,{onEndGeneratingNewCodes:()=>a(false),onStartGeneratingNewCodes:()=>n(true),printRequestCount:r,userId:t}))))}},66184:(e,t,a)=>{"use strict";a.d(t,{A:()=>M});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(89100);var r=a(59155);var l=a(37194);var c=a(73641);var d=a(21198);const u=6;const h=30;const p=10;const m=50;const f=p+m;const g="oneTimeCode";const v=2;const y=h-p;const b="otc-mask";const w=e=>Math.max(0,Math.floor(e/2)-1);const S=(e,t,a)=>{const s=a&&t>e?y:0;const n=t*f+s;return n};const C=new d.BEM("OneTimeCodeIndicator");function x(e){const{count:t,currentIndex:a,isInvalid:i,shouldChunk:o}=e;const r=(0,n.useRef)(w(t));const[l,d]=(0,n.useState)(0);(0,n.useEffect)((()=>{const e=S(r.current,a,o);d(e)}),[a]);const u=(0,n.useMemo)((()=>{const e=(0,c.times)(t,(e=>S(r.current,e,o)));const a=o&&t>1?p:-p;return{masks:e,viewBoxWidth:f*t+a}}),[]);return(0,s.Z)("div",{className:C.elem("wrapper",{error:i})},void 0,(0,s.Z)("svg",{viewBox:`0 0 ${u.viewBoxWidth} ${v}`},void 0,(0,s.Z)("mask",{id:b},void 0,(0,c.times)(t,(e=>(0,s.Z)("rect",{fill:"white",height:v,width:m,x:u.masks[e],y:"0"},`otc-marker-${e}`)))),(0,s.Z)("g",{mask:`url(#${b})`},void 0,(0,s.Z)("rect",{className:C.elem("markerBg"),height:v,width:"100%",x:"0",y:"0"}),(0,s.Z)("rect",{className:C.elem("caret"),height:v,width:m,x:l,y:"0"}))))}const T=new d.BEM("OneTimeCode");function E(e){const{digitLength:t=u,isInvalid:a,shouldChunk:o=true,shouldAutoFocus:r=true,onChange:l}=e;const d=(0,n.useRef)();const[h,p]=(0,n.useState)("");(0,n.useEffect)((()=>{if(r){document.addEventListener("keydown",f)}return()=>{document.removeEventListener("keydown",f)}}),[r]);(0,n.useEffect)((()=>{if(l){l(h)}}),[h]);const m=()=>{d.current.focus()};const f=e=>{const{key:t,keyCode:a}=e;let s=false;if(t){s=t.length===1&&t!==" "||t==="Backspace"||t==="Delete"}else if(a){s=a>=48&&a<=90||a===8||a===46}if(s){m()}};const v=e=>{const t=e.target.value;const a=/\d+/g;const s=t.match(a)?.join("")||"";p(s)};return(0,s.Z)("div",{className:T.elem("wrapper")},void 0,i().createElement("input",{autoCapitalize:"off",autoCorrect:"off",autoFocus:"autofocus",className:T.elem("input"),inputMode:"numeric","aria-label":"one-time-code",maxLength:t,name:g,onChange:v,onKeyDown:e=>{const{key:t,keyCode:a}=e;if(t&&t!=="Enter"||a&&a!==13){return}if(l){l(h)}},ref:d,spellCheck:"false",type:"text",value:h}),(0,s.Z)("div",{className:T.elem("codeWrapper"),onClick:m},void 0,(0,s.Z)("div",{className:T.elem("code",{error:a})},void 0,(0,c.times)(t,(e=>{const a=`otc-digit-${e}`;const n=o&&e+1===Math.floor(t/2);return(0,s.Z)("div",{className:T.elem("digit",{chunkMargin:n})},a,(0,s.Z)("span",{},void 0,h.charAt(e)))}))),(0,s.Z)(x,{count:t,currentIndex:h.length,isInvalid:a,shouldChunk:o})))}var k=a(38857);var Z=a(54582);var F=a(49020);var I=a(38764);var N=a(45511);var A=a(83173);var $=a(26570);function M(e){const{enabledMfaChannels:t,isInvalid:a,type:n,onCodeChange:c,onRememberMeChange:d,onResendSms:u,rememberMeIsChecked:h,setCode:p,setType:m,lastFour:f="",hitLimit:g}=e;const v=n===F.N.BACKUP?k.cd:k.mN;const y=(0,o.canUseLocalStorage)();const b=(0,I.y)();const w={[F.N.APP]:{text:$.__("Use authenticator app"),value:F.N.APP},[F.N.SMS]:{text:$.__("Send a text message"),value:F.N.SMS},[F.N.BACKUP]:{text:$.__("Use a backup code"),value:F.N.BACKUP}};const S=()=>{const e=t.filter((e=>e!==n));return e.map((e=>w[e]))};const C=()=>{if(!g){return(0,s.Z)(N.X,{onResendSms:u})}return(0,s.Z)(r.TextButton,{onClick:u,startIcon:(0,s.Z)(A.Z,{}),type:"button"},void 0,$.__(`Resend Code`))};return i().createElement(i().Fragment,null,(0,s.Z)("div",{className:`${b.Auth} ${b.authContent}`},void 0,(0,s.Z)("div",{className:`${b.Instructions} ${b.mfaLoginInstructionText}`},void 0,(0,Z.G)(n,f),a&&(0,s.Z)("div",{className:b.InstructionsError},void 0,(0,s.Z)(l.Message,{text:$._("Oops, something wasn’t right. Try again.")}))),(0,s.Z)("div",{className:b.Code},void 0,(0,s.Z)(E,{digitLength:v,isInvalid:a,onChange:e=>{c(e);p(e);if(e.length===v){const e=document.querySelector("[data-button-next]");if(e){e.focus()}}}},n)),y&&(0,s.Z)("div",{className:b.RememberMe},void 0,n!==F.N.BACKUP?(0,s.Z)(r.Checkbox,{checked:h,id:"rememberMe",label:$.__("Remember this computer for 45 days"),name:"rememberMe",onChange:e=>{let{checked:t}=e;d(t)},value:"rememberMe"}):null),(0,s.Z)(r.Flex,{className:b.mfaChannelContainer,justifyContent:"center"},void 0,n===F.N.SMS&&C(),t?.length>1&&(0,s.Z)(r.Flex,{flexDirection:"column",justifyContent:"center"},void 0,(0,s.Z)("div",{className:n===F.N.SMS?b.smsResendCode:""},void 0,(0,s.Z)(r.SelectField,{id:"mfaSelector",items:S(),onSelect:e=>{m(e);if(e===F.N.SMS){u()}},placeholder:$.__("Use a Different Method"),type:"text",value:[]}))))))}},90977:(e,t,a)=>{"use strict";a.d(t,{v:()=>n});const s=e=>{if(e.length<=6){return true}if(e.length>=16){return true}return false};const n=(e,t,a)=>{if(!e||!t){return true}return s(a)}},5625:(e,t,a)=>{"use strict";a.d(t,{IK:()=>m,IP:()=>p,U0:()=>l,cO:()=>h,fJ:()=>f,tI:()=>d,uG:()=>c});var s=a(17842);var n=a.n(s);var i=a(73565);var o=a(49020);const r=s.ajax.create("multi-factor-auth",{baseURL:i.CW});async function l(e){try{const{data:t}=await r.request({method:"get",url:"/:userId",urlParams:{userId:e}});let a=o.N.APP;const s=t?.mfaChannels?.reduce(((e,s)=>{const{mfaChannelInfo:n={}}=t;const{isEnabled:i,isPreferred:r}=n[s];const l={sms:o.N.SMS,authenticator:o.N.APP,backup_codes:o.N.BACKUP};if(r){a=l[s]}if(i){e.push(l[s])}return e}),[]);return{...t,preferredChannel:a,enabledChannels:s}}catch(e){const{response:t}=e;return{error:t,startDate:"",status:undefined,mfaChannels:[],mfaChannelInfo:{}}}}async function c(e){try{await r.request({method:"post",url:"/:userId/sms",urlParams:{userId:e}});return{success:true}}catch(e){const{response:t}=e;if(t.status===429){return{error:t,success:false}}throw new Error(e)}}async function d(e){try{await r.request({method:"post",url:"/:userId/sms",urlParams:{userId:e}});return{success:true}}catch(e){const{response:t}=e;return{error:t,success:false}}}async function u(e){try{const{data:t}=await r.request({method:"post",url:"/:userId",urlParams:{userId:e}});return{id:t.id,secret:t.generatedMfaSecret,success:true}}catch(e){const{response:t}=e;return{error:t,id:-1,secret:"",success:false}}}async function h(e,t){try{const{status:a}=await r.request({data:{backupCode:t},method:"post",url:"/:userId/backup_codes/authenticate",urlParams:{userId:e}});return{status:a}}catch(e){const{response:t}=e;const{data:{error:a},status:s}=t;return{status:s,statusText:a}}}async function p(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;let s=arguments.length>3?arguments[3]:undefined;const n={mfaAuthenticationCode:t,rememberDevice:a};if(s){n.mfaChannel=s}try{const{data:{rememberToken:t},status:a}=await r.request({data:n,method:"post",url:"/:userId/authenticate",urlParams:{userId:e}});return{rememberToken:t,status:a}}catch(e){const{response:t}=e;const{data:{error:a},status:s}=t;return{status:s,statusText:a}}}async function m(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";try{const{data:i}=await r.request({method:"put",url:"/:userId/:mfaChannel",urlParams:{userId:e,mfaChannel:t},data:{generateSecret:a,phone:s,countryCode:n}});return i}catch(e){throw new Error(e)}}async function f(e,t){try{const{status:a}=await r.request({method:"delete",url:"/:userId/:mfaChannel",urlParams:{userId:e,mfaChannel:t}});return{status:a}}catch(e){const{response:t}=e;const{status:a}=t;return{status:a}}}},30171:(e,t,a)=>{"use strict";a.d(t,{$I:()=>c,$u:()=>p,VG:()=>u,p6:()=>d});var s=a(19969);var n=a.n(s);var i=a(73641);var o=a.n(i);var r=a(82543);var l=a.n(r);function c(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}e=u(e,t);if((0,i.startsWith)(e,"-")){e=`(${e.replace("-","")})`}return e}const d=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"MM/DD/YYYY";if(l().isMoment(e)){return e.format(t)}return l()(e).format(t)};function u(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}const{currencyCode:a,decimalPlaces:s=2}=t;if(!h(e)){e=p(e,t)}return e.toDecimalPlaces(s).toNumber().toLocaleString("en-US",{currency:a,maximumFractionDigits:s,minimumFractionDigits:s,style:a?"currency":"decimal"})}function h(e){return e instanceof n()}function p(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}const{allowBoolean:a,nanDefault:s,nullDefault:o,undefinedDefault:r}=t;let l;if(!h(e)&&!(0,i.isString)(e)&&!(0,i.isFinite)(e)){if((0,i.isBoolean)(e)&&a){l=Number(e)}else if((0,i.isBoolean)(e)&&!a){throw new Error(`'allowBoolean' option must be explicitly truthy to make a Decimal from a boolean`)}else if(e===undefined&&!(0,i.isNil)(r)){l=r}else if(e===null&&!(0,i.isNil)(o)){l=o}else if((0,i.isNaN)(e)&&!(0,i.isNil)(s)){l=s}else{throw new Error("invalid amount")}}else{l=e}if((0,i.isString)(l)){l=l.replace(/[,$]/g,"");l=l.replace(/^\(([\d.]+)\)$/,"-$1")}if(h(l)){return l}try{return new(n())(l)}catch(e){throw new Error("amount cannot be made into a decimal")}}},41135:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(16400);var n=a(77457);var i=a(73641);var o=a.n(i);var r=a(14063);var l,c,d,u;const h=(0,i.last)(document.querySelectorAll(".js-stickyTableAnchor"));let p=[];let m;let f;if(h){m=document.querySelectorAll("table#reportTable");f=document.querySelector("#inside-content.page").offsetWidth}let g=(l=(0,n.ZP)(["/reports/*","/greenhouse/reports/calls.php","/greenhouse/perms.php"]),c=(0,n.Um)(),l(d=(u=class e{static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}_onReadyHandler(t,a){if(!h){return}e.makeTablesSticky();document.addEventListener("navChanged",(e=>{const{isSticky:t}=e.detail;const a=document.getElementById("inside-content");const s=document.querySelectorAll(".fixedToHeader");let n=0;if(!a||!s||!s.length){return}n=(0,i.reduce)(s,((e,t)=>e+t.clientHeight),n);a.style.marginTop=(t?n:0)+"px"}));document.addEventListener("scroll",a.adjustHeader);document.addEventListener("resize",a.adjustHeader)}adjustHeader(){if(document.body.classList.contains("fixedPageHeader")){document.body.style.cssText="position: initial; left: 0px";for(let e=0;e<m.length;e++){m[e].style.cssText="position: initial; left: 0px"}}else{for(let e=0;e<m.length;e++){if(m[e].scrollWidth>f){document.body.style.cssText=`position: relative; left: ${window.pageXOffset}px`;m[e].style.cssText=`position: relative; left: -${window.pageXOffset}px`}}}}static makeTablesSticky(){const e=[].slice.call(document.querySelectorAll(".ts-list"));if(!h){return}p.forEach((e=>{e.destroy()}));p=e.map((e=>new r.Z(e,{anchor:h})))}},(0,s.Z)(u.prototype,"_onReadyHandler",[c],Object.getOwnPropertyDescriptor(u.prototype,"_onReadyHandler"),u.prototype),u))||d)},35438:(e,t,a)=>{"use strict";a.d(t,{u:()=>m});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(56445);var c=a.n(l);var d=a(26136);var u=a(50773);var h=a(24874);var p=a(273);var $=a(26570);var moment=a(82543);function m(e){const{getShareList:t,data:{formatData:a,rangeSelect:r,recurrenceDetails:c,shouldApplyFilters:m},employeeFiltersList:f,recurrenceSchedule:g,updateRecurrenceSchedule:v}=e;const y=[{text:$.__("Sunday"),value:"Sunday"},{text:$.__("Monday"),value:"Monday"},{text:$.__("Tuesday"),value:"Tuesday"},{text:$.__("Wednesday"),value:"Wednesday"},{text:$.__("Thursday"),value:"Thursday"},{text:$.__("Friday"),value:"Friday"},{text:$.__("Saturday"),value:"Saturday"}];const b=moment().locale("en").format("dddd");const[w,S]=(0,n.useState)();const[C,x]=(0,n.useState)();const[T,E]=(0,n.useState)();const[k,Z]=(0,n.useState)([b]);const[F,I]=(0,n.useState)(c.selectData.items);const[N,A]=(0,n.useState)([c.selectData.items[0].value]);const M=t=>(0,p.g)(e.widgetId,t||w||g.calendar||a.start).then((e=>e.data.data.recurrenceDetails.selectData.items));const D=e=>{if(e>1){r.selectData.items.forEach((e=>{if(e.text[e.text.length-1]!=="s"){e.text+="s"}}))}else{r.selectData.items.forEach((e=>{if(e.text[e.text.length-1]==="s"){e.text=e.text.substr(0,e.text.length-1)}}))}};(0,n.useEffect)((()=>{if(!w&&!g.calendar){S(a.start);v("calendar",a.start)}if(!w&&g.calendar){S(g.calendar);E(g.timePeriod);if(g.daysOfWeek?.length){Z(g.daysOfWeek)}if(g.recurrenceSelection?.length){A(g.recurrenceSelection)}if(g.timePeriod.includes("month")){M().then((e=>{I(e)}))}}if(!C&&!g.interval){x(1);v("interval",1)}if(!C&&g.interval){x(g.interval);D(g.interval)}if(!T&&!g.timePeriod){E(["week"]);v("timePeriod",["week"])}if(!T&&g.timePeriod){E(g.timePeriod);v("timePeriod",g.timePeriod)}}),[]);(0,n.useEffect)((()=>{v("daysOfWeek",k)}),[k,v]);(0,n.useEffect)((()=>{v("recurrenceSelection",N)}),[N,v]);const P=e=>{S(e);v("calendar",e);M(e).then((e=>{I(e);A([e[0].value])}))};const L=e=>{let{value:t}=e.target;if(t<=0){t=1}D(t);x(t);v("interval",t)};const O=e=>{E(e);v("timePeriod",e);if(e.includes("week")){Z([b])}if(e.includes("month")){M().then((e=>{I(e);A([e[0].value])}))}};const R=e=>{A(e);v("recurrenceSelection",e)};const B=e=>{v("emailWithFilters",e.target.checked)};return(0,l.ifFeature)("encore",(0,s.Z)("div",{className:"ReportScheduler"},void 0,(0,s.Z)(h.O,{getShareList:t}),(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:"ReportScheduler__label"},void 0,$.__("Starting on")),(0,s.Z)("div",{className:"ReportScheduler__inputGroup"},void 0,(0,s.Z)(o.DatePicker,{onChange:e=>P(e.value),required:true,value:w,minDate:a.minDate}),(0,s.Z)("p",{},void 0,$.__("repeating every")),(0,s.Z)("span",{className:"fab-FormField"},void 0,(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width1",defaultValue:C,min:"1",onChange:L,step:"1",type:"number"})),(0,s.Z)(o.Select,{isClearable:false,items:r.selectData.items,onChange:O,selectedValues:T}),T&&T.includes("week")&&i().createElement(i().Fragment,null,$.__("on"),(0,s.Z)(o.SelectField,{onChange:e=>Z(e.target.value),items:y,value:k,width:4,isClearable:false})),T&&T.includes("month")&&i().createElement(i().Fragment,null,(0,s.Z)(o.Select,{isClearable:false,items:F,onChange:R,selectedValues:N,width:8})))),m&&f&&(0,s.Z)("div",{},void 0,(0,s.Z)("hr",{className:"ReportScheduler__border"}),(0,s.Z)("div",{className:"ReportScheduler__filtersCheckbox fab-Checkbox"},void 0,(0,s.Z)(o.Checkbox,{checked:g.emailWithFilters,id:"emailWithCurrentFilters",onChange:B,note:f,label:$.__("Email report with current filters applied")})))),(0,s.Z)("div",{className:"ReportScheduler"},void 0,(0,s.Z)(h.O,{getShareList:t}),(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:"ReportScheduler__label"},void 0,$.__("Starting on")),(0,s.Z)("div",{className:"ReportScheduler__inputGroup"},void 0,(0,s.Z)(d.Z,{onChange:P,required:true,settings:{start:w,min:a.minDate},type:"date"}),(0,s.Z)("p",{className:"ReportScheduler__repeatText"},void 0,$.__("repeating every")),(0,s.Z)("span",{className:"fab-FormField ReportScheduler__interval"},void 0,(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width1",defaultValue:C,min:"1",onChange:L,step:"1",type:"number"})),(0,s.Z)(o.Select,{isClearable:false,items:r.selectData.items,onChange:O,selectedValues:T}))),T&&T.includes("week")&&(0,s.Z)(u._,{activeDays:k,setActiveDays:Z}),T&&T.includes("month")&&(0,s.Z)(o.Select,{isClearable:false,items:F,onChange:R,selectedValues:N,width:8}),m&&f&&i().createElement(i().Fragment,null,(0,s.Z)("hr",{className:"ReportScheduler__border"}),(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:g.emailWithFilters,id:"emailWithCurrentFilters",onChange:B,type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"emailWithCurrentFilters"},void 0,$.__("Email report with current filters applied"))),(0,s.Z)("div",{className:"ReportScheduler__label ReportScheduler__appliedFilters"},void 0,f))))}},27134:(e,t,a)=>{"use strict";a.d(t,{V8:()=>s.V,a9:()=>i.a9,iw:()=>i.iw,sO:()=>n.sO,xM:()=>i.xM});var s=a(91211);var n=a(15497);var i=a(48221)},99589:(e,t,a)=>{"use strict";a.d(t,{$w:()=>d,OB:()=>u,_b:()=>o,dr:()=>l,fh:()=>i,h6:()=>n,ky:()=>c,zh:()=>r});var s=a(71141);const n=(0,s.isEnabled)("enpsSentimentTags");const i=(0,s.isEnabled)("enpsSentimentUI");const o=(0,s.isEnabled)("enpsSentimentScoreTrend");const r=(0,s.isEnabled)("enpsSentimentTop5");const l=(0,s.isEnabled)("enpsSentimentMostMentioned");const c=(0,s.isEnabled)("enpsSentimentAllTags");const d=(0,s.isEnabled)("enpsSentimentResponsesLessThanSix");const u=(0,s.isEnabled)("enpsOnMobileAnonymityModal")},27855:(e,t,a)=>{"use strict";a.d(t,{J:()=>s.J});var s=a(62241)},56286:(e,t,a)=>{"use strict";a.d(t,{E9:()=>n.E,MT:()=>s.M,Yz:()=>i.E,cr:()=>o.c});var s=a(77135);var n=a(45727);var i=a(47091);var o=a(20745)},17520:(e,t,a)=>{"use strict";a.d(t,{j:()=>s.j});var s=a(42735)},8936:(e,t,a)=>{"use strict";a.d(t,{N:()=>o});var s=a(23321);var n=a.n(s);var i=a(56286);const o=()=>{const[e,t]=(0,s.useState)([]);const[a,n]=(0,s.useState)(true);(0,s.useEffect)((()=>{(0,i.E9)().then((e=>{if(e&&e.data){t(e.data.enabledFeatureKeys)}else{console.error(e)}})).finally((()=>n(false)))}),[]);const o=t=>(0,i.cr)(t,e);return{areFeatureTogglesLoading:a,enabledFeatures:e,isEnabled:o}}},98945:(e,t,a)=>{"use strict";a.d(t,{HD:()=>s.HD,Hj:()=>s.Hj,Iw:()=>i.I,K3:()=>n.K,_0:()=>s._0,eA:()=>s.eA,pR:()=>s.pR});var s=a(17576);var n=a(89839);var i=a(11751)},50860:(e,t,a)=>{"use strict";a.d(t,{CC:()=>r.C,DE:()=>c.D,Fy:()=>u.Fy,L0:()=>n.L0,L1:()=>u.L1,Pj:()=>d.P,Rw:()=>u.Rw,Uj:()=>u.Uj,_M:()=>n._M,_l:()=>n._l,aW:()=>s.a,e8:()=>i.e,ju:()=>l.j,pC:()=>u.pC,qS:()=>u.qS,sG:()=>o.s});var s=a(28703);var n=a(96295);var i=a(90821);var o=a(70706);var r=a(43034);var l=a(98924);var c=a(79874);var d=a(8902);var u=a(25104)},81696:(e,t,a)=>{"use strict";a.d(t,{o:()=>d});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(59155);var l=a.n(r);var c=a(86746);var $=a(26570);function d(e){let{closeModal:t,isOpen:a,...l}=e;const[d,u]=(0,i.useState)(0);const[h,p]=(0,i.useState)(false);const m=()=>{u((e=>++e))};const f=()=>{u((e=>--e))};const g=(0,n.Z)(r.StandardModal.Header,{hasCloseButton:true});const v=[(0,n.Z)(c.K,{closeModal:t,renderHeader:g,setStep:m},"InfoStep"),o().createElement(c.p,(0,s.Z)({closeModal:t,key:"FormStep",renderHeader:g,setStep:f},l))];return(0,n.Z)(r.MultiStepModal,{currentStep:d,hasCloseButton:true,isOpen:a,isProcessing:h,onRequestClose:t,steps:v,title:$.__("Cancel Time Tracking Trial")})}},52863:(e,t,a)=>{"use strict";a.d(t,{p:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(92289);var c=a(66327);var $=a(26570);const d=(0,o.makeStyles)((e=>{let{palette:t}=e;return{icon:{fill:t.primary.main},bodyText:{textAlign:"center",paddingTop:"8px"}}}));function u(e){let{closeModal:t,hasRedirect:a,isOpen:i,onSuccess:r}=e;const u=d();const[h,p]=(0,n.useState)(false);const m=()=>{p(true);(0,c.requestTimeTrackingSubscription)(a).then((()=>{if(typeof r==="function"){r()}})).catch((()=>{p(false)}))};return(0,s.Z)(o.StandardModal,{isOpen:i,onRequestClose:t},void 0,(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{"data-bi-id":"time-tracking-trial-request-billing-info-button",onClick:m,processing:h},"request-billing-info",$.__("Request Billing Info")),(0,s.Z)(o.TextButton,{onClick:t,processing:h},"cancel-button",$.__("Cancel"))]}),renderHeader:(0,s.Z)(o.StandardModal.Header,{title:$.__("Subscribe to Time Tracking")})},void 0,(0,s.Z)(o.StandardModal.Constraint,{spacingOverrides:{bottom:o.CardContentSpacing.MEDIUM,top:o.CardContentSpacing.MEDIUM}},void 0,(0,s.Z)(o.StandardModal.HeroHeadline,{icon:(0,s.Z)("span",{className:u.icon},void 0,(0,s.Z)(l.Z,{})),text:$.__(`We're happy to hear Time Tracking is working for you!`)}),(0,s.Z)("p",{className:u.bodyText},void 0,$.__("Someone will reach out shortly with additional billing information before adding Time Tracking to your subscription. In the meantime, Time Tracking will remain active for your team!")))))}},68226:(e,t,a)=>{"use strict";a.d(t,{b:()=>g});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(63838);var c=a(55047);var d=a(77977);var u=a(54749);var h=a(26686);var p=a(9847);var m=a(6168);var f=a(80774);var $=a(26570);const g=e=>{let{historyHook:t,updateQuestionUrl:a,service:n,surveyId:i=0,isPreview:r=false}=e;const g=(0,c.y)();const{canContinue:v,closed:y,submitted:b,dispatchUpdate:w,totalQuestions:S,answer:C,questionNumber:x,nextButtonLabel:T,nextQuestionUrl:E,answers:k,question:Z,freeResponse:F,loaded:I,imageUrl:N,updatePending:A,serverError:M}=(0,f.Z)({service:n,surveyId:i,useHistoryHook:t,updateQuestionUrl:a});if(!I){return null}return(0,s.Z)("div",{className:g.surveyRoot},void 0,!y&&!b?(0,s.Z)(d.k,{isFullBleed:true,isPreview:r,surveyName:"employee-wellbeing"},void 0,(0,s.Z)(l._,{render:e=>{let{isSmallScreen:t}=e;return(0,s.Z)("form",{className:g.cardContentWrapper,onSubmit:e=>w({type:"SUBMIT_ANSWER",payload:e})},void 0,t?(0,s.Z)("div",{className:g.questionCount},void 0,$.__("Question %1$s of %2$s",x.toString(),S.toString())):(0,s.Z)("div",{className:g.backAndQuestionWrapper},void 0,x!==1&&(0,s.Z)(o.TextButton,{className:g.back,onClick:()=>w({type:"PREVIOUS_QUESTION"}),startIcon:(0,s.Z)(o.Icon,{name:"fab-arrow-left-8x7"}),type:"button"},void 0,$.__("Back")),(0,s.Z)("div",{className:g.questionCounter},void 0,$.__("Question %1$s of %2$s",x.toString(),S.toString()))),(0,s.Z)(p.b,{imageUrl:N,isSmallScreen:t}),(0,s.Z)("div",{className:g.question},void 0,(0,s.Z)("h3",{},void 0,Z)),(0,s.Z)("div",{className:g.answers},void 0,(0,s.Z)(h.K,{answers:k,disabled:A,handleAnswerChange:e=>w({type:"UPDATE_ANSWER",payload:e}),isSmallScreen:t,selectedAnswerValue:C})),(0,s.Z)(m.X,{disabled:A,freeResponse:F,isSmallScreen:t,onChange:e=>w({type:"UPDATE_RESPONSE",payload:e}),questionNumber:x}),(0,s.Z)("div",{className:`${g.submit} ${t&&g.smallSubmitButton}`},void 0,(0,s.Z)(o.Button,{disabled:!v,endIcon:E&&(0,s.Z)(o.Icon,{name:"fab-double-chevron-right-14x11"}),noSpacing:true,size:"biggie",type:"submit"},void 0,T)),t&&x!==1&&(0,s.Z)("div",{className:g.previousQuestion},void 0,(0,s.Z)(o.TextButton,{onClick:()=>w({type:"PREVIOUS_QUESTION"}),type:"button"},void 0,$.__("Previous Question"))))}})):(0,s.Z)(d.k,{surveyName:"employee-wellbeing"},void 0,!y&&b&&(0,s.Z)(u._,{headerMessage:$.__("Thanks so much for your feedback!"),iconName:"fab-check-circle-48x48",id:"submitted-status",messages:[$.__("You’re all set, feel free to close this window and move on with your life.")]}),y&&(0,s.Z)(u._,{headerMessage:$.__("Survey Period is Now Closed"),iconName:"fab-triangle-exclamation-54x54",id:"closed-status",messages:[$.__("Your feedback is very important."),$.__("Please be sure to look for the next opportunity to answer the survey.")]})),(0,s.Z)(o.SlidedownPortal,{action:{text:$.__("Refresh Page"),url:window.location.href},message:$.__("Something went wrong."),show:M,type:"error"}))}},49145:(e,t,a)=>{"use strict";a.d(t,{H:()=>s.H});var s=a(85522)},77512:(e,t,a)=>{"use strict";a.d(t,{s:()=>f});var s=a(88604);var n=a(89835);var i=a(59155);var o=a(23321);var r=a.n(o);var l=a(98853);var c=a.n(l);var d=a(69853);function u(e){if(e[e.length-1]==="z"){return`${e.substr(0,e.length-1)}aa`}const t=`${e.substr(0,e.length-1)}${String.fromCharCode(e.charCodeAt(e.length-1)+1)}`;return t}var h=a(12382);var p=a(85642);let m="a";const f=function(e,t,a,o){let l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(l&&!t){console.error("'attachedElement' provided to 'render' was 'null' or 'undefined'");return}const{mode:f,themeName:g}=(0,p.Y)();c().render((0,n.Z)(d.RecoilRoot,{},void 0,r().createElement(i.ThemeProvider,(0,s.Z)({classNamePrefix:`jss-${m}`},o,{mode:f,themeName:g}),(0,n.Z)(i.DatePickerProvider,{formatType:(0,h.u)(),locale:(0,h.K)()},void 0,e))),t,a);m=u(m)};var g={render:f}}};var __webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var a=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};__webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__);a.loaded=true;return a.exports}__webpack_require__.m=__webpack_modules__;(()=>{var e=[];__webpack_require__.O=(t,a,s,n)=>{if(a){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[a,s,n];return}var o=Infinity;for(var i=0;i<e.length;i++){var a=e[i][0];var s=e[i][1];var n=e[i][2];var r=true;for(var l=0;l<a.length;l++){if((n&1===0||o>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](a[l])))){a.splice(l--,1)}else{r=false;if(n<o)o=n}}if(r){e.splice(i--,1);var c=s();if(c!==undefined)t=c}}return t}})();(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__webpack_require__.d(t,{a:t});return t}})();(()=>{__webpack_require__.d=(e,t)=>{for(var a in t){if(__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)){Object.defineProperty(e,a,{enumerable:true,get:t[a]})}}}})();(()=>{__webpack_require__.f={};__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,a)=>{__webpack_require__.f[a](e,t);return t}),[]))})();(()=>{__webpack_require__.u=e=>""+{1339:"automation-center",2415:"trax-db-scheduled-exports",3699:"general-ledger",4491:"tax-variance-report",4736:"vendor",6046:"trax-db-report-configs",6146:"payroll.routes",6996:"cron-schedule",7470:"esignatures-lazy",8509:"pdfjs",9256:"trax-db-scrubber"}[e]+"."+{1339:"917d9daa",2415:"75376229",3699:"6b616608",4491:"e4d8544b",4736:"f0285823",6046:"698019fe",6146:"ef9a37e8",6996:"d5da79ee",7470:"35cb3370",8509:"bd2a8e13",9256:"80b037c9"}[e]+".dist.js"})();(()=>{__webpack_require__.miniCssF=e=>"../css/"+{31:"benefit-plans-table",267:"enps",422:"gtky-interstitial",497:"developer-portal",608:"report-wizard",830:"prelogin",882:"custom-report",909:"enps-benchmark",918:"print_timesheet_view",925:"employee-turnover-report",1008:"project-settings",1058:"time-off-schedule-report",1085:"federal-withholding",1289:"greenhouse-micro",1315:"careers",1388:"dev",1396:"EmployeeFilters",1601:"enps-report",1809:"account",1915:"home",1987:"point-in-time-report",2004:"applicant-funnel",2018:"jobs",2042:"additions-terminations",2167:"global-legacy",2172:"global",2193:"time-off-balances-report",2273:"multi-factor-auth",2324:"standard-report",2589:"inbox",2646:"direct-deposit",2730:"performance",2876:"status-mismatch-report",2988:"audit-trail-report",3053:"election-changes",3065:"directory-new",3070:"self_onboarding",3131:"org-chart",3246:"benefit-summary",3311:"standard-list-report",3377:"plan-year-election-summary",3422:"access_levels",3653:"self_onboarding_login",3703:"time-off-used-report",3911:"global-gh",3971:"logged-out",3989:"employee-performance-report",3992:"reports",4014:"peer-feedback-status-report",4085:"rightsignature",4091:"company-performance-report",4103:"settings-benefits-bulk-enroll",4535:"login",4839:"first-time-payment",4910:"offer-letter-finalize",4941:"aca-monthly-totals-report",5042:"file_export",5177:"file-importer",5372:"files",5383:"manage",5409:"aca-benefit-history-report",5486:"po",5545:"timesheet",5548:"calendar",5554:"candidate-sources",5571:"settings",5638:"ProcessBar",5649:"assessment-progress-report",5726:"enrollment-window-election-summary",5782:"EditOptions",5784:"applicant-demographics-report",5857:"error-pages",5899:"global-encore-legacy",5902:"greenhouse",5933:"time-off",6030:"payroll-change-report",6043:"employee_wellbeing",6096:"age-profile",6102:"employee-wellbeing-report",6146:"payroll.routes",6287:"pay-info-missing-data",6333:"gender-profile",6386:"secure-file-download",6471:"pto",6488:"eeo-1-report",6546:"headcount-report",6594:"employee-project-hours-report",6650:"greenhouse-company-payroll",6773:"BhrTabs",6815:"pto-new",6876:"billing",6930:"reseller",6964:"style_guide",6993:"payroll-info-checkup",7053:"inbox-calendar",7134:"settings-benefits-bulk-editing",7470:"esignatures-lazy",7549:"power_edit",7597:"gtky-questions",7616:"global-encore",7623:"login-gh",7624:"employees",7785:"payroll-update-summary",7819:"data-table",7969:"hiring",8055:"apps",8062:"change-history",8103:"global-jade",8182:"time_tracking",8304:"anytime",8473:"calendar-ical-modal",8631:"approved-hours-report",8730:"payroll-summary-report",8842:"app-trax",8907:"payroll",8985:"org-chart-export",9020:"state-withholding-unemployment",9199:"eeo-1-details-report",9208:"feeds",9256:"trax-db-scrubber",9355:"goals",9438:"settings-benefits-plan-wizard",9452:"project-hours-report",9529:"payroll-hours-report",9602:"add-edit-pay-schedule",9880:"timesheet-entries-report",9957:"EmployeeSelector",9966:"dashboard"}[e]+"."+{31:"bda01d4b",267:"53455f86",422:"751cea94",497:"961f5aef",608:"5e6ded0e",830:"b0fe9a83",882:"c99c0562",909:"748fba84",918:"bfab697a",925:"737ae4dc",1008:"020e3b77",1058:"4d56d833",1085:"8e383730",1289:"609a7e6d",1315:"bac7f633",1388:"ce8ea2b6",1396:"d182e251",1601:"3c3268bb",1809:"16fad331",1915:"619f2fea",1987:"9fd4af8f",2004:"76f9b79c",2018:"79db2552",2042:"cbd2011f",2167:"3d76932c",2172:"d020d1e6",2193:"a3e1bbd9",2273:"eb3ab549",2324:"fcbd397a",2589:"8a528530",2646:"4ba78e0c",2730:"8cd070e1",2876:"201cf5be",2988:"34ee93dd",3053:"b4168117",3065:"fa070b4d",3070:"7a9e2459",3131:"c8fa0e10",3246:"572c6b04",3311:"c5fc84ca",3377:"996d17f9",3422:"7fb382e6",3653:"149f124d",3703:"ea277318",3911:"71bd1287",3971:"44b07346",3989:"d3c2b1b3",3992:"57e42219",4014:"5f5d2a32",4085:"eb401211",4091:"6aa86ffc",4103:"b9d19407",4535:"776b9331",4839:"9bea1ecf",4910:"d7fd44c5",4941:"70704e8a",5042:"455ac5d2",5177:"29fdbd42",5372:"45fea418",5383:"33617ce0",5409:"76eb5fc7",5486:"e38b848b",5545:"8dce2af0",5548:"8b00fd80",5554:"551dd687",5571:"0cd979a9",5638:"5dd2eff9",5649:"f47f2ac5",5726:"0102ece0",5782:"5b17f74f",5784:"e4dd5b8a",5857:"cd2862d1",5899:"c67555bf",5902:"c04e217b",5933:"92ddaa22",6030:"7a46e5fa",6043:"d21f7292",6096:"77af1bb5",6102:"7c7041ac",6146:"ef9a37e8",6287:"6d9f8fc4",6333:"ae571f9e",6386:"6d24841d",6471:"b4aff85d",6488:"7eca424c",6546:"fda8d9ea",6594:"fd8c1a46",6650:"3b8315ea",6773:"f5cb4500",6815:"3a4d9cef",6876:"d3c04649",6930:"f86b3126",6964:"bf745a0d",6993:"f3528d2e",7053:"87040ecd",7134:"f08503e9",7470:"35cb3370",7549:"104a38c1",7597:"0d04b1a0",7616:"e5379ded",7623:"5e9c1e7c",7624:"d312d609",7785:"e97b2a03",7819:"08b905a5",7969:"efa181ff",8055:"31777ccd",8062:"9649f97b",8103:"bba0ae19",8182:"8fe83128",8304:"7f4e3cf5",8473:"172783be",8631:"c023e721",8730:"bca66691",8842:"dc3ce549",8907:"b9a45a2b",8985:"ba2ba9c4",9020:"b5b0c9d6",9199:"afd3832c",9208:"c480eb75",9256:"80b037c9",9355:"40406561",9438:"659c9f44",9452:"fd7e5531",9529:"56fe39ea",9602:"7f9d9cbb",9880:"cdc8f6a2",9957:"dd3dbe65",9966:"964502ee"}[e]+".dist.css"})();(()=>{__webpack_require__.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{__webpack_require__.hmd=e=>{e=Object.create(e);if(!e.children)e.children=[];Object.defineProperty(e,"exports",{enumerable:true,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}});return e}})();(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{var e={};__webpack_require__.l=(t,a,s,n)=>{if(e[t]){e[t].push(a);return}var i,o;if(s!==undefined){var r=document.getElementsByTagName("script");for(var l=0;l<r.length;l++){var c=r[l];if(c.getAttribute("src")==t){i=c;break}}}if(!i){o=true;i=document.createElement("script");i.charset="utf-8";i.timeout=120;if(__webpack_require__.nc){i.setAttribute("nonce",__webpack_require__.nc)}i.src=t}e[t]=[a];var d=(a,s)=>{i.onerror=i.onload=null;clearTimeout(u);var n=e[t];delete e[t];i.parentNode&&i.parentNode.removeChild(i);n&&n.forEach((e=>e(s)));if(a)return a(s)};var u=setTimeout(d.bind(null,undefined,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror);i.onload=d.bind(null,i.onload);o&&document.head.appendChild(i)}})();(()=>{__webpack_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__webpack_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();(()=>{__webpack_require__.p="/js/"})();(()=>{var e=(e,t,a,s)=>{var n=document.createElement("link");n.rel="stylesheet";n.type="text/css";var i=i=>{n.onerror=n.onload=null;if(i.type==="load"){a()}else{var o=i&&(i.type==="load"?"missing":i.type);var r=i&&i.target&&i.target.href||t;var l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED";l.type=o;l.request=r;n.parentNode.removeChild(n);s(l)}};n.onerror=n.onload=i;n.href=t;document.head.appendChild(n);return n};var t=(e,t)=>{var a=document.getElementsByTagName("link");for(var s=0;s<a.length;s++){var n=a[s];var i=n.getAttribute("data-href")||n.getAttribute("href");if(n.rel==="stylesheet"&&(i===e||i===t))return n}var o=document.getElementsByTagName("style");for(var s=0;s<o.length;s++){var n=o[s];var i=n.getAttribute("data-href");if(i===e||i===t)return n}};var a=a=>new Promise(((s,n)=>{var i=__webpack_require__.miniCssF(a);var o=__webpack_require__.p+i;if(t(i,o))return s();e(a,o,s,n)}));var s={8592:0};__webpack_require__.f.miniCss=(e,t)=>{var n={6146:1,7470:1,9256:1};if(s[e])t.push(s[e]);else if(s[e]!==0&&n[e]){t.push(s[e]=a(e).then((()=>{s[e]=0}),(t=>{delete s[e];throw t})))}}})();(()=>{var e={8592:0};__webpack_require__.f.j=(t,a)=>{var s=__webpack_require__.o(e,t)?e[t]:undefined;if(s!==0){if(s){a.push(s[2])}else{if(true){var n=new Promise(((a,n)=>s=e[t]=[a,n]));a.push(s[2]=n);var i=__webpack_require__.p+__webpack_require__.u(t);var o=new Error;var r=a=>{if(__webpack_require__.o(e,t)){s=e[t];if(s!==0)e[t]=undefined;if(s){var n=a&&(a.type==="load"?"missing":a.type);var i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+i+")";o.name="ChunkLoadError";o.type=n;o.request=i;s[1](o)}}};__webpack_require__.l(i,r,"chunk-"+t,t)}else e[t]=0}}};__webpack_require__.O.j=t=>e[t]===0;var t=(t,a)=>{var s=a[0];var n=a[1];var i=a[2];var o,r,l=0;if(s.some((t=>e[t]!==0))){for(o in n){if(__webpack_require__.o(n,o)){__webpack_require__.m[o]=n[o]}}if(i)var c=i(__webpack_require__)}if(t)t(a);for(;l<s.length;l++){r=s[l];if(__webpack_require__.o(e,r)&&e[r]){e[r][0]()}e[r]=0}return __webpack_require__.O(c)};var a=self["webpackChunk"]=self["webpackChunk"]||[];a.forEach(t.bind(null,0));a.push=t.bind(null,a.push.bind(a))})();(()=>{__webpack_require__.nc=undefined})()})();
//# sourceMappingURL=common.8d25fda2.dist.js.map