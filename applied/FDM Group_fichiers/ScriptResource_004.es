function RefreshDropDownIDs(e,t,l,n,o){for(var a="",i=$Eploy("#"+l).val().split(","),r=($Eploy("#"+e+" option:selected").val(),new Array),c=0;c<i.length;c++)if(i[c]){var s=$Eploy("#"+e+" option[value='"+i[c]+"']").text(),p="<div title='"+s+"' class='its-c-chip  is-removeable'><span class=\"its-c-chip__text\">"+s+"</span><a class='its-c-chip__remove' title='"+o+"' href='javascript:void(0);' onclick=\"DeleteArrayElement('"+l+"','"+i[c]+"');RefreshDropDownIDs('"+e+"','"+t+"','"+l+"','"+n+"');return false;\"><span class='icon  icon-cancel'></span></a></div>";r.push(p)}return""==(a=r.join(""))&&(a=n),$Eploy("#"+t).text(""),$Eploy("#"+t).append(a),!1}function AddDropDownOptionPickerOption(e,t){$Eploy("#"+e+" option:selected").text();var l=$Eploy("#"+e+" option:selected").val(),n=$Eploy("#"+t).val().split(",");l&&""!=l&&0!=l&&(-1==$Eploy.inArray(l,n)&&n.splice(n.length,1,l),removeByElement(n,""),$Eploy("#"+t).val(n.toString()))}function RemoveDropDownOptionPickerOption(e,t){DeleteArrayElement(t,$Eploy("#"+e+" option:selected").val())}function DeleteArrayElement(e,t){var l=$Eploy("#"+e).val().split(",");removeByElement(l,t),removeByElement(l,""),$Eploy("#"+e).val(l.toString())}function removeByElement(e,t){for(var l=0;l<e.length;l++)""!=e[l]&&e[l]!=t||e.splice(l,1)}function clearlistbox(e){for(var t=e.options.length-1;t>=0;t--)e.options[t]=null;e.selectedIndex=-1}function onError(e,t){alert("Exception :\n"+e)}function Dial(e,t,l){if("TAPI"==l.toUpperCase())clsPages.OpenPageOnTop("/crmdev/Popups/Dialer.asp?Initialize=yes&CallType=Outgoing&Telephone="+ApplyFormatting(e,"URL")+"&Extension="+ApplyFormatting(t,"URL"),"","top=20,left=20,resizable=yes,scrollbars=no,width="+.5*screen.width+",height=250");else{var n=l.trim().replace("*telephone*",e.trim().replace(/ /g,""));document.location.href=n}}function ValidateChecked(e,t){t.IsValid=document.getElementById(e.controltovalidate)&&document.getElementById(e.controltovalidate).checked}function ValidateRadioList(e){var t=$Eploy("#"+e);return function(e,l){t.find("input").length>0&&(l.IsValid=t.find("input:checked").length>0,e.controltovalidate=t.find("input")[0].id)}}function ValidateEmail(e,t){let l=$Eploy("#"+e.controltovalidate).val();if(l){let n=0;parseInt($Eploy(e).attr("maxCount"))>0&&(n=parseInt($Eploy(e).attr("maxCount"))),$Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",data:`{ emailCSVEncoded: "${encodeURIComponent(l)}", maxCount: ${n} }`,dataType:"json",url:ServerPath+"WebServices/JSFunctions.asmx/CheckEmailValidation",async:!1}).done((function(e){e&&!1===e.d&&(t.IsValid=e.d,t.Visible=!0)}))}}function number_format(e,t,l,n){var o=e,a=isNaN(t=Math.abs(t))?2:t,i=null==l?",":l,r=null==n?".":n,c=o<0?"-":"",s=parseInt(o=Math.abs(+o||0).toFixed(a))+"",p=(p=s.length)>3?p%3:0;return c+(p?s.substr(0,p)+r:"")+s.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+r)+(a?i+Math.abs(o-s).toFixed(a).slice(2):"")}function size_format(e){return e=e>=1073741824?number_format(e/1073741824,2,".","")+" Gb":e>=1048576?number_format(e/1048576,2,".","")+" Mb":e>=1024?number_format(e/1024,0)+" Kb":number_format(e,0)+" bytes"}function OtherDropDownTextChange(e,t,l,n){var o=document.getElementById(t+"txtOther"),a=document.getElementById(t+"theOtherOne"),i=document.getElementById(t+"ddValues"),r=document.getElementById(t+"rvValue"),c=document.getElementById(t+"rvOther"),s=[],p=[];n&&(p=n.split(","));for(var d=0;p.length>d;d++)s.push(document.getElementById(p[d]));var u=$Eploy(a);if(0==e)if(i.selectedIndex==i.length-1){ValidatorEnable(r,l),c.enabled=!0;for(d=0;s.length>d;d++)s[d].enabled=!0;o.value="",u.show(),$Eploy(o).focus()}else{ValidatorEnable(r,l),ValidatorEnable(c,!1);for(d=0;s.length>d;d++)ValidatorEnable(s[d],!1);o.value="",u.hide(),u&&u.hasClass("error")&&u.removeClass("error")}else""!=o.value&&(i.selectedIndex=i.length-1)}function checkCount(e,t,l){var n,o=e.value,a=0,i=0,r=0;if("text"===$Eploy(e).attr("type"))i=$Eploy(e).attr("data-minlength"),n="Characters",(r=$Eploy(e).attr("data-maxlength"))>0&&o.length>r&&(e.value=o.substring(0,r),o=e.value),a=o.length;else if(i=$Eploy(e).attr("data-minwords"),r=$Eploy(e).attr("data-maxwords"),n="Word count",(o=cleanTrimmed(o)).length>0){a=o.split(/\s+/).length;var c=o.split(/\s+/);r>0&&a>r&&($Eploy(e).val(c.slice(0,r).join(" ")),a=r)}var s=n+": "+a;i>0&&(s=s+"; Min "+n+": "+i),r>0&&(s=s+"; Max "+n+": "+r),document.getElementById(t).innerHTML=s}function cleanTrimmed(e){return e?e.replace(/\s+/g," ").trim():""}function meetsMinCount(e,t){var l=0,n=0,o=0;"text"===$Eploy("#"+e.controltovalidate).attr("type")?(l=parseFloat($Eploy("#"+e.controltovalidate).attr("data-minlength")),n=parseFloat($Eploy("#"+e.controltovalidate).attr("data-maxlength")),o=t.Value.length):(l=parseFloat($Eploy("#"+e.controltovalidate).attr("data-minwords")),n=parseFloat($Eploy("#"+e.controltovalidate).attr("data-maxwords")),o=cleanTrimmed(t.Value).split(/\s+/).filter((e=>""!==e)).length);t.IsValid=(0===l||l>0&&o>=l)&&(0===n||n>0&&o<=n)}function ToggleDisplay(e,t,l,n,o,a){var i=void 0!==o&&o,r=void 0!==a&&a;if(e){var c=$Eploy(e).val();"radio"==e.type?"false"==c.toLowerCase()||"true"==c.toLowerCase()?c="true"==c.toLowerCase()&&$Eploy(e).prop("checked")?1:"false"==c.toLowerCase()&&$Eploy(e).prop("checked")?0:null:$Eploy(e).prop("checked")||(c=null):"checkbox"==e.type&&(c?e.checked||(c=0):c=e.checked?1:0);for(var s=l.split(";"),p=n.split(";"),d=0;d<s.length;d++){var u=s[d].indexOf("#"),y=[s[d].slice(0,u),s[d].slice(u+1)],h="#div_"+y[0],E=$Eploy(h).data("parents");null==E&&(E=[]);var f=e.id;"radio"==e.type&&(f=f.slice(0,-2));var v=y[1].split(",");if(!r&&-1!=$Eploy.inArray(""+c,v)||r&&-1==$Eploy.inArray(""+c,v)){if(0==d&&i){var g=h;$Eploy(h).fadeIn(400,(function(){$Eploy(g+" :input").first().focus()}))}else $Eploy(h).fadeIn();E.includes(f)||(E.push(f),$Eploy(h).data("parents",E)),$Eploy(h+" :input").each((function(e){switch($Eploy(this).attr("type")){case"radio":case"checkbox":if(this.checked){var t=null;null!=this.getAttribute("onclick")&&this.getAttribute("onclick").indexOf("ToggleDisplay")>-1?t=this.onclick:null!=this.getAttribute("onchange")&&this.getAttribute("onchange").indexOf("ToggleDisplay")>-1&&(t=this.onchange),null!=t&&t.call(this)}}}))}else 0==E.length||1==E.length&&E[0]==f?($Eploy(h).hide(),$Eploy(h).data("parents",E.filter((function(e,t,l){return e!=f}))),$Eploy(h+" :input").each((function(e){switch($Eploy(this).attr("type")){case"radio":$Eploy(this).removeAttr("checked");for(var t=0;t<$Eploy(this).length;t++)$Eploy(this)[t].checked=!1;var l=null;null!=this.getAttribute("onclick")&&this.getAttribute("onclick").indexOf("ToggleDisplay")>-1?l=this.onclick:null!=this.getAttribute("onchange")&&this.getAttribute("onchange").indexOf("ToggleDisplay")>-1&&(l=this.onchange),null!=l&&l.call(this);break;case"checkbox":$Eploy(this).is(":checked")?($Eploy(this).trigger("click"),$Eploy(this).removeAttr("checked")):$Eploy(this).removeAttr("checked");break;case"submit":case"button":break;default:var n=$Eploy(this).data("clear-selected");"function"==typeof n&&n(),$Eploy(this).val("");l=null;null!=this.getAttribute("onclick")&&this.getAttribute("onclick").indexOf("ToggleDisplay")>-1?l=this.onclick:null!=this.getAttribute("onchange")&&this.getAttribute("onchange").indexOf("ToggleDisplay")>-1&&(l=this.onchange),null!=l&&l.call(this)}}))):$Eploy(h).data("parents",E.filter((function(e,t,l){return e!=f})));""!=p[d]&&(h=t+"_"+p[d],null!=document.getElementById(h)&&(!r&&-1!=$Eploy.inArray(""+c,v)||r&&-1==$Eploy.inArray(""+c,v)?document.getElementById(h).enabled=!0:ValidatorEnable(document.getElementById(h),!1)))}}}function ToggleSet(e,t,l,n,o){if(e){var a="";"radio"==e.type?a="True"==e.value||"true"==e.value?1:"False"==e.value||"false"==e.value?0:e.value:"checkbox"==e.type?a=e.checked?1:0:"select-one"!=e.type&&"text"!=e.type&&"hidden"!=e.type||(a=e.value);var i=!1;"ParentValue"==o&&(i=!0,o=a);for(var r=l.split(";"),c=0;c<r.length;c++){var s=r[c].indexOf("#"),p=[r[c].slice(0,s),r[c].slice(s+1)],d="#div_"+p[0],u=p[1].split(",");(i&&-1!=$Eploy.inArray(""+o,u)||!i&&-1!=$Eploy.inArray(""+a,u))&&$Eploy(d+" :input").each((function(e){if(n&&(""==$Eploy(this).val()||"0"==$Eploy(this).val())||!n)switch($Eploy(this).attr("type")){case"radio":o||$Eploy(this).prop("checked",!1),o.toUpperCase()===$Eploy(this).val().toUpperCase()&&$Eploy(this).click();break;case"checkbox":1==o!=this.checked&&$Eploy(this).click();break;default:0==o?$Eploy(this).val(""):$Eploy(this).val(o),$Eploy(this).change()}}))}}}function ToggleSetDateTime(e,t,l,n,o,a,i,r,c){if(e){var s="";"radio"==e.type?s="True"==e.value||"true"==e.value?1:"False"==e.value||"false"==e.value?0:e.value:"checkbox"==e.type?s=e.checked?1:0:"select-one"!=e.type&&"text"!=e.type&&"hidden"!=e.type||(s=e.value);for(var p=l.split(";"),d=0;d<p.length;d++){var u=p[d].indexOf("#"),y=[p[d].slice(0,u),p[d].slice(u+1)],h="#"+t+"_"+y[0],E=y[1].split(",");-1!=$Eploy.inArray(""+s,E)&&("now"!=o.toLowerCase()?(void 0!==i&&"function"==typeof i&&(n&&""==$Eploy(h+"_txtDateValue").val()||!n)&&i(o),void 0!==r&&"function"==typeof r&&(n&&""==$Eploy(h+"_txtTimeValue").val()||!n)&&r(new Date(a))):void 0!==c&&"function"==typeof c&&(n&&""==$Eploy(h+"_txtDateValue").val()||!n)&&c())}}}function ToggleRequired(e,t,l,n){if(e){var o=$Eploy(e).val();"radio"==e.type?"True"==o||"true"==o?o=1:"False"!=o&&"false"!=o||(o=0):"checkbox"==e.type&&(o?e.checked||(o=""):o=e.checked?1:0);for(var a=l.split(";"),i=n.split(";"),r=0;r<a.length;r++){var c=a[r].indexOf("#"),s=[a[r].slice(0,c),a[r].slice(c+1)],p="#div_"+s[0],d=s[1].split(",");""!=i[r]&&(p=t+"_"+i[r],null!=document.getElementById(p)&&(-1!=$Eploy.inArray(""+o,d)?document.getElementById(p).enabled=!0:ValidatorEnable(document.getElementById(p),!1)))}}}function ShowInfluenceLoading(e){document.getElementById(e)&&(document.getElementById(e).style.display="inline-block")}function ShowActionOutcomeLoading(e){document.getElementById(e)&&(document.getElementById(e).style.display="inline-block")}function ShowCallOutcomeLoading(e){document.getElementById(e)&&(document.getElementById(e).style.display="inline-block")}function addJSONSlashes(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")}Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),$Eploy.fn.limitMaxlength=function(e){var t=$Eploy.extend({attribute:"maxlen",onLimit:function(){},onEdit:function(){}},e),l=function(){var e=$Eploy(this),l=parseInt(e.attr(t.attribute));e.val().length>l&&(e.val(e.val().substr(0,l)),$Eploy.proxy(t.onLimit,this)()),$Eploy.proxy(t.onEdit,this)(l-e.val().length)};return this.each(l),this.keyup(l).keydown(l).focus(l).on("input paste",l)},$Eploy(document).ready((function(){$Eploy("textarea[maxlen]").limitMaxlength({onEdit:function(e){$Eploy(this).siblings(".charsRemaining").text(" "+e)},onLimit:function(){}})}));