!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};t[s][0].call(h.exports,(function(e){return i(t[s][1][e]||e)}),h,h.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("@babel/runtime/helpers/possibleConstructorReturn")),a=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),u=function(e){function t(e){var n;return(0,i.default)(this,t),n=(0,s.default)(this,(0,a.default)(t).call(this)),e.icon&&console.warn("Using property `icon` in Button.js; this should be updated to use `iconLeft` or `iconRight`."),n.text=e.text,n.id=e.id||"",n.iconLeft=e.iconLeft||null,n.iconRight=e.iconRight||null,n.cssType=e.cssType||"its-t-button-default",n.disabled=e.disabled||!1,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(e){if(!e||e.length<=0)throw new Error("Rendering requires a container element.");var t=$Eploy($Eploy.Templates.Button.button(this));e.append(t),this._wrapper=t,this.disabled?this.disable():this.enable()}},{key:"disable",value:function(){this._wrapper.prop("disabled",!0).addClass("disabled").off("click touch")}},{key:"enable",value:function(){var e=this;this._wrapper.prop("disabled",!1).removeClass("disabled").off("click touch").on("click touch",(function(){return e.trigger("click")}))}},{key:"jqueryElement",value:function(){return this._wrapper}}]),t}(r(e("../Eploy/EventProcessor.js")).default);n.default=u},{"../Eploy/EventProcessor.js":3,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],2:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.PositioningHandlers=n.ContentPositioner=void 0;var i=r(e("@babel/runtime/helpers/createClass")),o=r(e("@babel/runtime/helpers/classCallCheck")),s=function e(t,n){(0,o.default)(this,e),this.above=t||0,this.below=n||0},a=function e(t){(0,o.default)(this,e),this.offset=$Eploy(t).offset(),this.width=$Eploy(t).outerWidth(),this.height=$Eploy(t).outerHeight()},l=function e(t){(0,o.default)(this,e),Object.prototype.hasOwnProperty.call(t,"reset")?this.reset=t.reset:this.reset=$Eploy.noop,Object.prototype.hasOwnProperty.call(t,"showBelow")?this.showBelow=t.showBelow:this.showBelow=$Eploy.noop,Object.prototype.hasOwnProperty.call(t,"showAbove")?this.showAbove=t.showAbove:this.showAbove=$Eploy.noop,Object.prototype.hasOwnProperty.call(t,"showSmaller")?this.showSmaller=t.showSmaller:this.showSmaller=$Eploy.noop,Object.prototype.hasOwnProperty.call(t,"showSmallerWidth")?this.showSmallerWidth=t.showSmallerWidth:this.showSmallerWidth=$Eploy.noop,Object.prototype.hasOwnProperty.call(t,"showLeft")?this.showLeft=t.showLeft:this.showLeft=$Eploy.noop,Object.prototype.hasOwnProperty.call(t,"showRight")?this.showRight=t.showRight:this.showRight=$Eploy.noop};n.PositioningHandlers=l;var u=function(){function e(t,n,r,i){if((0,o.default)(this,e),!t)throw new Error("content is a required parameter");if(!n)throw new Error("trigger is a required parameter");r||(r=new l),i||(i={}),this.content=t,this.trigger=n,this.handlers=r,this.options=i,Object.prototype.hasOwnProperty.call(this.options,"supportsSmaller")||(this.options.supportsSmaller=!0),Object.prototype.hasOwnProperty.call(this.options,"ignoreScrollableParent")||(this.options.ignoreScrollableParent=!1),this.margin=9,this.minHeight=200}return(0,i.default)(e,[{key:"setPosition",value:function(){this.drawByCursor||this.handlers.reset(this.content),this.contentDimensions=new a(this.content),this.triggerDimensions=new a(this.trigger),this.drawByCursor&&(this.triggerDimensions.width=0,this.triggerDimensions.height=0,event.pageX&&event.pageY?(this.triggerDimensions.offset.left=event.pageX,this.triggerDimensions.offset.top=event.pageY):(this.triggerDimensions.offset.left=this.contentDimensions.offset.left,this.triggerDimensions.offset.top=this.contentDimensions.offset.top));var e=$Eploy(this._getScrollParent(this.trigger[0])),t=this.triggerDimensions.offset.left+this.contentDimensions.width,n=this.triggerDimensions.offset.left-(this.contentDimensions.width-this.triggerDimensions.width),r=e.width()+e.offset().left,i=e.offset().left,o=$Eploy(window).width();t<=r?this.handlers.showRight(this.content,this.contentDimensions,this.triggerDimensions):n>=i?this.handlers.showLeft(this.content,this.contentDimensions,this.triggerDimensions):t<=o?this.handlers.showRight(this.content,this.contentDimensions,this.triggerDimensions):n>=0?this.handlers.showLeft(this.content,this.contentDimensions,this.triggerDimensions):this.handlers.showRight(this.content,this.contentDimensions,this.triggerDimensions);var s=this._getAvailableSpace();this._setContentCss(s)}},{key:"_getAvailableSpace",value:function(){var e=new s,t=0,n=0,r=$Eploy(this._getScrollParent(this.trigger[0]));if(this.options.ignoreScrollableParent||r[0]===document.body){var i=$Eploy(window).outerHeight()+window.scrollY;e.below=i-(this.triggerDimensions.offset.top+this.triggerDimensions.height),e.above=this.triggerDimensions.offset.top}else{var o=$Eploy(document).outerHeight();t=r.offset().top,n=r.outerHeight();var a=o-(this.triggerDimensions.offset.top+this.triggerDimensions.height),l=o-(n+t);e.below=a-l,e.above=this.triggerDimensions.offset.top-t}return e}},{key:"_setContentCss",value:function(e){this.contentDimensions.height<=0&&(this.contentDimensions.height=100),e.below>this.contentDimensions.height?this.handlers.showBelow(this.content,this.contentDimensions,this.triggerDimensions):this.options.supportsSmaller&&e.below>this.minHeight?(this.handlers.showSmaller(this.content,this.contentDimensions,this.triggerDimensions,e.below),this.contentDimensions=new a(this.content),this.handlers.showBelow(this.content,this.contentDimensions,this.triggerDimensions)):e.above>this.contentDimensions.height?this.handlers.showAbove(this.content,this.contentDimensions,this.triggerDimensions):this.options.supportsSmaller&&(e.above>this.minHeight||e.above>e.below)?(this.handlers.showSmaller(this.content,this.contentDimensions,this.triggerDimensions,e.above),this.contentDimensions=new a(this.content),this.handlers.showAbove(this.content,this.contentDimensions,this.triggerDimensions)):(this.options.supportsSmaller&&this.handlers.showSmaller(this.content,this.contentDimensions,this.triggerDimensions,e.below),this.contentDimensions=new a(this.content),this.handlers.showBelow(this.content,this.contentDimensions,this.triggerDimensions)),this.contentDimensions.width+this.triggerDimensions.offset.left>$Eploy(window).outerWidth()&&(this.handlers.showSmallerWidth(this.content,this.contentDimensions,this.triggerDimensions,e.left),this.contentDimensions=new a(this.content))}},{key:"_getScrollParent",value:function(e){var t=getComputedStyle(e);if("fixed"===t.position)return document.body;for(var n="absolute"===t.position,r=/(auto|scroll)/,i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.body}}]),e}();n.ContentPositioner=u},{"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":25}],3:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=function(){function e(){(0,i.default)(this,e),this.handlers=new Map}return(0,o.default)(e,[{key:"on",value:function(e,t){for(var n=e.split(","),r=0;r<n.length;r++){var i=n[r].trim();this.handlers.has(i)||this.handlers.set(i,[]),this.handlers.get(i).push(t)}}},{key:"off",value:function(e,t){var n=this.handlers.get(e);if(n&&n.length>0){var r=n.indexOf(t);n.splice(r,1)}}},{key:"trigger",value:function(e){for(var t=this.handlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t&&t.length>0)for(var o=0;o<t.length;o++)t[o].apply(this,r);if((t=this.handlers.get("*"))&&t.length>0)for(var s=0;s<t.length;s++)t[s].apply(this,r)}}]),e}();n.default=s},{"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":25}],4:[function(e,t,n){"use strict";$Eploy.findSelf=function(e,t){return $Eploy(e,t).addBack(e)},$Eploy.hasScrolledPast=function(e,t,n){void 0===n&&(n=window);var r=$Eploy(n).scrollTop()+$Eploy(n).height(),i=$Eploy(e).offset().top,o=i+$Eploy(e).height();return!0===t?r>o:i<=r}},{}],5:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("@babel/runtime/helpers/possibleConstructorReturn")),a=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),u=r(e("./MenuItem.js")),h=(r(e("../Eploy/JQueryExtensions")),function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(0,a.default)(t).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"renderTo",value:function(e,t){if(e){var n=$Eploy.extend({},this.data,t),r=$Eploy($Eploy.Templates.ITSMenuControl.dynamicMenuHeader(n)),i=$Eploy.findSelf("[data-dynamicMenuHeaderItem]",r);this.data.headerItems.forEach((function(n){if(e){var r=$Eploy.extend({},n,t),o=$Eploy($Eploy.Templates.ITSMenuControl.dynamicMenuHeaderItem(r));i.append(o)}})),e.append(r)}}}]),t}(u.default));n.default=h},{"../Eploy/JQueryExtensions":4,"./MenuItem.js":10,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],6:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/extends")),o=r(e("@babel/runtime/regenerator")),s=r(e("@babel/runtime/helpers/asyncToGenerator")),a=r(e("@babel/runtime/helpers/classCallCheck")),l=r(e("@babel/runtime/helpers/createClass")),u=r(e("@babel/runtime/helpers/possibleConstructorReturn")),h=r(e("@babel/runtime/helpers/getPrototypeOf")),c=r(e("@babel/runtime/helpers/inherits")),p=r(e("./MenuOption")),f=r(e("./MenuItem")),d=function(e){function t(e){var n;if((0,a.default)(this,t),!(n=(0,u.default)(this,(0,h.default)(t).call(this,e))).data.hasOwnProperty("getItems")||"function"!=typeof n.data.getItems)throw new TypeError("`DynamicMenuOption` requires a 'getItems' function; this should return an array of `MenuItem`");return n}var n;return(0,c.default)(t,e),(0,l.default)(t,[{key:"getItems",value:(n=(0,s.default)(o.default.mark((function e(){var t=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.data.getItems.apply(this,t));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"renderTo",value:function(e,t){var n=this;if(e){var r=$Eploy("<span data-dynamic-menu-item></span>");e.append(r),r.append($Eploy.Templates.ITSMenuControl.dynamicMenuOption((0,i.default)({},this.data,t))),this._cachedItems&&this._cachedItems.length>0&&this.renderDynamicItems(this._cachedItems,r,t),this.getItems().then((function(e){n._cachedItems=e,n.renderDynamicItems(e,r,t)})).catch((function(e){console.error("An error occurred when attempting to get dynamic options from source.",e),n.renderDynamicItems([new p.default({text:"<i>An error occurred; please try again.</i>"})],r,t)})).finally((function(){n.menu.positionMenu()}))}}},{key:"renderDynamicItems",value:function(e,t,n){if(t){t.empty();var r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;try{l instanceof f.default&&(l.setMenu(this.menu),l.setScreen(this.screen),l.renderTo(t,n))}catch(e){console.error("Failed to render dynamic option.",l,e)}}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}}}}]),t}(f.default);n.default=d},{"./MenuItem":10,"./MenuOption":11,"@babel/runtime/helpers/asyncToGenerator":18,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/extends":21,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26,"@babel/runtime/regenerator":30}],7:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("@babel/runtime/helpers/possibleConstructorReturn")),a=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),u=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(0,a.default)(t).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"renderTo",value:function(e,t){if(e){var n=$Eploy.extend({},this.data,t),r=$Eploy($Eploy.Templates.ITSMenuControl.editableMenuOption(n)),i=r.find("[data-its-menu-edit-element]");this.data.hasOwnProperty("transitionTarget")&&r.on("click",function(){this.menu.transition(this.data.transitionTarget,this.data.transitionDirection)}.bind(this)),this.data.hasOwnProperty("onClick")&&"function"==typeof this.data.onClick&&r.on("click",function(){this.data.onClick(),this.menu.hide()}.bind(this)),i&&this.data.hasOwnProperty("onEditClick")&&"function"==typeof this.data.onEditClick&&i.on("click",function(e){e.stopPropagation(),e.preventDefault(),this.data.onEditClick(),this.menu.hide()}.bind(this)),e.append(r)}}}]),t}(r(e("./MenuItem.js")).default);n.default=u},{"./MenuItem.js":10,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],8:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("./MenuScreen.js")),a=e("../ContentPositioner/ContentPositioner.js"),l=function(){function e(t,n){(0,i.default)(this,e),n.trigger&&this.setTriggerElement(n.trigger),n.appendTo?this.appendTo=$Eploy(n.appendTo):this.appendTo=$Eploy("body"),n.closeWrapper?this.closeWrapper=n.closeWrapper:this.closeWrapper=$Eploy(document),n.afterRenderFunction&&(this.afterRenderFunction=n.afterRenderFunction),this.drawByCursor=n.drawByCursor||!1,this.ignoreScrollableParent=n.ignoreScrollableParent||!1,this.data=t,this.screens=t.screens,this.showing=!1,this.createScreens()}return(0,o.default)(e,[{key:"toggleVisible",value:function(e){e.preventDefault(),this.showing?this.hide(e):this.show(e)}},{key:"show",value:function(e){window.menu&&window.menu.hide(),window.menu=this,this.renderMenu(),this.positionMenu(),this.closeCallback=function(t){t.originalEvent===e.originalEvent||$Eploy(t.target).closest("[data-its-menu-render-target]").length||this.hide()}.bind(this),$Eploy(this.trigger).attr("aria-expanded","true"),this.closeWrapper.attr("data-menu-closer",""),this.closeWrapper.on("click touch",this.closeCallback),this.showing=!0}},{key:"hide",value:function(){ITSTrapFocusUndo(this.content,{namespace:"itsmenu"}),$Eploy(this.trigger).focus(),$Eploy(this.trigger).attr("aria-expanded","false"),$Eploy(this.content).remove(),this.closeWrapper.removeAttr("data-menu-closer"),this.closeWrapper.off("click touch",this.closeCallback),this.showing=!1,this.content=null,window.menu=null}},{key:"renderMenu",value:function(){this.content=$Eploy($Eploy.Templates.ITSMenuControl.menu(this)),this.renderTarget=this.content.find("[data-its-menu-render-target]"),this.renderTarget.append(this.getScreen(0)),"function"==typeof this.afterRenderFunction&&this.afterRenderFunction.call(this,this.renderTarget)}},{key:"positionMenu",value:function(){this.appendTo.append(this.content);var e=new a.PositioningHandlers({reset:function(e){e.css({top:""}),e.css({bottom:""}),e.css({"max-height":""}),e.css({left:""})},showBelow:function(e,t,n){e.offset({top:n.offset.top+n.height})},showAbove:function(e,t,n){e.offset({top:n.offset.top+n.height-(t.height+n.height)})},showSmaller:function(e,t,n,r){e.css({"max-height":r-9})},showLeft:function(e,t,n){e.offset({left:n.offset.left-(t.width-n.width)})},showRight:function(e,t,n){e.offset({left:n.offset.left})}}),t=new a.ContentPositioner(this.content,this.trigger,e,{ignoreScrollableParent:this.ignoreScrollableParent});t.drawByCursor=this.drawByCursor,t.setPosition(),this.content.attr("tabindex","-1").focus(),ITSTrapFocus(this.content,{namespace:"itsmenu",onESC:function(e){this.hide(),e.stopPropagation()}.bind(this)})}},{key:"getScreen",value:function(e){if(e<0||!this.screens||!(this.screens instanceof Array))return this.renderTarget;var t=null;return this.screens.forEach(function(n){n instanceof s.default&&n.id===e&&(t=n.render())}.bind(this)),t}},{key:"transition",value:function(e,t){var n=this.renderTarget.find("[data-its-menu-screen]"),r=this.getScreen(e);null!==r&&("up"==t.toLowerCase()?(r.addClass("is-transitioning"),this.renderTarget.prepend(r),this.renderTarget.css({"max-width":r.outerWidth()}),n.css({"margin-left":"+=".concat(n.outerWidth())}),r.css({"margin-left":0})):(r.addClass("is-transitioning"),r.css({"margin-left":n.outerWidth()}),this.renderTarget.append(r),n.css({"margin-left":"-=".concat(n.outerWidth())}),r.css({"margin-left":0})),n.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){ITSTrapFocusUndo(n,{namespace:"itsmenu"}),n.remove(),r.removeClass("is-transitioning"),this.positionMenu(),ITSTrapFocus(r,{namespace:"itsmenu",onESC:function(){this.hide()}.bind(this)})}.bind(this)))}},{key:"setTriggerElement",value:function(e,t){this.trigger=$Eploy(e),!1!==t&&this.trigger.on("click touch",this.toggleVisible.bind(this)),this.trigger.attr("id")?this.menuID=this.trigger.attr("id")+"_menu":this.menuID="its_menu"}},{key:"createScreens",value:function(){this.screens.forEach(function(e){e instanceof s.default&&e.setMenu(this)}.bind(this))}}]),e}();n.default=l},{"../ContentPositioner/ContentPositioner.js":2,"./MenuScreen.js":13,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":25}],9:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("@babel/runtime/helpers/possibleConstructorReturn")),a=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),u=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(0,a.default)(t).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"renderTo",value:function(e,t){if(e){var n=$Eploy.extend({},this.data,t),r=$Eploy($Eploy.Templates.ITSMenuControl.menuHeader(n));this.data.hasOwnProperty("transitionTarget")&&(r.addClass(" is-clickable"),r.on("click",function(e){e.preventDefault(),this.menu.transition(this.data.transitionTarget,this.data.transitionDirection)}.bind(this))),e.append(r)}}}]),t}(r(e("./MenuItem.js")).default);n.default=u},{"./MenuItem.js":10,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],10:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=function(){function e(t){if((0,i.default)(this,e),"MenuItem"==this.constructor.name)throw new TypeError("Cannot construct MenuItem instances directly; please use a derived class instead.");t&&(this.data=t,this.update())}return(0,o.default)(e,[{key:"update",value:function(){this.setDataDefaults(),this.screen&&this.data&&this.data.hasOwnProperty("iconLeft")&&this.data.iconLeft.length>0&&this.screen.setRenderRule("iconLeftEnabled",!0)}},{key:"setDataDefaults",value:function(){this.data&&(this.data.hasOwnProperty("transitionTarget")&&(!this.data.hasOwnProperty("transitionDirection")&&this.screen&&(this.data.transitionDirection=this.data.transitionTarget>this.screen.id?"down":"up"),!this.data.hasOwnProperty("iconLeft")&&this.data.hasOwnProperty("transitionDirection")&&"up"==this.data.transitionDirection.toLowerCase()&&(this.data.iconLeft="icon-keyboard-arrow-left"),!this.data.hasOwnProperty("iconRight")&&this.data.hasOwnProperty("transitionDirection")&&"down"==this.data.transitionDirection.toLowerCase()&&(this.data.iconRight="icon-keyboard-arrow-right")),!this.data.hasOwnProperty("titleText")&&this.data.hasOwnProperty("text")&&(this.data.titleText=$Eploy("<span></span>").append(this.data.text).text()))}},{key:"setMenu",value:function(e){e&&(this.menu=e,this.update())}},{key:"setScreen",value:function(e){e&&(this.screen=e,this.update())}},{key:"renderTo",value:function(e){}}]),e}();n.default=s},{"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":25}],11:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("@babel/runtime/helpers/possibleConstructorReturn")),a=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),u=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,(0,a.default)(t).call(this,e)))._template=$Eploy.Templates.ITSMenuControl.menuOption,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"renderTo",value:function(e,t){if(e){var n=$Eploy.extend({},this.data,t);this._content=$Eploy(this._template(n)),this.data.hasOwnProperty("transitionTarget")&&this._content.on("click",function(e){e.preventDefault(),this.menu.transition(this.data.transitionTarget,this.data.transitionDirection)}.bind(this)),this.data.hasOwnProperty("onClick")&&"function"==typeof this.data.onClick&&this._content.on("click",function(e){e.preventDefault(),this.data.onClick.call(this,e),this.data.hasOwnProperty("remainOpenAfterClick")&&!0===this.data.remainOpenAfterClick||this.menu.hide()}.bind(this)),e.append(this._content)}}}]),t}(r(e("./MenuItem.js")).default);n.default=u},{"./MenuItem.js":10,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],12:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("@babel/runtime/helpers/possibleConstructorReturn")),a=r(e("@babel/runtime/helpers/assertThisInitialized")),l=r(e("@babel/runtime/helpers/getPrototypeOf")),u=r(e("@babel/runtime/helpers/get")),h=r(e("@babel/runtime/helpers/inherits")),c=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,(0,l.default)(t).call(this,e)))._template=$Eploy.Templates.ITSMenuControl.menuOptionWithNewTabButton,e.onClick=function(){window.location.href=this.data.url}.bind((0,a.default)(n)),n}return(0,h.default)(t,e),(0,o.default)(t,[{key:"renderTo",value:function(e,n){(0,u.default)((0,l.default)(t.prototype),"renderTo",this).call(this,e,n);var r=this._content.find("[data-its-menu-oint-element]");r&&this.data.hasOwnProperty("url")&&r.on("click",function(e){e.stopPropagation(),this.menu.hide()}.bind(this))}}]),t}(r(e("./MenuOption")).default);n.default=c},{"./MenuOption":11,"@babel/runtime/helpers/assertThisInitialized":17,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/get":22,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],13:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("@babel/runtime/helpers/possibleConstructorReturn")),a=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),u=r(e("./MenuItem.js")),h=function(e){function t(e){var n;if((0,i.default)(this,t),n=(0,s.default)(this,(0,a.default)(t).call(this)),!e||!e.hasOwnProperty("id")||!e.hasOwnProperty("items"))throw new TypeError("MenuScreen requires a data object containing id and items.");return n.id=e.id,n.items=e.items,n.renderRules={},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setMenu",value:function(e){e&&(this.menu=e,this.items.forEach(function(t){t instanceof u.default&&(t.setMenu(e),t.setScreen(this))}.bind(this)))}},{key:"addItem",value:function(e){e&&e instanceof u.default&&(this.items instanceof Array||(this.items=[]),this.items.push(e))}},{key:"setRenderRule",value:function(e,t){this.renderRules||(this.renderRules={}),e&&e.toString()&&t&&(this.renderRules[e.toString()]=t)}},{key:"render",value:function(){var e=$Eploy($Eploy.Templates.ITSMenuControl.menuScreen());return this.items.forEach(function(t){t instanceof u.default&&t.renderTo(e,this.renderRules)}.bind(this)),e}},{key:"setSelection",value:function(e){var t=e.data.iconRight,n=e.data.iconLeft;void 0!==t&&"icon-check"!==t||void 0!==n&&"icon-check"!==n||(this.clearSelected(),this.setIcon(e,t,n))}},{key:"clearSelected",value:function(){this.items.forEach(function(e){e instanceof u.default&&this.setIcon(e,"","")}.bind(this))}},{key:"setIcon",value:function(e,t,n){void 0!==e.data.iconRight&&(e.data.iconRight=t),void 0!==e.data.iconLeft&&(e.data.iconLeft=n)}}]),t}(r(e("../Eploy/EventProcessor.js")).default);n.default=h},{"../Eploy/EventProcessor.js":3,"./MenuItem.js":10,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],14:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=r(e("@babel/runtime/helpers/possibleConstructorReturn")),a=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),u=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(0,a.default)(t).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"renderTo",value:function(e){e&&e.append($Eploy($Eploy.Templates.ITSMenuControl.menuSeparator(this.data)))}}]),t}(r(e("./MenuItem")).default);n.default=u},{"./MenuItem":10,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],15:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/possibleConstructorReturn")),s=r(e("@babel/runtime/helpers/getPrototypeOf")),a=r(e("@babel/runtime/helpers/inherits")),l=r(e("./Menu.js")),u=r(e("../Button/Button.js")),h=function(e){function t(e,n,r){var a;if((0,i.default)(this,t),a=(0,o.default)(this,(0,s.default)(t).call(this,e,n)),!r.text)throw new Error("Must pass buttonOptions.text");if(!r.renderTarget)throw new Error("Must pass buttonOptions.renderTarget");var l=!0===n.showSingleItemMenus,h=new u.default({id:r.id,text:r.text,iconLeft:r.iconLeft,iconRight:r.iconRight});if(1===e.screens.length&&1===e.screens[0].items.length&&!l){var c=e.screens[0].items[0];h.render(r.renderTarget),h.on("click",c.data.onClick)}else h.iconRight||(h.iconRight="keyboard-arrow-down"),h.render(r.renderTarget),h.jqueryElement().attr("aria-expanded","false"),h.jqueryElement().attr("aria-controls",h.id+"_menu"),a.setTriggerElement(h.jqueryElement());return a}return(0,a.default)(t,e),t}(l.default);n.default=h},{"../Button/Button.js":1,"./Menu.js":8,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/getPrototypeOf":23,"@babel/runtime/helpers/inherits":24,"@babel/runtime/helpers/interopRequireDefault":25,"@babel/runtime/helpers/possibleConstructorReturn":26}],16:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),i=r(e("./Menu.js")),o=r(e("./MenuWithTriggerButton.js")),s=r(e("./MenuScreen.js")),a=r(e("./MenuOption.js")),l=r(e("./MenuSeparator.js")),u=r(e("./MenuHeader.js")),h=r(e("./EditableMenuOption.js")),c=r(e("./DynamicMenuOption.js")),p=r(e("./DynamicMenuHeader.js")),f=r(e("./MenuOptionWithNewTabButton")),d=Function("return this")();d.ITSMenu=i.default,d.ITSMenu.MenuWithTriggerButton=o.default,d.ITSMenu.MenuScreen=s.default,d.ITSMenu.MenuOption=a.default,d.ITSMenu.MenuSeparator=l.default,d.ITSMenu.MenuHeader=u.default,d.ITSMenu.EditableMenuOption=h.default,d.ITSMenu.DynamicMenuOption=c.default,d.ITSMenu.DynamicMenuHeader=p.default,d.ITSMenu.MenuOptionWithNewTabButton=f.default},{"./DynamicMenuHeader.js":5,"./DynamicMenuOption.js":6,"./EditableMenuOption.js":7,"./Menu.js":8,"./MenuHeader.js":9,"./MenuOption.js":11,"./MenuOptionWithNewTabButton":12,"./MenuScreen.js":13,"./MenuSeparator.js":14,"./MenuWithTriggerButton.js":15,"@babel/runtime/helpers/interopRequireDefault":25}],17:[function(e,t,n){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},{}],18:[function(e,t,n){function r(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}t.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)}))}}},{}],19:[function(e,t,n){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],20:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},{}],21:[function(e,t,n){function r(){return t.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}t.exports=r},{}],22:[function(e,t,n){var r=e("./superPropBase");function i(e,n,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},i(e,n,o||e)}t.exports=i},{"./superPropBase":28}],23:[function(e,t,n){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.exports=r},{}],24:[function(e,t,n){var r=e("./setPrototypeOf");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},{"./setPrototypeOf":27}],25:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},{}],26:[function(e,t,n){var r=e("../helpers/typeof"),i=e("./assertThisInitialized");t.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},{"../helpers/typeof":29,"./assertThisInitialized":17}],27:[function(e,t,n){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,n)}t.exports=r},{}],28:[function(e,t,n){var r=e("./getPrototypeOf");t.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},{"./getPrototypeOf":23}],29:[function(e,t,n){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(e){return typeof e}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.exports=r},{}],30:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":31}],31:[function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new M(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=D(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?f:c,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",c="suspendedYield",p="executing",f="completed",d={};function b(){}function m(){}function y(){}var g={};g[o]=function(){return this};var v=Object.getPrototypeOf,w=v&&v(v(T([])));w&&w!==n&&r.call(w,o)&&(g=w);var C=y.prototype=b.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function O(e){function t(n,i,o,s){var a=u(e[n],e,i);if("throw"!==a.type){var l=a.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?Promise.resolve(h.__await).then((function(e){t("next",e,o,s)}),(function(e){t("throw",e,o,s)})):Promise.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return t("throw",e,o,s)}))}s(a.arg)}var n;this._invoke=function(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}}function D(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:S}}function S(){return{value:t,done:!0}}return m.prototype=C.constructor=y,y.constructor=m,y[a]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},E(O.prototype),O.prototype[s]=function(){return this},e.AsyncIterator=O,e.async=function(t,n,r,i){var o=new O(l(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(C),C[a]="Generator",C[o]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),d}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},{}]},{},[16]);