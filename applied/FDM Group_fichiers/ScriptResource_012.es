function GetXMLHTTP(){var e=null;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=null}}return e||"undefined"==typeof XMLHttpRequest||(e=new XMLHttpRequest),e}function GetSource(e,t){var o;if(""!=e){if(null!=(o=GetXMLHTTP())&&(o.open("POST",e,!1),o.send(""),4==o.readyState&&200==o.status))return o.responseText;o=null}return!1}function HasMadeChanges(){var e=$Eploy("form");if(0==e.length)return!1;if(!(1==(e=e.first()).data("checksave")||1==e.data("checkforchanges")))return!1;if(1==e.data("checksavemustprompt"))return!0;for(var t=0,o=$Eploy('[data-checkme="true"] :input',e),n=o.length;t<n;t++){var i=o[t];if("true"!==$Eploy(i).attr("ignorePageChangeChecks"))switch(i.type){case"text":case"textarea":case"password":case"file":case"hidden":var a=i.defaultValue;if(null!=Sys&&null!=Sys.Extended&&null!=Sys.Extended.UI&&null!=Sys.Extended.UI.TextBoxWrapper&&Sys.Extended.UI.TextBoxWrapper.get_Wrapper($get(i.id))._isWatermarked&&(a&&""!=a||(a=$get(i.id).value)),"hidden"==i.type){var s=$Eploy(i).attr("data-value"),l=$Eploy(i).attr("ignorePageChangeChecks");void 0!==s&&!1!==s&&"true"!==l&&(a=s)}if(i.value!=a)return!0;break;case"checkbox":case"radio":if(i.checked!=i.defaultChecked)return!0;break;case"select-one":case"select-multiple":for(var r=0,c=i.options.length;r<c;r++)if(i.options[r].defaultSelected&&i.options[r].selected!=i.options[r].defaultSelected)return!0}}return!1}var sHref="";function checkPageChanges(e,t,o){return!HasMadeChanges()||(sHref=$Eploy(e).attr("href"),null!=t&&"function"==typeof t&&(question1.buttons[0].action=t),null!=o&&"function"==typeof o&&(question1.buttons[1].action=o),question1.open(),!1)}function checkPageChanges2(e){return!HasMadeChanges()||(sHref=$Eploy(e).attr("href"),question2.open(),!1)}function stopPendingRequests(e){"function"==typeof CancelDashboardRequests&&CancelDashboardRequests()}var closeOpener=!1,prompt_open=!1,userCancelled=!1,noWarning=!1;function checkPageChanges3(e,t){return!(HasMadeChanges()&&!window.top.userCancelled&&!noWarning)||(prompt_open?void 0:(window.top.mmQuestion=new Prompt({header:ResourceStore.get(57,"str_MasterPageHasChanged_Header"),message:ResourceStore.get(57,"str_MasterPageHasChanged_Text"),buttons:[{text:ResourceStore.get(57,"str_MasterPageHasChanged_Cancel"),action:function(){window.top.CloseFbs(1,!1,!1)}},{text:ResourceStore.get(57,"str_MasterPageHasChanged_Continue"),action:function(){"function"==typeof t&&t(),e?(window.top.CloseFbs(1,!1,!1),location.reload()):window.top.CloseFbs(2,!1,!0)}}]}),window.top.mmQuestion.open(),!1))}function checkPageChanges_AndNavigateToHref(e){return sHref=$Eploy(e).attr("href"),!(HasMadeChanges()&&!window.top.userCancelled&&!noWarning)||(prompt_open?void 0:(window.top.mmQuestion=new Prompt({header:ResourceStore.get(57,"str_MasterPageHasChanged_Header"),message:ResourceStore.get(57,"str_MasterPageHasChanged_Text"),buttons:[{text:ResourceStore.get(57,"str_MasterPageHasChanged_Cancel"),action:function(){window.top.CloseFbs(1,!1,!1)}},{text:ResourceStore.get(57,"str_MasterPageHasChanged_Continue"),action:function(){window.location.href=sHref}}]}),window.top.mmQuestion.open(),!1))}function RedirectWithSave(bSave,hiddenPostAction){CloseBox(!1);var frame=getActiveFbIframe(),currentbox=window.top.$Eploy.fancybox.getInstance();frame?(frame.$Eploy("#"+hiddenPostAction).val(bSave),frame.showPleaseWait(),frame.eval(sHref)):($Eploy("#"+hiddenPostAction).val(bSave),eval(sHref))}function CancelNav(){sHref="",CloseBox(!1)}function showPleaseWait(e){"function"==typeof Page_ClientValidate&&Page_ClientValidate(e)&&$Eploy("body").append('<div class="loading-overlay" style="position:fixed; top:0; left:0; right:0; height:100%; background:rgba(255,255,255,0.5); z-index:99999;"></div><div class="fancybox-loading"></div>')}function hidePleaseWait(){var e=$Eploy("body").find(".loading-overlay"),t=$Eploy("body").find(".fancybox-loading");e.length&&e.remove(),t.length&&t.remove()}$Eploy(document).ready((function(){ResourceStore.preloadResources([{moduleID:57,resourceKey:"str_MasterPageHasChanged_Header"},{moduleID:57,resourceKey:"str_MasterPageHasChanged_Text"},{moduleID:57,resourceKey:"str_MasterPageHasChanged_Cancel"},{moduleID:57,resourceKey:"str_MasterPageHasChanged_Continue"}])}));var GlobalEventObject=null;function GetEventObject(e){if(!e)e=window.event;GlobalEventObject=e}function cookiesDirective(e,t,o,n,i,a,s,l,r,c){var d=e;if("top"!=d.toLowerCase()&&"bottom"!=d.toLowerCase()&&(d="top"),!cdReadCookie("cookiesDirective"))if(t>0){if(cdReadCookie("cookiesDisclosureCount")){var p=cdReadCookie("cookiesDisclosureCount");cdCreateCookie("cookiesDisclosureCount",++p,1,c)}else cdCreateCookie("cookiesDisclosureCount",1,1,c);t>=cdReadCookie("cookiesDisclosureCount")&&cdHandler(d,o,n,i,a,s,l,r,c)}else cdHandler(d,o,n,i,a,s,l,r,c)}function detectIE789(){var e;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;if(null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e<=8)return!0;if(9==e){if("BackCompat"==document.compatMode){var o=document.createElement("meta");return o.content="IE=EmulateIE8",document.getElementsByTagName("head")[0].appendChild(o),!0}return!1}return!1}return!1}function cdHandler(e,t,o,n,i,a,s,l,r){var c,d="fixed";c=e,detectIE789()&&(c="top",d="absolute");var p=document.createElement("div");p.setAttribute("id","epd"),document.body.insertBefore(p,document.body.firstChild),n&&""!=n||(n="Continue"),i||(i="");var u='<div id="cookiesdirective" class="cookiesDirective" style="position:'+d+";"+c+':-300px;left:0px;width:100%;background:#333;background:rgba(0,0,0,0.8);color:#FFFFFF;font-family:arial;font-size:12px;text-align:center;z-index:1000;">';u+='<div style="width:100%; max-width:1024px; padding:18px;margin:0 auto;" class="clearfix">',u+=t,u+='<div class="push--top" style="float:right;">',a&&(u+='<button type="button" class="button button-negative" onclick="cdViewPreferences()" />'+l+"</button>"),u+='<input type="submit" name="epdsubmit" id="epdsubmit" value="'+n+'" class="button"/>'+i+"</div></div>",u+="</div>",document.getElementById("epd").innerHTML=u,"top"==c.toLowerCase()?($Eploy("form").addClass("moveFormDown"),$Eploy("#cookiesdirective").animate({top:"0"},1e3,(function(){$Eploy("#epdsubmit").click((function(){cdCreateCookie("cookiesDirective",1,365,r),a&&cdCreateCookie("Eploy_CookieConsent",s,365,r),$Eploy("#cookiesdirective").animate({top:"-300"},1e3,(function(){$Eploy("#cookiesdirective").remove(),$Eploy("form").removeClass("moveFormDown"),a&&location.reload(!0)}))})),o&&setTimeout((function(){$Eploy("#cookiesdirective").animate({opacity:"0"},2e3,(function(){$Eploy("#cookiesdirective").css("top","-300px")})),$Eploy("form").removeClass("moveFormDown")}),3e4)}))):($Eploy("form").addClass("moveFormDown"),$Eploy("#cookiesdirective").animate({bottom:"0"},1e3,(function(){$Eploy("#epdsubmit").click((function(){cdCreateCookie("cookiesDirective",1,365,r),a&&cdCreateCookie("Eploy_CookieConsent",s,365,r),$Eploy("#cookiesdirective").animate({bottom:"-300"},1e3,(function(){$Eploy("#cookiesdirective").remove(),$Eploy("form").removeClass("moveFormDown"),location.reload(!0)}))})),setTimeout((function(){$Eploy("#cookiesdirective").animate({opacity:"0"},2e3,(function(){$Eploy("#cookiesdirective").css("bottom","-300px")})),$Eploy("form").removeClass("moveFormDown")}),3e4)})))}function cdScriptAppend(e,t){var o=String(t),n=document.createElement("script");switch(n.src=e,n.type="text/javascript",n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&n.readyState},t){case"head":document.getElementsByTagName("head")[0].appendChild(n);break;case"body":document.getElementsByTagName("body")[0].appendChild(n);break;default:document.getElementById(o).appendChild(n)}}function cdReadCookie(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function cdCreateCookie(e,t,o,n){if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);var a="; expires="+i.toGMTString()}else a="";document.cookie=e+"="+t+a+"; domain="+n+"; Path=/"}function cdViewPreferences(){OpenBox(SiteURL+"popups/tools.aspx?process=cookiepreferences&popup=true",{type:"iframe",ITSTemplate:"custom",title:"Cookie Preferences",maxWidth:"600px",width:"100%"})}function CheckFilterItemsSelected(e){var t=0;return $Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",data:'{sVariable:"'+e+'"}',dataType:"json",url:SiteURL+"WebServices/ClientService.asmx/CheckItemsSelected",async:!1}).done((function(e){t=parseInt(e.d)})).fail((function(e,o,n){t=0})),t}function TrackFieldChange(e){$Eploy("#"+e).bind("blur focus",(function(){$Eploy(this).data("old_value",$Eploy(this).val()),$Eploy(this).data("value_changed",!1)})),$Eploy("#"+e).bind("keyup",(function(){$Eploy(this).data("old_value")!=$Eploy(this).val()?$Eploy(this).data("value_changed",!0):$Eploy(this).data("value_changed",!1)}))}function IsFieldValueChanged(e){var t=$Eploy("#"+e);return 0!=t.length&&t.data("value_changed")}function postionTooltips(e,t){var o=$Eploy(window).outerWidth(),n=e.offset(),i=e.outerWidth(),a=t.outerWidth(!0),s=e.find(".label").outerWidth(),l=e.find(".content").outerWidth();if(combinedWidth=s+l,contentOffset=e.find(".content").offset(),null!=l){var r=l+(contentOffset.left-n.left);contentOffset.right=contentOffset.left+l,Math.floor(o-contentOffset.right)>a?(t.addClass("field-help--right"),t.removeClass("field-help--under"),e.find(".field-help").css({left:r+"px"})):(t.addClass("field-help--under"),t.removeClass("field-help--right"),e.find(".field-help").css({left:"auto"}))}else n.right=n.left+i,Math.floor(o-n.right)>a?(t.addClass("field-help--right"),t.removeClass("field-help--under"),e.find(".field-help").css({left:i+"px"})):(t.addClass("field-help--under"),t.removeClass("field-help--right"),e.find(".field-help").css({left:"auto"}))}function popupHelp(e,t){var o=$Eploy(e).closest(".row, .title"),n=o.find(".field-help");null!=n&&(postionTooltips(o,n),$Eploy(window).resize((function(){postionTooltips(o,n)})),"click"==t?(hideTooltips(),n.is(":visible")||(o.hasClass("inputrow")&&o.addClass("row--highlight"),n.show())):(o.hasClass("inputrow")&&o.addClass("row--highlight"),n.show()))}function hideTooltips(){$Eploy(".row, .title").removeClass("row--highlight"),$Eploy(".field-help").hide()}function keepSessionsAlive(e,t,o){$Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:e,dataType:"json"}).done((function(e){"LogOff"==e.d&&(window.top.location="backend"==o?t+"admin/login.asp?Action=LogOff":t+"admin/Logoff.ashx?src=client")})).fail((function(e){}))}function toggleMinimiseMaximise(e){var t=$(e).closest(".js-minimise");t.hasClass("is-minified")?(t.removeClass("is-minified"),$(e).attr("aria-expanded","true")):(t.addClass("is-minified"),$(e).attr("aria-expanded","false"))}function ITSConfirmClick(e,t){if(void 0===(t=t||{}).canConfirm&&(t.canConfirm=!0),void 0===t.title&&(t.title="Are You Sure?"),void 0===t.confirm&&(t.confirm="OK"),void 0===t.cancel&&(t.cancel="Cancel"),void 0===t.cancelBtnCssClass&&(t.cancelBtnCssClass=""),e&&e.jquery&&e[0]&&(e=e[0]),!0===e.itsconfirmed)return e.itsconfirmed=!1,!0;var o=new Prompt({header:t.title,message:t.message,hiddenMessage:t.hiddenMessage,hiddenMessageText:t.hiddenMessageText,messageCont:t.messageCont,buttons:[{text:t.cancel,icon:t.cancelBtnIcon,cssClass:t.cancelBtnCssClass,isPrimary:!1,action:function(e){"function"==typeof t.onCancel?t.onCancel(e):CloseBox(!1)}}]});return!0===t.canConfirm&&o.buttons.unshift({text:t.confirm,icon:t.confirmBtnIcon,cssClass:t.confirmBtnCssClass,isPrimary:!0,action:function(o){e.itsconfirmed=!0,"function"==typeof t.onConfirm?t.onConfirm(o):e.click(),CloseBox(!1),e.itsconfirmed=!1}}),o.open(),!1}function ITSConfirm(e){return confirm(e)}function sizePanels(){var e=$Eploy(".its-o-modal__content");if(e.length){var t=e.siblings(),o=0;t.each((function(e){o+=$Eploy(this).outerHeight()})),e.outerHeight(window.innerHeight-o),window.top.$Eploy(window).one("resize",(function(){sizePanels()}))}}function InitaliseStars(){for(var e=$Eploy(".starDivs"),t=0;t<e.length;t++){var o=$Eploy(e[t]);o.empty();var n=new RatingControl({RecordID:o.data("id"),StarID:o.data("starid"),ToolTip:o.data("tooltip"),WebService:"UpdateApplicationSuitability"});o.append(n.render())}}function OpenExternalURL(e,t){var o="";""!==window.location.port&&(o=":"+window.location.port);var n=window.location.protocol+"//"+window.location.host+o+"/Tools/"+e+"?"+t;if("localhost"===window.location.host)n=window.location.protocol+"//"+window.location.host+o+"/"+window.location.pathname.split("/")[1]+"/Tools/"+e+"?"+t;"LoadCutEReport"==e?window.open(n,"_blank"):OpenBox(n,{type:"iframe",ITSTemplate:"medium"})}function GetUserCurrentLocation(e,t,o,n,i,a,s,l){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(l){var r={lat:l.coords.latitude,lng:l.coords.longitude};n&&$Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:SiteURL+"WebServices/JSFunctions.asmx/UpdateCurrentLocation",data:JSON.stringify(r),dataType:"json",async:!1}).done((function(e){o&&$Eploy("#"+o).val(e.d),r.postcode=e.d,a&&window.location.reload()})),i&&($Eploy("#"+t).val(r.lng),$Eploy("#"+e).val(r.lat)),"function"==typeof s&&s(r)}),(function(e){"function"==typeof l&&l(e)}))}function ResetGeoLocation(e,t,o){if(e){$Eploy("#"+t).val(""),$Eploy("#"+o).val("");$Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:SiteURL+"WebServices/JSFunctions.asmx/UpdateCurrentLocation",data:JSON.stringify({lat:null,lng:null}),dataType:"json",async:!1})}}function StickyScroll(e){this.elementId=e.elementId,this._$element=$Eploy("#"+this.elementId),void 0===e.containerId?(this.containerId=$Eploy(window),this._$container=this.containerId,this.isWindow=!0):(this.containerId=e.containerId,this._$container=$Eploy("#"+this.containerId)),this._$placeholder=null,this._$element.length>0&&(this._height=this._$element.outerHeight(!0),this._top=this._$element.offset().top,this._left=this._$element.offset().left,this._initialTop=this._$element.offset().top-this._height,this._width=this._$element.outerWidth()-17)}$Eploy(document).ready((function(){$Eploy("body").on("focus","input, select, textarea",(function(e){hideTooltips()})),$Eploy("body").on("focus",".content[data-popupHelpOnFocus='true'] input, .content[data-popupHelpOnFocus='true'] select, .content[data-popupHelpOnFocus='true'] textarea",(function(e){popupHelp(this,e.type)})),$Eploy("body").on("click",".js-showhelp",(function(e){popupHelp(this,e.type)})),$Eploy("body").on("click",".js-toggle",(function(e){$Eploy(this).siblings(".js-toggleMe").is(":visible")?($Eploy(this).attr("title","Click to Learn More"),$Eploy(this).siblings(".js-toggleMe").hide()):($Eploy(this).attr("title","Click to hide"),$Eploy(this).siblings(".js-toggleMe").show())})),$Eploy("body").on("click",".js-dropdownbutton",(function(e){e.preventDefault(),e.stopPropagation();var t=$Eploy(this).siblings(".js-dropdownmenu");t.hasClass("js-showdropdown")?t.removeClass("js-showdropdown"):($Eploy(".js-showdropdown").removeClass("js-showdropdown"),t.addClass("js-showdropdown"))})),$Eploy("body").on("click",".js-show-subdropdown",(function(e){var t=$Eploy(this).siblings(".js-subdropdownmenu"),o=$Eploy(this).closest(".js-widget"),n=$Eploy(window).width()-(o.offset().left+o.outerWidth()),i=$Eploy(this).siblings(".dropdown__sublist").outerWidth();t.is(":visible")?t.hide():(n<=i&&t.css({left:"auto",right:"100%"}),t.show())})),$Eploy("body").on("click",".js-show-itsdropdown",(function(e){e.preventDefault(),e.stopPropagation();var t=$Eploy(this).siblings(".js-itsdropdown"),o=t.outerWidth(),n=t.outerHeight(),i=$Eploy(window).width()-($Eploy(this).offset().left+$Eploy(this).outerWidth()),a=$Eploy(document).height()-($Eploy(this).offset().top+$Eploy(this).outerHeight());$Eploy(".js-itsdropdown").not(t).hide(),ITSTrapFocusUndo($Eploy(".js-itsdropdown").not(t),{namespace:"dropdownlist"}),t.is(":visible")?(t.hide(),ITSTrapFocusUndo(t,{namespace:"dropdownlist"})):(a<=n?t.css("max-height",a-20+"px"):(t.removeClass("is-top"),t.css("max-height","500px")),i<=o?t.addClass("is-right"):t.removeClass("is-right"),$Eploy(this).attr("data-top-dynamic")&&t.css({top:$Eploy(this).outerHeight()}),t.show().removeClass("is-hidden"),ITSTrapFocus(t,{namespace:"dropdownlist",onESC:function(){t.hide()}}))})),$Eploy("body").on("click",".js-tab-nav",(function(e){e.preventDefault();var t=$Eploy(this).attr("href");$Eploy(this).siblings(".js-tab-nav").removeClass("is-active"),$Eploy(this).addClass("is-active"),$Eploy(".js-tabpanel").removeClass("is-active"),$Eploy(t).addClass("is-active")})),$Eploy("body").on("click",".js-tab-link",(function(e){e.preventDefault();var t=$Eploy(this).attr("aria-controls");$Eploy(this).siblings(".js-tab-link").removeClass("is-active").attr("aria-selected","false"),$Eploy(this).addClass("is-active").attr("aria-selected","true"),$Eploy(".js-tab-panel").removeClass("is-active"),$Eploy("#"+t).addClass("is-active"),e&&e.target&&$Eploy(e.target).trigger("eploy:tabs:changed"),window.self!==window.top&&void 0!==window.top.Popover&&window.top.popoverResize(!1),e&&e.target&&$Eploy(e.target).trigger("eploy:tabs:changed")})),$Eploy("body").click((function(e){0===$Eploy(e.target).closest(".dropdown__list").length&&($Eploy(".js-dropdownmenu").removeClass("js-showdropdown"),$Eploy(".js-subdropdownmenu").hide()),$Eploy(e.target).closest(".js-showhelp, .row input, .row select, .row textarea, .field-help").length||($Eploy(".row").removeClass("row--highlight"),$Eploy(".field-help").hide()),0===$Eploy(e.target).closest(".js-itspopdown-cntr").length&&$Eploy(".js-itspopdown").hide(),0===$Eploy(e.target).closest(".js-itsdropdown-cntr").length&&$Eploy(".js-itsdropdown").hide()}));var e=$Eploy("fieldset");e.each((function(t){var o=e[t],n=$Eploy(o).find(".field-description"),i=$Eploy(o).find(".field-help");n&&n.length>0&&i&&i.length>0?$Eploy(o).attr("aria-describedBy",n[0].id+" "+$Eploy(i[0]).children("span")[0].id):n&&n.length>0?$Eploy(o).attr("aria-describedBy",n[0].id):i&&i.length>0&&$Eploy(o).attr("aria-describedBy",$Eploy(i[0]).children("span")[0].id),$Eploy(o).find(".requiredIndicator")&&$Eploy(o).attr("required","true")}))})),$Eploy(".js-minimise-link").click((function(e){e.preventDefault(),toggleMinimiseMaximise(this)})),$Eploy(document).ready((function(){InitaliseStars()})),StickyScroll.prototype._addEvents=function(){var e=this;$Eploy(window).resize((function(){e._setSizes(),"fixed"==e._$element.data("attachment")&&e._update()}));var t=0;e._$container.on("scroll",(function(){var o=$Eploy(this).scrollTop();o>t?o>=e._initialTop&&e._attach():o<=e._initialTop&&e._detach(),t=o}))},StickyScroll.prototype._setSizes=function(){this._$element.length>0&&(this._height=this._$element.outerHeight(!0),this._width=this._$container[0].clientWidth,this._top=this._$element.offset().top,this.isWindow?this._left=0:this._left=this._$container.offset().left,"fixed"==this._$element.data("attachment")?this._initialTop=this._$container.scrollTop()+this._$placeholder.offset().top:this._initialTop=this._$element.offset().top)},StickyScroll.prototype._update=function(){this._$element.css({width:this._width+"px",left:this._left+"px"}),this._$placeholder.css({height:this._height+"px"})},StickyScroll.prototype._attach=function(){if("static"==this._$element.data("attachment")){if(this._$element.after('<div class="js-scrollplaceholder its-c-app__tabs-placeholder" style="height:'+this._height+'px" />'),this._$placeholder=this._$element.siblings(".js-scrollplaceholder"),this.isWindow)var e=0;else e=this._$container.offset().top;this._$element.css({position:"fixed",top:e+"px",width:this._width+"px",left:this._left+"px","z-index":"15"}),this._$element.data("attachment","fixed"),this._$element.attr("data-attachment","fixed"),this._$element.addClass("is-fixed")}},StickyScroll.prototype._detach=function(){"fixed"==this._$element.data("attachment")&&(this._$element.siblings(".js-scrollplaceholder").remove(),this._$element.removeAttr("style"),this._$element.data("attachment","static"),this._$element.attr("data-attachment","static"),this._$element.removeClass("is-fixed"))},StickyScroll.prototype.stick=function(){this._$element.length>0&&this._$container.length>0&&(this._$element.attr("data-attachment","static"),this._addEvents())};var HelpfulFunctions={toggleSection:function(e,t){var o=$Eploy("#"+e),n=$Eploy(t).find(".icon");o.is(":visible")?(o.hide(),n.toggleClass("icon-keyboard-arrow-down icon-keyboard-arrow-up")):(o.show(),n.toggleClass("icon-keyboard-arrow-down icon-keyboard-arrow-up"))}};function isIOSDevice(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1}function animateValue(e,t,o,n){var i=$Eploy(e),a=i.attr("data-total");$Eploy({countNum:i.text()}).delay(t).animate({countNum:a},{duration:o,easing:"linear",step:function(){i.text(Math.floor(this.countNum))},complete:function(){null!=n?i.text(n):i.text(this.countNum)}})}function animateFactoidValue(e,t,o,n,i){var a=$Eploy(e),s=a.attr("data-total");$Eploy({countNum:a.text()}).delay(t).animate({countNum:s},{duration:o,easing:"linear",step:function(){a.text(i+Math.floor(this.countNum))},complete:function(){null!=n?a.text(i+n):a.text(i+this.countNum)}})}function CleanTextAreaContent(e){if(e){var t=e;setTimeout((function(){JSRequestAsync("CleanTextAreaCntent",{data:{currentValue:t.value},success:function(e){t.value=e.d}})}),10)}}function getDataTypeFromSourceMap(e){if(!e||0==e.length)throw new Error("No sourcemap passed");var t=e.split("#");return e.indexOf("|Question#")>-1?t[1]:t[3]}function RemoveRecord(e,t,o,n,i,a){var s=a||"";e<=0||t<=0||""==o?console.error("Not all parameters supplied to RemoveRecord"):OpenBox(ServerPath+"admin/tools/RemoveRecord.aspx?FromDotNet=true&RefreshParent="+n+"&RedirectURL="+i+"&RecordTypeID="+e+"&RecordID="+t+"&RemovalType="+o+"&adminmodule="+s,{type:"iframe",ITSTemplate:"custom",maxWidth:"600px"})}function UpdateQueryString(e,t,o){if(o=o||window.location.search,!e||0==e.length)return o;if(!t&&"number"!=typeof t&&"boolean"!=typeof t)return o;var n=new RegExp(e+"=(.+?(?=&|$))","gi"),i=e+"="+t;return 0===o.length?"?"+i:o.match(n)?o.replace(n,i):o+"&"+i}function animateProgressBar(e){$Eploy(".js-process-progress-fill").width(e+"%")}function straightenQuotes(e){return e?e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"'):""}function setToolSize(){var e=$Eploy(".js-tool-fb-topbar"),t=$Eploy(".js-tool-fb-content"),o=t.outerHeight(),n=0;if($Eploy(e).each((function(){n+=$Eploy(this).outerHeight()})),t.css({top:n+"px"}),t.find(".js-tool-toolbar").length>0){var i=t.find(".js-tool-toolbar").outerHeight();t.find(".js-tool-toolbar").css({top:n+"px"}),t.find(".js-tool-main").css({top:i+"px",height:o-(n+i)+"px"})}else t.find(".js-tool-main").css({top:"0"});if(t.find(".js-tool-buttonbar").length>0){var a=t.find(".js-tool-buttonbar").outerHeight();t.find(".js-tool-main").css({bottom:a+"px",height:"auto"})}}function ITSTrapFocus(e,t){t=t||{};var o=e.find('a:visible:not([aria-hidden="true"], hidden, [disabled]), object, :input:visible:not([type=hidden],[disabled]), button:visible:not([disabled]), iframe, [tabindex]'),n=o.first()[0],i=o.last()[0];KEYCODE_ESCAPE=27,void 0!==t.focusOnElement?t.focusOnElement[0].focus():o.length>0?n.focus():$Eploy(e).attr("tabindex","-1").focus(),$Eploy(e).on("keydown."+t.namespace,(function(e){var o,a="Tab"===e.key||9===e.keyCode;if(o=t.iframe?this.ownerDocument.activeElement:document.activeElement,!a)return"Escape"===e.key?void("function"==typeof t.onESC&&t.onESC(e)):void 0;e.shiftKey?o===n&&(i.focus(),e.preventDefault()):o===i&&(n.focus(),e.preventDefault())})),0==o.length&&document.body.addEventListener("keydown",(function(e){"Escape"!=e.key||"function"==typeof t.onESC&&t.onESC(e)}))}function ITSTrapFocusUndo(e,t){t=t||{};$Eploy(e).off("keydown."+t.namespace),null!=t.focusOnElement&&$Eploy(t.focusOnElement).focus()}function CheckTimesheetHoursBreach(e,t,o,n){var i=GetRatesAsCSVString();if(""!=i&&""!=n){var a="XOmitRateItemsCSV="+i;o&&(a+="&"+o);var s={type:10,dataCsv:a};$Eploy.ajax({method:"POST",url:ServerPath+"WebServices/"+n+".asmx/Validate",dataType:"json",data:JSON.stringify(s),contentType:"application/json; charset=utf-8",async:!1,success:function(o){o.d.length>0&&4==o.d[0].Outcome&&(t.IsValid=!1,e.errormessage=o.d[0].Message,window.scrollTo(0,0))},error:function(e){console.error(e)}})}}function GetRatesAsCSVString(){for(var e=$Eploy("[data-rategroup]"),t=[],o=0;o<e.length;o++){var n=e[o].id.replace("_divHolder",""),i=GetHrValue(n),a=parseFloat(i);if(!isNaN(a)&&a>0)void 0===t[l=e[o].dataset.rategroup]&&(t[l]=0),t[l]+=a}var s="";for(var l in t){var r=t[l];""!=s&&(s+="~"),s+=encodeURIComponent("0,"+l+",'',0,0,0,"+r+",0")}return s}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o},writable:!0,configurable:!0}),String.prototype.startsWith=function(e,t){var o=t>0?0|t:0;return this.substring(o,o+e.length)===e},String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e};